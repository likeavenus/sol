var tM=Object.defineProperty;var eM=(e,t,s)=>t in e?tM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var ct=(e,t,s)=>(eM(e,typeof t!="symbol"?t+"":t,s),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const C of document.querySelectorAll('link[rel="modulepreload"]'))l(C);new MutationObserver(C=>{for(const S of C)if(S.type==="childList")for(const r of S.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function s(C){const S={};return C.integrity&&(S.integrity=C.integrity),C.referrerPolicy&&(S.referrerPolicy=C.referrerPolicy),C.crossOrigin==="use-credentials"?S.credentials="include":C.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function l(C){if(C.ep)return;C.ep=!0;const S=s(C);fetch(C.href,S)}})();var iM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function EC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var PC={exports:{}},Nu={},MC={exports:{}},St={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh=Symbol.for("react.element"),sM=Symbol.for("react.portal"),nM=Symbol.for("react.fragment"),rM=Symbol.for("react.strict_mode"),aM=Symbol.for("react.profiler"),oM=Symbol.for("react.provider"),hM=Symbol.for("react.context"),lM=Symbol.for("react.forward_ref"),uM=Symbol.for("react.suspense"),dM=Symbol.for("react.memo"),fM=Symbol.for("react.lazy"),z0=Symbol.iterator;function cM(e){return e===null||typeof e!="object"?null:(e=z0&&e[z0]||e["@@iterator"],typeof e=="function"?e:null)}var wC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RC=Object.assign,OC={};function Ia(e,t,s){this.props=e,this.context=t,this.refs=OC,this.updater=s||wC}Ia.prototype.isReactComponent={};Ia.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ia.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function AC(){}AC.prototype=Ia.prototype;function ap(e,t,s){this.props=e,this.context=t,this.refs=OC,this.updater=s||wC}var op=ap.prototype=new AC;op.constructor=ap;RC(op,Ia.prototype);op.isPureReactComponent=!0;var k0=Array.isArray,LC=Object.prototype.hasOwnProperty,hp={current:null},FC={key:!0,ref:!0,__self:!0,__source:!0};function DC(e,t,s){var l,C={},S=null,r=null;if(t!=null)for(l in t.ref!==void 0&&(r=t.ref),t.key!==void 0&&(S=""+t.key),t)LC.call(t,l)&&!FC.hasOwnProperty(l)&&(C[l]=t[l]);var T=arguments.length-2;if(T===1)C.children=s;else if(1<T){for(var i=Array(T),d=0;d<T;d++)i[d]=arguments[d+2];C.children=i}if(e&&e.defaultProps)for(l in T=e.defaultProps,T)C[l]===void 0&&(C[l]=T[l]);return{$$typeof:oh,type:e,key:S,ref:r,props:C,_owner:hp.current}}function vM(e,t){return{$$typeof:oh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lp(e){return typeof e=="object"&&e!==null&&e.$$typeof===oh}function pM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(s){return t[s]})}var V0=/\/+/g;function $d(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pM(""+e.key):t.toString(36)}function Xl(e,t,s,l,C){var S=typeof e;(S==="undefined"||S==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(S){case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case oh:case sM:r=!0}}if(r)return r=e,C=C(r),e=l===""?"."+$d(r,0):l,k0(C)?(s="",e!=null&&(s=e.replace(V0,"$&/")+"/"),Xl(C,t,s,"",function(d){return d})):C!=null&&(lp(C)&&(C=vM(C,s+(!C.key||r&&r.key===C.key?"":(""+C.key).replace(V0,"$&/")+"/")+e)),t.push(C)),1;if(r=0,l=l===""?".":l+":",k0(e))for(var T=0;T<e.length;T++){S=e[T];var i=l+$d(S,T);r+=Xl(S,t,s,i,C)}else if(i=cM(e),typeof i=="function")for(e=i.call(e),T=0;!(S=e.next()).done;)S=S.value,i=l+$d(S,T++),r+=Xl(S,t,s,i,C);else if(S==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return r}function Lh(e,t,s){if(e==null)return e;var l=[],C=0;return Xl(e,l,"","",function(S){return t.call(s,S,C++)}),l}function gM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(s){(e._status===0||e._status===-1)&&(e._status=1,e._result=s)},function(s){(e._status===0||e._status===-1)&&(e._status=2,e._result=s)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ne={current:null},Yl={transition:null},mM={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:Yl,ReactCurrentOwner:hp};St.Children={map:Lh,forEach:function(e,t,s){Lh(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return Lh(e,function(){t++}),t},toArray:function(e){return Lh(e,function(t){return t})||[]},only:function(e){if(!lp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};St.Component=Ia;St.Fragment=nM;St.Profiler=aM;St.PureComponent=ap;St.StrictMode=rM;St.Suspense=uM;St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mM;St.cloneElement=function(e,t,s){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var l=RC({},e.props),C=e.key,S=e.ref,r=e._owner;if(t!=null){if(t.ref!==void 0&&(S=t.ref,r=hp.current),t.key!==void 0&&(C=""+t.key),e.type&&e.type.defaultProps)var T=e.type.defaultProps;for(i in t)LC.call(t,i)&&!FC.hasOwnProperty(i)&&(l[i]=t[i]===void 0&&T!==void 0?T[i]:t[i])}var i=arguments.length-2;if(i===1)l.children=s;else if(1<i){T=Array(i);for(var d=0;d<i;d++)T[d]=arguments[d+2];l.children=T}return{$$typeof:oh,type:e.type,key:C,ref:S,props:l,_owner:r}};St.createContext=function(e){return e={$$typeof:hM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:oM,_context:e},e.Consumer=e};St.createElement=DC;St.createFactory=function(e){var t=DC.bind(null,e);return t.type=e,t};St.createRef=function(){return{current:null}};St.forwardRef=function(e){return{$$typeof:lM,render:e}};St.isValidElement=lp;St.lazy=function(e){return{$$typeof:fM,_payload:{_status:-1,_result:e},_init:gM}};St.memo=function(e,t){return{$$typeof:dM,type:e,compare:t===void 0?null:t}};St.startTransition=function(e){var t=Yl.transition;Yl.transition={};try{e()}finally{Yl.transition=t}};St.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};St.useCallback=function(e,t){return Ne.current.useCallback(e,t)};St.useContext=function(e){return Ne.current.useContext(e)};St.useDebugValue=function(){};St.useDeferredValue=function(e){return Ne.current.useDeferredValue(e)};St.useEffect=function(e,t){return Ne.current.useEffect(e,t)};St.useId=function(){return Ne.current.useId()};St.useImperativeHandle=function(e,t,s){return Ne.current.useImperativeHandle(e,t,s)};St.useInsertionEffect=function(e,t){return Ne.current.useInsertionEffect(e,t)};St.useLayoutEffect=function(e,t){return Ne.current.useLayoutEffect(e,t)};St.useMemo=function(e,t){return Ne.current.useMemo(e,t)};St.useReducer=function(e,t,s){return Ne.current.useReducer(e,t,s)};St.useRef=function(e){return Ne.current.useRef(e)};St.useState=function(e){return Ne.current.useState(e)};St.useSyncExternalStore=function(e,t,s){return Ne.current.useSyncExternalStore(e,t,s)};St.useTransition=function(){return Ne.current.useTransition()};St.version="18.2.0";MC.exports=St;var up=MC.exports;const xM=EC(up);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yM=up,CM=Symbol.for("react.element"),TM=Symbol.for("react.fragment"),SM=Object.prototype.hasOwnProperty,EM=yM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PM={key:!0,ref:!0,__self:!0,__source:!0};function IC(e,t,s){var l,C={},S=null,r=null;s!==void 0&&(S=""+s),t.key!==void 0&&(S=""+t.key),t.ref!==void 0&&(r=t.ref);for(l in t)SM.call(t,l)&&!PM.hasOwnProperty(l)&&(C[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps,t)C[l]===void 0&&(C[l]=t[l]);return{$$typeof:CM,type:e,key:S,ref:r,props:C,_owner:EM.current}}Nu.Fragment=TM;Nu.jsx=IC;Nu.jsxs=IC;PC.exports=Nu;var MM=PC.exports;const Kc=MM.jsx;var jc={},BC={exports:{}},li={},bC={exports:{}},GC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,k){var U=b.length;b.push(k);t:for(;0<U;){var Y=U-1>>>1,H=b[Y];if(0<C(H,k))b[Y]=k,b[U]=H,U=Y;else break t}}function s(b){return b.length===0?null:b[0]}function l(b){if(b.length===0)return null;var k=b[0],U=b.pop();if(U!==k){b[0]=U;t:for(var Y=0,H=b.length,z=H>>>1;Y<z;){var V=2*(Y+1)-1,D=b[V],G=V+1,N=b[G];if(0>C(D,U))G<H&&0>C(N,D)?(b[Y]=N,b[G]=U,Y=G):(b[Y]=D,b[V]=U,Y=V);else if(G<H&&0>C(N,U))b[Y]=N,b[G]=U,Y=G;else break t}}return k}function C(b,k){var U=b.sortIndex-k.sortIndex;return U!==0?U:b.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var S=performance;e.unstable_now=function(){return S.now()}}else{var r=Date,T=r.now();e.unstable_now=function(){return r.now()-T}}var i=[],d=[],x=1,f=null,u=3,o=!1,n=!1,h=!1,p=typeof setTimeout=="function"?setTimeout:null,a=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(b){for(var k=s(d);k!==null;){if(k.callback===null)l(d);else if(k.startTime<=b)l(d),k.sortIndex=k.expirationTime,t(i,k);else break;k=s(d)}}function g(b){if(h=!1,v(b),!n)if(s(i)!==null)n=!0,I(m);else{var k=s(d);k!==null&&B(g,k.startTime-b)}}function m(b,k){n=!1,h&&(h=!1,a(M),M=-1),o=!0;var U=u;try{for(v(k),f=s(i);f!==null&&(!(f.expirationTime>k)||b&&!R());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,u=f.priorityLevel;var H=Y(f.expirationTime<=k);k=e.unstable_now(),typeof H=="function"?f.callback=H:f===s(i)&&l(i),v(k)}else l(i);f=s(i)}if(f!==null)var z=!0;else{var V=s(d);V!==null&&B(g,V.startTime-k),z=!1}return z}finally{f=null,u=U,o=!1}}var y=!1,P=null,M=-1,E=5,w=-1;function R(){return!(e.unstable_now()-w<E)}function O(){if(P!==null){var b=e.unstable_now();w=b;var k=!0;try{k=P(!0,b)}finally{k?A():(y=!1,P=null)}}else y=!1}var A;if(typeof c=="function")A=function(){c(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,L=F.port2;F.port1.onmessage=O,A=function(){L.postMessage(null)}}else A=function(){p(O,0)};function I(b){P=b,y||(y=!0,A())}function B(b,k){M=p(function(){b(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){n||o||(n=!0,I(m))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_getFirstCallbackNode=function(){return s(i)},e.unstable_next=function(b){switch(u){case 1:case 2:case 3:var k=3;break;default:k=u}var U=u;u=k;try{return b()}finally{u=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,k){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var U=u;u=b;try{return k()}finally{u=U}},e.unstable_scheduleCallback=function(b,k,U){var Y=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Y+U:Y):U=Y,b){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=U+H,b={id:x++,callback:k,priorityLevel:b,startTime:U,expirationTime:H,sortIndex:-1},U>Y?(b.sortIndex=U,t(d,b),s(i)===null&&b===s(d)&&(h?(a(M),M=-1):h=!0,B(g,U-Y))):(b.sortIndex=H,t(i,b),n||o||(n=!0,I(m))),b},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(b){var k=u;return function(){var U=u;u=k;try{return b.apply(this,arguments)}finally{u=U}}}})(GC);bC.exports=GC;var wM=bC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NC=up,hi=wM;function nt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zC=new Set,No={};function pr(e,t){Ta(e,t),Ta(e+"Capture",t)}function Ta(e,t){for(No[e]=t,e=0;e<t.length;e++)zC.add(t[e])}var Ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zc=Object.prototype.hasOwnProperty,RM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,U0={},X0={};function OM(e){return Zc.call(X0,e)?!0:Zc.call(U0,e)?!1:RM.test(e)?X0[e]=!0:(U0[e]=!0,!1)}function AM(e,t,s,l){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function LM(e,t,s,l){if(t===null||typeof t>"u"||AM(e,t,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ze(e,t,s,l,C,S,r){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=C,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=S,this.removeEmptyString=r}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pe[e]=new ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pe[t]=new ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pe[e]=new ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pe[e]=new ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pe[e]=new ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pe[e]=new ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pe[e]=new ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pe[e]=new ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pe[e]=new ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var dp=/[\-:]([a-z])/g;function fp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(dp,fp);Pe[t]=new ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(dp,fp);Pe[t]=new ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(dp,fp);Pe[t]=new ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pe[e]=new ze(e,1,!1,e.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pe[e]=new ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function cp(e,t,s,l){var C=Pe.hasOwnProperty(t)?Pe[t]:null;(C!==null?C.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(LM(t,s,C,l)&&(s=null),l||C===null?OM(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):C.mustUseProperty?e[C.propertyName]=s===null?C.type===3?!1:"":s:(t=C.attributeName,l=C.attributeNamespace,s===null?e.removeAttribute(t):(C=C.type,s=C===3||C===4&&s===!0?"":""+s,l?e.setAttributeNS(l,t,s):e.setAttribute(t,s))))}var Gs=NC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fh=Symbol.for("react.element"),_r=Symbol.for("react.portal"),ta=Symbol.for("react.fragment"),vp=Symbol.for("react.strict_mode"),Jc=Symbol.for("react.profiler"),kC=Symbol.for("react.provider"),VC=Symbol.for("react.context"),pp=Symbol.for("react.forward_ref"),Qc=Symbol.for("react.suspense"),qc=Symbol.for("react.suspense_list"),gp=Symbol.for("react.memo"),Zs=Symbol.for("react.lazy"),UC=Symbol.for("react.offscreen"),Y0=Symbol.iterator;function Ya(e){return e===null||typeof e!="object"?null:(e=Y0&&e[Y0]||e["@@iterator"],typeof e=="function"?e:null)}var $t=Object.assign,Kd;function Po(e){if(Kd===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);Kd=t&&t[1]||""}return`
`+Kd+e}var jd=!1;function Zd(e,t){if(!e||jd)return"";jd=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var l=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){l=d}e.call(t.prototype)}else{try{throw Error()}catch(d){l=d}e()}}catch(d){if(d&&l&&typeof d.stack=="string"){for(var C=d.stack.split(`
`),S=l.stack.split(`
`),r=C.length-1,T=S.length-1;1<=r&&0<=T&&C[r]!==S[T];)T--;for(;1<=r&&0<=T;r--,T--)if(C[r]!==S[T]){if(r!==1||T!==1)do if(r--,T--,0>T||C[r]!==S[T]){var i=`
`+C[r].replace(" at new "," at ");return e.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",e.displayName)),i}while(1<=r&&0<=T);break}}}finally{jd=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?Po(e):""}function FM(e){switch(e.tag){case 5:return Po(e.type);case 16:return Po("Lazy");case 13:return Po("Suspense");case 19:return Po("SuspenseList");case 0:case 2:case 15:return e=Zd(e.type,!1),e;case 11:return e=Zd(e.type.render,!1),e;case 1:return e=Zd(e.type,!0),e;default:return""}}function _c(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ta:return"Fragment";case _r:return"Portal";case Jc:return"Profiler";case vp:return"StrictMode";case Qc:return"Suspense";case qc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case VC:return(e.displayName||"Context")+".Consumer";case kC:return(e._context.displayName||"Context")+".Provider";case pp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gp:return t=e.displayName||null,t!==null?t:_c(e.type)||"Memo";case Zs:t=e._payload,e=e._init;try{return _c(e(t))}catch{}}return null}function DM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _c(t);case 8:return t===vp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function XC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function IM(e){var t=XC(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var C=s.get,S=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return C.call(this)},set:function(r){l=""+r,S.call(this,r)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(r){l=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dh(e){e._valueTracker||(e._valueTracker=IM(e))}function YC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),l="";return e&&(l=XC(e)?e.checked?"true":"false":e.value),e=l,e!==s?(t.setValue(e),!0):!1}function ru(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function tv(e,t){var s=t.checked;return $t({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function W0(e,t){var s=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;s=mn(t.value!=null?t.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function WC(e,t){t=t.checked,t!=null&&cp(e,"checked",t,!1)}function ev(e,t){WC(e,t);var s=mn(t.value),l=t.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?iv(e,t.type,s):t.hasOwnProperty("defaultValue")&&iv(e,t.type,mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function H0(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function iv(e,t,s){(t!=="number"||ru(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Mo=Array.isArray;function ca(e,t,s,l){if(e=e.options,t){t={};for(var C=0;C<s.length;C++)t["$"+s[C]]=!0;for(s=0;s<e.length;s++)C=t.hasOwnProperty("$"+e[s].value),e[s].selected!==C&&(e[s].selected=C),C&&l&&(e[s].defaultSelected=!0)}else{for(s=""+mn(s),t=null,C=0;C<e.length;C++){if(e[C].value===s){e[C].selected=!0,l&&(e[C].defaultSelected=!0);return}t!==null||e[C].disabled||(t=e[C])}t!==null&&(t.selected=!0)}}function sv(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(nt(91));return $t({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $0(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(nt(92));if(Mo(s)){if(1<s.length)throw Error(nt(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:mn(s)}}function HC(e,t){var s=mn(t.value),l=mn(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function K0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $C(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nv(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$C(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ih,KC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,l,C){MSApp.execUnsafeLocalFunction(function(){return e(t,s,l,C)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ih=Ih||document.createElement("div"),Ih.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ih.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zo(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Oo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BM=["Webkit","ms","Moz","O"];Object.keys(Oo).forEach(function(e){BM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Oo[t]=Oo[e]})});function jC(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||Oo.hasOwnProperty(e)&&Oo[e]?(""+t).trim():t+"px"}function ZC(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var l=s.indexOf("--")===0,C=jC(s,t[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,C):e[s]=C}}var bM=$t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rv(e,t){if(t){if(bM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(nt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(nt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(nt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(nt(62))}}function av(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ov=null;function mp(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hv=null,va=null,pa=null;function j0(e){if(e=uh(e)){if(typeof hv!="function")throw Error(nt(280));var t=e.stateNode;t&&(t=Xu(t),hv(e.stateNode,e.type,t))}}function JC(e){va?pa?pa.push(e):pa=[e]:va=e}function QC(){if(va){var e=va,t=pa;if(pa=va=null,j0(e),t)for(e=0;e<t.length;e++)j0(t[e])}}function qC(e,t){return e(t)}function _C(){}var Jd=!1;function tT(e,t,s){if(Jd)return e(t,s);Jd=!0;try{return qC(e,t,s)}finally{Jd=!1,(va!==null||pa!==null)&&(_C(),QC())}}function ko(e,t){var s=e.stateNode;if(s===null)return null;var l=Xu(s);if(l===null)return null;s=l[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(nt(231,t,typeof s));return s}var lv=!1;if(Ds)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){lv=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{lv=!1}function GM(e,t,s,l,C,S,r,T,i){var d=Array.prototype.slice.call(arguments,3);try{t.apply(s,d)}catch(x){this.onError(x)}}var Ao=!1,au=null,ou=!1,uv=null,NM={onError:function(e){Ao=!0,au=e}};function zM(e,t,s,l,C,S,r,T,i){Ao=!1,au=null,GM.apply(NM,arguments)}function kM(e,t,s,l,C,S,r,T,i){if(zM.apply(this,arguments),Ao){if(Ao){var d=au;Ao=!1,au=null}else throw Error(nt(198));ou||(ou=!0,uv=d)}}function gr(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function eT(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Z0(e){if(gr(e)!==e)throw Error(nt(188))}function VM(e){var t=e.alternate;if(!t){if(t=gr(e),t===null)throw Error(nt(188));return t!==e?null:e}for(var s=e,l=t;;){var C=s.return;if(C===null)break;var S=C.alternate;if(S===null){if(l=C.return,l!==null){s=l;continue}break}if(C.child===S.child){for(S=C.child;S;){if(S===s)return Z0(C),e;if(S===l)return Z0(C),t;S=S.sibling}throw Error(nt(188))}if(s.return!==l.return)s=C,l=S;else{for(var r=!1,T=C.child;T;){if(T===s){r=!0,s=C,l=S;break}if(T===l){r=!0,l=C,s=S;break}T=T.sibling}if(!r){for(T=S.child;T;){if(T===s){r=!0,s=S,l=C;break}if(T===l){r=!0,l=S,s=C;break}T=T.sibling}if(!r)throw Error(nt(189))}}if(s.alternate!==l)throw Error(nt(190))}if(s.tag!==3)throw Error(nt(188));return s.stateNode.current===s?e:t}function iT(e){return e=VM(e),e!==null?sT(e):null}function sT(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sT(e);if(t!==null)return t;e=e.sibling}return null}var nT=hi.unstable_scheduleCallback,J0=hi.unstable_cancelCallback,UM=hi.unstable_shouldYield,XM=hi.unstable_requestPaint,qt=hi.unstable_now,YM=hi.unstable_getCurrentPriorityLevel,xp=hi.unstable_ImmediatePriority,rT=hi.unstable_UserBlockingPriority,hu=hi.unstable_NormalPriority,WM=hi.unstable_LowPriority,aT=hi.unstable_IdlePriority,zu=null,ds=null;function HM(e){if(ds&&typeof ds.onCommitFiberRoot=="function")try{ds.onCommitFiberRoot(zu,e,void 0,(e.current.flags&128)===128)}catch{}}var Xi=Math.clz32?Math.clz32:jM,$M=Math.log,KM=Math.LN2;function jM(e){return e>>>=0,e===0?32:31-($M(e)/KM|0)|0}var Bh=64,bh=4194304;function wo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lu(e,t){var s=e.pendingLanes;if(s===0)return 0;var l=0,C=e.suspendedLanes,S=e.pingedLanes,r=s&268435455;if(r!==0){var T=r&~C;T!==0?l=wo(T):(S&=r,S!==0&&(l=wo(S)))}else r=s&~C,r!==0?l=wo(r):S!==0&&(l=wo(S));if(l===0)return 0;if(t!==0&&t!==l&&!(t&C)&&(C=l&-l,S=t&-t,C>=S||C===16&&(S&4194240)!==0))return t;if(l&4&&(l|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)s=31-Xi(t),C=1<<s,l|=e[s],t&=~C;return l}function ZM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JM(e,t){for(var s=e.suspendedLanes,l=e.pingedLanes,C=e.expirationTimes,S=e.pendingLanes;0<S;){var r=31-Xi(S),T=1<<r,i=C[r];i===-1?(!(T&s)||T&l)&&(C[r]=ZM(T,t)):i<=t&&(e.expiredLanes|=T),S&=~T}}function dv(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function oT(){var e=Bh;return Bh<<=1,!(Bh&4194240)&&(Bh=64),e}function Qd(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function hh(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xi(t),e[t]=s}function QM(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var C=31-Xi(s),S=1<<C;t[C]=0,l[C]=-1,e[C]=-1,s&=~S}}function yp(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var l=31-Xi(s),C=1<<l;C&t|e[l]&t&&(e[l]|=t),s&=~C}}var At=0;function hT(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lT,Cp,uT,dT,fT,fv=!1,Gh=[],on=null,hn=null,ln=null,Vo=new Map,Uo=new Map,qs=[],qM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Q0(e,t){switch(e){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":Vo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(t.pointerId)}}function Ha(e,t,s,l,C,S){return e===null||e.nativeEvent!==S?(e={blockedOn:t,domEventName:s,eventSystemFlags:l,nativeEvent:S,targetContainers:[C]},t!==null&&(t=uh(t),t!==null&&Cp(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,C!==null&&t.indexOf(C)===-1&&t.push(C),e)}function _M(e,t,s,l,C){switch(t){case"focusin":return on=Ha(on,e,t,s,l,C),!0;case"dragenter":return hn=Ha(hn,e,t,s,l,C),!0;case"mouseover":return ln=Ha(ln,e,t,s,l,C),!0;case"pointerover":var S=C.pointerId;return Vo.set(S,Ha(Vo.get(S)||null,e,t,s,l,C)),!0;case"gotpointercapture":return S=C.pointerId,Uo.set(S,Ha(Uo.get(S)||null,e,t,s,l,C)),!0}return!1}function cT(e){var t=er(e.target);if(t!==null){var s=gr(t);if(s!==null){if(t=s.tag,t===13){if(t=eT(s),t!==null){e.blockedOn=t,fT(e.priority,function(){uT(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=cv(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);ov=l,s.target.dispatchEvent(l),ov=null}else return t=uh(s),t!==null&&Cp(t),e.blockedOn=s,!1;t.shift()}return!0}function q0(e,t,s){Wl(e)&&s.delete(t)}function tw(){fv=!1,on!==null&&Wl(on)&&(on=null),hn!==null&&Wl(hn)&&(hn=null),ln!==null&&Wl(ln)&&(ln=null),Vo.forEach(q0),Uo.forEach(q0)}function $a(e,t){e.blockedOn===t&&(e.blockedOn=null,fv||(fv=!0,hi.unstable_scheduleCallback(hi.unstable_NormalPriority,tw)))}function Xo(e){function t(C){return $a(C,e)}if(0<Gh.length){$a(Gh[0],e);for(var s=1;s<Gh.length;s++){var l=Gh[s];l.blockedOn===e&&(l.blockedOn=null)}}for(on!==null&&$a(on,e),hn!==null&&$a(hn,e),ln!==null&&$a(ln,e),Vo.forEach(t),Uo.forEach(t),s=0;s<qs.length;s++)l=qs[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<qs.length&&(s=qs[0],s.blockedOn===null);)cT(s),s.blockedOn===null&&qs.shift()}var ga=Gs.ReactCurrentBatchConfig,uu=!0;function ew(e,t,s,l){var C=At,S=ga.transition;ga.transition=null;try{At=1,Tp(e,t,s,l)}finally{At=C,ga.transition=S}}function iw(e,t,s,l){var C=At,S=ga.transition;ga.transition=null;try{At=4,Tp(e,t,s,l)}finally{At=C,ga.transition=S}}function Tp(e,t,s,l){if(uu){var C=cv(e,t,s,l);if(C===null)hf(e,t,l,du,s),Q0(e,l);else if(_M(C,e,t,s,l))l.stopPropagation();else if(Q0(e,l),t&4&&-1<qM.indexOf(e)){for(;C!==null;){var S=uh(C);if(S!==null&&lT(S),S=cv(e,t,s,l),S===null&&hf(e,t,l,du,s),S===C)break;C=S}C!==null&&l.stopPropagation()}else hf(e,t,l,null,s)}}var du=null;function cv(e,t,s,l){if(du=null,e=mp(l),e=er(e),e!==null)if(t=gr(e),t===null)e=null;else if(s=t.tag,s===13){if(e=eT(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return du=e,null}function vT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YM()){case xp:return 1;case rT:return 4;case hu:case WM:return 16;case aT:return 536870912;default:return 16}default:return 16}}var nn=null,Sp=null,Hl=null;function pT(){if(Hl)return Hl;var e,t=Sp,s=t.length,l,C="value"in nn?nn.value:nn.textContent,S=C.length;for(e=0;e<s&&t[e]===C[e];e++);var r=s-e;for(l=1;l<=r&&t[s-l]===C[S-l];l++);return Hl=C.slice(e,1<l?1-l:void 0)}function $l(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nh(){return!0}function _0(){return!1}function ui(e){function t(s,l,C,S,r){this._reactName=s,this._targetInst=C,this.type=l,this.nativeEvent=S,this.target=r,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(S):S[T]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Nh:_0,this.isPropagationStopped=_0,this}return $t(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Nh)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Nh)},persist:function(){},isPersistent:Nh}),t}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ep=ui(Ba),lh=$t({},Ba,{view:0,detail:0}),sw=ui(lh),qd,_d,Ka,ku=$t({},lh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ka&&(Ka&&e.type==="mousemove"?(qd=e.screenX-Ka.screenX,_d=e.screenY-Ka.screenY):_d=qd=0,Ka=e),qd)},movementY:function(e){return"movementY"in e?e.movementY:_d}}),tm=ui(ku),nw=$t({},ku,{dataTransfer:0}),rw=ui(nw),aw=$t({},lh,{relatedTarget:0}),tf=ui(aw),ow=$t({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),hw=ui(ow),lw=$t({},Ba,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uw=ui(lw),dw=$t({},Ba,{data:0}),em=ui(dw),fw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vw[e])?!!t[e]:!1}function Pp(){return pw}var gw=$t({},lh,{key:function(e){if(e.key){var t=fw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$l(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pp,charCode:function(e){return e.type==="keypress"?$l(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$l(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mw=ui(gw),xw=$t({},ku,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),im=ui(xw),yw=$t({},lh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pp}),Cw=ui(yw),Tw=$t({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sw=ui(Tw),Ew=$t({},ku,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pw=ui(Ew),Mw=[9,13,27,32],Mp=Ds&&"CompositionEvent"in window,Lo=null;Ds&&"documentMode"in document&&(Lo=document.documentMode);var ww=Ds&&"TextEvent"in window&&!Lo,gT=Ds&&(!Mp||Lo&&8<Lo&&11>=Lo),sm=String.fromCharCode(32),nm=!1;function mT(e,t){switch(e){case"keyup":return Mw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ea=!1;function Rw(e,t){switch(e){case"compositionend":return xT(t);case"keypress":return t.which!==32?null:(nm=!0,sm);case"textInput":return e=t.data,e===sm&&nm?null:e;default:return null}}function Ow(e,t){if(ea)return e==="compositionend"||!Mp&&mT(e,t)?(e=pT(),Hl=Sp=nn=null,ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gT&&t.locale!=="ko"?null:t.data;default:return null}}var Aw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Aw[e.type]:t==="textarea"}function yT(e,t,s,l){JC(l),t=fu(t,"onChange"),0<t.length&&(s=new Ep("onChange","change",null,s,l),e.push({event:s,listeners:t}))}var Fo=null,Yo=null;function Lw(e){LT(e,0)}function Vu(e){var t=na(e);if(YC(t))return e}function Fw(e,t){if(e==="change")return t}var CT=!1;if(Ds){var ef;if(Ds){var sf="oninput"in document;if(!sf){var am=document.createElement("div");am.setAttribute("oninput","return;"),sf=typeof am.oninput=="function"}ef=sf}else ef=!1;CT=ef&&(!document.documentMode||9<document.documentMode)}function om(){Fo&&(Fo.detachEvent("onpropertychange",TT),Yo=Fo=null)}function TT(e){if(e.propertyName==="value"&&Vu(Yo)){var t=[];yT(t,Yo,e,mp(e)),tT(Lw,t)}}function Dw(e,t,s){e==="focusin"?(om(),Fo=t,Yo=s,Fo.attachEvent("onpropertychange",TT)):e==="focusout"&&om()}function Iw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vu(Yo)}function Bw(e,t){if(e==="click")return Vu(t)}function bw(e,t){if(e==="input"||e==="change")return Vu(t)}function Gw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wi=typeof Object.is=="function"?Object.is:Gw;function Wo(e,t){if(Wi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),l=Object.keys(t);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var C=s[l];if(!Zc.call(t,C)||!Wi(e[C],t[C]))return!1}return!0}function hm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lm(e,t){var s=hm(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=t&&l>=t)return{node:s,offset:t-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=hm(s)}}function ST(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ST(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ET(){for(var e=window,t=ru();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=ru(e.document)}return t}function wp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Nw(e){var t=ET(),s=e.focusedElem,l=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&ST(s.ownerDocument.documentElement,s)){if(l!==null&&wp(s)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var C=s.textContent.length,S=Math.min(l.start,C);l=l.end===void 0?S:Math.min(l.end,C),!e.extend&&S>l&&(C=l,l=S,S=C),C=lm(s,S);var r=lm(s,l);C&&r&&(e.rangeCount!==1||e.anchorNode!==C.node||e.anchorOffset!==C.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&(t=t.createRange(),t.setStart(C.node,C.offset),e.removeAllRanges(),S>l?(e.addRange(t),e.extend(r.node,r.offset)):(t.setEnd(r.node,r.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zw=Ds&&"documentMode"in document&&11>=document.documentMode,ia=null,vv=null,Do=null,pv=!1;function um(e,t,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;pv||ia==null||ia!==ru(l)||(l=ia,"selectionStart"in l&&wp(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Do&&Wo(Do,l)||(Do=l,l=fu(vv,"onSelect"),0<l.length&&(t=new Ep("onSelect","select",null,t,s),e.push({event:t,listeners:l}),t.target=ia)))}function zh(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var sa={animationend:zh("Animation","AnimationEnd"),animationiteration:zh("Animation","AnimationIteration"),animationstart:zh("Animation","AnimationStart"),transitionend:zh("Transition","TransitionEnd")},nf={},PT={};Ds&&(PT=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function Uu(e){if(nf[e])return nf[e];if(!sa[e])return e;var t=sa[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in PT)return nf[e]=t[s];return e}var MT=Uu("animationend"),wT=Uu("animationiteration"),RT=Uu("animationstart"),OT=Uu("transitionend"),AT=new Map,dm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(e,t){AT.set(e,t),pr(t,[e])}for(var rf=0;rf<dm.length;rf++){var af=dm[rf],kw=af.toLowerCase(),Vw=af[0].toUpperCase()+af.slice(1);Tn(kw,"on"+Vw)}Tn(MT,"onAnimationEnd");Tn(wT,"onAnimationIteration");Tn(RT,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(OT,"onTransitionEnd");Ta("onMouseEnter",["mouseout","mouseover"]);Ta("onMouseLeave",["mouseout","mouseover"]);Ta("onPointerEnter",["pointerout","pointerover"]);Ta("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function fm(e,t,s){var l=e.type||"unknown-event";e.currentTarget=s,kM(l,t,void 0,e),e.currentTarget=null}function LT(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],C=l.event;l=l.listeners;t:{var S=void 0;if(t)for(var r=l.length-1;0<=r;r--){var T=l[r],i=T.instance,d=T.currentTarget;if(T=T.listener,i!==S&&C.isPropagationStopped())break t;fm(C,T,d),S=i}else for(r=0;r<l.length;r++){if(T=l[r],i=T.instance,d=T.currentTarget,T=T.listener,i!==S&&C.isPropagationStopped())break t;fm(C,T,d),S=i}}}if(ou)throw e=uv,ou=!1,uv=null,e}function kt(e,t){var s=t[Cv];s===void 0&&(s=t[Cv]=new Set);var l=e+"__bubble";s.has(l)||(FT(t,e,2,!1),s.add(l))}function of(e,t,s){var l=0;t&&(l|=4),FT(s,e,l,t)}var kh="_reactListening"+Math.random().toString(36).slice(2);function Ho(e){if(!e[kh]){e[kh]=!0,zC.forEach(function(s){s!=="selectionchange"&&(Uw.has(s)||of(s,!1,e),of(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kh]||(t[kh]=!0,of("selectionchange",!1,t))}}function FT(e,t,s,l){switch(vT(t)){case 1:var C=ew;break;case 4:C=iw;break;default:C=Tp}s=C.bind(null,t,s,e),C=void 0,!lv||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(C=!0),l?C!==void 0?e.addEventListener(t,s,{capture:!0,passive:C}):e.addEventListener(t,s,!0):C!==void 0?e.addEventListener(t,s,{passive:C}):e.addEventListener(t,s,!1)}function hf(e,t,s,l,C){var S=l;if(!(t&1)&&!(t&2)&&l!==null)t:for(;;){if(l===null)return;var r=l.tag;if(r===3||r===4){var T=l.stateNode.containerInfo;if(T===C||T.nodeType===8&&T.parentNode===C)break;if(r===4)for(r=l.return;r!==null;){var i=r.tag;if((i===3||i===4)&&(i=r.stateNode.containerInfo,i===C||i.nodeType===8&&i.parentNode===C))return;r=r.return}for(;T!==null;){if(r=er(T),r===null)return;if(i=r.tag,i===5||i===6){l=S=r;continue t}T=T.parentNode}}l=l.return}tT(function(){var d=S,x=mp(s),f=[];t:{var u=AT.get(e);if(u!==void 0){var o=Ep,n=e;switch(e){case"keypress":if($l(s)===0)break t;case"keydown":case"keyup":o=mw;break;case"focusin":n="focus",o=tf;break;case"focusout":n="blur",o=tf;break;case"beforeblur":case"afterblur":o=tf;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=rw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Cw;break;case MT:case wT:case RT:o=hw;break;case OT:o=Sw;break;case"scroll":o=sw;break;case"wheel":o=Pw;break;case"copy":case"cut":case"paste":o=uw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=im}var h=(t&4)!==0,p=!h&&e==="scroll",a=h?u!==null?u+"Capture":null:u;h=[];for(var c=d,v;c!==null;){v=c;var g=v.stateNode;if(v.tag===5&&g!==null&&(v=g,a!==null&&(g=ko(c,a),g!=null&&h.push($o(c,g,v)))),p)break;c=c.return}0<h.length&&(u=new o(u,n,null,s,x),f.push({event:u,listeners:h}))}}if(!(t&7)){t:{if(u=e==="mouseover"||e==="pointerover",o=e==="mouseout"||e==="pointerout",u&&s!==ov&&(n=s.relatedTarget||s.fromElement)&&(er(n)||n[Is]))break t;if((o||u)&&(u=x.window===x?x:(u=x.ownerDocument)?u.defaultView||u.parentWindow:window,o?(n=s.relatedTarget||s.toElement,o=d,n=n?er(n):null,n!==null&&(p=gr(n),n!==p||n.tag!==5&&n.tag!==6)&&(n=null)):(o=null,n=d),o!==n)){if(h=tm,g="onMouseLeave",a="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(h=im,g="onPointerLeave",a="onPointerEnter",c="pointer"),p=o==null?u:na(o),v=n==null?u:na(n),u=new h(g,c+"leave",o,s,x),u.target=p,u.relatedTarget=v,g=null,er(x)===d&&(h=new h(a,c+"enter",n,s,x),h.target=v,h.relatedTarget=p,g=h),p=g,o&&n)e:{for(h=o,a=n,c=0,v=h;v;v=Mr(v))c++;for(v=0,g=a;g;g=Mr(g))v++;for(;0<c-v;)h=Mr(h),c--;for(;0<v-c;)a=Mr(a),v--;for(;c--;){if(h===a||a!==null&&h===a.alternate)break e;h=Mr(h),a=Mr(a)}h=null}else h=null;o!==null&&cm(f,u,o,h,!1),n!==null&&p!==null&&cm(f,p,n,h,!0)}}t:{if(u=d?na(d):window,o=u.nodeName&&u.nodeName.toLowerCase(),o==="select"||o==="input"&&u.type==="file")var m=Fw;else if(rm(u))if(CT)m=bw;else{m=Iw;var y=Dw}else(o=u.nodeName)&&o.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(m=Bw);if(m&&(m=m(e,d))){yT(f,m,s,x);break t}y&&y(e,u,d),e==="focusout"&&(y=u._wrapperState)&&y.controlled&&u.type==="number"&&iv(u,"number",u.value)}switch(y=d?na(d):window,e){case"focusin":(rm(y)||y.contentEditable==="true")&&(ia=y,vv=d,Do=null);break;case"focusout":Do=vv=ia=null;break;case"mousedown":pv=!0;break;case"contextmenu":case"mouseup":case"dragend":pv=!1,um(f,s,x);break;case"selectionchange":if(zw)break;case"keydown":case"keyup":um(f,s,x)}var P;if(Mp)t:{switch(e){case"compositionstart":var M="onCompositionStart";break t;case"compositionend":M="onCompositionEnd";break t;case"compositionupdate":M="onCompositionUpdate";break t}M=void 0}else ea?mT(e,s)&&(M="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(M="onCompositionStart");M&&(gT&&s.locale!=="ko"&&(ea||M!=="onCompositionStart"?M==="onCompositionEnd"&&ea&&(P=pT()):(nn=x,Sp="value"in nn?nn.value:nn.textContent,ea=!0)),y=fu(d,M),0<y.length&&(M=new em(M,e,null,s,x),f.push({event:M,listeners:y}),P?M.data=P:(P=xT(s),P!==null&&(M.data=P)))),(P=ww?Rw(e,s):Ow(e,s))&&(d=fu(d,"onBeforeInput"),0<d.length&&(x=new em("onBeforeInput","beforeinput",null,s,x),f.push({event:x,listeners:d}),x.data=P))}LT(f,t)})}function $o(e,t,s){return{instance:e,listener:t,currentTarget:s}}function fu(e,t){for(var s=t+"Capture",l=[];e!==null;){var C=e,S=C.stateNode;C.tag===5&&S!==null&&(C=S,S=ko(e,s),S!=null&&l.unshift($o(e,S,C)),S=ko(e,t),S!=null&&l.push($o(e,S,C))),e=e.return}return l}function Mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cm(e,t,s,l,C){for(var S=t._reactName,r=[];s!==null&&s!==l;){var T=s,i=T.alternate,d=T.stateNode;if(i!==null&&i===l)break;T.tag===5&&d!==null&&(T=d,C?(i=ko(s,S),i!=null&&r.unshift($o(s,i,T))):C||(i=ko(s,S),i!=null&&r.push($o(s,i,T)))),s=s.return}r.length!==0&&e.push({event:t,listeners:r})}var Xw=/\r\n?/g,Yw=/\u0000|\uFFFD/g;function vm(e){return(typeof e=="string"?e:""+e).replace(Xw,`
`).replace(Yw,"")}function Vh(e,t,s){if(t=vm(t),vm(e)!==t&&s)throw Error(nt(425))}function cu(){}var gv=null,mv=null;function xv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yv=typeof setTimeout=="function"?setTimeout:void 0,Ww=typeof clearTimeout=="function"?clearTimeout:void 0,pm=typeof Promise=="function"?Promise:void 0,Hw=typeof queueMicrotask=="function"?queueMicrotask:typeof pm<"u"?function(e){return pm.resolve(null).then(e).catch($w)}:yv;function $w(e){setTimeout(function(){throw e})}function lf(e,t){var s=t,l=0;do{var C=s.nextSibling;if(e.removeChild(s),C&&C.nodeType===8)if(s=C.data,s==="/$"){if(l===0){e.removeChild(C),Xo(t);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=C}while(s);Xo(t)}function un(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var ba=Math.random().toString(36).slice(2),os="__reactFiber$"+ba,Ko="__reactProps$"+ba,Is="__reactContainer$"+ba,Cv="__reactEvents$"+ba,Kw="__reactListeners$"+ba,jw="__reactHandles$"+ba;function er(e){var t=e[os];if(t)return t;for(var s=e.parentNode;s;){if(t=s[Is]||s[os]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=gm(e);e!==null;){if(s=e[os])return s;e=gm(e)}return t}e=s,s=e.parentNode}return null}function uh(e){return e=e[os]||e[Is],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function na(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(nt(33))}function Xu(e){return e[Ko]||null}var Tv=[],ra=-1;function Sn(e){return{current:e}}function Vt(e){0>ra||(e.current=Tv[ra],Tv[ra]=null,ra--)}function Nt(e,t){ra++,Tv[ra]=e.current,e.current=t}var xn={},De=Sn(xn),Ke=Sn(!1),or=xn;function Sa(e,t){var s=e.type.contextTypes;if(!s)return xn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var C={},S;for(S in s)C[S]=t[S];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=C),C}function je(e){return e=e.childContextTypes,e!=null}function vu(){Vt(Ke),Vt(De)}function mm(e,t,s){if(De.current!==xn)throw Error(nt(168));Nt(De,t),Nt(Ke,s)}function DT(e,t,s){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var C in l)if(!(C in t))throw Error(nt(108,DM(e)||"Unknown",C));return $t({},s,l)}function pu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xn,or=De.current,Nt(De,e),Nt(Ke,Ke.current),!0}function xm(e,t,s){var l=e.stateNode;if(!l)throw Error(nt(169));s?(e=DT(e,t,or),l.__reactInternalMemoizedMergedChildContext=e,Vt(Ke),Vt(De),Nt(De,e)):Vt(Ke),Nt(Ke,s)}var Ps=null,Yu=!1,uf=!1;function IT(e){Ps===null?Ps=[e]:Ps.push(e)}function Zw(e){Yu=!0,IT(e)}function En(){if(!uf&&Ps!==null){uf=!0;var e=0,t=At;try{var s=Ps;for(At=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}Ps=null,Yu=!1}catch(C){throw Ps!==null&&(Ps=Ps.slice(e+1)),nT(xp,En),C}finally{At=t,uf=!1}}return null}var aa=[],oa=0,gu=null,mu=0,gi=[],mi=0,hr=null,ws=1,Rs="";function qn(e,t){aa[oa++]=mu,aa[oa++]=gu,gu=e,mu=t}function BT(e,t,s){gi[mi++]=ws,gi[mi++]=Rs,gi[mi++]=hr,hr=e;var l=ws;e=Rs;var C=32-Xi(l)-1;l&=~(1<<C),s+=1;var S=32-Xi(t)+C;if(30<S){var r=C-C%5;S=(l&(1<<r)-1).toString(32),l>>=r,C-=r,ws=1<<32-Xi(t)+C|s<<C|l,Rs=S+e}else ws=1<<S|s<<C|l,Rs=e}function Rp(e){e.return!==null&&(qn(e,1),BT(e,1,0))}function Op(e){for(;e===gu;)gu=aa[--oa],aa[oa]=null,mu=aa[--oa],aa[oa]=null;for(;e===hr;)hr=gi[--mi],gi[mi]=null,Rs=gi[--mi],gi[mi]=null,ws=gi[--mi],gi[mi]=null}var ri=null,ni=null,Xt=!1,Ui=null;function bT(e,t){var s=yi(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function ym(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ri=e,ni=un(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ri=e,ni=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=hr!==null?{id:ws,overflow:Rs}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=yi(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,ri=e,ni=null,!0):!1;default:return!1}}function Sv(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ev(e){if(Xt){var t=ni;if(t){var s=t;if(!ym(e,t)){if(Sv(e))throw Error(nt(418));t=un(s.nextSibling);var l=ri;t&&ym(e,t)?bT(l,s):(e.flags=e.flags&-4097|2,Xt=!1,ri=e)}}else{if(Sv(e))throw Error(nt(418));e.flags=e.flags&-4097|2,Xt=!1,ri=e}}}function Cm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ri=e}function Uh(e){if(e!==ri)return!1;if(!Xt)return Cm(e),Xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xv(e.type,e.memoizedProps)),t&&(t=ni)){if(Sv(e))throw GT(),Error(nt(418));for(;t;)bT(e,t),t=un(t.nextSibling)}if(Cm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(nt(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){ni=un(e.nextSibling);break t}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}ni=null}}else ni=ri?un(e.stateNode.nextSibling):null;return!0}function GT(){for(var e=ni;e;)e=un(e.nextSibling)}function Ea(){ni=ri=null,Xt=!1}function Ap(e){Ui===null?Ui=[e]:Ui.push(e)}var Jw=Gs.ReactCurrentBatchConfig;function zi(e,t){if(e&&e.defaultProps){t=$t({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}var xu=Sn(null),yu=null,ha=null,Lp=null;function Fp(){Lp=ha=yu=null}function Dp(e){var t=xu.current;Vt(xu),e._currentValue=t}function Pv(e,t,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===s)break;e=e.return}}function ma(e,t){yu=e,Lp=ha=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($e=!0),e.firstContext=null)}function Pi(e){var t=e._currentValue;if(Lp!==e)if(e={context:e,memoizedValue:t,next:null},ha===null){if(yu===null)throw Error(nt(308));ha=e,yu.dependencies={lanes:0,firstContext:e}}else ha=ha.next=e;return t}var ir=null;function Ip(e){ir===null?ir=[e]:ir.push(e)}function NT(e,t,s,l){var C=t.interleaved;return C===null?(s.next=s,Ip(t)):(s.next=C.next,C.next=s),t.interleaved=s,Bs(e,l)}function Bs(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Js=!1;function Bp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function dn(e,t,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,Mt&2){var C=l.pending;return C===null?t.next=t:(t.next=C.next,C.next=t),l.pending=t,Bs(e,s)}return C=l.interleaved,C===null?(t.next=t,Ip(l)):(t.next=C.next,C.next=t),l.interleaved=t,Bs(e,s)}function Kl(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,yp(e,s)}}function Tm(e,t){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var C=null,S=null;if(s=s.firstBaseUpdate,s!==null){do{var r={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};S===null?C=S=r:S=S.next=r,s=s.next}while(s!==null);S===null?C=S=t:S=S.next=t}else C=S=t;s={baseState:l.baseState,firstBaseUpdate:C,lastBaseUpdate:S,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Cu(e,t,s,l){var C=e.updateQueue;Js=!1;var S=C.firstBaseUpdate,r=C.lastBaseUpdate,T=C.shared.pending;if(T!==null){C.shared.pending=null;var i=T,d=i.next;i.next=null,r===null?S=d:r.next=d,r=i;var x=e.alternate;x!==null&&(x=x.updateQueue,T=x.lastBaseUpdate,T!==r&&(T===null?x.firstBaseUpdate=d:T.next=d,x.lastBaseUpdate=i))}if(S!==null){var f=C.baseState;r=0,x=d=i=null,T=S;do{var u=T.lane,o=T.eventTime;if((l&u)===u){x!==null&&(x=x.next={eventTime:o,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});t:{var n=e,h=T;switch(u=t,o=s,h.tag){case 1:if(n=h.payload,typeof n=="function"){f=n.call(o,f,u);break t}f=n;break t;case 3:n.flags=n.flags&-65537|128;case 0:if(n=h.payload,u=typeof n=="function"?n.call(o,f,u):n,u==null)break t;f=$t({},f,u);break t;case 2:Js=!0}}T.callback!==null&&T.lane!==0&&(e.flags|=64,u=C.effects,u===null?C.effects=[T]:u.push(T))}else o={eventTime:o,lane:u,tag:T.tag,payload:T.payload,callback:T.callback,next:null},x===null?(d=x=o,i=f):x=x.next=o,r|=u;if(T=T.next,T===null){if(T=C.shared.pending,T===null)break;u=T,T=u.next,u.next=null,C.lastBaseUpdate=u,C.shared.pending=null}}while(1);if(x===null&&(i=f),C.baseState=i,C.firstBaseUpdate=d,C.lastBaseUpdate=x,t=C.shared.interleaved,t!==null){C=t;do r|=C.lane,C=C.next;while(C!==t)}else S===null&&(C.shared.lanes=0);ur|=r,e.lanes=r,e.memoizedState=f}}function Sm(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],C=l.callback;if(C!==null){if(l.callback=null,l=s,typeof C!="function")throw Error(nt(191,C));C.call(l)}}}var kT=new NC.Component().refs;function Mv(e,t,s,l){t=e.memoizedState,s=s(l,t),s=s==null?t:$t({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Wu={isMounted:function(e){return(e=e._reactInternals)?gr(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var l=Ge(),C=cn(e),S=Os(l,C);S.payload=t,s!=null&&(S.callback=s),t=dn(e,S,C),t!==null&&(Yi(t,e,C,l),Kl(t,e,C))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var l=Ge(),C=cn(e),S=Os(l,C);S.tag=1,S.payload=t,s!=null&&(S.callback=s),t=dn(e,S,C),t!==null&&(Yi(t,e,C,l),Kl(t,e,C))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Ge(),l=cn(e),C=Os(s,l);C.tag=2,t!=null&&(C.callback=t),t=dn(e,C,l),t!==null&&(Yi(t,e,l,s),Kl(t,e,l))}};function Em(e,t,s,l,C,S,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,S,r):t.prototype&&t.prototype.isPureReactComponent?!Wo(s,l)||!Wo(C,S):!0}function VT(e,t,s){var l=!1,C=xn,S=t.contextType;return typeof S=="object"&&S!==null?S=Pi(S):(C=je(t)?or:De.current,l=t.contextTypes,S=(l=l!=null)?Sa(e,C):xn),t=new t(s,S),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wu,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=C,e.__reactInternalMemoizedMaskedChildContext=S),t}function Pm(e,t,s,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,l),t.state!==e&&Wu.enqueueReplaceState(t,t.state,null)}function wv(e,t,s,l){var C=e.stateNode;C.props=s,C.state=e.memoizedState,C.refs=kT,Bp(e);var S=t.contextType;typeof S=="object"&&S!==null?C.context=Pi(S):(S=je(t)?or:De.current,C.context=Sa(e,S)),C.state=e.memoizedState,S=t.getDerivedStateFromProps,typeof S=="function"&&(Mv(e,t,S,s),C.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(t=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),t!==C.state&&Wu.enqueueReplaceState(C,C.state,null),Cu(e,s,C,l),C.state=e.memoizedState),typeof C.componentDidMount=="function"&&(e.flags|=4194308)}function ja(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(nt(309));var l=s.stateNode}if(!l)throw Error(nt(147,e));var C=l,S=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===S?t.ref:(t=function(r){var T=C.refs;T===kT&&(T=C.refs={}),r===null?delete T[S]:T[S]=r},t._stringRef=S,t)}if(typeof e!="string")throw Error(nt(284));if(!s._owner)throw Error(nt(290,e))}return e}function Xh(e,t){throw e=Object.prototype.toString.call(t),Error(nt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mm(e){var t=e._init;return t(e._payload)}function UT(e){function t(a,c){if(e){var v=a.deletions;v===null?(a.deletions=[c],a.flags|=16):v.push(c)}}function s(a,c){if(!e)return null;for(;c!==null;)t(a,c),c=c.sibling;return null}function l(a,c){for(a=new Map;c!==null;)c.key!==null?a.set(c.key,c):a.set(c.index,c),c=c.sibling;return a}function C(a,c){return a=vn(a,c),a.index=0,a.sibling=null,a}function S(a,c,v){return a.index=v,e?(v=a.alternate,v!==null?(v=v.index,v<c?(a.flags|=2,c):v):(a.flags|=2,c)):(a.flags|=1048576,c)}function r(a){return e&&a.alternate===null&&(a.flags|=2),a}function T(a,c,v,g){return c===null||c.tag!==6?(c=mf(v,a.mode,g),c.return=a,c):(c=C(c,v),c.return=a,c)}function i(a,c,v,g){var m=v.type;return m===ta?x(a,c,v.props.children,g,v.key):c!==null&&(c.elementType===m||typeof m=="object"&&m!==null&&m.$$typeof===Zs&&Mm(m)===c.type)?(g=C(c,v.props),g.ref=ja(a,c,v),g.return=a,g):(g=_l(v.type,v.key,v.props,null,a.mode,g),g.ref=ja(a,c,v),g.return=a,g)}function d(a,c,v,g){return c===null||c.tag!==4||c.stateNode.containerInfo!==v.containerInfo||c.stateNode.implementation!==v.implementation?(c=xf(v,a.mode,g),c.return=a,c):(c=C(c,v.children||[]),c.return=a,c)}function x(a,c,v,g,m){return c===null||c.tag!==7?(c=rr(v,a.mode,g,m),c.return=a,c):(c=C(c,v),c.return=a,c)}function f(a,c,v){if(typeof c=="string"&&c!==""||typeof c=="number")return c=mf(""+c,a.mode,v),c.return=a,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Fh:return v=_l(c.type,c.key,c.props,null,a.mode,v),v.ref=ja(a,null,c),v.return=a,v;case _r:return c=xf(c,a.mode,v),c.return=a,c;case Zs:var g=c._init;return f(a,g(c._payload),v)}if(Mo(c)||Ya(c))return c=rr(c,a.mode,v,null),c.return=a,c;Xh(a,c)}return null}function u(a,c,v,g){var m=c!==null?c.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return m!==null?null:T(a,c,""+v,g);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fh:return v.key===m?i(a,c,v,g):null;case _r:return v.key===m?d(a,c,v,g):null;case Zs:return m=v._init,u(a,c,m(v._payload),g)}if(Mo(v)||Ya(v))return m!==null?null:x(a,c,v,g,null);Xh(a,v)}return null}function o(a,c,v,g,m){if(typeof g=="string"&&g!==""||typeof g=="number")return a=a.get(v)||null,T(c,a,""+g,m);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Fh:return a=a.get(g.key===null?v:g.key)||null,i(c,a,g,m);case _r:return a=a.get(g.key===null?v:g.key)||null,d(c,a,g,m);case Zs:var y=g._init;return o(a,c,v,y(g._payload),m)}if(Mo(g)||Ya(g))return a=a.get(v)||null,x(c,a,g,m,null);Xh(c,g)}return null}function n(a,c,v,g){for(var m=null,y=null,P=c,M=c=0,E=null;P!==null&&M<v.length;M++){P.index>M?(E=P,P=null):E=P.sibling;var w=u(a,P,v[M],g);if(w===null){P===null&&(P=E);break}e&&P&&w.alternate===null&&t(a,P),c=S(w,c,M),y===null?m=w:y.sibling=w,y=w,P=E}if(M===v.length)return s(a,P),Xt&&qn(a,M),m;if(P===null){for(;M<v.length;M++)P=f(a,v[M],g),P!==null&&(c=S(P,c,M),y===null?m=P:y.sibling=P,y=P);return Xt&&qn(a,M),m}for(P=l(a,P);M<v.length;M++)E=o(P,a,M,v[M],g),E!==null&&(e&&E.alternate!==null&&P.delete(E.key===null?M:E.key),c=S(E,c,M),y===null?m=E:y.sibling=E,y=E);return e&&P.forEach(function(R){return t(a,R)}),Xt&&qn(a,M),m}function h(a,c,v,g){var m=Ya(v);if(typeof m!="function")throw Error(nt(150));if(v=m.call(v),v==null)throw Error(nt(151));for(var y=m=null,P=c,M=c=0,E=null,w=v.next();P!==null&&!w.done;M++,w=v.next()){P.index>M?(E=P,P=null):E=P.sibling;var R=u(a,P,w.value,g);if(R===null){P===null&&(P=E);break}e&&P&&R.alternate===null&&t(a,P),c=S(R,c,M),y===null?m=R:y.sibling=R,y=R,P=E}if(w.done)return s(a,P),Xt&&qn(a,M),m;if(P===null){for(;!w.done;M++,w=v.next())w=f(a,w.value,g),w!==null&&(c=S(w,c,M),y===null?m=w:y.sibling=w,y=w);return Xt&&qn(a,M),m}for(P=l(a,P);!w.done;M++,w=v.next())w=o(P,a,M,w.value,g),w!==null&&(e&&w.alternate!==null&&P.delete(w.key===null?M:w.key),c=S(w,c,M),y===null?m=w:y.sibling=w,y=w);return e&&P.forEach(function(O){return t(a,O)}),Xt&&qn(a,M),m}function p(a,c,v,g){if(typeof v=="object"&&v!==null&&v.type===ta&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Fh:t:{for(var m=v.key,y=c;y!==null;){if(y.key===m){if(m=v.type,m===ta){if(y.tag===7){s(a,y.sibling),c=C(y,v.props.children),c.return=a,a=c;break t}}else if(y.elementType===m||typeof m=="object"&&m!==null&&m.$$typeof===Zs&&Mm(m)===y.type){s(a,y.sibling),c=C(y,v.props),c.ref=ja(a,y,v),c.return=a,a=c;break t}s(a,y);break}else t(a,y);y=y.sibling}v.type===ta?(c=rr(v.props.children,a.mode,g,v.key),c.return=a,a=c):(g=_l(v.type,v.key,v.props,null,a.mode,g),g.ref=ja(a,c,v),g.return=a,a=g)}return r(a);case _r:t:{for(y=v.key;c!==null;){if(c.key===y)if(c.tag===4&&c.stateNode.containerInfo===v.containerInfo&&c.stateNode.implementation===v.implementation){s(a,c.sibling),c=C(c,v.children||[]),c.return=a,a=c;break t}else{s(a,c);break}else t(a,c);c=c.sibling}c=xf(v,a.mode,g),c.return=a,a=c}return r(a);case Zs:return y=v._init,p(a,c,y(v._payload),g)}if(Mo(v))return n(a,c,v,g);if(Ya(v))return h(a,c,v,g);Xh(a,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,c!==null&&c.tag===6?(s(a,c.sibling),c=C(c,v),c.return=a,a=c):(s(a,c),c=mf(v,a.mode,g),c.return=a,a=c),r(a)):s(a,c)}return p}var Pa=UT(!0),XT=UT(!1),dh={},fs=Sn(dh),jo=Sn(dh),Zo=Sn(dh);function sr(e){if(e===dh)throw Error(nt(174));return e}function bp(e,t){switch(Nt(Zo,t),Nt(jo,e),Nt(fs,dh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:nv(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=nv(t,e)}Vt(fs),Nt(fs,t)}function Ma(){Vt(fs),Vt(jo),Vt(Zo)}function YT(e){sr(Zo.current);var t=sr(fs.current),s=nv(t,e.type);t!==s&&(Nt(jo,e),Nt(fs,s))}function Gp(e){jo.current===e&&(Vt(fs),Vt(jo))}var Wt=Sn(0);function Tu(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var df=[];function Np(){for(var e=0;e<df.length;e++)df[e]._workInProgressVersionPrimary=null;df.length=0}var jl=Gs.ReactCurrentDispatcher,ff=Gs.ReactCurrentBatchConfig,lr=0,Ht=null,he=null,ce=null,Su=!1,Io=!1,Jo=0,Qw=0;function Me(){throw Error(nt(321))}function zp(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Wi(e[s],t[s]))return!1;return!0}function kp(e,t,s,l,C,S){if(lr=S,Ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jl.current=e===null||e.memoizedState===null?eR:iR,e=s(l,C),Io){S=0;do{if(Io=!1,Jo=0,25<=S)throw Error(nt(301));S+=1,ce=he=null,t.updateQueue=null,jl.current=sR,e=s(l,C)}while(Io)}if(jl.current=Eu,t=he!==null&&he.next!==null,lr=0,ce=he=Ht=null,Su=!1,t)throw Error(nt(300));return e}function Vp(){var e=Jo!==0;return Jo=0,e}function as(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?Ht.memoizedState=ce=e:ce=ce.next=e,ce}function Mi(){if(he===null){var e=Ht.alternate;e=e!==null?e.memoizedState:null}else e=he.next;var t=ce===null?Ht.memoizedState:ce.next;if(t!==null)ce=t,he=e;else{if(e===null)throw Error(nt(310));he=e,e={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},ce===null?Ht.memoizedState=ce=e:ce=ce.next=e}return ce}function Qo(e,t){return typeof t=="function"?t(e):t}function cf(e){var t=Mi(),s=t.queue;if(s===null)throw Error(nt(311));s.lastRenderedReducer=e;var l=he,C=l.baseQueue,S=s.pending;if(S!==null){if(C!==null){var r=C.next;C.next=S.next,S.next=r}l.baseQueue=C=S,s.pending=null}if(C!==null){S=C.next,l=l.baseState;var T=r=null,i=null,d=S;do{var x=d.lane;if((lr&x)===x)i!==null&&(i=i.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),l=d.hasEagerState?d.eagerState:e(l,d.action);else{var f={lane:x,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};i===null?(T=i=f,r=l):i=i.next=f,Ht.lanes|=x,ur|=x}d=d.next}while(d!==null&&d!==S);i===null?r=l:i.next=T,Wi(l,t.memoizedState)||($e=!0),t.memoizedState=l,t.baseState=r,t.baseQueue=i,s.lastRenderedState=l}if(e=s.interleaved,e!==null){C=e;do S=C.lane,Ht.lanes|=S,ur|=S,C=C.next;while(C!==e)}else C===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function vf(e){var t=Mi(),s=t.queue;if(s===null)throw Error(nt(311));s.lastRenderedReducer=e;var l=s.dispatch,C=s.pending,S=t.memoizedState;if(C!==null){s.pending=null;var r=C=C.next;do S=e(S,r.action),r=r.next;while(r!==C);Wi(S,t.memoizedState)||($e=!0),t.memoizedState=S,t.baseQueue===null&&(t.baseState=S),s.lastRenderedState=S}return[S,l]}function WT(){}function HT(e,t){var s=Ht,l=Mi(),C=t(),S=!Wi(l.memoizedState,C);if(S&&(l.memoizedState=C,$e=!0),l=l.queue,Up(jT.bind(null,s,l,e),[e]),l.getSnapshot!==t||S||ce!==null&&ce.memoizedState.tag&1){if(s.flags|=2048,qo(9,KT.bind(null,s,l,C,t),void 0,null),pe===null)throw Error(nt(349));lr&30||$T(s,t,C)}return C}function $T(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Ht.updateQueue,t===null?(t={lastEffect:null,stores:null},Ht.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function KT(e,t,s,l){t.value=s,t.getSnapshot=l,ZT(t)&&JT(e)}function jT(e,t,s){return s(function(){ZT(t)&&JT(e)})}function ZT(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Wi(e,s)}catch{return!0}}function JT(e){var t=Bs(e,1);t!==null&&Yi(t,e,1,-1)}function wm(e){var t=as();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:e},t.queue=e,e=e.dispatch=tR.bind(null,Ht,e),[t.memoizedState,e]}function qo(e,t,s,l){return e={tag:e,create:t,destroy:s,deps:l,next:null},t=Ht.updateQueue,t===null?(t={lastEffect:null,stores:null},Ht.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,t.lastEffect=e)),e}function QT(){return Mi().memoizedState}function Zl(e,t,s,l){var C=as();Ht.flags|=e,C.memoizedState=qo(1|t,s,void 0,l===void 0?null:l)}function Hu(e,t,s,l){var C=Mi();l=l===void 0?null:l;var S=void 0;if(he!==null){var r=he.memoizedState;if(S=r.destroy,l!==null&&zp(l,r.deps)){C.memoizedState=qo(t,s,S,l);return}}Ht.flags|=e,C.memoizedState=qo(1|t,s,S,l)}function Rm(e,t){return Zl(8390656,8,e,t)}function Up(e,t){return Hu(2048,8,e,t)}function qT(e,t){return Hu(4,2,e,t)}function _T(e,t){return Hu(4,4,e,t)}function tS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function eS(e,t,s){return s=s!=null?s.concat([e]):null,Hu(4,4,tS.bind(null,t,e),s)}function Xp(){}function iS(e,t){var s=Mi();t=t===void 0?null:t;var l=s.memoizedState;return l!==null&&t!==null&&zp(t,l[1])?l[0]:(s.memoizedState=[e,t],e)}function sS(e,t){var s=Mi();t=t===void 0?null:t;var l=s.memoizedState;return l!==null&&t!==null&&zp(t,l[1])?l[0]:(e=e(),s.memoizedState=[e,t],e)}function nS(e,t,s){return lr&21?(Wi(s,t)||(s=oT(),Ht.lanes|=s,ur|=s,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$e=!0),e.memoizedState=s)}function qw(e,t){var s=At;At=s!==0&&4>s?s:4,e(!0);var l=ff.transition;ff.transition={};try{e(!1),t()}finally{At=s,ff.transition=l}}function rS(){return Mi().memoizedState}function _w(e,t,s){var l=cn(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},aS(e))oS(t,s);else if(s=NT(e,t,s,l),s!==null){var C=Ge();Yi(s,e,l,C),hS(s,t,l)}}function tR(e,t,s){var l=cn(e),C={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(aS(e))oS(t,C);else{var S=e.alternate;if(e.lanes===0&&(S===null||S.lanes===0)&&(S=t.lastRenderedReducer,S!==null))try{var r=t.lastRenderedState,T=S(r,s);if(C.hasEagerState=!0,C.eagerState=T,Wi(T,r)){var i=t.interleaved;i===null?(C.next=C,Ip(t)):(C.next=i.next,i.next=C),t.interleaved=C;return}}catch{}finally{}s=NT(e,t,C,l),s!==null&&(C=Ge(),Yi(s,e,l,C),hS(s,t,l))}}function aS(e){var t=e.alternate;return e===Ht||t!==null&&t===Ht}function oS(e,t){Io=Su=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function hS(e,t,s){if(s&4194240){var l=t.lanes;l&=e.pendingLanes,s|=l,t.lanes=s,yp(e,s)}}var Eu={readContext:Pi,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},eR={readContext:Pi,useCallback:function(e,t){return as().memoizedState=[e,t===void 0?null:t],e},useContext:Pi,useEffect:Rm,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,Zl(4194308,4,tS.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Zl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zl(4,2,e,t)},useMemo:function(e,t){var s=as();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var l=as();return t=s!==void 0?s(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=_w.bind(null,Ht,e),[l.memoizedState,e]},useRef:function(e){var t=as();return e={current:e},t.memoizedState=e},useState:wm,useDebugValue:Xp,useDeferredValue:function(e){return as().memoizedState=e},useTransition:function(){var e=wm(!1),t=e[0];return e=qw.bind(null,e[1]),as().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var l=Ht,C=as();if(Xt){if(s===void 0)throw Error(nt(407));s=s()}else{if(s=t(),pe===null)throw Error(nt(349));lr&30||$T(l,t,s)}C.memoizedState=s;var S={value:s,getSnapshot:t};return C.queue=S,Rm(jT.bind(null,l,S,e),[e]),l.flags|=2048,qo(9,KT.bind(null,l,S,s,t),void 0,null),s},useId:function(){var e=as(),t=pe.identifierPrefix;if(Xt){var s=Rs,l=ws;s=(l&~(1<<32-Xi(l)-1)).toString(32)+s,t=":"+t+"R"+s,s=Jo++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Qw++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iR={readContext:Pi,useCallback:iS,useContext:Pi,useEffect:Up,useImperativeHandle:eS,useInsertionEffect:qT,useLayoutEffect:_T,useMemo:sS,useReducer:cf,useRef:QT,useState:function(){return cf(Qo)},useDebugValue:Xp,useDeferredValue:function(e){var t=Mi();return nS(t,he.memoizedState,e)},useTransition:function(){var e=cf(Qo)[0],t=Mi().memoizedState;return[e,t]},useMutableSource:WT,useSyncExternalStore:HT,useId:rS,unstable_isNewReconciler:!1},sR={readContext:Pi,useCallback:iS,useContext:Pi,useEffect:Up,useImperativeHandle:eS,useInsertionEffect:qT,useLayoutEffect:_T,useMemo:sS,useReducer:vf,useRef:QT,useState:function(){return vf(Qo)},useDebugValue:Xp,useDeferredValue:function(e){var t=Mi();return he===null?t.memoizedState=e:nS(t,he.memoizedState,e)},useTransition:function(){var e=vf(Qo)[0],t=Mi().memoizedState;return[e,t]},useMutableSource:WT,useSyncExternalStore:HT,useId:rS,unstable_isNewReconciler:!1};function wa(e,t){try{var s="",l=t;do s+=FM(l),l=l.return;while(l);var C=s}catch(S){C=`
Error generating stack: `+S.message+`
`+S.stack}return{value:e,source:t,stack:C,digest:null}}function pf(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function Rv(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var nR=typeof WeakMap=="function"?WeakMap:Map;function lS(e,t,s){s=Os(-1,s),s.tag=3,s.payload={element:null};var l=t.value;return s.callback=function(){Mu||(Mu=!0,Nv=l),Rv(e,t)},s}function uS(e,t,s){s=Os(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var C=t.value;s.payload=function(){return l(C)},s.callback=function(){Rv(e,t)}}var S=e.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){Rv(e,t),typeof l!="function"&&(fn===null?fn=new Set([this]):fn.add(this));var r=t.stack;this.componentDidCatch(t.value,{componentStack:r!==null?r:""})}),s}function Om(e,t,s){var l=e.pingCache;if(l===null){l=e.pingCache=new nR;var C=new Set;l.set(t,C)}else C=l.get(t),C===void 0&&(C=new Set,l.set(t,C));C.has(s)||(C.add(s),e=xR.bind(null,e,t,s),t.then(e,e))}function Am(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Lm(e,t,s,l,C){return e.mode&1?(e.flags|=65536,e.lanes=C,e):(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Os(-1,1),t.tag=2,dn(s,t,1))),s.lanes|=1),e)}var rR=Gs.ReactCurrentOwner,$e=!1;function be(e,t,s,l){t.child=e===null?XT(t,null,s,l):Pa(t,e.child,s,l)}function Fm(e,t,s,l,C){s=s.render;var S=t.ref;return ma(t,C),l=kp(e,t,s,l,S,C),s=Vp(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~C,bs(e,t,C)):(Xt&&s&&Rp(t),t.flags|=1,be(e,t,l,C),t.child)}function Dm(e,t,s,l,C){if(e===null){var S=s.type;return typeof S=="function"&&!Jp(S)&&S.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=S,dS(e,t,S,l,C)):(e=_l(s.type,null,l,t,t.mode,C),e.ref=t.ref,e.return=t,t.child=e)}if(S=e.child,!(e.lanes&C)){var r=S.memoizedProps;if(s=s.compare,s=s!==null?s:Wo,s(r,l)&&e.ref===t.ref)return bs(e,t,C)}return t.flags|=1,e=vn(S,l),e.ref=t.ref,e.return=t,t.child=e}function dS(e,t,s,l,C){if(e!==null){var S=e.memoizedProps;if(Wo(S,l)&&e.ref===t.ref)if($e=!1,t.pendingProps=l=S,(e.lanes&C)!==0)e.flags&131072&&($e=!0);else return t.lanes=e.lanes,bs(e,t,C)}return Ov(e,t,s,l,C)}function fS(e,t,s){var l=t.pendingProps,C=l.children,S=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nt(ua,si),si|=s;else{if(!(s&1073741824))return e=S!==null?S.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nt(ua,si),si|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=S!==null?S.baseLanes:s,Nt(ua,si),si|=l}else S!==null?(l=S.baseLanes|s,t.memoizedState=null):l=s,Nt(ua,si),si|=l;return be(e,t,C,s),t.child}function cS(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Ov(e,t,s,l,C){var S=je(s)?or:De.current;return S=Sa(t,S),ma(t,C),s=kp(e,t,s,l,S,C),l=Vp(),e!==null&&!$e?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~C,bs(e,t,C)):(Xt&&l&&Rp(t),t.flags|=1,be(e,t,s,C),t.child)}function Im(e,t,s,l,C){if(je(s)){var S=!0;pu(t)}else S=!1;if(ma(t,C),t.stateNode===null)Jl(e,t),VT(t,s,l),wv(t,s,l,C),l=!0;else if(e===null){var r=t.stateNode,T=t.memoizedProps;r.props=T;var i=r.context,d=s.contextType;typeof d=="object"&&d!==null?d=Pi(d):(d=je(s)?or:De.current,d=Sa(t,d));var x=s.getDerivedStateFromProps,f=typeof x=="function"||typeof r.getSnapshotBeforeUpdate=="function";f||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(T!==l||i!==d)&&Pm(t,r,l,d),Js=!1;var u=t.memoizedState;r.state=u,Cu(t,l,r,C),i=t.memoizedState,T!==l||u!==i||Ke.current||Js?(typeof x=="function"&&(Mv(t,s,x,l),i=t.memoizedState),(T=Js||Em(t,s,T,l,u,i,d))?(f||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=i),r.props=l,r.state=i,r.context=d,l=T):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{r=t.stateNode,zT(e,t),T=t.memoizedProps,d=t.type===t.elementType?T:zi(t.type,T),r.props=d,f=t.pendingProps,u=r.context,i=s.contextType,typeof i=="object"&&i!==null?i=Pi(i):(i=je(s)?or:De.current,i=Sa(t,i));var o=s.getDerivedStateFromProps;(x=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(T!==f||u!==i)&&Pm(t,r,l,i),Js=!1,u=t.memoizedState,r.state=u,Cu(t,l,r,C);var n=t.memoizedState;T!==f||u!==n||Ke.current||Js?(typeof o=="function"&&(Mv(t,s,o,l),n=t.memoizedState),(d=Js||Em(t,s,d,l,u,n,i)||!1)?(x||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(l,n,i),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(l,n,i)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||T===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=n),r.props=l,r.state=n,r.context=i,l=d):(typeof r.componentDidUpdate!="function"||T===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),l=!1)}return Av(e,t,s,l,S,C)}function Av(e,t,s,l,C,S){cS(e,t);var r=(t.flags&128)!==0;if(!l&&!r)return C&&xm(t,s,!1),bs(e,t,S);l=t.stateNode,rR.current=t;var T=r&&typeof s.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&r?(t.child=Pa(t,e.child,null,S),t.child=Pa(t,null,T,S)):be(e,t,T,S),t.memoizedState=l.state,C&&xm(t,s,!0),t.child}function vS(e){var t=e.stateNode;t.pendingContext?mm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mm(e,t.context,!1),bp(e,t.containerInfo)}function Bm(e,t,s,l,C){return Ea(),Ap(C),t.flags|=256,be(e,t,s,l),t.child}var Lv={dehydrated:null,treeContext:null,retryLane:0};function Fv(e){return{baseLanes:e,cachePool:null,transitions:null}}function pS(e,t,s){var l=t.pendingProps,C=Wt.current,S=!1,r=(t.flags&128)!==0,T;if((T=r)||(T=e!==null&&e.memoizedState===null?!1:(C&2)!==0),T?(S=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(C|=1),Nt(Wt,C&1),e===null)return Ev(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(r=l.children,e=l.fallback,S?(l=t.mode,S=t.child,r={mode:"hidden",children:r},!(l&1)&&S!==null?(S.childLanes=0,S.pendingProps=r):S=ju(r,l,0,null),e=rr(e,l,s,null),S.return=t,e.return=t,S.sibling=e,t.child=S,t.child.memoizedState=Fv(s),t.memoizedState=Lv,e):Yp(t,r));if(C=e.memoizedState,C!==null&&(T=C.dehydrated,T!==null))return aR(e,t,r,l,T,C,s);if(S){S=l.fallback,r=t.mode,C=e.child,T=C.sibling;var i={mode:"hidden",children:l.children};return!(r&1)&&t.child!==C?(l=t.child,l.childLanes=0,l.pendingProps=i,t.deletions=null):(l=vn(C,i),l.subtreeFlags=C.subtreeFlags&14680064),T!==null?S=vn(T,S):(S=rr(S,r,s,null),S.flags|=2),S.return=t,l.return=t,l.sibling=S,t.child=l,l=S,S=t.child,r=e.child.memoizedState,r=r===null?Fv(s):{baseLanes:r.baseLanes|s,cachePool:null,transitions:r.transitions},S.memoizedState=r,S.childLanes=e.childLanes&~s,t.memoizedState=Lv,l}return S=e.child,e=S.sibling,l=vn(S,{mode:"visible",children:l.children}),!(t.mode&1)&&(l.lanes=s),l.return=t,l.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=l,t.memoizedState=null,l}function Yp(e,t){return t=ju({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yh(e,t,s,l){return l!==null&&Ap(l),Pa(t,e.child,null,s),e=Yp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aR(e,t,s,l,C,S,r){if(s)return t.flags&256?(t.flags&=-257,l=pf(Error(nt(422))),Yh(e,t,r,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(S=l.fallback,C=t.mode,l=ju({mode:"visible",children:l.children},C,0,null),S=rr(S,C,r,null),S.flags|=2,l.return=t,S.return=t,l.sibling=S,t.child=l,t.mode&1&&Pa(t,e.child,null,r),t.child.memoizedState=Fv(r),t.memoizedState=Lv,S);if(!(t.mode&1))return Yh(e,t,r,null);if(C.data==="$!"){if(l=C.nextSibling&&C.nextSibling.dataset,l)var T=l.dgst;return l=T,S=Error(nt(419)),l=pf(S,l,void 0),Yh(e,t,r,l)}if(T=(r&e.childLanes)!==0,$e||T){if(l=pe,l!==null){switch(r&-r){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=C&(l.suspendedLanes|r)?0:C,C!==0&&C!==S.retryLane&&(S.retryLane=C,Bs(e,C),Yi(l,e,C,-1))}return Zp(),l=pf(Error(nt(421))),Yh(e,t,r,l)}return C.data==="$?"?(t.flags|=128,t.child=e.child,t=yR.bind(null,e),C._reactRetry=t,null):(e=S.treeContext,ni=un(C.nextSibling),ri=t,Xt=!0,Ui=null,e!==null&&(gi[mi++]=ws,gi[mi++]=Rs,gi[mi++]=hr,ws=e.id,Rs=e.overflow,hr=t),t=Yp(t,l.children),t.flags|=4096,t)}function bm(e,t,s){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Pv(e.return,t,s)}function gf(e,t,s,l,C){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:C}:(S.isBackwards=t,S.rendering=null,S.renderingStartTime=0,S.last=l,S.tail=s,S.tailMode=C)}function gS(e,t,s){var l=t.pendingProps,C=l.revealOrder,S=l.tail;if(be(e,t,l.children,s),l=Wt.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bm(e,s,t);else if(e.tag===19)bm(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Nt(Wt,l),!(t.mode&1))t.memoizedState=null;else switch(C){case"forwards":for(s=t.child,C=null;s!==null;)e=s.alternate,e!==null&&Tu(e)===null&&(C=s),s=s.sibling;s=C,s===null?(C=t.child,t.child=null):(C=s.sibling,s.sibling=null),gf(t,!1,C,s,S);break;case"backwards":for(s=null,C=t.child,t.child=null;C!==null;){if(e=C.alternate,e!==null&&Tu(e)===null){t.child=C;break}e=C.sibling,C.sibling=s,s=C,C=e}gf(t,!0,s,null,S);break;case"together":gf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bs(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),ur|=t.lanes,!(s&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(nt(153));if(t.child!==null){for(e=t.child,s=vn(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=vn(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function oR(e,t,s){switch(t.tag){case 3:vS(t),Ea();break;case 5:YT(t);break;case 1:je(t.type)&&pu(t);break;case 4:bp(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,C=t.memoizedProps.value;Nt(xu,l._currentValue),l._currentValue=C;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(Nt(Wt,Wt.current&1),t.flags|=128,null):s&t.child.childLanes?pS(e,t,s):(Nt(Wt,Wt.current&1),e=bs(e,t,s),e!==null?e.sibling:null);Nt(Wt,Wt.current&1);break;case 19:if(l=(s&t.childLanes)!==0,e.flags&128){if(l)return gS(e,t,s);t.flags|=128}if(C=t.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Nt(Wt,Wt.current),l)break;return null;case 22:case 23:return t.lanes=0,fS(e,t,s)}return bs(e,t,s)}var mS,Dv,xS,yS;mS=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Dv=function(){};xS=function(e,t,s,l){var C=e.memoizedProps;if(C!==l){e=t.stateNode,sr(fs.current);var S=null;switch(s){case"input":C=tv(e,C),l=tv(e,l),S=[];break;case"select":C=$t({},C,{value:void 0}),l=$t({},l,{value:void 0}),S=[];break;case"textarea":C=sv(e,C),l=sv(e,l),S=[];break;default:typeof C.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=cu)}rv(s,l);var r;s=null;for(d in C)if(!l.hasOwnProperty(d)&&C.hasOwnProperty(d)&&C[d]!=null)if(d==="style"){var T=C[d];for(r in T)T.hasOwnProperty(r)&&(s||(s={}),s[r]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(No.hasOwnProperty(d)?S||(S=[]):(S=S||[]).push(d,null));for(d in l){var i=l[d];if(T=C!=null?C[d]:void 0,l.hasOwnProperty(d)&&i!==T&&(i!=null||T!=null))if(d==="style")if(T){for(r in T)!T.hasOwnProperty(r)||i&&i.hasOwnProperty(r)||(s||(s={}),s[r]="");for(r in i)i.hasOwnProperty(r)&&T[r]!==i[r]&&(s||(s={}),s[r]=i[r])}else s||(S||(S=[]),S.push(d,s)),s=i;else d==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,T=T?T.__html:void 0,i!=null&&T!==i&&(S=S||[]).push(d,i)):d==="children"?typeof i!="string"&&typeof i!="number"||(S=S||[]).push(d,""+i):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(No.hasOwnProperty(d)?(i!=null&&d==="onScroll"&&kt("scroll",e),S||T===i||(S=[])):(S=S||[]).push(d,i))}s&&(S=S||[]).push("style",s);var d=S;(t.updateQueue=d)&&(t.flags|=4)}};yS=function(e,t,s,l){s!==l&&(t.flags|=4)};function Za(e,t){if(!Xt)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(t)for(var C=e.child;C!==null;)s|=C.lanes|C.childLanes,l|=C.subtreeFlags&14680064,l|=C.flags&14680064,C.return=e,C=C.sibling;else for(C=e.child;C!==null;)s|=C.lanes|C.childLanes,l|=C.subtreeFlags,l|=C.flags,C.return=e,C=C.sibling;return e.subtreeFlags|=l,e.childLanes=s,t}function hR(e,t,s){var l=t.pendingProps;switch(Op(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return je(t.type)&&vu(),we(t),null;case 3:return l=t.stateNode,Ma(),Vt(Ke),Vt(De),Np(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Uh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ui!==null&&(Vv(Ui),Ui=null))),Dv(e,t),we(t),null;case 5:Gp(t);var C=sr(Zo.current);if(s=t.type,e!==null&&t.stateNode!=null)xS(e,t,s,l,C),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(nt(166));return we(t),null}if(e=sr(fs.current),Uh(t)){l=t.stateNode,s=t.type;var S=t.memoizedProps;switch(l[os]=t,l[Ko]=S,e=(t.mode&1)!==0,s){case"dialog":kt("cancel",l),kt("close",l);break;case"iframe":case"object":case"embed":kt("load",l);break;case"video":case"audio":for(C=0;C<Ro.length;C++)kt(Ro[C],l);break;case"source":kt("error",l);break;case"img":case"image":case"link":kt("error",l),kt("load",l);break;case"details":kt("toggle",l);break;case"input":W0(l,S),kt("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!S.multiple},kt("invalid",l);break;case"textarea":$0(l,S),kt("invalid",l)}rv(s,S),C=null;for(var r in S)if(S.hasOwnProperty(r)){var T=S[r];r==="children"?typeof T=="string"?l.textContent!==T&&(S.suppressHydrationWarning!==!0&&Vh(l.textContent,T,e),C=["children",T]):typeof T=="number"&&l.textContent!==""+T&&(S.suppressHydrationWarning!==!0&&Vh(l.textContent,T,e),C=["children",""+T]):No.hasOwnProperty(r)&&T!=null&&r==="onScroll"&&kt("scroll",l)}switch(s){case"input":Dh(l),H0(l,S,!0);break;case"textarea":Dh(l),K0(l);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(l.onclick=cu)}l=C,t.updateQueue=l,l!==null&&(t.flags|=4)}else{r=C.nodeType===9?C:C.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$C(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=r.createElement(s,{is:l.is}):(e=r.createElement(s),s==="select"&&(r=e,l.multiple?r.multiple=!0:l.size&&(r.size=l.size))):e=r.createElementNS(e,s),e[os]=t,e[Ko]=l,mS(e,t,!1,!1),t.stateNode=e;t:{switch(r=av(s,l),s){case"dialog":kt("cancel",e),kt("close",e),C=l;break;case"iframe":case"object":case"embed":kt("load",e),C=l;break;case"video":case"audio":for(C=0;C<Ro.length;C++)kt(Ro[C],e);C=l;break;case"source":kt("error",e),C=l;break;case"img":case"image":case"link":kt("error",e),kt("load",e),C=l;break;case"details":kt("toggle",e),C=l;break;case"input":W0(e,l),C=tv(e,l),kt("invalid",e);break;case"option":C=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},C=$t({},l,{value:void 0}),kt("invalid",e);break;case"textarea":$0(e,l),C=sv(e,l),kt("invalid",e);break;default:C=l}rv(s,C),T=C;for(S in T)if(T.hasOwnProperty(S)){var i=T[S];S==="style"?ZC(e,i):S==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&KC(e,i)):S==="children"?typeof i=="string"?(s!=="textarea"||i!=="")&&zo(e,i):typeof i=="number"&&zo(e,""+i):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(No.hasOwnProperty(S)?i!=null&&S==="onScroll"&&kt("scroll",e):i!=null&&cp(e,S,i,r))}switch(s){case"input":Dh(e),H0(e,l,!1);break;case"textarea":Dh(e),K0(e);break;case"option":l.value!=null&&e.setAttribute("value",""+mn(l.value));break;case"select":e.multiple=!!l.multiple,S=l.value,S!=null?ca(e,!!l.multiple,S,!1):l.defaultValue!=null&&ca(e,!!l.multiple,l.defaultValue,!0);break;default:typeof C.onClick=="function"&&(e.onclick=cu)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return we(t),null;case 6:if(e&&t.stateNode!=null)yS(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(nt(166));if(s=sr(Zo.current),sr(fs.current),Uh(t)){if(l=t.stateNode,s=t.memoizedProps,l[os]=t,(S=l.nodeValue!==s)&&(e=ri,e!==null))switch(e.tag){case 3:Vh(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vh(l.nodeValue,s,(e.mode&1)!==0)}S&&(t.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[os]=t,t.stateNode=l}return we(t),null;case 13:if(Vt(Wt),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xt&&ni!==null&&t.mode&1&&!(t.flags&128))GT(),Ea(),t.flags|=98560,S=!1;else if(S=Uh(t),l!==null&&l.dehydrated!==null){if(e===null){if(!S)throw Error(nt(318));if(S=t.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(nt(317));S[os]=t}else Ea(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),S=!1}else Ui!==null&&(Vv(Ui),Ui=null),S=!0;if(!S)return t.flags&65536?t:null}return t.flags&128?(t.lanes=s,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,t.mode&1&&(e===null||Wt.current&1?le===0&&(le=3):Zp())),t.updateQueue!==null&&(t.flags|=4),we(t),null);case 4:return Ma(),Dv(e,t),e===null&&Ho(t.stateNode.containerInfo),we(t),null;case 10:return Dp(t.type._context),we(t),null;case 17:return je(t.type)&&vu(),we(t),null;case 19:if(Vt(Wt),S=t.memoizedState,S===null)return we(t),null;if(l=(t.flags&128)!==0,r=S.rendering,r===null)if(l)Za(S,!1);else{if(le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=Tu(e),r!==null){for(t.flags|=128,Za(S,!1),l=r.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=s,s=t.child;s!==null;)S=s,e=l,S.flags&=14680066,r=S.alternate,r===null?(S.childLanes=0,S.lanes=e,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=r.childLanes,S.lanes=r.lanes,S.child=r.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=r.memoizedProps,S.memoizedState=r.memoizedState,S.updateQueue=r.updateQueue,S.type=r.type,e=r.dependencies,S.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Nt(Wt,Wt.current&1|2),t.child}e=e.sibling}S.tail!==null&&qt()>Ra&&(t.flags|=128,l=!0,Za(S,!1),t.lanes=4194304)}else{if(!l)if(e=Tu(r),e!==null){if(t.flags|=128,l=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Za(S,!0),S.tail===null&&S.tailMode==="hidden"&&!r.alternate&&!Xt)return we(t),null}else 2*qt()-S.renderingStartTime>Ra&&s!==1073741824&&(t.flags|=128,l=!0,Za(S,!1),t.lanes=4194304);S.isBackwards?(r.sibling=t.child,t.child=r):(s=S.last,s!==null?s.sibling=r:t.child=r,S.last=r)}return S.tail!==null?(t=S.tail,S.rendering=t,S.tail=t.sibling,S.renderingStartTime=qt(),t.sibling=null,s=Wt.current,Nt(Wt,l?s&1|2:s&1),t):(we(t),null);case 22:case 23:return jp(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&t.mode&1?si&1073741824&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),null;case 24:return null;case 25:return null}throw Error(nt(156,t.tag))}function lR(e,t){switch(Op(t),t.tag){case 1:return je(t.type)&&vu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ma(),Vt(Ke),Vt(De),Np(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Gp(t),null;case 13:if(Vt(Wt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(nt(340));Ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Vt(Wt),null;case 4:return Ma(),null;case 10:return Dp(t.type._context),null;case 22:case 23:return jp(),null;case 24:return null;default:return null}}var Wh=!1,Le=!1,uR=typeof WeakSet=="function"?WeakSet:Set,ht=null;function la(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){Zt(e,t,l)}else s.current=null}function Iv(e,t,s){try{s()}catch(l){Zt(e,t,l)}}var Gm=!1;function dR(e,t){if(gv=uu,e=ET(),wp(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var C=l.anchorOffset,S=l.focusNode;l=l.focusOffset;try{s.nodeType,S.nodeType}catch{s=null;break t}var r=0,T=-1,i=-1,d=0,x=0,f=e,u=null;e:for(;;){for(var o;f!==s||C!==0&&f.nodeType!==3||(T=r+C),f!==S||l!==0&&f.nodeType!==3||(i=r+l),f.nodeType===3&&(r+=f.nodeValue.length),(o=f.firstChild)!==null;)u=f,f=o;for(;;){if(f===e)break e;if(u===s&&++d===C&&(T=r),u===S&&++x===l&&(i=r),(o=f.nextSibling)!==null)break;f=u,u=f.parentNode}f=o}s=T===-1||i===-1?null:{start:T,end:i}}else s=null}s=s||{start:0,end:0}}else s=null;for(mv={focusedElem:e,selectionRange:s},uu=!1,ht=t;ht!==null;)if(t=ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ht=e;else for(;ht!==null;){t=ht;try{var n=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(n!==null){var h=n.memoizedProps,p=n.memoizedState,a=t.stateNode,c=a.getSnapshotBeforeUpdate(t.elementType===t.type?h:zi(t.type,h),p);a.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(nt(163))}}catch(g){Zt(t,t.return,g)}if(e=t.sibling,e!==null){e.return=t.return,ht=e;break}ht=t.return}return n=Gm,Gm=!1,n}function Bo(e,t,s){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var C=l=l.next;do{if((C.tag&e)===e){var S=C.destroy;C.destroy=void 0,S!==void 0&&Iv(t,s,S)}C=C.next}while(C!==l)}}function $u(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==t)}}function Bv(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function CS(e){var t=e.alternate;t!==null&&(e.alternate=null,CS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[os],delete t[Ko],delete t[Cv],delete t[Kw],delete t[jw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function TS(e){return e.tag===5||e.tag===3||e.tag===4}function Nm(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||TS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bv(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=cu));else if(l!==4&&(e=e.child,e!==null))for(bv(e,t,s),e=e.sibling;e!==null;)bv(e,t,s),e=e.sibling}function Gv(e,t,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Gv(e,t,s),e=e.sibling;e!==null;)Gv(e,t,s),e=e.sibling}var Ce=null,ki=!1;function Vs(e,t,s){for(s=s.child;s!==null;)SS(e,t,s),s=s.sibling}function SS(e,t,s){if(ds&&typeof ds.onCommitFiberUnmount=="function")try{ds.onCommitFiberUnmount(zu,s)}catch{}switch(s.tag){case 5:Le||la(s,t);case 6:var l=Ce,C=ki;Ce=null,Vs(e,t,s),Ce=l,ki=C,Ce!==null&&(ki?(e=Ce,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Ce.removeChild(s.stateNode));break;case 18:Ce!==null&&(ki?(e=Ce,s=s.stateNode,e.nodeType===8?lf(e.parentNode,s):e.nodeType===1&&lf(e,s),Xo(e)):lf(Ce,s.stateNode));break;case 4:l=Ce,C=ki,Ce=s.stateNode.containerInfo,ki=!0,Vs(e,t,s),Ce=l,ki=C;break;case 0:case 11:case 14:case 15:if(!Le&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){C=l=l.next;do{var S=C,r=S.destroy;S=S.tag,r!==void 0&&(S&2||S&4)&&Iv(s,t,r),C=C.next}while(C!==l)}Vs(e,t,s);break;case 1:if(!Le&&(la(s,t),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(T){Zt(s,t,T)}Vs(e,t,s);break;case 21:Vs(e,t,s);break;case 22:s.mode&1?(Le=(l=Le)||s.memoizedState!==null,Vs(e,t,s),Le=l):Vs(e,t,s);break;default:Vs(e,t,s)}}function zm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new uR),t.forEach(function(l){var C=CR.bind(null,e,l);s.has(l)||(s.add(l),l.then(C,C))})}}function Ai(e,t){var s=t.deletions;if(s!==null)for(var l=0;l<s.length;l++){var C=s[l];try{var S=e,r=t,T=r;t:for(;T!==null;){switch(T.tag){case 5:Ce=T.stateNode,ki=!1;break t;case 3:Ce=T.stateNode.containerInfo,ki=!0;break t;case 4:Ce=T.stateNode.containerInfo,ki=!0;break t}T=T.return}if(Ce===null)throw Error(nt(160));SS(S,r,C),Ce=null,ki=!1;var i=C.alternate;i!==null&&(i.return=null),C.return=null}catch(d){Zt(C,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ES(t,e),t=t.sibling}function ES(e,t){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ai(t,e),ji(e),l&4){try{Bo(3,e,e.return),$u(3,e)}catch(h){Zt(e,e.return,h)}try{Bo(5,e,e.return)}catch(h){Zt(e,e.return,h)}}break;case 1:Ai(t,e),ji(e),l&512&&s!==null&&la(s,s.return);break;case 5:if(Ai(t,e),ji(e),l&512&&s!==null&&la(s,s.return),e.flags&32){var C=e.stateNode;try{zo(C,"")}catch(h){Zt(e,e.return,h)}}if(l&4&&(C=e.stateNode,C!=null)){var S=e.memoizedProps,r=s!==null?s.memoizedProps:S,T=e.type,i=e.updateQueue;if(e.updateQueue=null,i!==null)try{T==="input"&&S.type==="radio"&&S.name!=null&&WC(C,S),av(T,r);var d=av(T,S);for(r=0;r<i.length;r+=2){var x=i[r],f=i[r+1];x==="style"?ZC(C,f):x==="dangerouslySetInnerHTML"?KC(C,f):x==="children"?zo(C,f):cp(C,x,f,d)}switch(T){case"input":ev(C,S);break;case"textarea":HC(C,S);break;case"select":var u=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!S.multiple;var o=S.value;o!=null?ca(C,!!S.multiple,o,!1):u!==!!S.multiple&&(S.defaultValue!=null?ca(C,!!S.multiple,S.defaultValue,!0):ca(C,!!S.multiple,S.multiple?[]:"",!1))}C[Ko]=S}catch(h){Zt(e,e.return,h)}}break;case 6:if(Ai(t,e),ji(e),l&4){if(e.stateNode===null)throw Error(nt(162));C=e.stateNode,S=e.memoizedProps;try{C.nodeValue=S}catch(h){Zt(e,e.return,h)}}break;case 3:if(Ai(t,e),ji(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Xo(t.containerInfo)}catch(h){Zt(e,e.return,h)}break;case 4:Ai(t,e),ji(e);break;case 13:Ai(t,e),ji(e),C=e.child,C.flags&8192&&(S=C.memoizedState!==null,C.stateNode.isHidden=S,!S||C.alternate!==null&&C.alternate.memoizedState!==null||($p=qt())),l&4&&zm(e);break;case 22:if(x=s!==null&&s.memoizedState!==null,e.mode&1?(Le=(d=Le)||x,Ai(t,e),Le=d):Ai(t,e),ji(e),l&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!x&&e.mode&1)for(ht=e,x=e.child;x!==null;){for(f=ht=x;ht!==null;){switch(u=ht,o=u.child,u.tag){case 0:case 11:case 14:case 15:Bo(4,u,u.return);break;case 1:la(u,u.return);var n=u.stateNode;if(typeof n.componentWillUnmount=="function"){l=u,s=u.return;try{t=l,n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(h){Zt(l,s,h)}}break;case 5:la(u,u.return);break;case 22:if(u.memoizedState!==null){Vm(f);continue}}o!==null?(o.return=u,ht=o):Vm(f)}x=x.sibling}t:for(x=null,f=e;;){if(f.tag===5){if(x===null){x=f;try{C=f.stateNode,d?(S=C.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(T=f.stateNode,i=f.memoizedProps.style,r=i!=null&&i.hasOwnProperty("display")?i.display:null,T.style.display=jC("display",r))}catch(h){Zt(e,e.return,h)}}}else if(f.tag===6){if(x===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(h){Zt(e,e.return,h)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break t;for(;f.sibling===null;){if(f.return===null||f.return===e)break t;x===f&&(x=null),f=f.return}x===f&&(x=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ai(t,e),ji(e),l&4&&zm(e);break;case 21:break;default:Ai(t,e),ji(e)}}function ji(e){var t=e.flags;if(t&2){try{t:{for(var s=e.return;s!==null;){if(TS(s)){var l=s;break t}s=s.return}throw Error(nt(160))}switch(l.tag){case 5:var C=l.stateNode;l.flags&32&&(zo(C,""),l.flags&=-33);var S=Nm(e);Gv(e,S,C);break;case 3:case 4:var r=l.stateNode.containerInfo,T=Nm(e);bv(e,T,r);break;default:throw Error(nt(161))}}catch(i){Zt(e,e.return,i)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fR(e,t,s){ht=e,PS(e)}function PS(e,t,s){for(var l=(e.mode&1)!==0;ht!==null;){var C=ht,S=C.child;if(C.tag===22&&l){var r=C.memoizedState!==null||Wh;if(!r){var T=C.alternate,i=T!==null&&T.memoizedState!==null||Le;T=Wh;var d=Le;if(Wh=r,(Le=i)&&!d)for(ht=C;ht!==null;)r=ht,i=r.child,r.tag===22&&r.memoizedState!==null?Um(C):i!==null?(i.return=r,ht=i):Um(C);for(;S!==null;)ht=S,PS(S),S=S.sibling;ht=C,Wh=T,Le=d}km(e)}else C.subtreeFlags&8772&&S!==null?(S.return=C,ht=S):km(e)}}function km(e){for(;ht!==null;){var t=ht;if(t.flags&8772){var s=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Le||$u(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!Le)if(s===null)l.componentDidMount();else{var C=t.elementType===t.type?s.memoizedProps:zi(t.type,s.memoizedProps);l.componentDidUpdate(C,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var S=t.updateQueue;S!==null&&Sm(t,S,l);break;case 3:var r=t.updateQueue;if(r!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}Sm(t,r,s)}break;case 5:var T=t.stateNode;if(s===null&&t.flags&4){s=T;var i=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break;case"img":i.src&&(s.src=i.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var x=d.memoizedState;if(x!==null){var f=x.dehydrated;f!==null&&Xo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(nt(163))}Le||t.flags&512&&Bv(t)}catch(u){Zt(t,t.return,u)}}if(t===e){ht=null;break}if(s=t.sibling,s!==null){s.return=t.return,ht=s;break}ht=t.return}}function Vm(e){for(;ht!==null;){var t=ht;if(t===e){ht=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ht=s;break}ht=t.return}}function Um(e){for(;ht!==null;){var t=ht;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{$u(4,t)}catch(i){Zt(t,s,i)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var C=t.return;try{l.componentDidMount()}catch(i){Zt(t,C,i)}}var S=t.return;try{Bv(t)}catch(i){Zt(t,S,i)}break;case 5:var r=t.return;try{Bv(t)}catch(i){Zt(t,r,i)}}}catch(i){Zt(t,t.return,i)}if(t===e){ht=null;break}var T=t.sibling;if(T!==null){T.return=t.return,ht=T;break}ht=t.return}}var cR=Math.ceil,Pu=Gs.ReactCurrentDispatcher,Wp=Gs.ReactCurrentOwner,Si=Gs.ReactCurrentBatchConfig,Mt=0,pe=null,ie=null,Ee=0,si=0,ua=Sn(0),le=0,_o=null,ur=0,Ku=0,Hp=0,bo=null,He=null,$p=0,Ra=1/0,Es=null,Mu=!1,Nv=null,fn=null,Hh=!1,rn=null,wu=0,Go=0,zv=null,Ql=-1,ql=0;function Ge(){return Mt&6?qt():Ql!==-1?Ql:Ql=qt()}function cn(e){return e.mode&1?Mt&2&&Ee!==0?Ee&-Ee:Jw.transition!==null?(ql===0&&(ql=oT()),ql):(e=At,e!==0||(e=window.event,e=e===void 0?16:vT(e.type)),e):1}function Yi(e,t,s,l){if(50<Go)throw Go=0,zv=null,Error(nt(185));hh(e,s,l),(!(Mt&2)||e!==pe)&&(e===pe&&(!(Mt&2)&&(Ku|=s),le===4&&_s(e,Ee)),Ze(e,l),s===1&&Mt===0&&!(t.mode&1)&&(Ra=qt()+500,Yu&&En()))}function Ze(e,t){var s=e.callbackNode;JM(e,t);var l=lu(e,e===pe?Ee:0);if(l===0)s!==null&&J0(s),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(s!=null&&J0(s),t===1)e.tag===0?Zw(Xm.bind(null,e)):IT(Xm.bind(null,e)),Hw(function(){!(Mt&6)&&En()}),s=null;else{switch(hT(l)){case 1:s=xp;break;case 4:s=rT;break;case 16:s=hu;break;case 536870912:s=aT;break;default:s=hu}s=DS(s,MS.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function MS(e,t){if(Ql=-1,ql=0,Mt&6)throw Error(nt(327));var s=e.callbackNode;if(xa()&&e.callbackNode!==s)return null;var l=lu(e,e===pe?Ee:0);if(l===0)return null;if(l&30||l&e.expiredLanes||t)t=Ru(e,l);else{t=l;var C=Mt;Mt|=2;var S=RS();(pe!==e||Ee!==t)&&(Es=null,Ra=qt()+500,nr(e,t));do try{gR();break}catch(T){wS(e,T)}while(1);Fp(),Pu.current=S,Mt=C,ie!==null?t=0:(pe=null,Ee=0,t=le)}if(t!==0){if(t===2&&(C=dv(e),C!==0&&(l=C,t=kv(e,C))),t===1)throw s=_o,nr(e,0),_s(e,l),Ze(e,qt()),s;if(t===6)_s(e,l);else{if(C=e.current.alternate,!(l&30)&&!vR(C)&&(t=Ru(e,l),t===2&&(S=dv(e),S!==0&&(l=S,t=kv(e,S))),t===1))throw s=_o,nr(e,0),_s(e,l),Ze(e,qt()),s;switch(e.finishedWork=C,e.finishedLanes=l,t){case 0:case 1:throw Error(nt(345));case 2:_n(e,He,Es);break;case 3:if(_s(e,l),(l&130023424)===l&&(t=$p+500-qt(),10<t)){if(lu(e,0)!==0)break;if(C=e.suspendedLanes,(C&l)!==l){Ge(),e.pingedLanes|=e.suspendedLanes&C;break}e.timeoutHandle=yv(_n.bind(null,e,He,Es),t);break}_n(e,He,Es);break;case 4:if(_s(e,l),(l&4194240)===l)break;for(t=e.eventTimes,C=-1;0<l;){var r=31-Xi(l);S=1<<r,r=t[r],r>C&&(C=r),l&=~S}if(l=C,l=qt()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*cR(l/1960))-l,10<l){e.timeoutHandle=yv(_n.bind(null,e,He,Es),l);break}_n(e,He,Es);break;case 5:_n(e,He,Es);break;default:throw Error(nt(329))}}}return Ze(e,qt()),e.callbackNode===s?MS.bind(null,e):null}function kv(e,t){var s=bo;return e.current.memoizedState.isDehydrated&&(nr(e,t).flags|=256),e=Ru(e,t),e!==2&&(t=He,He=s,t!==null&&Vv(t)),e}function Vv(e){He===null?He=e:He.push.apply(He,e)}function vR(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var C=s[l],S=C.getSnapshot;C=C.value;try{if(!Wi(S(),C))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _s(e,t){for(t&=~Hp,t&=~Ku,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Xi(t),l=1<<s;e[s]=-1,t&=~l}}function Xm(e){if(Mt&6)throw Error(nt(327));xa();var t=lu(e,0);if(!(t&1))return Ze(e,qt()),null;var s=Ru(e,t);if(e.tag!==0&&s===2){var l=dv(e);l!==0&&(t=l,s=kv(e,l))}if(s===1)throw s=_o,nr(e,0),_s(e,t),Ze(e,qt()),s;if(s===6)throw Error(nt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_n(e,He,Es),Ze(e,qt()),null}function Kp(e,t){var s=Mt;Mt|=1;try{return e(t)}finally{Mt=s,Mt===0&&(Ra=qt()+500,Yu&&En())}}function dr(e){rn!==null&&rn.tag===0&&!(Mt&6)&&xa();var t=Mt;Mt|=1;var s=Si.transition,l=At;try{if(Si.transition=null,At=1,e)return e()}finally{At=l,Si.transition=s,Mt=t,!(Mt&6)&&En()}}function jp(){si=ua.current,Vt(ua)}function nr(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Ww(s)),ie!==null)for(s=ie.return;s!==null;){var l=s;switch(Op(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&vu();break;case 3:Ma(),Vt(Ke),Vt(De),Np();break;case 5:Gp(l);break;case 4:Ma();break;case 13:Vt(Wt);break;case 19:Vt(Wt);break;case 10:Dp(l.type._context);break;case 22:case 23:jp()}s=s.return}if(pe=e,ie=e=vn(e.current,null),Ee=si=t,le=0,_o=null,Hp=Ku=ur=0,He=bo=null,ir!==null){for(t=0;t<ir.length;t++)if(s=ir[t],l=s.interleaved,l!==null){s.interleaved=null;var C=l.next,S=s.pending;if(S!==null){var r=S.next;S.next=C,l.next=r}s.pending=l}ir=null}return e}function wS(e,t){do{var s=ie;try{if(Fp(),jl.current=Eu,Su){for(var l=Ht.memoizedState;l!==null;){var C=l.queue;C!==null&&(C.pending=null),l=l.next}Su=!1}if(lr=0,ce=he=Ht=null,Io=!1,Jo=0,Wp.current=null,s===null||s.return===null){le=1,_o=t,ie=null;break}t:{var S=e,r=s.return,T=s,i=t;if(t=Ee,T.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){var d=i,x=T,f=x.tag;if(!(x.mode&1)&&(f===0||f===11||f===15)){var u=x.alternate;u?(x.updateQueue=u.updateQueue,x.memoizedState=u.memoizedState,x.lanes=u.lanes):(x.updateQueue=null,x.memoizedState=null)}var o=Am(r);if(o!==null){o.flags&=-257,Lm(o,r,T,S,t),o.mode&1&&Om(S,d,t),t=o,i=d;var n=t.updateQueue;if(n===null){var h=new Set;h.add(i),t.updateQueue=h}else n.add(i);break t}else{if(!(t&1)){Om(S,d,t),Zp();break t}i=Error(nt(426))}}else if(Xt&&T.mode&1){var p=Am(r);if(p!==null){!(p.flags&65536)&&(p.flags|=256),Lm(p,r,T,S,t),Ap(wa(i,T));break t}}S=i=wa(i,T),le!==4&&(le=2),bo===null?bo=[S]:bo.push(S),S=r;do{switch(S.tag){case 3:S.flags|=65536,t&=-t,S.lanes|=t;var a=lS(S,i,t);Tm(S,a);break t;case 1:T=i;var c=S.type,v=S.stateNode;if(!(S.flags&128)&&(typeof c.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(fn===null||!fn.has(v)))){S.flags|=65536,t&=-t,S.lanes|=t;var g=uS(S,T,t);Tm(S,g);break t}}S=S.return}while(S!==null)}AS(s)}catch(m){t=m,ie===s&&s!==null&&(ie=s=s.return);continue}break}while(1)}function RS(){var e=Pu.current;return Pu.current=Eu,e===null?Eu:e}function Zp(){(le===0||le===3||le===2)&&(le=4),pe===null||!(ur&268435455)&&!(Ku&268435455)||_s(pe,Ee)}function Ru(e,t){var s=Mt;Mt|=2;var l=RS();(pe!==e||Ee!==t)&&(Es=null,nr(e,t));do try{pR();break}catch(C){wS(e,C)}while(1);if(Fp(),Mt=s,Pu.current=l,ie!==null)throw Error(nt(261));return pe=null,Ee=0,le}function pR(){for(;ie!==null;)OS(ie)}function gR(){for(;ie!==null&&!UM();)OS(ie)}function OS(e){var t=FS(e.alternate,e,si);e.memoizedProps=e.pendingProps,t===null?AS(e):ie=t,Wp.current=null}function AS(e){var t=e;do{var s=t.alternate;if(e=t.return,t.flags&32768){if(s=lR(s,t),s!==null){s.flags&=32767,ie=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{le=6,ie=null;return}}else if(s=hR(s,t,si),s!==null){ie=s;return}if(t=t.sibling,t!==null){ie=t;return}ie=t=e}while(t!==null);le===0&&(le=5)}function _n(e,t,s){var l=At,C=Si.transition;try{Si.transition=null,At=1,mR(e,t,s,l)}finally{Si.transition=C,At=l}return null}function mR(e,t,s,l){do xa();while(rn!==null);if(Mt&6)throw Error(nt(327));s=e.finishedWork;var C=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(nt(177));e.callbackNode=null,e.callbackPriority=0;var S=s.lanes|s.childLanes;if(QM(e,S),e===pe&&(ie=pe=null,Ee=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Hh||(Hh=!0,DS(hu,function(){return xa(),null})),S=(s.flags&15990)!==0,s.subtreeFlags&15990||S){S=Si.transition,Si.transition=null;var r=At;At=1;var T=Mt;Mt|=4,Wp.current=null,dR(e,s),ES(s,e),Nw(mv),uu=!!gv,mv=gv=null,e.current=s,fR(s),XM(),Mt=T,At=r,Si.transition=S}else e.current=s;if(Hh&&(Hh=!1,rn=e,wu=C),S=e.pendingLanes,S===0&&(fn=null),HM(s.stateNode),Ze(e,qt()),t!==null)for(l=e.onRecoverableError,s=0;s<t.length;s++)C=t[s],l(C.value,{componentStack:C.stack,digest:C.digest});if(Mu)throw Mu=!1,e=Nv,Nv=null,e;return wu&1&&e.tag!==0&&xa(),S=e.pendingLanes,S&1?e===zv?Go++:(Go=0,zv=e):Go=0,En(),null}function xa(){if(rn!==null){var e=hT(wu),t=Si.transition,s=At;try{if(Si.transition=null,At=16>e?16:e,rn===null)var l=!1;else{if(e=rn,rn=null,wu=0,Mt&6)throw Error(nt(331));var C=Mt;for(Mt|=4,ht=e.current;ht!==null;){var S=ht,r=S.child;if(ht.flags&16){var T=S.deletions;if(T!==null){for(var i=0;i<T.length;i++){var d=T[i];for(ht=d;ht!==null;){var x=ht;switch(x.tag){case 0:case 11:case 15:Bo(8,x,S)}var f=x.child;if(f!==null)f.return=x,ht=f;else for(;ht!==null;){x=ht;var u=x.sibling,o=x.return;if(CS(x),x===d){ht=null;break}if(u!==null){u.return=o,ht=u;break}ht=o}}}var n=S.alternate;if(n!==null){var h=n.child;if(h!==null){n.child=null;do{var p=h.sibling;h.sibling=null,h=p}while(h!==null)}}ht=S}}if(S.subtreeFlags&2064&&r!==null)r.return=S,ht=r;else t:for(;ht!==null;){if(S=ht,S.flags&2048)switch(S.tag){case 0:case 11:case 15:Bo(9,S,S.return)}var a=S.sibling;if(a!==null){a.return=S.return,ht=a;break t}ht=S.return}}var c=e.current;for(ht=c;ht!==null;){r=ht;var v=r.child;if(r.subtreeFlags&2064&&v!==null)v.return=r,ht=v;else t:for(r=c;ht!==null;){if(T=ht,T.flags&2048)try{switch(T.tag){case 0:case 11:case 15:$u(9,T)}}catch(m){Zt(T,T.return,m)}if(T===r){ht=null;break t}var g=T.sibling;if(g!==null){g.return=T.return,ht=g;break t}ht=T.return}}if(Mt=C,En(),ds&&typeof ds.onPostCommitFiberRoot=="function")try{ds.onPostCommitFiberRoot(zu,e)}catch{}l=!0}return l}finally{At=s,Si.transition=t}}return!1}function Ym(e,t,s){t=wa(s,t),t=lS(e,t,1),e=dn(e,t,1),t=Ge(),e!==null&&(hh(e,1,t),Ze(e,t))}function Zt(e,t,s){if(e.tag===3)Ym(e,e,s);else for(;t!==null;){if(t.tag===3){Ym(t,e,s);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fn===null||!fn.has(l))){e=wa(s,e),e=uS(t,e,1),t=dn(t,e,1),e=Ge(),t!==null&&(hh(t,1,e),Ze(t,e));break}}t=t.return}}function xR(e,t,s){var l=e.pingCache;l!==null&&l.delete(t),t=Ge(),e.pingedLanes|=e.suspendedLanes&s,pe===e&&(Ee&s)===s&&(le===4||le===3&&(Ee&130023424)===Ee&&500>qt()-$p?nr(e,0):Hp|=s),Ze(e,t)}function LS(e,t){t===0&&(e.mode&1?(t=bh,bh<<=1,!(bh&130023424)&&(bh=4194304)):t=1);var s=Ge();e=Bs(e,t),e!==null&&(hh(e,t,s),Ze(e,s))}function yR(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),LS(e,s)}function CR(e,t){var s=0;switch(e.tag){case 13:var l=e.stateNode,C=e.memoizedState;C!==null&&(s=C.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(nt(314))}l!==null&&l.delete(t),LS(e,s)}var FS;FS=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ke.current)$e=!0;else{if(!(e.lanes&s)&&!(t.flags&128))return $e=!1,oR(e,t,s);$e=!!(e.flags&131072)}else $e=!1,Xt&&t.flags&1048576&&BT(t,mu,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;Jl(e,t),e=t.pendingProps;var C=Sa(t,De.current);ma(t,s),C=kp(null,t,l,e,C,s);var S=Vp();return t.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,je(l)?(S=!0,pu(t)):S=!1,t.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,Bp(t),C.updater=Wu,t.stateNode=C,C._reactInternals=t,wv(t,l,e,s),t=Av(null,t,l,!0,S,s)):(t.tag=0,Xt&&S&&Rp(t),be(null,t,C,s),t=t.child),t;case 16:l=t.elementType;t:{switch(Jl(e,t),e=t.pendingProps,C=l._init,l=C(l._payload),t.type=l,C=t.tag=SR(l),e=zi(l,e),C){case 0:t=Ov(null,t,l,e,s);break t;case 1:t=Im(null,t,l,e,s);break t;case 11:t=Fm(null,t,l,e,s);break t;case 14:t=Dm(null,t,l,zi(l.type,e),s);break t}throw Error(nt(306,l,""))}return t;case 0:return l=t.type,C=t.pendingProps,C=t.elementType===l?C:zi(l,C),Ov(e,t,l,C,s);case 1:return l=t.type,C=t.pendingProps,C=t.elementType===l?C:zi(l,C),Im(e,t,l,C,s);case 3:t:{if(vS(t),e===null)throw Error(nt(387));l=t.pendingProps,S=t.memoizedState,C=S.element,zT(e,t),Cu(t,l,null,s);var r=t.memoizedState;if(l=r.element,S.isDehydrated)if(S={element:l,isDehydrated:!1,cache:r.cache,pendingSuspenseBoundaries:r.pendingSuspenseBoundaries,transitions:r.transitions},t.updateQueue.baseState=S,t.memoizedState=S,t.flags&256){C=wa(Error(nt(423)),t),t=Bm(e,t,l,s,C);break t}else if(l!==C){C=wa(Error(nt(424)),t),t=Bm(e,t,l,s,C);break t}else for(ni=un(t.stateNode.containerInfo.firstChild),ri=t,Xt=!0,Ui=null,s=XT(t,null,l,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ea(),l===C){t=bs(e,t,s);break t}be(e,t,l,s)}t=t.child}return t;case 5:return YT(t),e===null&&Ev(t),l=t.type,C=t.pendingProps,S=e!==null?e.memoizedProps:null,r=C.children,xv(l,C)?r=null:S!==null&&xv(l,S)&&(t.flags|=32),cS(e,t),be(e,t,r,s),t.child;case 6:return e===null&&Ev(t),null;case 13:return pS(e,t,s);case 4:return bp(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Pa(t,null,l,s):be(e,t,l,s),t.child;case 11:return l=t.type,C=t.pendingProps,C=t.elementType===l?C:zi(l,C),Fm(e,t,l,C,s);case 7:return be(e,t,t.pendingProps,s),t.child;case 8:return be(e,t,t.pendingProps.children,s),t.child;case 12:return be(e,t,t.pendingProps.children,s),t.child;case 10:t:{if(l=t.type._context,C=t.pendingProps,S=t.memoizedProps,r=C.value,Nt(xu,l._currentValue),l._currentValue=r,S!==null)if(Wi(S.value,r)){if(S.children===C.children&&!Ke.current){t=bs(e,t,s);break t}}else for(S=t.child,S!==null&&(S.return=t);S!==null;){var T=S.dependencies;if(T!==null){r=S.child;for(var i=T.firstContext;i!==null;){if(i.context===l){if(S.tag===1){i=Os(-1,s&-s),i.tag=2;var d=S.updateQueue;if(d!==null){d=d.shared;var x=d.pending;x===null?i.next=i:(i.next=x.next,x.next=i),d.pending=i}}S.lanes|=s,i=S.alternate,i!==null&&(i.lanes|=s),Pv(S.return,s,t),T.lanes|=s;break}i=i.next}}else if(S.tag===10)r=S.type===t.type?null:S.child;else if(S.tag===18){if(r=S.return,r===null)throw Error(nt(341));r.lanes|=s,T=r.alternate,T!==null&&(T.lanes|=s),Pv(r,s,t),r=S.sibling}else r=S.child;if(r!==null)r.return=S;else for(r=S;r!==null;){if(r===t){r=null;break}if(S=r.sibling,S!==null){S.return=r.return,r=S;break}r=r.return}S=r}be(e,t,C.children,s),t=t.child}return t;case 9:return C=t.type,l=t.pendingProps.children,ma(t,s),C=Pi(C),l=l(C),t.flags|=1,be(e,t,l,s),t.child;case 14:return l=t.type,C=zi(l,t.pendingProps),C=zi(l.type,C),Dm(e,t,l,C,s);case 15:return dS(e,t,t.type,t.pendingProps,s);case 17:return l=t.type,C=t.pendingProps,C=t.elementType===l?C:zi(l,C),Jl(e,t),t.tag=1,je(l)?(e=!0,pu(t)):e=!1,ma(t,s),VT(t,l,C),wv(t,l,C,s),Av(null,t,l,!0,e,s);case 19:return gS(e,t,s);case 22:return fS(e,t,s)}throw Error(nt(156,t.tag))};function DS(e,t){return nT(e,t)}function TR(e,t,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yi(e,t,s,l){return new TR(e,t,s,l)}function Jp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function SR(e){if(typeof e=="function")return Jp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pp)return 11;if(e===gp)return 14}return 2}function vn(e,t){var s=e.alternate;return s===null?(s=yi(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function _l(e,t,s,l,C,S){var r=2;if(l=e,typeof e=="function")Jp(e)&&(r=1);else if(typeof e=="string")r=5;else t:switch(e){case ta:return rr(s.children,C,S,t);case vp:r=8,C|=8;break;case Jc:return e=yi(12,s,t,C|2),e.elementType=Jc,e.lanes=S,e;case Qc:return e=yi(13,s,t,C),e.elementType=Qc,e.lanes=S,e;case qc:return e=yi(19,s,t,C),e.elementType=qc,e.lanes=S,e;case UC:return ju(s,C,S,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kC:r=10;break t;case VC:r=9;break t;case pp:r=11;break t;case gp:r=14;break t;case Zs:r=16,l=null;break t}throw Error(nt(130,e==null?e:typeof e,""))}return t=yi(r,s,t,C),t.elementType=e,t.type=l,t.lanes=S,t}function rr(e,t,s,l){return e=yi(7,e,l,t),e.lanes=s,e}function ju(e,t,s,l){return e=yi(22,e,l,t),e.elementType=UC,e.lanes=s,e.stateNode={isHidden:!1},e}function mf(e,t,s){return e=yi(6,e,null,t),e.lanes=s,e}function xf(e,t,s){return t=yi(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ER(e,t,s,l,C){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qd(0),this.expirationTimes=Qd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qd(0),this.identifierPrefix=l,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function Qp(e,t,s,l,C,S,r,T,i){return e=new ER(e,t,s,T,i),t===1?(t=1,S===!0&&(t|=8)):t=0,S=yi(3,null,null,t),e.current=S,S.stateNode=e,S.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bp(S),e}function PR(e,t,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_r,key:l==null?null:""+l,children:e,containerInfo:t,implementation:s}}function IS(e){if(!e)return xn;e=e._reactInternals;t:{if(gr(e)!==e||e.tag!==1)throw Error(nt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(nt(171))}if(e.tag===1){var s=e.type;if(je(s))return DT(e,s,t)}return t}function BS(e,t,s,l,C,S,r,T,i){return e=Qp(s,l,!0,e,C,S,r,T,i),e.context=IS(null),s=e.current,l=Ge(),C=cn(s),S=Os(l,C),S.callback=t??null,dn(s,S,C),e.current.lanes=C,hh(e,C,l),Ze(e,l),e}function Zu(e,t,s,l){var C=t.current,S=Ge(),r=cn(C);return s=IS(s),t.context===null?t.context=s:t.pendingContext=s,t=Os(S,r),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=dn(C,t,r),e!==null&&(Yi(e,C,r,S),Kl(e,C,r)),r}function Ou(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function qp(e,t){Wm(e,t),(e=e.alternate)&&Wm(e,t)}function MR(){return null}var bS=typeof reportError=="function"?reportError:function(e){console.error(e)};function _p(e){this._internalRoot=e}Ju.prototype.render=_p.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(nt(409));Zu(e,t,null,null)};Ju.prototype.unmount=_p.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dr(function(){Zu(null,e,null,null)}),t[Is]=null}};function Ju(e){this._internalRoot=e}Ju.prototype.unstable_scheduleHydration=function(e){if(e){var t=dT();e={blockedOn:null,target:e,priority:t};for(var s=0;s<qs.length&&t!==0&&t<qs[s].priority;s++);qs.splice(s,0,e),s===0&&cT(e)}};function tg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hm(){}function wR(e,t,s,l,C){if(C){if(typeof l=="function"){var S=l;l=function(){var d=Ou(r);S.call(d)}}var r=BS(t,l,e,0,null,!1,!1,"",Hm);return e._reactRootContainer=r,e[Is]=r.current,Ho(e.nodeType===8?e.parentNode:e),dr(),r}for(;C=e.lastChild;)e.removeChild(C);if(typeof l=="function"){var T=l;l=function(){var d=Ou(i);T.call(d)}}var i=Qp(e,0,!1,null,null,!1,!1,"",Hm);return e._reactRootContainer=i,e[Is]=i.current,Ho(e.nodeType===8?e.parentNode:e),dr(function(){Zu(t,i,s,l)}),i}function qu(e,t,s,l,C){var S=s._reactRootContainer;if(S){var r=S;if(typeof C=="function"){var T=C;C=function(){var i=Ou(r);T.call(i)}}Zu(t,r,e,C)}else r=wR(s,t,e,C,l);return Ou(r)}lT=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=wo(t.pendingLanes);s!==0&&(yp(t,s|1),Ze(t,qt()),!(Mt&6)&&(Ra=qt()+500,En()))}break;case 13:dr(function(){var l=Bs(e,1);if(l!==null){var C=Ge();Yi(l,e,1,C)}}),qp(e,1)}};Cp=function(e){if(e.tag===13){var t=Bs(e,134217728);if(t!==null){var s=Ge();Yi(t,e,134217728,s)}qp(e,134217728)}};uT=function(e){if(e.tag===13){var t=cn(e),s=Bs(e,t);if(s!==null){var l=Ge();Yi(s,e,t,l)}qp(e,t)}};dT=function(){return At};fT=function(e,t){var s=At;try{return At=e,t()}finally{At=s}};hv=function(e,t,s){switch(t){case"input":if(ev(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var l=s[t];if(l!==e&&l.form===e.form){var C=Xu(l);if(!C)throw Error(nt(90));YC(l),ev(l,C)}}}break;case"textarea":HC(e,s);break;case"select":t=s.value,t!=null&&ca(e,!!s.multiple,t,!1)}};qC=Kp;_C=dr;var RR={usingClientEntryPoint:!1,Events:[uh,na,Xu,JC,QC,Kp]},Ja={findFiberByHostInstance:er,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},OR={bundleType:Ja.bundleType,version:Ja.version,rendererPackageName:Ja.rendererPackageName,rendererConfig:Ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iT(e),e===null?null:e.stateNode},findFiberByHostInstance:Ja.findFiberByHostInstance||MR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{zu=$h.inject(OR),ds=$h}catch{}}li.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RR;li.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tg(t))throw Error(nt(200));return PR(e,t,null,s)};li.createRoot=function(e,t){if(!tg(e))throw Error(nt(299));var s=!1,l="",C=bS;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(C=t.onRecoverableError)),t=Qp(e,1,!1,null,null,s,!1,l,C),e[Is]=t.current,Ho(e.nodeType===8?e.parentNode:e),new _p(t)};li.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(nt(188)):(e=Object.keys(e).join(","),Error(nt(268,e)));return e=iT(t),e=e===null?null:e.stateNode,e};li.flushSync=function(e){return dr(e)};li.hydrate=function(e,t,s){if(!Qu(t))throw Error(nt(200));return qu(null,e,t,!0,s)};li.hydrateRoot=function(e,t,s){if(!tg(e))throw Error(nt(405));var l=s!=null&&s.hydratedSources||null,C=!1,S="",r=bS;if(s!=null&&(s.unstable_strictMode===!0&&(C=!0),s.identifierPrefix!==void 0&&(S=s.identifierPrefix),s.onRecoverableError!==void 0&&(r=s.onRecoverableError)),t=BS(t,null,e,1,s??null,C,!1,S,r),e[Is]=t.current,Ho(e),l)for(e=0;e<l.length;e++)s=l[e],C=s._getVersion,C=C(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,C]:t.mutableSourceEagerHydrationData.push(s,C);return new Ju(t)};li.render=function(e,t,s){if(!Qu(t))throw Error(nt(200));return qu(null,e,t,!1,s)};li.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(nt(40));return e._reactRootContainer?(dr(function(){qu(null,null,e,!1,function(){e._reactRootContainer=null,e[Is]=null})}),!0):!1};li.unstable_batchedUpdates=Kp;li.unstable_renderSubtreeIntoContainer=function(e,t,s,l){if(!Qu(s))throw Error(nt(200));if(e==null||e._reactInternals===void 0)throw Error(nt(38));return qu(e,t,s,!1,l)};li.version="18.2.0-next-9e3b772b8-20220608";function GS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GS)}catch(e){console.error(e)}}GS(),BC.exports=li;var AR=BC.exports,$m=AR;jc.createRoot=$m.createRoot,jc.hydrateRoot=$m.hydrateRoot;const LR={};function FR(){return Kc("div",{className:LR.App})}var NS={exports:{}};(function(e,t){(function(l,C){e.exports=C()})(iM,()=>(()=>{var s={6659:r=>{var T=Object.prototype.hasOwnProperty,i="~";function d(){}Object.create&&(d.prototype=Object.create(null),new d().__proto__||(i=!1));function x(n,h,p){this.fn=n,this.context=h,this.once=p||!1}function f(n,h,p,a,c){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new x(p,a||n,c),g=i?i+h:h;return n._events[g]?n._events[g].fn?n._events[g]=[n._events[g],v]:n._events[g].push(v):(n._events[g]=v,n._eventsCount++),n}function u(n,h){--n._eventsCount===0?n._events=new d:delete n._events[h]}function o(){this._events=new d,this._eventsCount=0}o.prototype.eventNames=function(){var h=[],p,a;if(this._eventsCount===0)return h;for(a in p=this._events)T.call(p,a)&&h.push(i?a.slice(1):a);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},o.prototype.listeners=function(h){var p=i?i+h:h,a=this._events[p];if(!a)return[];if(a.fn)return[a.fn];for(var c=0,v=a.length,g=new Array(v);c<v;c++)g[c]=a[c].fn;return g},o.prototype.listenerCount=function(h){var p=i?i+h:h,a=this._events[p];return a?a.fn?1:a.length:0},o.prototype.emit=function(h,p,a,c,v,g){var m=i?i+h:h;if(!this._events[m])return!1;var y=this._events[m],P=arguments.length,M,E;if(y.fn){switch(y.once&&this.removeListener(h,y.fn,void 0,!0),P){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,p),!0;case 3:return y.fn.call(y.context,p,a),!0;case 4:return y.fn.call(y.context,p,a,c),!0;case 5:return y.fn.call(y.context,p,a,c,v),!0;case 6:return y.fn.call(y.context,p,a,c,v,g),!0}for(E=1,M=new Array(P-1);E<P;E++)M[E-1]=arguments[E];y.fn.apply(y.context,M)}else{var w=y.length,R;for(E=0;E<w;E++)switch(y[E].once&&this.removeListener(h,y[E].fn,void 0,!0),P){case 1:y[E].fn.call(y[E].context);break;case 2:y[E].fn.call(y[E].context,p);break;case 3:y[E].fn.call(y[E].context,p,a);break;case 4:y[E].fn.call(y[E].context,p,a,c);break;default:if(!M)for(R=1,M=new Array(P-1);R<P;R++)M[R-1]=arguments[R];y[E].fn.apply(y[E].context,M)}}return!0},o.prototype.on=function(h,p,a){return f(this,h,p,a,!1)},o.prototype.once=function(h,p,a){return f(this,h,p,a,!0)},o.prototype.removeListener=function(h,p,a,c){var v=i?i+h:h;if(!this._events[v])return this;if(!p)return u(this,v),this;var g=this._events[v];if(g.fn)g.fn===p&&(!c||g.once)&&(!a||g.context===a)&&u(this,v);else{for(var m=0,y=[],P=g.length;m<P;m++)(g[m].fn!==p||c&&!g[m].once||a&&g[m].context!==a)&&y.push(g[m]);y.length?this._events[v]=y.length===1?y[0]:y:u(this,v)}return this},o.prototype.removeAllListeners=function(h){var p;return h?(p=i?i+h:h,this._events[p]&&u(this,p)):(this._events=new d,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=i,o.EventEmitter=o,r.exports=o},62270:(r,T,i)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(82590),x=function(f,u,o,n){for(var h=f[0],p=1;p<f.length;p++){var a=f[p];d(a,h,u,o,n),h=a}return f};r.exports=x},61148:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(6124),x=function(f,u,o,n,h){return d(f,"angle",u,o,n,h)};r.exports=x},22015:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){for(var f=0;f<i.length;f++){var u=i[f];d.call(x,u)}return i};r.exports=T},31060:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){x===void 0&&(x=0);for(var f=x;f<i.length;f++){var u=i[f],o=!0;for(var n in d)u[n]!==d[n]&&(o=!1);if(o)return u}return null};r.exports=T},52367:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){x===void 0&&(x=0);for(var f=i.length-1;f>=x;f--){var u=i[f],o=!0;for(var n in d)u[n]!==d[n]&&(o=!1);if(o)return u}return null};r.exports=T},12673:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(40327),x=i(84093),f=i(72632),u=i(72283),o=i(71030),n=new o({sys:{queueDepthSort:u,events:{once:u}}},0,0,1,1).setOrigin(0,0),h=function(p,a){a===void 0&&(a={});var c=a.hasOwnProperty("width"),v=a.hasOwnProperty("height"),g=f(a,"width",-1),m=f(a,"height",-1),y=f(a,"cellWidth",1),P=f(a,"cellHeight",y),M=f(a,"position",x.TOP_LEFT),E=f(a,"x",0),w=f(a,"y",0),R=0,O=0,A=g*y,F=m*P;n.setPosition(E,w),n.setSize(y,P);for(var L=0;L<p.length;L++)if(d(p[L],n,M),c&&g===-1)n.x+=y;else if(v&&m===-1)n.y+=P;else if(v&&!c){if(O+=P,n.y+=P,O===F&&(O=0,R+=y,n.y=w,n.x+=y,R===A))break}else if(R+=y,n.x+=y,R===A&&(R=0,O+=P,n.x=E,n.y+=P,O===F))break;return p};r.exports=h},691:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(6124),x=function(f,u,o,n,h){return d(f,"alpha",u,o,n,h)};r.exports=x},3877:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(6124),x=function(f,u,o,n,h){return d(f,"x",u,o,n,h)};r.exports=x},71020:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(6124),x=function(f,u,o,n,h,p,a){return o==null&&(o=u),d(f,"x",u,n,p,a),d(f,"y",o,h,p,a)};r.exports=x},28970:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(6124),x=function(f,u,o,n,h){return d(f,"y",u,o,n,h)};r.exports=x},82249:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){x===void 0&&(x=0),f===void 0&&(f=6.28);for(var u=x,o=(f-x)/i.length,n=d.x,h=d.y,p=d.radius,a=0;a<i.length;a++)i[a].x=n+p*Math.cos(u),i[a].y=h+p*Math.sin(u),u+=o;return i};r.exports=T},30285:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){x===void 0&&(x=0),f===void 0&&(f=6.28);for(var u=x,o=(f-x)/i.length,n=d.width/2,h=d.height/2,p=0;p<i.length;p++)i[p].x=d.x+n*Math.cos(u),i[p].y=d.y+h*Math.sin(u),u+=o;return i};r.exports=T},61557:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(8570),x=function(f,u){for(var o=d(u,f.length),n=0;n<f.length;n++){var h=f[n],p=o[n];h.x=p.x,h.y=p.y}return f};r.exports=x},63549:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(40053),x=i(77640),f=i(38487),u=function(o,n,h){h===void 0&&(h=0);var p=d(n,!1,o.length);h>0?x(p,h):h<0&&f(p,Math.abs(h));for(var a=0;a<o.length;a++)o[a].x=p[a].x,o[a].y=p[a].y;return o};r.exports=u},51629:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(58813),x=function(f,u,o){var n=d({x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2},o),h=d({x1:u.x2,y1:u.y2,x2:u.x3,y2:u.y3},o),p=d({x1:u.x3,y1:u.y3,x2:u.x1,y2:u.y1},o);n.pop(),h.pop(),p.pop(),n=n.concat(h,p);for(var a=n.length/f.length,c=0,v=0;v<f.length;v++){var g=f[v],m=n[Math.floor(c)];g.x=m.x,g.y=m.y,c+=a}return f};r.exports=x},1045:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){for(var f=0;f<i.length;f++){var u=i[f];u.anims&&u.anims.play(d,x)}return i};r.exports=T},6124:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f,u,o){f===void 0&&(f=0),u===void 0&&(u=0),o===void 0&&(o=1);var n,h=0,p=i.length;if(o===1)for(n=u;n<p;n++)i[n][d]+=x+h*f,h++;else for(n=u;n>=0;n--)i[n][d]+=x+h*f,h++;return i};r.exports=T},23646:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f,u,o){f===void 0&&(f=0),u===void 0&&(u=0),o===void 0&&(o=1);var n,h=0,p=i.length;if(o===1)for(n=u;n<p;n++)i[n][d]=x+h*f,h++;else for(n=u;n>=0;n--)i[n][d]=x+h*f,h++;return i};r.exports=T},4392:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(30977),x=function(f,u){for(var o=0;o<f.length;o++)d(u,f[o]);return f};r.exports=x},94985:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72006),x=function(f,u){for(var o=0;o<f.length;o++)d(u,f[o]);return f};r.exports=x},63305:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(74077),x=function(f,u){for(var o=0;o<f.length;o++)d(u,f[o]);return f};r.exports=x},90739:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(30001),x=function(f,u){for(var o=0;o<f.length;o++)d(u,f[o]);return f};r.exports=x},91417:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(99761),x=function(f,u){for(var o=0;o<f.length;o++)d(u,f[o]);return f};r.exports=x},26182:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(6124),x=function(f,u,o,n,h){return d(f,"rotation",u,o,n,h)};r.exports=x},87299:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72395),x=i(53996),f=function(u,o,n){for(var h=o.x,p=o.y,a=0;a<u.length;a++){var c=u[a];d(c,h,p,n,Math.max(1,x(c.x,c.y,h,p)))}return u};r.exports=f},92194:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72395),x=function(f,u,o,n){var h=u.x,p=u.y;if(n===0)return f;for(var a=0;a<f.length;a++)d(f[a],h,p,o,n);return f};r.exports=x},30363:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(6124),x=function(f,u,o,n,h){return d(f,"scaleX",u,o,n,h)};r.exports=x},51449:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(6124),x=function(f,u,o,n,h,p,a){return o==null&&(o=u),d(f,"scaleX",u,n,p,a),d(f,"scaleY",o,h,p,a)};r.exports=x},64895:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(6124),x=function(f,u,o,n,h){return d(f,"scaleY",u,o,n,h)};r.exports=x},30329:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(23646),x=function(f,u,o,n,h){return d(f,"alpha",u,o,n,h)};r.exports=x},43954:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(23646),x=function(f,u,o,n){return d(f,"blendMode",u,0,o,n)};r.exports=x},70688:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(23646),x=function(f,u,o,n,h){return d(f,"depth",u,o,n,h)};r.exports=x},8314:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){for(var f=0;f<i.length;f++)i[f].setInteractive(d,x);return i};r.exports=T},12894:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(23646),x=function(f,u,o,n,h,p,a){return o==null&&(o=u),d(f,"originX",u,n,p,a),d(f,"originY",o,h,p,a),f.forEach(function(c){c.updateDisplayOrigin()}),f};r.exports=x},38767:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(23646),x=function(f,u,o,n,h){return d(f,"rotation",u,o,n,h)};r.exports=x},18584:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(23646),x=function(f,u,o,n,h,p,a){return o==null&&(o=u),d(f,"scaleX",u,n,p,a),d(f,"scaleY",o,h,p,a)};r.exports=x},17381:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(23646),x=function(f,u,o,n,h){return d(f,"scaleX",u,o,n,h)};r.exports=x},74370:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(23646),x=function(f,u,o,n,h){return d(f,"scaleY",u,o,n,h)};r.exports=x},27773:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(23646),x=function(f,u,o,n,h,p,a){return o==null&&(o=u),d(f,"scrollFactorX",u,n,p,a),d(f,"scrollFactorY",o,h,p,a)};r.exports=x},75257:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(23646),x=function(f,u,o,n,h){return d(f,"scrollFactorX",u,o,n,h)};r.exports=x},54512:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(23646),x=function(f,u,o,n,h){return d(f,"scrollFactorY",u,o,n,h)};r.exports=x},69423:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f,u){for(var o=0;o<i.length;o++)i[o].setTint(d,x,f,u);return i};r.exports=T},58291:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(23646),x=function(f,u,o,n){return d(f,"visible",u,0,o,n)};r.exports=x},94833:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(23646),x=function(f,u,o,n,h){return d(f,"x",u,o,n,h)};r.exports=x},14284:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(23646),x=function(f,u,o,n,h,p,a){return o==null&&(o=u),d(f,"x",u,n,p,a),d(f,"y",o,h,p,a)};r.exports=x},96574:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(23646),x=function(f,u,o,n,h){return d(f,"y",u,o,n,h)};r.exports=x},74086:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(93736),x=function(f,u,o,n,h){n===void 0&&(n=0),h===void 0&&(h=new d);var p,a,c=f.length;if(c===1)p=f[0].x,a=f[0].y,f[0].x=u,f[0].y=o;else{var v=1,g=0;n===0&&(g=c-1,v=c-2),p=f[g].x,a=f[g].y,f[g].x=u,f[g].y=o;for(var m=0;m<c;m++)if(!(v>=c||v===-1)){var y=f[v],P=y.x,M=y.y;y.x=p,y.y=a,p=P,a=M,n===0?v--:v++}}return h.x=p,h.y=a,h};r.exports=x},86347:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(18592),x=function(f){return d(f)};r.exports=x},1558:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(5514),x=function(f,u,o,n,h){h===void 0&&(h=!1);var p=Math.abs(n-o)/f.length,a;if(h)for(a=0;a<f.length;a++)f[a][u]+=d(a*p,o,n);else for(a=0;a<f.length;a++)f[a][u]=d(a*p,o,n);return f};r.exports=x},9938:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(87736),x=function(f,u,o,n,h){h===void 0&&(h=!1);var p=Math.abs(n-o)/f.length,a;if(h)for(a=0;a<f.length;a++)f[a][u]+=d(a*p,o,n);else for(a=0;a<f.length;a++)f[a][u]=d(a*p,o,n);return f};r.exports=x},71060:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f,u){if(u===void 0&&(u=!1),i.length===0)return i;if(i.length===1)return u?i[0][d]+=(f+x)/2:i[0][d]=(f+x)/2,i;var o=Math.abs(f-x)/(i.length-1),n;if(u)for(n=0;n<i.length;n++)i[n][d]+=n*o+x;else for(n=0;n<i.length;n++)i[n][d]=n*o+x;return i};r.exports=T},11207:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){for(var d=0;d<i.length;d++)i[d].visible=!i[d].visible;return i};r.exports=T},24404:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(1071),x=function(f,u,o){o===void 0&&(o=0);for(var n=0;n<f.length;n++){var h=f[n];h.x=d(h.x,u.left-o,u.right+o),h.y=d(h.y,u.top-o,u.bottom+o)}return f};r.exports=x},83979:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AlignTo:i(62270),Angle:i(61148),Call:i(22015),GetFirst:i(31060),GetLast:i(52367),GridAlign:i(12673),IncAlpha:i(691),IncX:i(3877),IncXY:i(71020),IncY:i(28970),PlaceOnCircle:i(82249),PlaceOnEllipse:i(30285),PlaceOnLine:i(61557),PlaceOnRectangle:i(63549),PlaceOnTriangle:i(51629),PlayAnimation:i(1045),PropertyValueInc:i(6124),PropertyValueSet:i(23646),RandomCircle:i(4392),RandomEllipse:i(94985),RandomLine:i(63305),RandomRectangle:i(90739),RandomTriangle:i(91417),Rotate:i(26182),RotateAround:i(87299),RotateAroundDistance:i(92194),ScaleX:i(30363),ScaleXY:i(51449),ScaleY:i(64895),SetAlpha:i(30329),SetBlendMode:i(43954),SetDepth:i(70688),SetHitArea:i(8314),SetOrigin:i(12894),SetRotation:i(38767),SetScale:i(18584),SetScaleX:i(17381),SetScaleY:i(74370),SetScrollFactor:i(27773),SetScrollFactorX:i(75257),SetScrollFactorY:i(54512),SetTint:i(69423),SetVisible:i(58291),SetX:i(94833),SetXY:i(14284),SetY:i(96574),ShiftPosition:i(74086),Shuffle:i(86347),SmootherStep:i(9938),SmoothStep:i(1558),Spread:i(71060),ToggleVisible:i(11207),WrapInRectangle:i(24404)}},85463:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(82897),x=i(56694),f=i(16938),u=i(2406),o=i(71519),n=i(10850),h=i(28834),p=new x({initialize:function(c,v,g){this.manager=c,this.key=v,this.type="frame",this.frames=this.getFrames(c.textureManager,n(g,"frames",[]),n(g,"defaultTextureKey",null),n(g,"sortFrames",!0)),this.frameRate=n(g,"frameRate",null),this.duration=n(g,"duration",null),this.msPerFrame,this.skipMissedFrames=n(g,"skipMissedFrames",!0),this.delay=n(g,"delay",0),this.repeat=n(g,"repeat",0),this.repeatDelay=n(g,"repeatDelay",0),this.yoyo=n(g,"yoyo",!1),this.showBeforeDelay=n(g,"showBeforeDelay",!1),this.showOnStart=n(g,"showOnStart",!1),this.hideOnComplete=n(g,"hideOnComplete",!1),this.randomFrame=n(g,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(f.PAUSE_ALL,this.pause,this),this.manager.on(f.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(a,c,v,g){v===null&&g===null?(a.frameRate=24,a.duration=24/c*1e3):v&&g===null?(a.duration=v,a.frameRate=c/(v/1e3)):(a.frameRate=g,a.duration=c/g*1e3),a.msPerFrame=1e3/a.frameRate},addFrame:function(a){return this.addFrameAt(this.frames.length,a)},addFrameAt:function(a,c){var v=this.getFrames(this.manager.textureManager,c);if(v.length>0){if(a===0)this.frames=v.concat(this.frames);else if(a===this.frames.length)this.frames=this.frames.concat(v);else{var g=this.frames.slice(0,a),m=this.frames.slice(a);this.frames=g.concat(v,m)}this.updateFrameSequence()}return this},checkFrame:function(a){return a>=0&&a<this.frames.length},getFirstTick:function(a){a.accumulator=0,a.nextTick=a.msPerFrame+a.currentFrame.duration},getFrameAt:function(a){return this.frames[a]},getFrames:function(a,c,v,g){g===void 0&&(g=!0);var m=[],y,P,M=1,E,w;if(typeof c=="string"){if(w=c,!a.exists(w))return console.warn('Texture "%s" not found',w),m;var R=a.get(w),O=R.getFrameNames();g&&h(O),c=[],O.forEach(function(b){c.push({key:w,frame:b})})}if(!Array.isArray(c)||c.length===0)return m;for(E=0;E<c.length;E++){var A=c[E],F=n(A,"key",v);if(F){var L=n(A,"frame",0),I=a.getFrame(F,L);if(!I){console.warn('Texture "%s" not found',F);continue}P=new o(F,L,M,I),P.duration=n(A,"duration",0),P.isFirst=!y,y&&(y.nextFrame=P,P.prevFrame=y),m.push(P),y=P,M++}}if(m.length>0){P.isLast=!0,P.nextFrame=m[0],m[0].prevFrame=P;var B=1/(m.length-1);for(E=0;E<m.length;E++)m[E].progress=E*B}return m},getNextTick:function(a){a.accumulator-=a.nextTick,a.nextTick=a.msPerFrame+a.currentFrame.duration},getFrameByProgress:function(a){return a=d(a,0,1),u(a,this.frames,"progress")},nextFrame:function(a){var c=a.currentFrame;c.isLast?a.yoyo?this.handleYoyoFrame(a,!1):a.repeatCounter>0?a.inReverse&&a.forward?a.forward=!1:this.repeatAnimation(a):a.complete():this.updateAndGetNextTick(a,c.nextFrame)},handleYoyoFrame:function(a,c){if(c||(c=!1),a.inReverse===!c&&a.repeatCounter>0){(a.repeatDelay===0||a.pendingRepeat)&&(a.forward=c),this.repeatAnimation(a);return}if(a.inReverse!==c&&a.repeatCounter===0){a.complete();return}a.forward=c;var v=c?a.currentFrame.nextFrame:a.currentFrame.prevFrame;this.updateAndGetNextTick(a,v)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(a){var c=a.currentFrame;c.isFirst?a.yoyo?this.handleYoyoFrame(a,!0):a.repeatCounter>0?a.inReverse&&!a.forward?this.repeatAnimation(a):(a.forward=!0,this.repeatAnimation(a)):a.complete():this.updateAndGetNextTick(a,c.prevFrame)},updateAndGetNextTick:function(a,c){a.setCurrentFrame(c),this.getNextTick(a)},removeFrame:function(a){var c=this.frames.indexOf(a);return c!==-1&&this.removeFrameAt(c),this},removeFrameAt:function(a){return this.frames.splice(a,1),this.updateFrameSequence(),this},repeatAnimation:function(a){if(a._pendingStop===2){if(a._pendingStopValue===0)return a.stop();a._pendingStopValue--}a.repeatDelay>0&&!a.pendingRepeat?(a.pendingRepeat=!0,a.accumulator-=a.nextTick,a.nextTick+=a.repeatDelay):(a.repeatCounter--,a.forward?a.setCurrentFrame(a.currentFrame.nextFrame):a.setCurrentFrame(a.currentFrame.prevFrame),a.isPlaying&&(this.getNextTick(a),a.handleRepeat()))},toJSON:function(){var a={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(c){a.frames.push(c.toJSON())}),a},updateFrameSequence:function(){for(var a=this.frames.length,c=1/(a-1),v,g=0;g<a;g++)v=this.frames[g],v.index=g+1,v.isFirst=!1,v.isLast=!1,v.progress=g*c,g===0?(v.isFirst=!0,a===1?(v.isLast=!0,v.nextFrame=v,v.prevFrame=v):(v.isLast=!1,v.prevFrame=this.frames[a-1],v.nextFrame=this.frames[g+1])):g===a-1&&a>1?(v.isLast=!0,v.prevFrame=this.frames[a-2],v.nextFrame=this.frames[0]):a>1&&(v.prevFrame=this.frames[g-1],v.nextFrame=this.frames[g+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(f.PAUSE_ALL,this.pause,this),this.manager.off(f.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var a=0;a<this.frames.length;a++)this.frames[a].destroy();this.frames=[],this.manager=null}});r.exports=p},71519:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=new d({initialize:function(u,o,n,h,p){p===void 0&&(p=!1),this.textureKey=u,this.textureFrame=o,this.index=n,this.frame=h,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=p},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});r.exports=x},90249:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(85463),x=i(56694),f=i(33885),u=i(6659),o=i(16938),n=i(97081),h=i(72632),p=i(10850),a=i(83392),c=i(13401),v=i(76400),g=new x({Extends:u,initialize:function(y){u.call(this),this.game=y,this.textureManager=null,this.globalTimeScale=1,this.anims=new f,this.mixes=new f,this.paused=!1,this.name="AnimationManager",y.events.once(n.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(n.DESTROY,this.destroy,this)},addMix:function(m,y,P){var M=this.anims,E=this.mixes,w=typeof m=="string"?m:m.key,R=typeof y=="string"?y:y.key;if(M.has(w)&&M.has(R)){var O=E.get(w);O||(O={}),O[R]=P,E.set(w,O)}return this},removeMix:function(m,y){var P=this.mixes,M=typeof m=="string"?m:m.key,E=P.get(M);if(E)if(y){var w=typeof y=="string"?y:y.key;E.hasOwnProperty(w)&&delete E[w]}else y||P.delete(M);return this},getMix:function(m,y){var P=this.mixes,M=typeof m=="string"?m:m.key,E=typeof y=="string"?y:y.key,w=P.get(M);return w&&w.hasOwnProperty(E)?w[E]:0},add:function(m,y){return this.anims.has(m)?(console.warn("Animation key exists: "+m),this):(y.key=m,this.anims.set(m,y),this.emit(o.ADD_ANIMATION,m,y),this)},exists:function(m){return this.anims.has(m)},createFromAseprite:function(m,y,P){var M=[],E=this.game.cache.json.get(m);if(!E)return console.warn("No Aseprite data found for: "+m),M;var w=this,R=p(E,"meta",null),O=p(E,"frames",null);if(R&&O){var A=p(R,"frameTags",[]);A.forEach(function(F){var L=[],I=h(F,"name",null),B=h(F,"from",0),b=h(F,"to",0),k=h(F,"direction","forward");if(I&&(!y||y&&y.indexOf(I)>-1)){for(var U=0,Y=B;Y<=b;Y++){var H=Y.toString(),z=O[H];if(z){var V=h(z,"duration",a.MAX_SAFE_INTEGER);L.push({key:m,frame:H,duration:V}),U+=V}}var D=U/L.length;L.forEach(function(X){X.duration-=D}),k==="reverse"&&(L=L.reverse());var G={key:I,frames:L,duration:U,yoyo:k==="pingpong"},N;P?P.anims&&(N=P.anims.create(G)):N=w.create(G),N&&M.push(N)}})}return M},create:function(m){var y=m.key,P=!1;return y&&(P=this.get(y),P?console.warn("AnimationManager key already exists: "+y):(P=new d(this,y,m),this.anims.set(y,P),this.emit(o.ADD_ANIMATION,y,P))),P},fromJSON:function(m,y){y===void 0&&(y=!1),y&&this.anims.clear(),typeof m=="string"&&(m=JSON.parse(m));var P=[];if(m.hasOwnProperty("anims")&&Array.isArray(m.anims)){for(var M=0;M<m.anims.length;M++)P.push(this.create(m.anims[M]));m.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=m.globalTimeScale)}else m.hasOwnProperty("key")&&m.type==="frame"&&P.push(this.create(m));return P},generateFrameNames:function(m,y){var P=p(y,"prefix",""),M=p(y,"start",0),E=p(y,"end",0),w=p(y,"suffix",""),R=p(y,"zeroPad",0),O=p(y,"outputArray",[]),A=p(y,"frames",!1);if(!this.textureManager.exists(m))return console.warn('Texture "%s" not found',m),O;var F=this.textureManager.get(m);if(!F)return O;var L;if(y)for(A||(A=c(M,E)),L=0;L<A.length;L++){var I=P+v(A[L],R,"0",1)+w;F.has(I)?O.push({key:m,frame:I}):console.warn('Frame "%s" not found in texture "%s"',I,m)}else for(A=F.getFrameNames(),L=0;L<A.length;L++)O.push({key:m,frame:A[L]});return O},generateFrameNumbers:function(m,y){var P=p(y,"start",0),M=p(y,"end",-1),E=p(y,"first",!1),w=p(y,"outputArray",[]),R=p(y,"frames",!1);if(!this.textureManager.exists(m))return console.warn('Texture "%s" not found',m),w;var O=this.textureManager.get(m);if(!O)return w;E&&O.has(E)&&w.push({key:m,frame:E}),R||(M===-1&&(M=O.frameTotal-2),R=c(P,M));for(var A=0;A<R.length;A++){var F=R[A];O.has(F)?w.push({key:m,frame:F}):console.warn('Frame "%s" not found in texture "%s"',F,m)}return w},get:function(m){return this.anims.get(m)},getAnimsFromTexture:function(m){for(var y=this.textureManager.get(m),P=y.key,M=this.anims.getArray(),E=[],w=0;w<M.length;w++)for(var R=M[w],O=R.frames,A=0;A<O.length;A++)if(O[A].textureKey===P){E.push(R.key);break}return E},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(o.PAUSE_ALL)),this},play:function(m,y){Array.isArray(y)||(y=[y]);for(var P=0;P<y.length;P++)y[P].anims.play(m);return this},staggerPlay:function(m,y,P,M){P===void 0&&(P=0),M===void 0&&(M=!0),Array.isArray(y)||(y=[y]);var E=y.length;M||E--;for(var w=0;w<y.length;w++){var R=P<0?Math.abs(P)*(E-w):P*w;y[w].anims.playAfterDelay(m,R)}return this},remove:function(m){var y=this.get(m);return y&&(this.emit(o.REMOVE_ANIMATION,m,y),this.anims.delete(m),this.removeMix(m)),y},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(o.RESUME_ALL)),this},toJSON:function(m){var y={anims:[],globalTimeScale:this.globalTimeScale};return m!==void 0&&m!==""?y.anims.push(this.anims.get(m).toJSON()):this.anims.each(function(P,M){y.anims.push(M.toJSON())}),y},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});r.exports=g},16569:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(85463),x=i(17489),f=i(56694),u=i(33885),o=i(16938),n=i(72632),h=new f({initialize:function(a){this.parent=a,this.animationManager=a.scene.sys.anims,this.animationManager.on(o.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(p){var a=this.parent;if(p===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,a;Array.isArray(p)||(p=[p]);for(var c=0;c<p.length;c++){var v=p[c];this.nextAnim?this.nextAnimsQueue.push(v):this.nextAnim=v}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(p){this.isPlaying&&this.stop();var a=this.animationManager,c=typeof p=="string"?p:n(p,"key",null),v=this.exists(c)?this.get(c):a.get(c);if(!v)console.warn("Missing animation: "+c);else{this.currentAnim=v;var g=v.getTotalFrames(),m=n(p,"frameRate",v.frameRate),y=n(p,"duration",v.duration);v.calculateDuration(this,g,y,m),this.delay=n(p,"delay",v.delay),this.repeat=n(p,"repeat",v.repeat),this.repeatDelay=n(p,"repeatDelay",v.repeatDelay),this.yoyo=n(p,"yoyo",v.yoyo),this.showBeforeDelay=n(p,"showBeforeDelay",v.showBeforeDelay),this.showOnStart=n(p,"showOnStart",v.showOnStart),this.hideOnComplete=n(p,"hideOnComplete",v.hideOnComplete),this.skipMissedFrames=n(p,"skipMissedFrames",v.skipMissedFrames),this.randomFrame=n(p,"randomFrame",v.randomFrame),this.timeScale=n(p,"timeScale",this.timeScale);var P=n(p,"startFrame",0);P>g&&(P=0),this.randomFrame&&(P=x(0,g-1));var M=v.frames[P];P===0&&!this.forward&&(M=v.getLastFrame()),this.currentFrame=M}return this.parent},pause:function(p){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),p!==void 0&&this.setCurrentFrame(p),this.parent},resume:function(p){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),p!==void 0&&this.setCurrentFrame(p),this.parent},playAfterDelay:function(p,a){if(!this.isPlaying)this.delayCounter=a,this.play(p,!0);else{var c=this.nextAnim,v=this.nextAnimsQueue;c&&v.unshift(c),this.nextAnim=p,this._pendingStop=1,this._pendingStopValue=a}return this.parent},playAfterRepeat:function(p,a){if(a===void 0&&(a=1),!this.isPlaying)this.play(p);else{var c=this.nextAnim,v=this.nextAnimsQueue;c&&v.unshift(c),this.repeatCounter!==-1&&a>this.repeatCounter&&(a=this.repeatCounter),this.nextAnim=p,this._pendingStop=2,this._pendingStopValue=a}return this.parent},play:function(p,a){a===void 0&&(a=!1);var c=this.currentAnim,v=this.parent,g=typeof p=="string"?p:p.key;if(a&&this.isPlaying&&c.key===g)return v;if(c&&this.isPlaying){var m=this.animationManager.getMix(c.key,p);if(m>0)return this.playAfterDelay(p,m)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(p)},playReverse:function(p,a){a===void 0&&(a=!1);var c=typeof p=="string"?p:p.key;return a&&this.isPlaying&&this.currentAnim.key===c?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(p))},startAnimation:function(p){this.load(p);var a=this.currentAnim,c=this.parent;return a&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,a.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),c},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(o.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(o.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(o.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(o.ANIMATION_COMPLETE,o.ANIMATION_COMPLETE_KEY)},emitEvents:function(p,a){var c=this.currentAnim;if(c){var v=this.currentFrame,g=this.parent,m=v.textureFrame;g.emit(p,c,v,g,m),a&&g.emit(a+c.key,c,v,g,m)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var p=this.currentFrame;if(!p)return 0;var a=p.progress;return this.inReverse&&(a*=-1),a},setProgress:function(p){return this.forward||(p=1-p),this.setCurrentFrame(this.currentAnim.getFrameByProgress(p)),this.parent},setRepeat:function(p){return this.repeatCounter=p===-1?Number.MAX_VALUE:p,this.parent},globalRemove:function(p,a){a===void 0&&(a=this.currentAnim),this.isPlaying&&a.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(p,a){p===void 0&&(p=!1),a===void 0&&(a=!1);var c=this.currentAnim,v=this.parent;return c?(a&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),c.getFirstTick(this),this.emitEvents(o.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!p,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(c.frames[0]),this.parent):v},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var p=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(p)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var p=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(p)}return this.parent},stopAfterDelay:function(p){return this._pendingStop=1,this._pendingStopValue=p,this.parent},stopAfterRepeat:function(p){return p===void 0&&(p=1),this.repeatCounter!==-1&&p>this.repeatCounter&&(p=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=p,this.parent},stopOnFrame:function(p){return this._pendingStop=3,this._pendingStopValue=p,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(p,a){var c=this.currentAnim;if(!(!this.isPlaying||!c||c.paused)){if(this.accumulator+=a*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=a,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?c.nextFrame(this):c.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var v=0;do this.forward?c.nextFrame(this):c.previousFrame(this),v++;while(this.isPlaying&&this.accumulator>this.nextTick&&v<60)}}},setCurrentFrame:function(p){var a=this.parent;return this.currentFrame=p,a.texture=p.frame.texture,a.frame=p.frame,a.isCropped&&a.frame.updateCropUVs(a._crop,a.flipX,a.flipY),p.setAlpha&&(a.alpha=p.alpha),a.setSizeToFrame(),a._originComponent&&(p.frame.customPivot?a.setOrigin(p.frame.pivotX,p.frame.pivotY):a.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(o.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===p&&this.stop()),a},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(p){return this.anims?this.anims.get(p):null},exists:function(p){return this.anims?this.anims.has(p):!1},create:function(p){var a=p.key,c=!1;return a&&(c=this.get(a),c?console.warn("Animation key already exists: "+a):(c=new d(this,a,p),this.anims||(this.anims=new u),this.anims.set(a,c))),c},createFromAseprite:function(p,a){return this.animationManager.createFromAseprite(p,a,this.parent)},generateFrameNames:function(p,a){return this.animationManager.generateFrameNames(p,a)},generateFrameNumbers:function(p,a){return this.animationManager.generateFrameNumbers(p,a)},remove:function(p){var a=this.get(p);return a&&(this.currentAnim===a&&this.stop(),this.anims.delete(p)),a},destroy:function(){this.animationManager.off(o.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});r.exports=h},44509:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="add"},84563:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationcomplete"},61586:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationcomplete-"},72175:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationrepeat"},568:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationrestart"},37690:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationstart"},58525:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationstop"},5243:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationupdate"},10598:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pauseall"},4860:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="remove"},31865:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resumeall"},16938:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD_ANIMATION:i(44509),ANIMATION_COMPLETE:i(84563),ANIMATION_COMPLETE_KEY:i(61586),ANIMATION_REPEAT:i(72175),ANIMATION_RESTART:i(568),ANIMATION_START:i(37690),ANIMATION_STOP:i(58525),ANIMATION_UPDATE:i(5243),PAUSE_ALL:i(10598),REMOVE_ANIMATION:i(4860),RESUME_ALL:i(31865)}},13517:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Animation:i(85463),AnimationFrame:i(71519),AnimationManager:i(90249),AnimationState:i(16569),Events:i(16938)}},23740:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(33885),f=i(6659),u=i(69773),o=new d({initialize:function(){this.entries=new x,this.events=new f},add:function(n,h){return this.entries.set(n,h),this.events.emit(u.ADD,this,n,h),this},has:function(n){return this.entries.has(n)},exists:function(n){return this.entries.has(n)},get:function(n){return this.entries.get(n)},remove:function(n){var h=this.get(n);return h&&(this.entries.delete(n),this.events.emit(u.REMOVE,this,n,h.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});r.exports=o},43474:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(23740),x=i(56694),f=i(97081),u=new x({initialize:function(n){this.game=n,this.binary=new d,this.bitmapFont=new d,this.json=new d,this.physics=new d,this.shader=new d,this.audio=new d,this.video=new d,this.text=new d,this.html=new d,this.obj=new d,this.tilemap=new d,this.xml=new d,this.custom={},this.game.events.once(f.DESTROY,this.destroy,this)},addCustom:function(o){return this.custom.hasOwnProperty(o)||(this.custom[o]=new d),this.custom[o]},destroy:function(){for(var o=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],n=0;n<o.length;n++)this[o[n]].destroy(),this[o[n]]=null;for(var h in this.custom)this.custom[h].destroy();this.custom=null,this.game=null}});r.exports=u},94762:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="add"},75968:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="remove"},69773:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD:i(94762),REMOVE:i(75968)}},45820:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BaseCache:i(23740),CacheManager:i(43474),Events:i(69773)}},51052:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(64937),f=i(75606),u=i(6659),o=i(89787),n=i(74118),h=i(69360),p=i(93222),a=i(93736),c=new d({Extends:u,Mixins:[x.AlphaSingle,x.Visible],initialize:function(g,m,y,P){g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=0),P===void 0&&(P=0),u.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new n,this.dirty=!0,this._x=g,this._y=m,this._width=y,this._height=P,this._bounds=new n,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new h,this.transparent=!0,this.backgroundColor=p("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new a(y/2,P/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0},addToRenderList:function(v){this.renderList.push(v)},setOrigin:function(v,g){return v===void 0&&(v=.5),g===void 0&&(g=v),this.originX=v,this.originY=g,this},getScroll:function(v,g,m){m===void 0&&(m=new a);var y=this.width*.5,P=this.height*.5;return m.x=v-y,m.y=g-P,this.useBounds&&(m.x=this.clampX(m.x),m.y=this.clampY(m.y)),m},centerOnX:function(v){var g=this.width*.5;return this.midPoint.x=v,this.scrollX=v-g,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(v){var g=this.height*.5;return this.midPoint.y=v,this.scrollY=v-g,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(v,g){return this.centerOnX(v),this.centerOnY(g),this},centerToBounds:function(){if(this.useBounds){var v=this._bounds,g=this.width*.5,m=this.height*.5;this.midPoint.set(v.centerX,v.centerY),this.scrollX=v.centerX-g,this.scrollY=v.centerY-m}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(v){if(this.disableCull)return v;var g=this.matrix.matrix,m=g[0],y=g[1],P=g[2],M=g[3],E=m*M-y*P;if(!E)return v;var w=g[4],R=g[5],O=this.scrollX,A=this.scrollY,F=this.width,L=this.height,I=this.y,B=I+L,b=this.x,k=b+F,U=this.culledObjects,Y=v.length;E=1/E,U.length=0;for(var H=0;H<Y;++H){var z=v[H];if(!z.hasOwnProperty("width")||z.parentContainer){U.push(z);continue}var V=z.width,D=z.height,G=z.x-O*z.scrollFactorX-V*z.originX,N=z.y-A*z.scrollFactorY-D*z.originY,X=G*m+N*P+w,W=G*y+N*M+R,$=(G+V)*m+(N+D)*P+w,K=(G+V)*y+(N+D)*M+R;$>b&&X<k&&K>I&&W<B&&U.push(z)}return U},getWorldPoint:function(v,g,m){m===void 0&&(m=new a);var y=this.matrix.matrix,P=y[0],M=y[1],E=y[2],w=y[3],R=y[4],O=y[5],A=P*w-M*E;if(!A)return m.x=v,m.y=g,m;A=1/A;var F=w*A,L=-M*A,I=-E*A,B=P*A,b=(E*O-w*R)*A,k=(M*R-P*O)*A,U=Math.cos(this.rotation),Y=Math.sin(this.rotation),H=this.zoomX,z=this.zoomY,V=this.scrollX,D=this.scrollY,G=v+(V*U-D*Y)*H,N=g+(V*Y+D*U)*z;return m.x=G*F+N*I+b,m.y=G*L+N*B+k,m},ignore:function(v){var g=this.id;Array.isArray(v)||(v=[v]);for(var m=0;m<v.length;m++){var y=v[m];Array.isArray(y)?this.ignore(y):y.isParent?this.ignore(y.getChildren()):y.cameraFilter|=g}return this},preRender:function(){this.renderList.length=0;var v=this.width,g=this.height,m=v*.5,y=g*.5,P=this.zoomX,M=this.zoomY,E=this.matrix,w=v*this.originX,R=g*this.originY,O=this.scrollX,A=this.scrollY;this.useBounds&&(O=this.clampX(O),A=this.clampY(A)),this.scrollX=O,this.scrollY=A;var F=O+m,L=A+y;this.midPoint.set(F,L);var I=v/P,B=g/M;this.worldView.setTo(F-I/2,L-B/2,I,B),E.applyITRS(this.x+w,this.y+R,this.rotation,P,M),E.translate(-w,-R)},clampX:function(v){var g=this._bounds,m=this.displayWidth,y=g.x+(m-this.width)/2,P=Math.max(y,y+g.width-m);return v<y?v=y:v>P&&(v=P),v},clampY:function(v){var g=this._bounds,m=this.displayHeight,y=g.y+(m-this.height)/2,P=Math.max(y,y+g.height-m);return v<y?v=y:v>P&&(v=P),v},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(v){return v===void 0&&(v=0),this.rotation=f(v),this},setBackgroundColor:function(v){return v===void 0&&(v="rgba(0,0,0,0)"),this.backgroundColor=p(v),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(v,g,m,y,P){return P===void 0&&(P=!1),this._bounds.setTo(v,g,m,y),this.dirty=!0,this.useBounds=!0,P?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(v){v===void 0&&(v=new n);var g=this._bounds;return v.setTo(g.x,g.y,g.width,g.height),v},setName:function(v){return v===void 0&&(v=""),this.name=v,this},setPosition:function(v,g){return g===void 0&&(g=v),this.x=v,this.y=g,this},setRotation:function(v){return v===void 0&&(v=0),this.rotation=v,this},setRoundPixels:function(v){return this.roundPixels=v,this},setScene:function(v,g){g===void 0&&(g=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=v,this.isSceneCamera=g;var m=v.sys;return this.sceneManager=m.game.scene,this.scaleManager=m.scale,this.cameraManager=m.cameras,this.updateSystem(),this},setScroll:function(v,g){return g===void 0&&(g=v),this.scrollX=v,this.scrollY=g,this},setSize:function(v,g){return g===void 0&&(g=v),this.width=v,this.height=g,this},setViewport:function(v,g,m,y){return this.x=v,this.y=g,this.width=m,this.height=y,this},setZoom:function(v,g){return v===void 0&&(v=1),g===void 0&&(g=v),v===0&&(v=.001),g===0&&(g=.001),this.zoomX=v,this.zoomY=g,this},setMask:function(v,g){return g===void 0&&(g=!0),this.mask=v,this._maskCamera=g?this.cameraManager.default:this,this},clearMask:function(v){return v===void 0&&(v=!1),v&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var v={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(v.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),v},update:function(){},setIsSceneCamera:function(v){return this.isSceneCamera=v,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var v=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,g=this.sceneManager;v&&!this._customViewport?g.customViewports++:!v&&this._customViewport&&g.customViewports--,this.dirty=!0,this._customViewport=v}},destroy:function(){this.emit(o.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(v){this._x=v,this.updateSystem()}},y:{get:function(){return this._y},set:function(v){this._y=v,this.updateSystem()}},width:{get:function(){return this._width},set:function(v){this._width=v,this.updateSystem()}},height:{get:function(){return this._height},set:function(v){this._height=v,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(v){v!==this._scrollX&&(this._scrollX=v,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(v){v!==this._scrollY&&(this._scrollY=v,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(v){this._zoomX=v,this._zoomY=v,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(v){this._zoomX=v,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(v){this._zoomY=v,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(v){this._rotation=v,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});r.exports=c},47751:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(51052),x=i(79993),f=i(82897),u=i(56694),o=i(64937),n=i(53030),h=i(89787),p=i(42798),a=i(74118),c=i(93736),v=new u({Extends:d,Mixins:[o.PostPipeline],initialize:function(m,y,P,M){d.call(this,m,y,P,M),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new n.Fade(this),this.flashEffect=new n.Flash(this),this.shakeEffect=new n.Shake(this),this.panEffect=new n.Pan(this),this.rotateToEffect=new n.RotateTo(this),this.zoomEffect=new n.Zoom(this),this.lerp=new c(1,1),this.followOffset=new c,this.deadzone=null,this._follow=null},setDeadzone:function(g,m){if(g===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=g,this.deadzone.height=m):this.deadzone=new a(0,0,g,m),this._follow){var y=this.width/2,P=this.height/2,M=this._follow.x-this.followOffset.x,E=this._follow.y-this.followOffset.y;this.midPoint.set(M,E),this.scrollX=M-y,this.scrollY=E-P}x(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(g,m,y,P,M,E){return this.fadeEffect.start(!1,g,m,y,P,!0,M,E)},fadeOut:function(g,m,y,P,M,E){return this.fadeEffect.start(!0,g,m,y,P,!0,M,E)},fadeFrom:function(g,m,y,P,M,E,w){return this.fadeEffect.start(!1,g,m,y,P,M,E,w)},fade:function(g,m,y,P,M,E,w){return this.fadeEffect.start(!0,g,m,y,P,M,E,w)},flash:function(g,m,y,P,M,E,w){return this.flashEffect.start(g,m,y,P,M,E,w)},shake:function(g,m,y,P,M){return this.shakeEffect.start(g,m,y,P,M)},pan:function(g,m,y,P,M,E,w){return this.panEffect.start(g,m,y,P,M,E,w)},rotateTo:function(g,m,y,P,M,E,w){return this.rotateToEffect.start(g,m,y,P,M,E,w)},zoomTo:function(g,m,y,P,M,E){return this.zoomEffect.start(g,m,y,P,M,E)},preRender:function(){this.renderList.length=0;var g=this.width,m=this.height,y=g*.5,P=m*.5,M=this.zoom,E=this.matrix,w=g*this.originX,R=m*this.originY,O=this._follow,A=this.deadzone,F=this.scrollX,L=this.scrollY;A&&x(A,this.midPoint.x,this.midPoint.y);var I=!1;if(O&&!this.panEffect.isRunning){var B=this.lerp,b=O.x-this.followOffset.x,k=O.y-this.followOffset.y;A?(b<A.x?F=p(F,F-(A.x-b),B.x):b>A.right&&(F=p(F,F+(b-A.right),B.x)),k<A.y?L=p(L,L-(A.y-k),B.y):k>A.bottom&&(L=p(L,L+(k-A.bottom),B.y))):(F=p(F,b-w,B.x),L=p(L,k-R,B.y)),I=!0}this.useBounds&&(F=this.clampX(F),L=this.clampY(L)),this.scrollX=F,this.scrollY=L;var U=F+y,Y=L+P;this.midPoint.set(U,Y);var H=g/M,z=m/M,V=Math.floor(U-H/2),D=Math.floor(Y-z/2);this.worldView.setTo(V,D,H,z),E.applyITRS(Math.floor(this.x+w),Math.floor(this.y+R),this.rotation,M,M),E.translate(-w,-R),this.shakeEffect.preRender(),I&&this.emit(h.FOLLOW_UPDATE,this,O)},setLerp:function(g,m){return g===void 0&&(g=1),m===void 0&&(m=g),this.lerp.set(g,m),this},setFollowOffset:function(g,m){return g===void 0&&(g=0),m===void 0&&(m=0),this.followOffset.set(g,m),this},startFollow:function(g,m,y,P,M,E){m===void 0&&(m=!1),y===void 0&&(y=1),P===void 0&&(P=y),M===void 0&&(M=0),E===void 0&&(E=M),this._follow=g,this.roundPixels=m,y=f(y,0,1),P=f(P,0,1),this.lerp.set(y,P),this.followOffset.set(M,E);var w=this.width/2,R=this.height/2,O=g.x-M,A=g.y-E;return this.midPoint.set(O,A),this.scrollX=O-w,this.scrollY=A-R,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(g,m){this.visible&&(this.rotateToEffect.update(g,m),this.panEffect.update(g,m),this.zoomEffect.update(g,m),this.shakeEffect.update(g,m),this.flashEffect.update(g,m),this.fadeEffect.update(g,m))},destroy:function(){this.resetFX(),d.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});r.exports=v},62382:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(47751),x=i(56694),f=i(72632),u=i(91963),o=i(94287),n=i(40444),h=i(7599),p=new x({initialize:function(c){this.scene=c,this.systems=c.sys,this.roundPixels=c.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,c.sys.events.once(h.BOOT,this.boot,this),c.sys.events.on(h.START,this.start,this)},boot:function(){var a=this.systems;a.settings.cameras?this.fromJSON(a.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new d(0,0,a.scale.width,a.scale.height).setScene(this.scene),a.game.scale.on(n.RESIZE,this.onResize,this),this.systems.events.once(h.DESTROY,this.destroy,this)},start:function(){if(!this.main){var a=this.systems;a.settings.cameras?this.fromJSON(a.settings.cameras):this.add(),this.main=this.cameras[0]}var c=this.systems.events;c.on(h.UPDATE,this.update,this),c.once(h.SHUTDOWN,this.shutdown,this)},add:function(a,c,v,g,m,y){a===void 0&&(a=0),c===void 0&&(c=0),v===void 0&&(v=this.scene.sys.scale.width),g===void 0&&(g=this.scene.sys.scale.height),m===void 0&&(m=!1),y===void 0&&(y="");var P=new d(a,c,v,g);return P.setName(y),P.setScene(this.scene),P.setRoundPixels(this.roundPixels),P.id=this.getNextID(),this.cameras.push(P),m&&(this.main=P),P},addExisting:function(a,c){c===void 0&&(c=!1);var v=this.cameras.indexOf(a);return v===-1?(a.id=this.getNextID(),a.setRoundPixels(this.roundPixels),this.cameras.push(a),c&&(this.main=a),a):null},getNextID:function(){for(var a=this.cameras,c=1,v=0;v<32;v++){for(var g=!1,m=0;m<a.length;m++){var y=a[m];if(y&&y.id===c){g=!0;continue}}if(g)c=c<<1;else return c}return 0},getTotal:function(a){a===void 0&&(a=!1);for(var c=0,v=this.cameras,g=0;g<v.length;g++){var m=v[g];(!a||a&&m.visible)&&c++}return c},fromJSON:function(a){Array.isArray(a)||(a=[a]);for(var c=this.scene.sys.scale.width,v=this.scene.sys.scale.height,g=0;g<a.length;g++){var m=a[g],y=f(m,"x",0),P=f(m,"y",0),M=f(m,"width",c),E=f(m,"height",v),w=this.add(y,P,M,E);w.name=f(m,"name",""),w.zoom=f(m,"zoom",1),w.rotation=f(m,"rotation",0),w.scrollX=f(m,"scrollX",0),w.scrollY=f(m,"scrollY",0),w.roundPixels=f(m,"roundPixels",!1),w.visible=f(m,"visible",!0);var R=f(m,"backgroundColor",!1);R&&w.setBackgroundColor(R);var O=f(m,"bounds",null);if(O){var A=f(O,"x",0),F=f(O,"y",0),L=f(O,"width",c),I=f(O,"height",v);w.setBounds(A,F,L,I)}}return this},getCamera:function(a){for(var c=this.cameras,v=0;v<c.length;v++)if(c[v].name===a)return c[v];return null},getCamerasBelowPointer:function(a){for(var c=this.cameras,v=a.x,g=a.y,m=[],y=0;y<c.length;y++){var P=c[y];P.visible&&P.inputEnabled&&o(P,v,g)&&m.unshift(P)}return m},remove:function(a,c){c===void 0&&(c=!0),Array.isArray(a)||(a=[a]);for(var v=0,g=this.cameras,m=0;m<a.length;m++){var y=g.indexOf(a[m]);y!==-1&&(c?g[y].destroy():g[y].renderList=[],g.splice(y,1),v++)}return!this.main&&g[0]&&(this.main=g[0]),v},render:function(a,c){for(var v=this.scene,g=this.cameras,m=0;m<g.length;m++){var y=g[m];if(y.visible&&y.alpha>0){y.preRender();var P=this.getVisibleChildren(c.getChildren(),y);a.render(v,P,y)}}},getVisibleChildren:function(a,c){return a.filter(function(v){return v.willRender(c)})},resetAll:function(){for(var a=0;a<this.cameras.length;a++)this.cameras[a].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(a,c){for(var v=0;v<this.cameras.length;v++)this.cameras[v].update(a,c)},onResize:function(a,c,v,g,m){for(var y=0;y<this.cameras.length;y++){var P=this.cameras[y];P._x===0&&P._y===0&&P._width===g&&P._height===m&&P.setSize(c.width,c.height)}},resize:function(a,c){for(var v=0;v<this.cameras.length;v++)this.cameras[v].setSize(a,c)},shutdown:function(){this.main=void 0;for(var a=0;a<this.cameras.length;a++)this.cameras[a].destroy();this.cameras=[];var c=this.systems.events;c.off(h.UPDATE,this.update,this),c.off(h.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(h.START,this.start,this),this.systems.events.off(h.DESTROY,this.destroy,this),this.systems.game.scale.off(n.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});u.register("CameraManager",p,"cameras"),r.exports=p},92522:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(82897),x=i(56694),f=i(89787),u=new x({initialize:function(n){this.camera=n,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(o,n,h,p,a,c,v,g){if(o===void 0&&(o=!0),n===void 0&&(n=1e3),h===void 0&&(h=0),p===void 0&&(p=0),a===void 0&&(a=0),c===void 0&&(c=!1),v===void 0&&(v=null),g===void 0&&(g=this.camera.scene),!c&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=n,this.direction=o,this.progress=0,this.red=h,this.green=p,this.blue=a,this.alpha=o?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=v,this._onUpdateScope=g;var m=o?f.FADE_OUT_START:f.FADE_IN_START;return this.camera.emit(m,this.camera,this,n,h,p,a),this.camera},update:function(o,n){this.isRunning&&(this._elapsed+=n,this.progress=d(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(o){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera;return o.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",o.fillRect(n.x,n.y,n.width,n.height),!0},postRenderWebGL:function(o,n){if(!this.isRunning&&!this.isComplete)return!1;var h=this.camera,p=this.red/255,a=this.green/255,c=this.blue/255;return o.drawFillRect(h.x,h.y,h.width,h.height,n(c,a,p,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var o=this.direction?f.FADE_OUT_COMPLETE:f.FADE_IN_COMPLETE;this.camera.emit(o,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});r.exports=u},22151:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(82897),x=i(56694),f=i(89787),u=new x({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(o,n,h,p,a,c,v){return o===void 0&&(o=250),n===void 0&&(n=255),h===void 0&&(h=255),p===void 0&&(p=255),a===void 0&&(a=!1),c===void 0&&(c=null),v===void 0&&(v=this.camera.scene),!a&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=o,this.progress=0,this.red=n,this.green=h,this.blue=p,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=c,this._onUpdateScope=v,this.camera.emit(f.FLASH_START,this.camera,this,o,n,h,p),this.camera)},update:function(o,n){this.isRunning&&(this._elapsed+=n,this.progress=d(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(o){if(!this.isRunning)return!1;var n=this.camera;return o.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",o.fillRect(n.x,n.y,n.width,n.height),!0},postRenderWebGL:function(o,n){if(!this.isRunning)return!1;var h=this.camera,p=this.red/255,a=this.green/255,c=this.blue/255;return o.drawFillRect(h.x,h.y,h.width,h.height,n(c,a,p,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});r.exports=u},37551:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(82897),x=i(56694),f=i(35060),u=i(89787),o=i(93736),n=new x({initialize:function(p){this.camera=p,this.isRunning=!1,this.duration=0,this.source=new o,this.current=new o,this.destination=new o,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(h,p,a,c,v,g,m){a===void 0&&(a=1e3),c===void 0&&(c=f.Linear),v===void 0&&(v=!1),g===void 0&&(g=null),m===void 0&&(m=this.camera.scene);var y=this.camera;return!v&&this.isRunning||(this.isRunning=!0,this.duration=a,this.progress=0,this.source.set(y.scrollX,y.scrollY),this.destination.set(h,p),y.getScroll(h,p,this.current),typeof c=="string"&&f.hasOwnProperty(c)?this.ease=f[c]:typeof c=="function"&&(this.ease=c),this._elapsed=0,this._onUpdate=g,this._onUpdateScope=m,this.camera.emit(u.PAN_START,this.camera,this,a,h,p)),y},update:function(h,p){if(this.isRunning){this._elapsed+=p;var a=d(this._elapsed/this.duration,0,1);this.progress=a;var c=this.camera;if(this._elapsed<this.duration){var v=this.ease(a);c.getScroll(this.destination.x,this.destination.y,this.current);var g=this.source.x+(this.current.x-this.source.x)*v,m=this.source.y+(this.current.y-this.source.y)*v;c.setScroll(g,m),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,c,a,g,m)}else c.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,c,a,c.scrollX,c.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(u.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});r.exports=n},1771:(r,T,i)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var d=i(82897),x=i(56694),f=i(89787),u=i(35060),o=new x({initialize:function(h){this.camera=h,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(n,h,p,a,c,v,g){p===void 0&&(p=1e3),a===void 0&&(a=u.Linear),c===void 0&&(c=!1),v===void 0&&(v=null),g===void 0&&(g=this.camera.scene),h===void 0&&(h=!1),this.shortestPath=h;var m=n;n<0?(m=-1*n,this.clockwise=!1):this.clockwise=!0;var y=360*Math.PI/180;m=m-Math.floor(m/y)*y;var P=this.camera;if(!c&&this.isRunning)return P;if(this.isRunning=!0,this.duration=p,this.progress=0,this.source=P.rotation,this.destination=m,typeof a=="string"&&u.hasOwnProperty(a)?this.ease=u[a]:typeof a=="function"&&(this.ease=a),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=g,this.shortestPath){var M=0,E=0;this.destination>this.source?M=Math.abs(this.destination-this.source):M=Math.abs(this.destination+y)-this.source,this.source>this.destination?E=Math.abs(this.source-this.destination):E=Math.abs(this.source+y)-this.destination,M<E?this.clockwise=!0:M>E&&(this.clockwise=!1)}return this.camera.emit(f.ROTATE_START,this.camera,this,p,m),P},update:function(n,h){if(this.isRunning){this._elapsed+=h;var p=d(this._elapsed/this.duration,0,1);this.progress=p;var a=this.camera;if(this._elapsed<this.duration){var c=this.ease(p);this.current=a.rotation;var v=0,g=360*Math.PI/180,m=this.destination,y=this.current;this.clockwise===!1&&(m=this.current,y=this.destination),m>=y?v=Math.abs(m-y):v=Math.abs(m+g)-y;var P=0;this.clockwise?P=a.rotation+v*c:P=a.rotation-v*c,a.rotation=P,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,p,P)}else a.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,a,p,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});r.exports=o},3241:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(82897),x=i(56694),f=i(89787),u=i(93736),o=new x({initialize:function(h){this.camera=h,this.isRunning=!1,this.duration=0,this.intensity=new u,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(n,h,p,a,c){return n===void 0&&(n=100),h===void 0&&(h=.05),p===void 0&&(p=!1),a===void 0&&(a=null),c===void 0&&(c=this.camera.scene),!p&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=n,this.progress=0,typeof h=="number"?this.intensity.set(h):this.intensity.set(h.x,h.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=a,this._onUpdateScope=c,this.camera.emit(f.SHAKE_START,this.camera,this,n,h),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(n,h){if(this.isRunning)if(this._elapsed+=h,this.progress=d(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var p=this.intensity,a=this.camera.width,c=this.camera.height,v=this.camera.zoom;this._offsetX=(Math.random()*p.x*a*2-p.x*a)*v,this._offsetY=(Math.random()*p.y*c*2-p.y*c)*v,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});r.exports=o},13383:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(82897),x=i(56694),f=i(35060),u=i(89787),o=new x({initialize:function(h){this.camera=h,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,h,p,a,c,v){h===void 0&&(h=1e3),p===void 0&&(p=f.Linear),a===void 0&&(a=!1),c===void 0&&(c=null),v===void 0&&(v=this.camera.scene);var g=this.camera;return!a&&this.isRunning||(this.isRunning=!0,this.duration=h,this.progress=0,this.source=g.zoom,this.destination=n,typeof p=="string"&&f.hasOwnProperty(p)?this.ease=f[p]:typeof p=="function"&&(this.ease=p),this._elapsed=0,this._onUpdate=c,this._onUpdateScope=v,this.camera.emit(u.ZOOM_START,this.camera,this,h,n)),g},update:function(n,h){this.isRunning&&(this._elapsed+=h,this.progress=d(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(u.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});r.exports=o},53030:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Fade:i(92522),Flash:i(22151),Pan:i(37551),Shake:i(3241),RotateTo:i(1771),Zoom:i(13383)}},39577:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="cameradestroy"},85373:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeincomplete"},92057:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeinstart"},1903:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeoutcomplete"},96131:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeoutstart"},85409:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="cameraflashcomplete"},25500:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="cameraflashstart"},44071:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="followupdate"},19818:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerapancomplete"},80002:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerapanstart"},87966:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postrender"},74217:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"},34805:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerarotatecomplete"},30408:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerarotatestart"},49856:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerashakecomplete"},69189:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerashakestart"},67657:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerazoomcomplete"},14229:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerazoomstart"},89787:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DESTROY:i(39577),FADE_IN_COMPLETE:i(85373),FADE_IN_START:i(92057),FADE_OUT_COMPLETE:i(1903),FADE_OUT_START:i(96131),FLASH_COMPLETE:i(85409),FLASH_START:i(25500),FOLLOW_UPDATE:i(44071),PAN_COMPLETE:i(19818),PAN_START:i(80002),POST_RENDER:i(87966),PRE_RENDER:i(74217),ROTATE_COMPLETE:i(34805),ROTATE_START:i(30408),SHAKE_COMPLETE:i(49856),SHAKE_START:i(69189),ZOOM_COMPLETE:i(67657),ZOOM_START:i(14229)}},32356:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Camera:i(47751),BaseCamera:i(51052),CameraManager:i(62382),Effects:i(53030),Events:i(89787)}},84219:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(10850),f=new d({initialize:function(o){this.camera=x(o,"camera",null),this.left=x(o,"left",null),this.right=x(o,"right",null),this.up=x(o,"up",null),this.down=x(o,"down",null),this.zoomIn=x(o,"zoomIn",null),this.zoomOut=x(o,"zoomOut",null),this.zoomSpeed=x(o,"zoomSpeed",.01),this.minZoom=x(o,"minZoom",.001),this.maxZoom=x(o,"maxZoom",1e3),this.speedX=0,this.speedY=0;var n=x(o,"speed",null);typeof n=="number"?(this.speedX=n,this.speedY=n):(this.speedX=x(o,"speed.x",0),this.speedY=x(o,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(u){return this.camera=u,this},update:function(u){if(this.active){u===void 0&&(u=1);var o=this.camera;this.up&&this.up.isDown?o.scrollY-=this.speedY*u|0:this.down&&this.down.isDown&&(o.scrollY+=this.speedY*u|0),this.left&&this.left.isDown?o.scrollX-=this.speedX*u|0:this.right&&this.right.isDown&&(o.scrollX+=this.speedX*u|0),this.zoomIn&&this.zoomIn.isDown?(o.zoom-=this.zoomSpeed,o.zoom<this.minZoom&&(o.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(o.zoom+=this.zoomSpeed,o.zoom>this.maxZoom&&(o.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});r.exports=f},69370:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(10850),f=new d({initialize:function(o){this.camera=x(o,"camera",null),this.left=x(o,"left",null),this.right=x(o,"right",null),this.up=x(o,"up",null),this.down=x(o,"down",null),this.zoomIn=x(o,"zoomIn",null),this.zoomOut=x(o,"zoomOut",null),this.zoomSpeed=x(o,"zoomSpeed",.01),this.minZoom=x(o,"minZoom",.001),this.maxZoom=x(o,"maxZoom",1e3),this.accelX=0,this.accelY=0;var n=x(o,"acceleration",null);typeof n=="number"?(this.accelX=n,this.accelY=n):(this.accelX=x(o,"acceleration.x",0),this.accelY=x(o,"acceleration.y",0)),this.dragX=0,this.dragY=0;var h=x(o,"drag",null);typeof h=="number"?(this.dragX=h,this.dragY=h):(this.dragX=x(o,"drag.x",0),this.dragY=x(o,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var p=x(o,"maxSpeed",null);typeof p=="number"?(this.maxSpeedX=p,this.maxSpeedY=p):(this.maxSpeedX=x(o,"maxSpeed.x",0),this.maxSpeedY=x(o,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(u){return this.camera=u,this},update:function(u){if(this.active){u===void 0&&(u=1);var o=this.camera;this._speedX>0?(this._speedX-=this.dragX*u,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*u,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*u,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*u,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(o.scrollX-=this._speedX*u|0),this._speedY!==0&&(o.scrollY-=this._speedY*u|0),this._zoom!==0&&(o.zoom+=this._zoom,o.zoom<this.minZoom?o.zoom=this.minZoom:o.zoom>this.maxZoom&&(o.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});r.exports=f},6524:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={FixedKeyControl:i(84219),SmoothedKeyControl:i(69370)}},44143:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Controls:i(6524),Scene2D:i(32356)}},86459:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={VERSION:"3.70.0",BlendModes:i(95723),ScaleModes:i(27394),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};r.exports=d},14033:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(86459),f=i(18360),u=i(77290),o=i(72632),n=i(10850),h=i(42911),p=i(72283),a=i(5923),c=i(65641),v=i(93222),g=new d({initialize:function(y){y===void 0&&(y={});var P=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],M="#ffffff",E=n(y,"scale",null);this.width=n(E,"width",1024,y),this.height=n(E,"height",768,y),this.zoom=n(E,"zoom",1,y),this.parent=n(E,"parent",void 0,y),this.scaleMode=n(E,E?"mode":"scaleMode",0,y),this.expandParent=n(E,"expandParent",!0,y),this.autoRound=n(E,"autoRound",!1,y),this.autoCenter=n(E,"autoCenter",0,y),this.resizeInterval=n(E,"resizeInterval",500,y),this.fullscreenTarget=n(E,"fullscreenTarget",null,y),this.minWidth=n(E,"min.width",0,y),this.maxWidth=n(E,"max.width",0,y),this.minHeight=n(E,"min.height",0,y),this.maxHeight=n(E,"max.height",0,y),this.renderType=n(y,"type",x.AUTO),this.canvas=n(y,"canvas",null),this.context=n(y,"context",null),this.canvasStyle=n(y,"canvasStyle",null),this.customEnvironment=n(y,"customEnvironment",!1),this.sceneConfig=n(y,"scene",null),this.seed=n(y,"seed",[(Date.now()*Math.random()).toString()]),a.RND=new a.RandomDataGenerator(this.seed),this.gameTitle=n(y,"title",""),this.gameURL=n(y,"url","https://phaser.io"),this.gameVersion=n(y,"version",""),this.autoFocus=n(y,"autoFocus",!0),this.stableSort=n(y,"stableSort",-1),this.stableSort===-1&&(this.stableSort=u.browser.es2019?1:0),u.features.stableSort=this.stableSort,this.domCreateContainer=n(y,"dom.createContainer",!1),this.domPointerEvents=n(y,"dom.pointerEvents","none"),this.inputKeyboard=n(y,"input.keyboard",!0),this.inputKeyboardEventTarget=n(y,"input.keyboard.target",window),this.inputKeyboardCapture=n(y,"input.keyboard.capture",[]),this.inputMouse=n(y,"input.mouse",!0),this.inputMouseEventTarget=n(y,"input.mouse.target",null),this.inputMousePreventDefaultDown=n(y,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=n(y,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=n(y,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=n(y,"input.mouse.preventDefaultWheel",!0),this.inputTouch=n(y,"input.touch",u.input.touch),this.inputTouchEventTarget=n(y,"input.touch.target",null),this.inputTouchCapture=n(y,"input.touch.capture",!0),this.inputActivePointers=n(y,"input.activePointers",1),this.inputSmoothFactor=n(y,"input.smoothFactor",0),this.inputWindowEvents=n(y,"input.windowEvents",!0),this.inputGamepad=n(y,"input.gamepad",!1),this.inputGamepadEventTarget=n(y,"input.gamepad.target",window),this.disableContextMenu=n(y,"disableContextMenu",!1),this.audio=n(y,"audio",{}),this.hideBanner=n(y,"banner",null)===!1,this.hidePhaser=n(y,"banner.hidePhaser",!1),this.bannerTextColor=n(y,"banner.text",M),this.bannerBackgroundColor=n(y,"banner.background",P),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=n(y,"fps",null),this.disablePreFX=n(y,"disablePreFX",!1),this.disablePostFX=n(y,"disablePostFX",!1);var w=n(y,"render",null);this.pipeline=n(w,"pipeline",null,y),this.autoMobilePipeline=n(w,"autoMobilePipeline",!0,y),this.defaultPipeline=n(w,"defaultPipeline",c.MULTI_PIPELINE,y),this.antialias=n(w,"antialias",!0,y),this.antialiasGL=n(w,"antialiasGL",!0,y),this.mipmapFilter=n(w,"mipmapFilter","",y),this.desynchronized=n(w,"desynchronized",!1,y),this.roundPixels=n(w,"roundPixels",!0,y),this.pixelArt=n(w,"pixelArt",this.zoom!==1,y),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=n(w,"transparent",!1,y),this.clearBeforeRender=n(w,"clearBeforeRender",!0,y),this.preserveDrawingBuffer=n(w,"preserveDrawingBuffer",!1,y),this.premultipliedAlpha=n(w,"premultipliedAlpha",!0,y),this.failIfMajorPerformanceCaveat=n(w,"failIfMajorPerformanceCaveat",!1,y),this.powerPreference=n(w,"powerPreference","default",y),this.batchSize=n(w,"batchSize",4096,y),this.maxTextures=n(w,"maxTextures",-1,y),this.maxLights=n(w,"maxLights",10,y);var R=n(y,"backgroundColor",0);this.backgroundColor=v(R),this.transparent&&(this.backgroundColor=v(0),this.backgroundColor.alpha=0),this.preBoot=n(y,"callbacks.preBoot",p),this.postBoot=n(y,"callbacks.postBoot",p),this.physics=n(y,"physics",{}),this.defaultPhysicsSystem=n(this.physics,"default",!1),this.loaderBaseURL=n(y,"loader.baseURL",""),this.loaderPath=n(y,"loader.path",""),this.loaderMaxParallelDownloads=n(y,"loader.maxParallelDownloads",u.os.android?6:32),this.loaderCrossOrigin=n(y,"loader.crossOrigin",void 0),this.loaderResponseType=n(y,"loader.responseType",""),this.loaderAsync=n(y,"loader.async",!0),this.loaderUser=n(y,"loader.user",""),this.loaderPassword=n(y,"loader.password",""),this.loaderTimeout=n(y,"loader.timeout",0),this.loaderWithCredentials=n(y,"loader.withCredentials",!1),this.loaderImageLoadType=n(y,"loader.imageLoadType","XHR"),this.loaderLocalScheme=n(y,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=n(y,"fx.glow.quality",.1),this.glowFXDistance=n(y,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var O=n(y,"plugins",null),A=f.DefaultScene;O&&(Array.isArray(O)?this.defaultPlugins=O:h(O)&&(this.installGlobalPlugins=o(O,"global",[]),this.installScenePlugins=o(O,"scene",[]),Array.isArray(O.default)?A=O.default:Array.isArray(O.defaultMerge)&&(A=A.concat(O.defaultMerge)))),this.defaultPlugins=A;var F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=n(y,"images.default",F+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=n(y,"images.missing",F+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=n(y,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=x.WEBGL:window.FORCE_CANVAS&&(this.renderType=x.CANVAS))}});r.exports=g},50150:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(70616),x=i(61068),f=i(86459),u=i(90185),o=function(n){var h=n.config;if((h.customEnvironment||h.canvas)&&h.renderType===f.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!h.customEnvironment&&!h.canvas&&h.renderType!==f.HEADLESS)if(h.renderType===f.AUTO&&(h.renderType=u.webGL?f.WEBGL:f.CANVAS),h.renderType===f.WEBGL){if(!u.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(h.renderType===f.CANVAS){if(!u.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+h.renderType);h.antialias||x.disableSmoothing();var p=n.scale.baseSize,a=p.width,c=p.height;if(h.canvas?(n.canvas=h.canvas,n.canvas.width=a,n.canvas.height=c):n.canvas=x.create(n,a,c,h.renderType),h.canvasStyle&&(n.canvas.style=h.canvasStyle),h.antialias||d.setCrisp(n.canvas),h.renderType!==f.HEADLESS){var v,g;v=i(91135),g=i(11857),h.renderType===f.WEBGL?n.renderer=new g(n):(n.renderer=new v(n),n.context=n.renderer.gameContext)}};r.exports=o},77291:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(86459),x=function(f){var u=f.config;if(!u.hideBanner){var o="WebGL";u.renderType===d.CANVAS?o="Canvas":u.renderType===d.HEADLESS&&(o="Headless");var n=u.audio,h=f.device.audio,p;if(h.webAudio&&!n.disableWebAudio?p="Web Audio":n.noAudio||!h.webAudio&&!h.audioData?p="No Audio":p="HTML5 Audio",f.device.browser.ie)window.console&&console.log("Phaser v"+d.VERSION+" / https://phaser.io");else{var a="",c=[a];if(Array.isArray(u.bannerBackgroundColor)){var v;u.bannerBackgroundColor.forEach(function(m){a=a.concat("%c "),c.push("background: "+m),v=m}),c[c.length-1]="color: "+u.bannerTextColor+"; background: "+v}else a=a.concat("%c "),c.push("color: "+u.bannerTextColor+"; background: "+u.bannerBackgroundColor);c.push("background: transparent"),u.gameTitle&&(a=a.concat(u.gameTitle),u.gameVersion&&(a=a.concat(" v"+u.gameVersion)),u.hidePhaser||(a=a.concat(" / ")));var g="";u.hidePhaser||(a=a.concat("Phaser v"+d.VERSION+g+" ("+o+" | "+p+")")),a=a.concat(" %c "+u.gameURL),c[0]=a,console.log.apply(console,c)}}};r.exports=x},15213:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(99584),x=i(90249),f=i(43474),u=i(61068),o=i(56694),n=i(14033),h=i(85178),p=i(50150),a=i(81078),c=i(77291),v=i(77290),g=i(21546),m=i(6659),y=i(97081),P=i(69898),M=i(91963),E=i(49274),w=i(756),R=i(13553),O=i(38203),A=i(6237),F=i(26617),L=i(26493),I=i(84191),B=new o({initialize:function(k){this.config=new n(k),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new m,this.anims=new x(this),this.textures=new A(this),this.cache=new f(this),this.registry=new a(this,new m),this.input=new P(this,this.config),this.scene=new R(this,this.config.sceneConfig),this.device=v,this.scale=new w(this,this.config),this.sound=null,this.sound=I.create(this),this.loop=new F(this,this.config.fps),this.plugins=new E(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,g(this.boot.bind(this))},boot:function(){if(!M.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),p(this),h(this),c(this),d(this.canvas,this.config.parent),this.textures.once(O.READY,this.texturesReady,this),this.events.emit(y.BOOT)},texturesReady:function(){this.events.emit(y.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),L(this);var b=this.events;b.on(y.HIDDEN,this.onHidden,this),b.on(y.VISIBLE,this.onVisible,this),b.on(y.BLUR,this.onBlur,this),b.on(y.FOCUS,this.onFocus,this)},step:function(b,k){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var U=this.events;U.emit(y.PRE_STEP,b,k),U.emit(y.STEP,b,k),this.scene.update(b,k),U.emit(y.POST_STEP,b,k);var Y=this.renderer;Y.preRender(),U.emit(y.PRE_RENDER,Y,b,k),this.scene.render(Y),Y.postRender(),U.emit(y.POST_RENDER,Y,b,k)}},headlessStep:function(b,k){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var U=this.events;U.emit(y.PRE_STEP,b,k),U.emit(y.STEP,b,k),this.scene.update(b,k),U.emit(y.POST_STEP,b,k),this.scene.isProcessing=!1,U.emit(y.PRE_RENDER,null,b,k),U.emit(y.POST_RENDER,null,b,k)}},onHidden:function(){this.loop.pause(),this.events.emit(y.PAUSE)},pause:function(){var b=this.isPaused;this.isPaused=!0,b||this.events.emit(y.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(y.RESUME)},resume:function(){var b=this.isPaused;this.isPaused=!1,b&&this.events.emit(y.RESUME)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(b,k){k===void 0&&(k=!1),this.pendingDestroy=!0,this.removeCanvas=b,this.noReturn=k},runDestroy:function(){this.scene.destroy(),this.events.emit(y.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(u.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});r.exports=B},26617:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(10850),f=i(72283),u=i(27385),o=new d({initialize:function(h,p){this.game=h,this.raf=new u,this.started=!1,this.running=!1,this.minFps=x(p,"min",5),this.targetFps=x(p,"target",60),this.fpsLimit=x(p,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=f,this.forceSetTimeOut=x(p,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=x(p,"deltaHistory",10),this.panicMax=x(p,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=x(p,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.startTime+=this.time-this._pauseTime},resetDelta:function(){var n=window.performance.now();this.time=n,this.lastTime=n,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0;for(var h=0;h<this.deltaSmoothingMax;h++)this.deltaHistory[h]=Math.min(this._target,this.deltaHistory[h]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(n){if(this.started)return this;this.started=!0,this.running=!0;for(var h=0;h<this.deltaSmoothingMax;h++)this.deltaHistory[h]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=n;var p=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(p,this.forceSetTimeOut,this._target)},smoothDelta:function(n){var h=this.deltaIndex,p=this.deltaHistory,a=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,n=Math.min(n,this._target)),n>this._min&&(n=p[h],n=Math.min(n,this._min)),p[h]=n,this.deltaIndex++,this.deltaIndex>=a&&(this.deltaIndex=0);for(var c=0,v=0;v<a;v++)c+=p[v];return c/=a,c},updateFPS:function(n){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0},stepLimitFPS:function(n){this.now=n;var h=Math.max(0,n-this.lastTime);this.rawDelta=h,this.time+=this.rawDelta,this.smoothStep&&(h=this.smoothDelta(h)),this.delta+=h,n>=this.nextFpsUpdate&&this.updateFPS(n),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(n,this.delta),this.delta=0),this.lastTime=n,this.frame++},step:function(n){this.now=n;var h=Math.max(0,n-this.lastTime);this.rawDelta=h,this.time+=this.rawDelta,this.smoothStep&&(h=this.smoothDelta(h)),this.delta=h,n>=this.nextFpsUpdate&&this.updateFPS(n),this.framesThisSecond++,this.callback(n,h),this.lastTime=n,this.frame++},tick:function(){var n=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(n):this.step(n)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(n){n===void 0&&(n=!1);var h=window.performance.now();if(!this.running){n&&(this.startTime+=-this.lastTime+(this.lastTime+h));var p=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(p,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=h+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});r.exports=o},26493:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(97081),x=function(f){var u,o=f.events;if(document.hidden!==void 0)u="visibilitychange";else{var n=["webkit","moz","ms"];n.forEach(function(p){document[p+"Hidden"]!==void 0&&(document.hidden=function(){return document[p+"Hidden"]},u=p+"visibilitychange")})}var h=function(p){document.hidden||p.type==="pause"?o.emit(d.HIDDEN):o.emit(d.VISIBLE)};u&&document.addEventListener(u,h,!1),window.onblur=function(){o.emit(d.BLUR)},window.onfocus=function(){o.emit(d.FOCUS)},window.focus&&f.config.autoFocus&&window.focus()};r.exports=x},41651:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="blur"},5520:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"},51673:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="contextlost"},25055:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},23767:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="focus"},57564:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="hidden"},38327:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},43807:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postrender"},73652:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="poststep"},780:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"},13781:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prestep"},38247:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="ready"},29129:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},34994:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="step"},55237:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="systemready"},98704:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="visible"},97081:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BLUR:i(41651),BOOT:i(5520),CONTEXT_LOST:i(51673),DESTROY:i(25055),FOCUS:i(23767),HIDDEN:i(57564),PAUSE:i(38327),POST_RENDER:i(43807),POST_STEP:i(73652),PRE_RENDER:i(780),PRE_STEP:i(13781),READY:i(38247),RESUME:i(29129),STEP:i(34994),SYSTEM_READY:i(55237),VISIBLE:i(98704)}},80293:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Config:i(14033),CreateRenderer:i(50150),DebugHeader:i(77291),Events:i(97081),TimeStep:i(26617),VisibilityHandler:i(26493)}},52780:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(81543),x=i(61068),f=i(10850),u=function(o){var n=f(o,"data",[]),h=f(o,"canvas",null),p=f(o,"palette",d),a=f(o,"pixelWidth",1),c=f(o,"pixelHeight",a),v=f(o,"resizeCanvas",!0),g=f(o,"clearCanvas",!0),m=f(o,"preRender",null),y=f(o,"postRender",null),P=Math.floor(Math.abs(n[0].length*a)),M=Math.floor(Math.abs(n.length*c));h||(h=x.create2D(this,P,M),v=!1,g=!1),v&&(h.width=P,h.height=M);var E=h.getContext("2d",{willReadFrequently:!0});g&&E.clearRect(0,0,P,M),m&&m(h,E);for(var w=0;w<n.length;w++)for(var R=n[w],O=0;O<R.length;O++){var A=R[O];A!=="."&&A!==" "&&(E.fillStyle=p[A],E.fillRect(O*a,w*c,a,c))}return y&&y(h,E),h};r.exports=u},84106:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={GenerateTexture:i(52780),Palettes:i(25235)}},81543:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},75846:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},83206:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},13194:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},50686:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},25235:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ARNE16:i(81543),C64:i(75846),CGA:i(83206),JMP:i(13194),MSX:i(50686)}},63120:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(34631),f=i(38517),u=i(93736),o=new d({Extends:f,initialize:function(h,p,a,c){f.call(this,"CubicBezierCurve"),Array.isArray(h)&&(c=new u(h[6],h[7]),a=new u(h[4],h[5]),p=new u(h[2],h[3]),h=new u(h[0],h[1])),this.p0=h,this.p1=p,this.p2=a,this.p3=c},getStartPoint:function(n){return n===void 0&&(n=new u),n.copy(this.p0)},getResolution:function(n){return n},getPoint:function(n,h){h===void 0&&(h=new u);var p=this.p0,a=this.p1,c=this.p2,v=this.p3;return h.set(x(n,p.x,a.x,c.x,v.x),x(n,p.y,a.y,c.y,v.y))},draw:function(n,h){h===void 0&&(h=32);var p=this.getPoints(h);n.beginPath(),n.moveTo(this.p0.x,this.p0.y);for(var a=1;a<p.length;a++)n.lineTo(p[a].x,p[a].y);return n.strokePath(),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});o.fromJSON=function(n){var h=n.points,p=new u(h[0],h[1]),a=new u(h[2],h[3]),c=new u(h[4],h[5]),v=new u(h[6],h[7]);return new o(p,a,c,v)},r.exports=o},38517:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(80222),f=i(74118),u=i(93736),o=new d({initialize:function(h){this.type=h,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new u,this._tmpVec2B=new u},draw:function(n,h){return h===void 0&&(h=32),n.strokePoints(this.getPoints(h))},getBounds:function(n,h){n||(n=new f),h===void 0&&(h=16);var p=this.getLength();h>p&&(h=p/2);var a=Math.max(1,Math.round(p/h));return x(this.getSpacedPoints(a),n)},getDistancePoints:function(n){var h=this.getLength(),p=Math.max(1,h/n);return this.getSpacedPoints(p)},getEndPoint:function(n){return n===void 0&&(n=new u),this.getPointAt(1,n)},getLength:function(){var n=this.getLengths();return n[n.length-1]},getLengths:function(n){if(n===void 0&&(n=this.arcLengthDivisions),this.cacheArcLengths.length===n+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var h=[],p,a=this.getPoint(0,this._tmpVec2A),c=0;h.push(0);for(var v=1;v<=n;v++)p=this.getPoint(v/n,this._tmpVec2B),c+=p.distance(a),h.push(c),a.copy(p);return this.cacheArcLengths=h,h},getPointAt:function(n,h){var p=this.getUtoTmapping(n);return this.getPoint(p,h)},getPoints:function(n,h,p){p===void 0&&(p=[]),n||(h?n=this.getLength()/h:n=this.defaultDivisions);for(var a=0;a<=n;a++)p.push(this.getPoint(a/n));return p},getRandomPoint:function(n){return n===void 0&&(n=new u),this.getPoint(Math.random(),n)},getSpacedPoints:function(n,h,p){p===void 0&&(p=[]),n||(h?n=this.getLength()/h:n=this.defaultDivisions);for(var a=0;a<=n;a++){var c=this.getUtoTmapping(a/n,null,n);p.push(this.getPoint(c))}return p},getStartPoint:function(n){return n===void 0&&(n=new u),this.getPointAt(0,n)},getTangent:function(n,h){h===void 0&&(h=new u);var p=1e-4,a=n-p,c=n+p;return a<0&&(a=0),c>1&&(c=1),this.getPoint(a,this._tmpVec2A),this.getPoint(c,h),h.subtract(this._tmpVec2A).normalize()},getTangentAt:function(n,h){var p=this.getUtoTmapping(n);return this.getTangent(p,h)},getTFromDistance:function(n,h){return n<=0?0:this.getUtoTmapping(0,n,h)},getUtoTmapping:function(n,h,p){var a=this.getLengths(p),c=0,v=a.length,g;h?g=Math.min(h,a[v-1]):g=n*a[v-1];for(var m=0,y=v-1,P;m<=y;)if(c=Math.floor(m+(y-m)/2),P=a[c]-g,P<0)m=c+1;else if(P>0)y=c-1;else{y=c;break}if(c=y,a[c]===g)return c/(v-1);var M=a[c],E=a[c+1],w=E-M,R=(g-M)/w;return(c+R)/(v-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});r.exports=o},48835:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(38517),f=i(75606),u=i(10850),o=i(23701),n=i(93736),h=new d({Extends:x,initialize:function(a,c,v,g,m,y,P,M){if(typeof a=="object"){var E=a;a=u(E,"x",0),c=u(E,"y",0),v=u(E,"xRadius",0),g=u(E,"yRadius",v),m=u(E,"startAngle",0),y=u(E,"endAngle",360),P=u(E,"clockwise",!1),M=u(E,"rotation",0)}else g===void 0&&(g=v),m===void 0&&(m=0),y===void 0&&(y=360),P===void 0&&(P=!1),M===void 0&&(M=0);x.call(this,"EllipseCurve"),this.p0=new n(a,c),this._xRadius=v,this._yRadius=g,this._startAngle=f(m),this._endAngle=f(y),this._clockwise=P,this._rotation=f(M)},getStartPoint:function(p){return p===void 0&&(p=new n),this.getPoint(0,p)},getResolution:function(p){return p*2},getPoint:function(p,a){a===void 0&&(a=new n);for(var c=Math.PI*2,v=this._endAngle-this._startAngle,g=Math.abs(v)<Number.EPSILON;v<0;)v+=c;for(;v>c;)v-=c;v<Number.EPSILON&&(g?v=0:v=c),this._clockwise&&!g&&(v===c?v=-c:v=v-c);var m=this._startAngle+p*v,y=this.p0.x+this._xRadius*Math.cos(m),P=this.p0.y+this._yRadius*Math.sin(m);if(this._rotation!==0){var M=Math.cos(this._rotation),E=Math.sin(this._rotation),w=y-this.p0.x,R=P-this.p0.y;y=w*M-R*E+this.p0.x,P=w*E+R*M+this.p0.y}return a.set(y,P)},setXRadius:function(p){return this.xRadius=p,this},setYRadius:function(p){return this.yRadius=p,this},setWidth:function(p){return this.xRadius=p/2,this},setHeight:function(p){return this.yRadius=p/2,this},setStartAngle:function(p){return this.startAngle=p,this},setEndAngle:function(p){return this.endAngle=p,this},setClockwise:function(p){return this.clockwise=p,this},setRotation:function(p){return this.rotation=p,this},x:{get:function(){return this.p0.x},set:function(p){this.p0.x=p}},y:{get:function(){return this.p0.y},set:function(p){this.p0.y=p}},xRadius:{get:function(){return this._xRadius},set:function(p){this._xRadius=p}},yRadius:{get:function(){return this._yRadius},set:function(p){this._yRadius=p}},startAngle:{get:function(){return o(this._startAngle)},set:function(p){this._startAngle=f(p)}},endAngle:{get:function(){return o(this._endAngle)},set:function(p){this._endAngle=f(p)}},clockwise:{get:function(){return this._clockwise},set:function(p){this._clockwise=p}},angle:{get:function(){return o(this._rotation)},set:function(p){this._rotation=f(p)}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=p}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:o(this._startAngle),endAngle:o(this._endAngle),clockwise:this._clockwise,rotation:o(this._rotation)}}});h.fromJSON=function(p){return new h(p)},r.exports=h},58084:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(38517),f=i(80222),u=i(74118),o=i(93736),n=new d({Extends:x,initialize:function(p,a){x.call(this,"LineCurve"),Array.isArray(p)&&(a=new o(p[2],p[3]),p=new o(p[0],p[1])),this.p0=p,this.p1=a,this.arcLengthDivisions=1},getBounds:function(h){return h===void 0&&(h=new u),f([this.p0,this.p1],h)},getStartPoint:function(h){return h===void 0&&(h=new o),h.copy(this.p0)},getResolution:function(h){return h===void 0&&(h=1),h},getPoint:function(h,p){return p===void 0&&(p=new o),h===1?p.copy(this.p1):(p.copy(this.p1).subtract(this.p0).scale(h).add(this.p0),p)},getPointAt:function(h,p){return this.getPoint(h,p)},getTangent:function(h,p){return p===void 0&&(p=new o),p.copy(this.p1).subtract(this.p0).normalize(),p},getUtoTmapping:function(h,p,a){var c;if(p){var v=this.getLengths(a),g=v[v.length-1],m=Math.min(p,g);c=m/g}else c=h;return c},draw:function(h){return h.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),h},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});n.fromJSON=function(h){var p=h.points,a=new o(p[0],p[1]),c=new o(p[2],p[3]);return new n(a,c)},r.exports=n},64761:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(38517),f=i(16252),u=i(93736),o=new d({Extends:x,initialize:function(h,p,a){x.call(this,"QuadraticBezierCurve"),Array.isArray(h)&&(a=new u(h[4],h[5]),p=new u(h[2],h[3]),h=new u(h[0],h[1])),this.p0=h,this.p1=p,this.p2=a},getStartPoint:function(n){return n===void 0&&(n=new u),n.copy(this.p0)},getResolution:function(n){return n},getPoint:function(n,h){h===void 0&&(h=new u);var p=this.p0,a=this.p1,c=this.p2;return h.set(f(n,p.x,a.x,c.x),f(n,p.y,a.y,c.y))},draw:function(n,h){h===void 0&&(h=32);var p=this.getPoints(h);n.beginPath(),n.moveTo(this.p0.x,this.p0.y);for(var a=1;a<p.length;a++)n.lineTo(p[a].x,p[a].y);return n.strokePath(),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});o.fromJSON=function(n){var h=n.points,p=new u(h[0],h[1]),a=new u(h[2],h[3]),c=new u(h[4],h[5]);return new o(p,a,c)},r.exports=o},11956:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(14976),x=i(56694),f=i(38517),u=i(93736),o=new x({Extends:f,initialize:function(h){h===void 0&&(h=[]),f.call(this,"SplineCurve"),this.points=[],this.addPoints(h)},addPoints:function(n){for(var h=0;h<n.length;h++){var p=new u;typeof n[h]=="number"?(p.x=n[h],p.y=n[h+1],h++):Array.isArray(n[h])?(p.x=n[h][0],p.y=n[h][1]):(p.x=n[h].x,p.y=n[h].y),this.points.push(p)}return this},addPoint:function(n,h){var p=new u(n,h);return this.points.push(p),p},getStartPoint:function(n){return n===void 0&&(n=new u),n.copy(this.points[0])},getResolution:function(n){return n*this.points.length},getPoint:function(n,h){h===void 0&&(h=new u);var p=this.points,a=(p.length-1)*n,c=Math.floor(a),v=a-c,g=p[c===0?c:c-1],m=p[c],y=p[c>p.length-2?p.length-1:c+1],P=p[c>p.length-3?p.length-1:c+2];return h.set(d(v,g.x,m.x,y.x,P.x),d(v,g.y,m.y,y.y,P.y))},toJSON:function(){for(var n=[],h=0;h<this.points.length;h++)n.push(this.points[h].x),n.push(this.points[h].y);return{type:this.type,points:n}}});o.fromJSON=function(n){return new o(n.points)},r.exports=o},73962:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Path:i(12822),MoveTo:i(53639),CubicBezier:i(63120),Curve:i(38517),Ellipse:i(48835),Line:i(58084),QuadraticBezier:i(64761),Spline:i(11956)}},53639:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(93736),f=new d({initialize:function(o,n){this.active=!1,this.p0=new x(o,n)},getPoint:function(u,o){return o===void 0&&(o=new x),o.copy(this.p0)},getPointAt:function(u,o){return this.getPoint(u,o)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});r.exports=f},12822:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(63120),f=i(48835),u=i(61286),o=i(58084),n=i(53639),h=i(64761),p=i(74118),a=i(11956),c=i(93736),v=i(83392),g=new d({initialize:function(y,P){y===void 0&&(y=0),P===void 0&&(P=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new c,this._tmpVec2A=new c,this._tmpVec2B=new c,typeof y=="object"?this.fromJSON(y):this.startPoint.set(y,P)},add:function(m){return this.curves.push(m),this},circleTo:function(m,y,P){return y===void 0&&(y=!1),this.ellipseTo(m,m,0,360,y,P)},closePath:function(){var m=this.curves[0].getPoint(0),y=this.curves[this.curves.length-1].getPoint(1);return m.equals(y)||this.curves.push(new o(y,m)),this},cubicBezierTo:function(m,y,P,M,E,w){var R=this.getEndPoint(),O,A,F;return m instanceof c?(O=m,A=y,F=P):(O=new c(P,M),A=new c(E,w),F=new c(m,y)),this.add(new x(R,O,A,F))},quadraticBezierTo:function(m,y,P,M){var E=this.getEndPoint(),w,R;return m instanceof c?(w=m,R=y):(w=new c(P,M),R=new c(m,y)),this.add(new h(E,w,R))},draw:function(m,y){for(var P=0;P<this.curves.length;P++){var M=this.curves[P];M.active&&M.draw(m,y)}return m},ellipseTo:function(m,y,P,M,E,w){var R=new f(0,0,m,y,P,M,E,w),O=this.getEndPoint(this._tmpVec2A),A=R.getStartPoint(this._tmpVec2B);return O.subtract(A),R.x=O.x,R.y=O.y,this.add(R)},fromJSON:function(m){this.curves=[],this.cacheLengths=[],this.startPoint.set(m.x,m.y),this.autoClose=m.autoClose;for(var y=0;y<m.curves.length;y++){var P=m.curves[y];switch(P.type){case"LineCurve":this.add(o.fromJSON(P));break;case"EllipseCurve":this.add(f.fromJSON(P));break;case"SplineCurve":this.add(a.fromJSON(P));break;case"CubicBezierCurve":this.add(x.fromJSON(P));break;case"QuadraticBezierCurve":this.add(h.fromJSON(P));break}}return this},getBounds:function(m,y){m===void 0&&(m=new p),y===void 0&&(y=16),m.x=Number.MAX_VALUE,m.y=Number.MAX_VALUE;for(var P=new p,M=v.MIN_SAFE_INTEGER,E=v.MIN_SAFE_INTEGER,w=0;w<this.curves.length;w++){var R=this.curves[w];R.active&&(R.getBounds(P,y),m.x=Math.min(m.x,P.x),m.y=Math.min(m.y,P.y),M=Math.max(M,P.right),E=Math.max(E,P.bottom))}return m.right=M,m.bottom=E,m},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var m=[],y=0,P=0;P<this.curves.length;P++)y+=this.curves[P].getLength(),m.push(y);return this.cacheLengths=m,m},getCurveAt:function(m){for(var y=m*this.getLength(),P=this.getCurveLengths(),M=0;M<P.length;){if(P[M]>=y)return this.curves[M];M++}return null},getEndPoint:function(m){return m===void 0&&(m=new c),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,m):m.copy(this.startPoint),m},getLength:function(){var m=this.getCurveLengths();return m[m.length-1]},getPoint:function(m,y){y===void 0&&(y=new c);for(var P=m*this.getLength(),M=this.getCurveLengths(),E=0;E<M.length;){if(M[E]>=P){var w=M[E]-P,R=this.curves[E],O=R.getLength(),A=O===0?0:1-w/O;return R.getPointAt(A,y)}E++}return null},getPoints:function(m,y){!m&&!y&&(m=this.defaultDivisions);for(var P=[],M,E=0;E<this.curves.length;E++){var w=this.curves[E];if(w.active)for(var R=w.getResolution(m),O=w.getPoints(R,y),A=0;A<O.length;A++){var F=O[A];M&&M.equals(F)||(P.push(F),M=F)}}return this.autoClose&&P.length>1&&!P[P.length-1].equals(P[0])&&P.push(P[0]),P},getRandomPoint:function(m){return m===void 0&&(m=new c),this.getPoint(Math.random(),m)},getSpacedPoints:function(m){m===void 0&&(m=40);for(var y=[],P=0;P<=m;P++)y.push(this.getPoint(P/m));return this.autoClose&&y.push(y[0]),y},getStartPoint:function(m){return m===void 0&&(m=new c),m.copy(this.startPoint)},getTangent:function(m,y){y===void 0&&(y=new c);for(var P=m*this.getLength(),M=this.getCurveLengths(),E=0;E<M.length;){if(M[E]>=P){var w=M[E]-P,R=this.curves[E],O=R.getLength(),A=O===0?0:1-w/O;return R.getTangentAt(A,y)}E++}return null},lineTo:function(m,y){m instanceof c?this._tmpVec2B.copy(m):this._tmpVec2B.set(m,y);var P=this.getEndPoint(this._tmpVec2A);return this.add(new o([P.x,P.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(m){return m.unshift(this.getEndPoint()),this.add(new a(m))},moveTo:function(m,y){return m instanceof c?this.add(new n(m.x,m.y)):this.add(new n(m,y))},toJSON:function(){for(var m=[],y=0;y<this.curves.length;y++)m.push(this.curves[y].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:m}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});u.register("path",function(m,y){return new g(m,y)}),r.exports=g},81078:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(35026),f=new d({initialize:function(o,n){this.parent=o,this.events=n,n||(this.events=o.events?o.events:o),this.list={},this.values={},this._frozen=!1,!o.hasOwnProperty("sys")&&this.events&&this.events.once(x.DESTROY,this.destroy,this)},get:function(u){var o=this.list;if(Array.isArray(u)){for(var n=[],h=0;h<u.length;h++)n.push(o[u[h]]);return n}else return o[u]},getAll:function(){var u={};for(var o in this.list)this.list.hasOwnProperty(o)&&(u[o]=this.list[o]);return u},query:function(u){var o={};for(var n in this.list)this.list.hasOwnProperty(n)&&n.match(u)&&(o[n]=this.list[n]);return o},set:function(u,o){if(this._frozen)return this;if(typeof u=="string")return this.setValue(u,o);for(var n in u)this.setValue(n,u[n]);return this},inc:function(u,o){if(this._frozen)return this;o===void 0&&(o=1);var n=this.get(u);return n===void 0&&(n=0),this.set(u,n+o),this},toggle:function(u){return this._frozen?this:(this.set(u,!this.get(u)),this)},setValue:function(u,o){if(this._frozen)return this;if(this.has(u))this.values[u]=o;else{var n=this,h=this.list,p=this.events,a=this.parent;Object.defineProperty(this.values,u,{enumerable:!0,configurable:!0,get:function(){return h[u]},set:function(c){if(!n._frozen){var v=h[u];h[u]=c,p.emit(x.CHANGE_DATA,a,u,c,v),p.emit(x.CHANGE_DATA_KEY+u,a,c,v)}}}),h[u]=o,p.emit(x.SET_DATA,a,u,o)}return this},each:function(u,o){for(var n=[this.parent,null,void 0],h=1;h<arguments.length;h++)n.push(arguments[h]);for(var p in this.list)n[1]=p,n[2]=this.list[p],u.apply(o,n);return this},merge:function(u,o){o===void 0&&(o=!0);for(var n in u)u.hasOwnProperty(n)&&(o||!o&&!this.has(n))&&this.setValue(n,u[n]);return this},remove:function(u){if(this._frozen)return this;if(Array.isArray(u))for(var o=0;o<u.length;o++)this.removeValue(u[o]);else return this.removeValue(u);return this},removeValue:function(u){if(this.has(u)){var o=this.list[u];delete this.list[u],delete this.values[u],this.events.emit(x.REMOVE_DATA,this.parent,u,o)}return this},pop:function(u){var o=void 0;return!this._frozen&&this.has(u)&&(o=this.list[u],delete this.list[u],delete this.values[u],this.events.emit(x.REMOVE_DATA,this.parent,u,o)),o},has:function(u){return this.list.hasOwnProperty(u)},setFreeze:function(u){return this._frozen=u,this},reset:function(){for(var u in this.list)delete this.list[u],delete this.values[u];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(x.CHANGE_DATA),this.events.off(x.SET_DATA),this.events.off(x.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(u){this._frozen=!!u}},count:{get:function(){var u=0;for(var o in this.list)this.list[o]!==void 0&&u++;return u}}});r.exports=f},76508:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(81078),f=i(91963),u=i(7599),o=new d({Extends:x,initialize:function(h){x.call(this,h,h.sys.events),this.scene=h,this.systems=h.sys,h.sys.events.once(u.BOOT,this.boot,this),h.sys.events.on(u.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(u.DESTROY,this.destroy,this)},start:function(){this.events.once(u.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){x.prototype.destroy.call(this),this.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});f.register("DataManagerPlugin",o,"data"),r.exports=o},73569:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="changedata"},15590:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="changedata-"},37669:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},87090:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removedata"},90142:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="setdata"},35026:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CHANGE_DATA:i(73569),CHANGE_DATA_KEY:i(15590),DESTROY:i(37669),REMOVE_DATA:i(87090),SET_DATA:i(90142)}},1999:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DataManager:i(81078),DataManagerPlugin:i(76508),Events:i(35026)}},10720:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(1350),x={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function f(){if(typeof importScripts=="function")return x;x.audioData=!!window.Audio,x.webAudio=!!(window.AudioContext||window.webkitAudioContext);var u=document.createElement("audio"),o=!!u.canPlayType;try{if(o){var n=function(a,c){var v=u.canPlayType("audio/"+a).replace(/^no$/,"");return c?!!(v||u.canPlayType("audio/"+c).replace(/^no$/,"")):!!v};if(x.ogg=n('ogg; codecs="vorbis"'),x.opus=n('ogg; codecs="opus"',"opus"),x.mp3=n("mpeg"),x.wav=n("wav"),x.m4a=n("x-m4a"),x.aac=n("aac"),x.flac=n("flac","x-flac"),x.webm=n('webm; codecs="vorbis"'),u.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(d.edge)x.dolby=!0;else if(d.safari&&d.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var h=parseInt(RegExp.$1,10),p=parseInt(RegExp.$2,10);(h===10&&p>=11||h>10)&&(x.dolby=!0)}}}}catch{}return x}r.exports=f()},1350:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(36580),x={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function f(){var u=navigator.userAgent;return/Edg\/\d+/.test(u)?(x.edge=!0,x.es2019=!0):/OPR/.test(u)?(x.opera=!0,x.es2019=!0):/Chrome\/(\d+)/.test(u)&&!d.windowsPhone?(x.chrome=!0,x.chromeVersion=parseInt(RegExp.$1,10),x.es2019=x.chromeVersion>69):/Firefox\D+(\d+)/.test(u)?(x.firefox=!0,x.firefoxVersion=parseInt(RegExp.$1,10),x.es2019=x.firefoxVersion>10):/AppleWebKit/.test(u)&&d.iOS?(x.mobileSafari=!0,x.es2019=!0):/MSIE (\d+\.\d+);/.test(u)?(x.ie=!0,x.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+) Safari/.test(u)&&!d.windowsPhone?(x.safari=!0,x.safariVersion=parseInt(RegExp.$1,10),x.es2019=x.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(u)&&(x.ie=!0,x.trident=!0,x.tridentVersion=parseInt(RegExp.$1,10),x.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(u)&&(x.silk=!0),x}r.exports=f()},98581:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61068),x={supportInverseAlpha:!1,supportNewBlendModes:!1};function f(){var n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",h="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",p=new Image;return p.onload=function(){var a=new Image;a.onload=function(){var c=d.create2D(a,6),v=c.getContext("2d",{willReadFrequently:!0});if(v.globalCompositeOperation="multiply",v.drawImage(p,0,0),v.drawImage(a,2,0),!v.getImageData(2,0,1,1))return!1;var g=v.getImageData(2,0,1,1).data;d.remove(a),x.supportNewBlendModes=g[0]===255&&g[1]===0&&g[2]===0},a.src=n+"/wCKxvRF"+h},p.src=n+"AP804Oa6"+h,!1}function u(){var n=d.create2D(this,2),h=n.getContext("2d",{willReadFrequently:!0});h.fillStyle="rgba(10, 20, 30, 0.5)",h.fillRect(0,0,1,1);var p=h.getImageData(0,0,1,1);if(p===null)return!1;h.putImageData(p,1,0);var a=h.getImageData(1,0,1,1),c=a.data[0]===p.data[0]&&a.data[1]===p.data[1]&&a.data[2]===p.data[2]&&a.data[3]===p.data[3];return d.remove(this),c}function o(){return typeof importScripts!="function"&&document!==void 0&&(x.supportNewBlendModes=f(),x.supportInverseAlpha=u()),x}r.exports=o()},90185:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(36580),x=i(1350),f=i(61068),u={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function o(){var h=new ArrayBuffer(4),p=new Uint8Array(h),a=new Uint32Array(h);return p[0]=161,p[1]=178,p[2]=195,p[3]=212,a[0]===3569595041?!0:a[0]===2712847316?!1:null}function n(){if(typeof importScripts=="function")return u;u.canvas=!!window.CanvasRenderingContext2D;try{u.localStorage=!!localStorage.getItem}catch{u.localStorage=!1}u.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,u.fileSystem=!!window.requestFileSystem;var h=!1,p=function(){if(window.WebGLRenderingContext)try{var a=f.createWebGL(this),c=a.getContext("webgl")||a.getContext("experimental-webgl"),v=f.create2D(this),g=v.getContext("2d",{willReadFrequently:!0}),m=g.createImageData(1,1);return h=m.data instanceof Uint8ClampedArray,f.remove(a),f.remove(v),!!c}catch{return!1}return!1};return u.webGL=p(),u.worker=!!window.Worker,u.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,u.getUserMedia=u.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,x.firefox&&x.firefoxVersion<21&&(u.getUserMedia=!1),!d.iOS&&(x.ie||x.firefox||x.chrome)&&(u.canvasBitBltShift=!0),(x.safari||x.mobileSafari)&&(u.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(u.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(u.littleEndian=o()),u.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&u.littleEndian!==null&&h,u}r.exports=n()},33553:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={available:!1,cancel:"",keyboard:!1,request:""};function i(){if(typeof importScripts=="function")return T;var d,x="Fullscreen",f="FullScreen",u=["request"+x,"request"+f,"webkitRequest"+x,"webkitRequest"+f,"msRequest"+x,"msRequest"+f,"mozRequest"+f,"mozRequest"+x];for(d=0;d<u.length;d++)if(document.documentElement[u[d]]){T.available=!0,T.request=u[d];break}var o=["cancel"+f,"exit"+x,"webkitCancel"+f,"webkitExit"+x,"msCancel"+f,"msExit"+x,"mozCancel"+f,"mozExit"+x];if(T.available){for(d=0;d<o.length;d++)if(document[o[d]]){T.cancel=o[d];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(T.keyboard=!0),Object.defineProperty(T,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),T}r.exports=i()},95872:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(1350),x={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function f(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(x.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(x.mspointer=!0),navigator.getGamepads&&(x.gamepads=!0),"onwheel"in window||d.ie&&"WheelEvent"in window?x.wheelEvent="wheel":"onmousewheel"in window?x.wheelEvent="mousewheel":d.firefox&&"MouseScrollEvent"in window&&(x.wheelEvent="DOMMouseScroll")),x}r.exports=f()},36580:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function i(){if(typeof importScripts=="function")return T;var d=navigator.userAgent;/Windows/.test(d)?T.windows=!0:/Mac OS/.test(d)&&!/like Mac OS/.test(d)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(T.iOS=!0,T.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),T.iOSVersion=parseInt(RegExp.$1,10)):T.macOS=!0:/Android/.test(d)?T.android=!0:/Linux/.test(d)?T.linux=!0:/iP[ao]d|iPhone/i.test(d)?(T.iOS=!0,navigator.appVersion.match(/OS (\d+)/),T.iOSVersion=parseInt(RegExp.$1,10),T.iPhone=d.toLowerCase().indexOf("iphone")!==-1,T.iPad=d.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(d)||/\bKF[A-Z][A-Z]+/.test(d)||/Silk.*Mobile Safari/.test(d)?T.kindle=!0:/CrOS/.test(d)&&(T.chromeOS=!0),(/Windows Phone/i.test(d)||/IEMobile/i.test(d))&&(T.android=!1,T.iOS=!1,T.macOS=!1,T.windows=!0,T.windowsPhone=!0);var x=/Silk/.test(d);return(T.windows||T.macOS||T.linux&&!x||T.chromeOS)&&(T.desktop=!0),(T.windowsPhone||/Windows NT/i.test(d)&&/Touch/i.test(d))&&(T.desktop=!1),navigator.standalone&&(T.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(T.cordova=!0),window.ejecta!==void 0&&(T.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(T.node=!0),T.node&&typeof process.versions=="object"&&(T.nodeWebkit=!!process.versions["node-webkit"],T.electron=!!process.versions.electron),/Crosswalk/.test(d)&&(T.crosswalk=!0),T.pixelRatio=window.devicePixelRatio||1,T}r.exports=i()},53861:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72632),x={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function f(){if(typeof importScripts=="function")return x;var u=document.createElement("video"),o=!!u.canPlayType,n=/^no$/;try{o&&(u.canPlayType('video/ogg; codecs="theora"').replace(n,"")&&(x.ogg=!0),u.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(n,"")&&(x.h264=!0,x.mp4=!0),u.canPlayType("video/x-m4v").replace(n,"")&&(x.m4v=!0),u.canPlayType('video/webm; codecs="vp8, vorbis"').replace(n,"")&&(x.webm=!0),u.canPlayType('video/webm; codecs="vp9"').replace(n,"")&&(x.vp9=!0),u.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(n,"")&&(x.hls=!0))}catch{}return u.parentNode&&u.parentNode.removeChild(u),x.getVideoURL=function(h){Array.isArray(h)||(h=[h]);for(var p=0;p<h.length;p++){var a=d(h[p],"url",h[p]);if(a.indexOf("blob:")===0)return{url:a,type:""};var c;if(a.indexOf("data:")===0?c=a.split(",")[0].match(/\/(.*?);/):c=a.match(/\.([a-zA-Z0-9]+)($|\?)/),c=d(h[p],"type",c?c[1]:"").toLowerCase(),x[c])return{url:a,type:c}}return null},x}r.exports=f()},77290:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={os:i(36580),browser:i(1350),features:i(90185),input:i(95872),audio:i(10720),video:i(53861),fullscreen:i(33553),canvasFeatures:i(98581)}},65246:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=new Float32Array(20),f=new d({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(u){return this._matrix.set(u),this._dirty=!0,this},reset:function(){var u=this._matrix;return u.fill(0),u[0]=1,u[6]=1,u[12]=1,u[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var u=this._data;return this._dirty&&(u.set(this._matrix),u[4]/=255,u[9]/=255,u[14]/=255,u[19]/=255,this._dirty=!1),u},brightness:function(u,o){u===void 0&&(u=0),o===void 0&&(o=!1);var n=u;return this.multiply([n,0,0,0,0,0,n,0,0,0,0,0,n,0,0,0,0,0,1,0],o)},saturate:function(u,o){u===void 0&&(u=0),o===void 0&&(o=!1);var n=u*2/3+1,h=(n-1)*-.5;return this.multiply([n,h,h,0,0,h,n,h,0,0,h,h,n,0,0,0,0,0,1,0],o)},desaturate:function(u){return u===void 0&&(u=!1),this.saturate(-1,u)},hue:function(u,o){u===void 0&&(u=0),o===void 0&&(o=!1),u=u/180*Math.PI;var n=Math.cos(u),h=Math.sin(u),p=.213,a=.715,c=.072;return this.multiply([p+n*(1-p)+h*-p,a+n*-a+h*-a,c+n*-c+h*(1-c),0,0,p+n*-p+h*.143,a+n*(1-a)+h*.14,c+n*-c+h*-.283,0,0,p+n*-p+h*-(1-p),a+n*-a+h*a,c+n*(1-c)+h*c,0,0,0,0,0,1,0],o)},grayscale:function(u,o){return u===void 0&&(u=1),o===void 0&&(o=!1),this.saturate(-u,o)},blackWhite:function(u){return u===void 0&&(u=!1),this.multiply(f.BLACK_WHITE,u)},contrast:function(u,o){u===void 0&&(u=0),o===void 0&&(o=!1);var n=u+1,h=-.5*(n-1);return this.multiply([n,0,0,0,h,0,n,0,0,h,0,0,n,0,h,0,0,0,1,0],o)},negative:function(u){return u===void 0&&(u=!1),this.multiply(f.NEGATIVE,u)},desaturateLuminance:function(u){return u===void 0&&(u=!1),this.multiply(f.DESATURATE_LUMINANCE,u)},sepia:function(u){return u===void 0&&(u=!1),this.multiply(f.SEPIA,u)},night:function(u,o){return u===void 0&&(u=.1),o===void 0&&(o=!1),this.multiply([u*-2,-u,0,0,0,-u,0,u,0,0,0,u,u*2,0,0,0,0,0,1,0],o)},lsd:function(u){return u===void 0&&(u=!1),this.multiply(f.LSD,u)},brown:function(u){return u===void 0&&(u=!1),this.multiply(f.BROWN,u)},vintagePinhole:function(u){return u===void 0&&(u=!1),this.multiply(f.VINTAGE,u)},kodachrome:function(u){return u===void 0&&(u=!1),this.multiply(f.KODACHROME,u)},technicolor:function(u){return u===void 0&&(u=!1),this.multiply(f.TECHNICOLOR,u)},polaroid:function(u){return u===void 0&&(u=!1),this.multiply(f.POLAROID,u)},shiftToBGR:function(u){return u===void 0&&(u=!1),this.multiply(f.SHIFT_BGR,u)},multiply:function(u,o){o===void 0&&(o=!1),o||this.reset();var n=this._matrix,h=x;return h.set(n),n.set([h[0]*u[0]+h[1]*u[5]+h[2]*u[10]+h[3]*u[15],h[0]*u[1]+h[1]*u[6]+h[2]*u[11]+h[3]*u[16],h[0]*u[2]+h[1]*u[7]+h[2]*u[12]+h[3]*u[17],h[0]*u[3]+h[1]*u[8]+h[2]*u[13]+h[3]*u[18],h[0]*u[4]+h[1]*u[9]+h[2]*u[14]+h[3]*u[19]+h[4],h[5]*u[0]+h[6]*u[5]+h[7]*u[10]+h[8]*u[15],h[5]*u[1]+h[6]*u[6]+h[7]*u[11]+h[8]*u[16],h[5]*u[2]+h[6]*u[7]+h[7]*u[12]+h[8]*u[17],h[5]*u[3]+h[6]*u[8]+h[7]*u[13]+h[8]*u[18],h[5]*u[4]+h[6]*u[9]+h[7]*u[14]+h[8]*u[19]+h[9],h[10]*u[0]+h[11]*u[5]+h[12]*u[10]+h[13]*u[15],h[10]*u[1]+h[11]*u[6]+h[12]*u[11]+h[13]*u[16],h[10]*u[2]+h[11]*u[7]+h[12]*u[12]+h[13]*u[17],h[10]*u[3]+h[11]*u[8]+h[12]*u[13]+h[13]*u[18],h[10]*u[4]+h[11]*u[9]+h[12]*u[14]+h[13]*u[19]+h[14],h[15]*u[0]+h[16]*u[5]+h[17]*u[10]+h[18]*u[15],h[15]*u[1]+h[16]*u[6]+h[17]*u[11]+h[18]*u[16],h[15]*u[2]+h[16]*u[7]+h[17]*u[12]+h[18]*u[17],h[15]*u[3]+h[16]*u[8]+h[17]*u[13]+h[18]*u[18],h[15]*u[4]+h[16]*u[9]+h[17]*u[14]+h[18]*u[19]+h[19]]),this._dirty=!0,this}});f.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],f.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],f.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],f.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],f.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],f.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],f.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],f.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],f.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],f.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],f.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],r.exports=f},39298:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(72283),f=new d({initialize:function(o,n,h){this._rgb=[0,0,0],this.onChangeCallback=x,this.dirty=!1,this.set(o,n,h)},set:function(u,o,n){return u===void 0&&(u=0),o===void 0&&(o=0),n===void 0&&(n=0),this._rgb=[u,o,n],this.onChange(),this},equals:function(u,o,n){var h=this._rgb;return h[0]===u&&h[1]===o&&h[2]===n},onChange:function(){this.dirty=!0;var u=this._rgb;this.onChangeCallback.call(this,u[0],u[1],u[2])},r:{get:function(){return this._rgb[0]},set:function(u){this._rgb[0]=u,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(u){this._rgb[1]=u,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(u){this._rgb[2]=u,this.onChange()}},destroy:function(){this.onChangeCallback=null}});r.exports=f},84093:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};r.exports=T},32058:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(97328),x=i(59994),f=i(73174),u=i(28417),o=function(n,h,p,a){return p===void 0&&(p=0),a===void 0&&(a=0),u(n,x(h)+p),f(n,d(h)+a),n};r.exports=o},85535:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(97328),x=i(40163),f=i(73174),u=i(74465),o=function(n,h,p,a){return p===void 0&&(p=0),a===void 0&&(a=0),u(n,x(h)-p),f(n,d(h)+a),n};r.exports=o},9605:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(97328),x=i(70271),f=i(73174),u=i(19298),o=function(n,h,p,a){return p===void 0&&(p=0),a===void 0&&(a=0),u(n,x(h)+p),f(n,d(h)+a),n};r.exports=o},22529:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(21843),x=i(59994),f=i(29568),u=function(o,n,h,p){return h===void 0&&(h=0),p===void 0&&(p=0),d(o,x(n)+h,f(n)+p),o};r.exports=u},5739:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(29568),x=i(40163),f=i(81711),u=i(74465),o=function(n,h,p,a){return p===void 0&&(p=0),a===void 0&&(a=0),u(n,x(h)-p),f(n,d(h)+a),n};r.exports=o},40327:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(84093),x=[];x[d.BOTTOM_CENTER]=i(32058),x[d.BOTTOM_LEFT]=i(85535),x[d.BOTTOM_RIGHT]=i(9605),x[d.CENTER]=i(22529),x[d.LEFT_CENTER]=i(5739),x[d.RIGHT_CENTER]=i(27683),x[d.TOP_CENTER]=i(96439),x[d.TOP_LEFT]=i(81447),x[d.TOP_RIGHT]=i(47888),x[d.LEFT_BOTTOM]=x[d.BOTTOM_LEFT],x[d.LEFT_TOP]=x[d.TOP_LEFT],x[d.RIGHT_BOTTOM]=x[d.BOTTOM_RIGHT],x[d.RIGHT_TOP]=x[d.TOP_RIGHT];var f=function(u,o,n,h,p){return x[n](u,o,h,p)};r.exports=f},27683:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(29568),x=i(70271),f=i(81711),u=i(19298),o=function(n,h,p,a){return p===void 0&&(p=0),a===void 0&&(a=0),u(n,x(h)+p),f(n,d(h)+a),n};r.exports=o},96439:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(59994),x=i(47196),f=i(28417),u=i(84349),o=function(n,h,p,a){return p===void 0&&(p=0),a===void 0&&(a=0),f(n,d(h)+p),u(n,x(h)-a),n};r.exports=o},81447:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(40163),x=i(47196),f=i(74465),u=i(84349),o=function(n,h,p,a){return p===void 0&&(p=0),a===void 0&&(a=0),f(n,d(h)-p),u(n,x(h)-a),n};r.exports=o},47888:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(70271),x=i(47196),f=i(19298),u=i(84349),o=function(n,h,p,a){return p===void 0&&(p=0),a===void 0&&(a=0),f(n,d(h)+p),u(n,x(h)-a),n};r.exports=o},46997:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BottomCenter:i(32058),BottomLeft:i(85535),BottomRight:i(9605),Center:i(22529),LeftCenter:i(5739),QuickSet:i(40327),RightCenter:i(27683),TopCenter:i(96439),TopLeft:i(81447),TopRight:i(47888)}},93545:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(84093),x=i(98611),f={In:i(46997),To:i(86639)};f=x(!1,f,d),r.exports=f},27118:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(97328),x=i(59994),f=i(28417),u=i(84349),o=function(n,h,p,a){return p===void 0&&(p=0),a===void 0&&(a=0),f(n,x(h)+p),u(n,d(h)+a),n};r.exports=o},84469:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(97328),x=i(40163),f=i(74465),u=i(84349),o=function(n,h,p,a){return p===void 0&&(p=0),a===void 0&&(a=0),f(n,x(h)-p),u(n,d(h)+a),n};r.exports=o},51577:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(97328),x=i(70271),f=i(19298),u=i(84349),o=function(n,h,p,a){return p===void 0&&(p=0),a===void 0&&(a=0),f(n,x(h)+p),u(n,d(h)+a),n};r.exports=o},90271:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(97328),x=i(40163),f=i(73174),u=i(19298),o=function(n,h,p,a){return p===void 0&&(p=0),a===void 0&&(a=0),u(n,x(h)-p),f(n,d(h)+a),n};r.exports=o},30466:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(29568),x=i(40163),f=i(81711),u=i(19298),o=function(n,h,p,a){return p===void 0&&(p=0),a===void 0&&(a=0),u(n,x(h)-p),f(n,d(h)+a),n};r.exports=o},50087:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(40163),x=i(47196),f=i(19298),u=i(84349),o=function(n,h,p,a){return p===void 0&&(p=0),a===void 0&&(a=0),f(n,d(h)-p),u(n,x(h)-a),n};r.exports=o},82590:(r,T,i)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(84093),x=[];x[d.BOTTOM_CENTER]=i(27118),x[d.BOTTOM_LEFT]=i(84469),x[d.BOTTOM_RIGHT]=i(51577),x[d.LEFT_BOTTOM]=i(90271),x[d.LEFT_CENTER]=i(30466),x[d.LEFT_TOP]=i(50087),x[d.RIGHT_BOTTOM]=i(13555),x[d.RIGHT_CENTER]=i(99049),x[d.RIGHT_TOP]=i(67788),x[d.TOP_CENTER]=i(78170),x[d.TOP_LEFT]=i(54145),x[d.TOP_RIGHT]=i(75548);var f=function(u,o,n,h,p){return x[n](u,o,h,p)};r.exports=f},13555:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(97328),x=i(70271),f=i(73174),u=i(74465),o=function(n,h,p,a){return p===void 0&&(p=0),a===void 0&&(a=0),u(n,x(h)+p),f(n,d(h)+a),n};r.exports=o},99049:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(29568),x=i(70271),f=i(81711),u=i(74465),o=function(n,h,p,a){return p===void 0&&(p=0),a===void 0&&(a=0),u(n,x(h)+p),f(n,d(h)+a),n};r.exports=o},67788:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(70271),x=i(47196),f=i(74465),u=i(84349),o=function(n,h,p,a){return p===void 0&&(p=0),a===void 0&&(a=0),f(n,d(h)+p),u(n,x(h)-a),n};r.exports=o},78170:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(59994),x=i(47196),f=i(73174),u=i(28417),o=function(n,h,p,a){return p===void 0&&(p=0),a===void 0&&(a=0),u(n,d(h)+p),f(n,x(h)-a),n};r.exports=o},54145:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(40163),x=i(47196),f=i(73174),u=i(74465),o=function(n,h,p,a){return p===void 0&&(p=0),a===void 0&&(a=0),u(n,d(h)-p),f(n,x(h)-a),n};r.exports=o},75548:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(70271),x=i(47196),f=i(73174),u=i(19298),o=function(n,h,p,a){return p===void 0&&(p=0),a===void 0&&(a=0),u(n,d(h)+p),f(n,x(h)-a),n};r.exports=o},86639:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BottomCenter:i(27118),BottomLeft:i(84469),BottomRight:i(51577),LeftBottom:i(90271),LeftCenter:i(30466),LeftTop:i(50087),QuickSet:i(82590),RightBottom:i(13555),RightCenter:i(99049),RightTop:i(67788),TopCenter:i(78170),TopLeft:i(54145),TopRight:i(75548)}},21843:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(28417),x=i(81711),f=function(u,o,n){return d(u,o),x(u,n)};r.exports=f},97328:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.y+i.height-i.height*i.originY};r.exports=T},7126:(r,T,i)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(97328),x=i(40163),f=i(70271),u=i(47196),o=i(74118),n=function(h,p){p===void 0&&(p=new o);var a=x(h),c=u(h);return p.x=a,p.y=c,p.width=f(h)-a,p.height=d(h)-c,p};r.exports=n},59994:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.x-i.width*i.originX+i.width*.5};r.exports=T},29568:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.y-i.height*i.originY+i.height*.5};r.exports=T},40163:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.x-i.width*i.originX};r.exports=T},52088:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.width*i.originX};r.exports=T},23379:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.height*i.originY};r.exports=T},70271:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.x+i.width-i.width*i.originX};r.exports=T},47196:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.y-i.height*i.originY};r.exports=T},73174:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return i.y=d-i.height+i.height*i.originY,i};r.exports=T},28417:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){var x=i.width*i.originX;return i.x=d+x-i.width*.5,i};r.exports=T},81711:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){var x=i.height*i.originY;return i.y=d+x-i.height*.5,i};r.exports=T},74465:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return i.x=d+i.width*i.originX,i};r.exports=T},19298:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return i.x=d-i.width+i.width*i.originX,i};r.exports=T},84349:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return i.y=d+i.height*i.originY,i};r.exports=T},15252:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CenterOn:i(21843),GetBottom:i(97328),GetBounds:i(7126),GetCenterX:i(59994),GetCenterY:i(29568),GetLeft:i(40163),GetOffsetX:i(52088),GetOffsetY:i(23379),GetRight:i(70271),GetTop:i(47196),SetBottom:i(73174),SetCenterX:i(28417),SetCenterY:i(81711),SetLeft:i(74465),SetRight:i(19298),SetTop:i(84349)}},70616:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCrisp:function(i){var d=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return d.forEach(function(x){i.style["image-rendering"]=x}),i.style.msInterpolationMode="nearest-neighbor",i},setBicubic:function(i){return i.style["image-rendering"]="auto",i.style.msInterpolationMode="bicubic",i}};r.exports=T},61068:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(86459),x=i(8213),f=[],u=!1,o=function(){var n=function(P,M,E,w,R){M===void 0&&(M=1),E===void 0&&(E=1),w===void 0&&(w=d.CANVAS),R===void 0&&(R=!1);var O,A=a(w);return A===null?(A={parent:P,canvas:document.createElement("canvas"),type:w},w===d.CANVAS&&f.push(A),O=A.canvas):(A.parent=P,O=A.canvas),R&&(A.parent=O),O.width=M,O.height=E,u&&w===d.CANVAS&&x.disable(O.getContext("2d",{willReadFrequently:!1})),O},h=function(P,M,E){return n(P,M,E,d.CANVAS)},p=function(P,M,E){return n(P,M,E,d.WEBGL)},a=function(P){if(P===void 0&&(P=d.CANVAS),P===d.WEBGL)return null;for(var M=0;M<f.length;M++){var E=f[M];if(!E.parent&&E.type===P)return E}return null},c=function(P){var M=P instanceof HTMLCanvasElement;f.forEach(function(E){(M&&E.canvas===P||!M&&E.parent===P)&&(E.parent=null,E.canvas.width=1,E.canvas.height=1)})},v=function(){var P=0;return f.forEach(function(M){M.parent&&P++}),P},g=function(){return f.length-v()},m=function(){u=!0},y=function(){u=!1};return{create2D:h,create:n,createWebGL:p,disableSmoothing:m,enableSmoothing:y,first:a,free:g,pool:f,remove:c,total:v}};r.exports=o()},8213:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="",i=function(){var d=function(o){for(var n=["i","webkitI","msI","mozI","oI"],h=0;h<n.length;h++){var p=n[h]+"mageSmoothingEnabled";if(p in o)return p}return null},x=function(o){return T===""&&(T=d(o)),T&&(o[T]=!0),o},f=function(o){return T===""&&(T=d(o)),T&&(o[T]=!1),o},u=function(o){return T!==null?o[T]:null};return{disable:f,enable:x,getPrefix:d,isEnabled:u}};r.exports=i()},59271:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return d===void 0&&(d="none"),i.style.msTouchAction=d,i.style["ms-touch-action"]=d,i.style["touch-action"]=d,i};r.exports=T},36505:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){d===void 0&&(d="none");var x=["-webkit-","-khtml-","-moz-","-ms-",""];return x.forEach(function(f){i.style[f+"user-select"]=d}),i.style["-webkit-touch-callout"]=d,i.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",i};r.exports=T},23514:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CanvasInterpolation:i(70616),CanvasPool:i(61068),Smoothing:i(8213),TouchAction:i(59271),UserSelect:i(36505)}},27119:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(22946),f=i(5657),u=i(24650),o=i(68033),n=new d({initialize:function(p,a,c,v){p===void 0&&(p=0),a===void 0&&(a=0),c===void 0&&(c=0),v===void 0&&(v=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(p,a,c,v)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(h,p,a,c,v){return c===void 0&&(c=255),v===void 0&&(v=!0),this._locked=!0,this.red=h,this.green=p,this.blue=a,this.alpha=c,this._locked=!1,this.update(v)},setGLTo:function(h,p,a,c){return c===void 0&&(c=1),this._locked=!0,this.redGL=h,this.greenGL=p,this.blueGL=a,this.alphaGL=c,this._locked=!1,this.update(!0)},setFromRGB:function(h){return this._locked=!0,this.red=h.r,this.green=h.g,this.blue=h.b,h.hasOwnProperty("a")&&(this.alpha=h.a),this._locked=!1,this.update(!0)},setFromHSV:function(h,p,a){return u(h,p,a,this)},update:function(h){if(h===void 0&&(h=!1),this._locked)return this;var p=this.r,a=this.g,c=this.b,v=this.a;return this._color=x(p,a,c),this._color32=f(p,a,c,v),this._rgba="rgba("+p+","+a+","+c+","+v/255+")",h&&o(p,a,c,this),this},updateHSV:function(){var h=this.r,p=this.g,a=this.b;return o(h,p,a,this),this},clone:function(){return new n(this.r,this.g,this.b,this.a)},gray:function(h){return this.setTo(h,h,h)},random:function(h,p){h===void 0&&(h=0),p===void 0&&(p=255);var a=Math.floor(h+Math.random()*(p-h)),c=Math.floor(h+Math.random()*(p-h)),v=Math.floor(h+Math.random()*(p-h));return this.setTo(a,c,v)},randomGray:function(h,p){h===void 0&&(h=0),p===void 0&&(p=255);var a=Math.floor(h+Math.random()*(p-h));return this.setTo(a,a,a)},saturate:function(h){return this.s+=h/100,this},desaturate:function(h){return this.s-=h/100,this},lighten:function(h){return this.v+=h/100,this},darken:function(h){return this.v-=h/100,this},brighten:function(h){var p=this.r,a=this.g,c=this.b;return p=Math.max(0,Math.min(255,p-Math.round(255*-(h/100)))),a=Math.max(0,Math.min(255,a-Math.round(255*-(h/100)))),c=Math.max(0,Math.min(255,c-Math.round(255*-(h/100)))),this.setTo(p,a,c)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(h){this.gl[0]=Math.min(Math.abs(h),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(h){this.gl[1]=Math.min(Math.abs(h),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(h){this.gl[2]=Math.min(Math.abs(h),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(h){this.gl[3]=Math.min(Math.abs(h),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(h){h=Math.floor(Math.abs(h)),this.r=Math.min(h,255),this.gl[0]=h/255,this.update(!0)}},green:{get:function(){return this.g},set:function(h){h=Math.floor(Math.abs(h)),this.g=Math.min(h,255),this.gl[1]=h/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(h){h=Math.floor(Math.abs(h)),this.b=Math.min(h,255),this.gl[2]=h/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(h){h=Math.floor(Math.abs(h)),this.a=Math.min(h,255),this.gl[3]=h/255,this.update()}},h:{get:function(){return this._h},set:function(h){this._h=h,u(h,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(h){this._s=h,u(this._h,h,this._v,this)}},v:{get:function(){return this._v},set:function(h){this._v=h,u(this._h,this._s,h,this)}}});r.exports=n},30245:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(22946),x=function(f){f===void 0&&(f=1024);var u=[],o=255,n,h=255,p=0,a=0;for(n=0;n<=o;n++)u.push({r:h,g:n,b:a,color:d(h,n,a)});for(p=255,n=o;n>=0;n--)u.push({r:n,g:p,b:a,color:d(n,p,a)});for(h=0,n=0;n<=o;n++,p--)u.push({r:h,g:p,b:n,color:d(h,p,n)});for(p=0,a=255,n=0;n<=o;n++,a--,h++)u.push({r:h,g:p,b:a,color:d(h,p,a)});if(f===1024)return u;var c=[],v=0,g=1024/f;for(n=0;n<f;n++)c.push(u[Math.floor(v)]),v+=g;return c};r.exports=x},86672:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var d={r:i>>16&255,g:i>>8&255,b:i&255,a:255};return i>16777215&&(d.a=i>>>24),d};r.exports=T},25409:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var d=i.toString(16);return d.length===1?"0"+d:d};r.exports=T},22946:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return i<<16|d<<8|x};r.exports=T},5657:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){return f<<24|i<<16|d<<8|x};r.exports=T},74777:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(27119),x=i(59998),f=function(u,o,n){var h=n,p=n,a=n;if(o!==0){var c=n<.5?n*(1+o):n+o-n*o,v=2*n-c;h=x(v,c,u+1/3),p=x(v,c,u),a=x(v,c,u-1/3)}var g=new d;return g.setGLTo(h,p,a,1)};r.exports=f},89263:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(24650),x=function(f,u){f===void 0&&(f=1),u===void 0&&(u=1);for(var o=[],n=0;n<=359;n++)o.push(d(n/359,f,u));return o};r.exports=x},24650:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(22946);function x(u,o,n,h){var p=(u+o*6)%6,a=Math.min(p,4-p,1);return Math.round(255*(h-h*n*Math.max(0,a)))}var f=function(u,o,n,h){o===void 0&&(o=1),n===void 0&&(n=1);var p=x(5,u,o,n),a=x(3,u,o,n),c=x(1,u,o,n);return h?h.setTo?h.setTo(p,a,c,h.alpha,!0):(h.r=p,h.g=a,h.b=c,h.color=d(p,a,c),h):{r:p,g:a,b:c,color:d(p,a,c)}};r.exports=f},91487:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(27119),x=function(f){var u=new d;f=f.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,c,v,g){return c+c+v+v+g+g});var o=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(f);if(o){var n=parseInt(o[1],16),h=parseInt(o[2],16),p=parseInt(o[3],16);u.setTo(n,h,p)}return u};r.exports=x},59998:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return x<0&&(x+=1),x>1&&(x-=1),x<.16666666666666666?i+(d-i)*6*x:x<.5?d:x<.6666666666666666?i+(d-i)*(.6666666666666666-x)*6:i};r.exports=T},74853:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(27119),x=i(15978),f=function(u){var o=x(u);return new d(o.r,o.g,o.b,o.a)};r.exports=f},15978:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i>16777215?{a:i>>>24,r:i>>16&255,g:i>>8&255,b:i&255}:{a:255,r:i>>16&255,g:i>>8&255,b:i&255}};r.exports=T},53756:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(42798),x=function(o,n,h,p,a,c,v,g){v===void 0&&(v=100),g===void 0&&(g=0);var m=g/v;return{r:d(o,p,m),g:d(n,a,m),b:d(h,c,m)}},f=function(o,n,h,p){return h===void 0&&(h=100),p===void 0&&(p=0),x(o.r,o.g,o.b,n.r,n.g,n.b,h,p)},u=function(o,n,h,p,a,c){return a===void 0&&(a=100),c===void 0&&(c=0),x(o.r,o.g,o.b,n,h,p,a,c)};r.exports={RGBWithRGB:x,ColorWithRGB:u,ColorWithColor:f}},73904:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(27119),x=function(f){return new d(f.r,f.g,f.b,f.a)};r.exports=x},26841:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(27119),x=function(f){var u=new d,o=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(f.toLowerCase());if(o){var n=parseInt(o[1],10),h=parseInt(o[2],10),p=parseInt(o[3],10),a=o[4]!==void 0?parseFloat(o[4]):1;u.setTo(n,h,p,a*255)}return u};r.exports=x},68033:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){f===void 0&&(f={h:0,s:0,v:0}),i/=255,d/=255,x/=255;var u=Math.min(i,d,x),o=Math.max(i,d,x),n=o-u,h=0,p=o===0?0:n/o,a=o;return o!==u&&(o===i?h=(d-x)/n+(d<x?6:0):o===d?h=(x-i)/n+2:o===x&&(h=(i-d)/n+4),h/=6),f.hasOwnProperty("_h")?(f._h=h,f._s=p,f._v=a):(f.h=h,f.s=p,f.v=a),f};r.exports=T},4880:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(25409),x=function(f,u,o,n,h){return n===void 0&&(n=255),h===void 0&&(h="#"),h==="#"?"#"+((1<<24)+(f<<16)+(u<<8)+o).toString(16).slice(1,7):"0x"+d(n)+d(f)+d(u)+d(o)};r.exports=x},37243:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(17489),x=i(27119),f=function(u,o){return u===void 0&&(u=0),o===void 0&&(o=255),new x(d(u,o),d(u,o),d(u,o))};r.exports=f},93222:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(91487),x=i(74853),f=i(73904),u=i(26841),o=function(n){var h=typeof n;switch(h){case"string":return n.substr(0,3).toLowerCase()==="rgb"?u(n):d(n);case"number":return x(n);case"object":return f(n)}};r.exports=o},95509:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(27119);d.ColorSpectrum=i(30245),d.ColorToRGBA=i(86672),d.ComponentToHex=i(25409),d.GetColor=i(22946),d.GetColor32=i(5657),d.HexStringToColor=i(91487),d.HSLToColor=i(74777),d.HSVColorWheel=i(89263),d.HSVToRGB=i(24650),d.HueToComponent=i(59998),d.IntegerToColor=i(74853),d.IntegerToRGB=i(15978),d.Interpolate=i(53756),d.ObjectToColor=i(73904),d.RandomRGB=i(37243),d.RGBStringToColor=i(26841),d.RGBToHSV=i(68033),d.RGBToString=i(4880),d.ValueToColor=i(93222),r.exports=d},24816:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Align:i(93545),BaseShader:i(31053),Bounds:i(15252),Canvas:i(23514),Color:i(95509),ColorMatrix:i(65246),Masks:i(93310),RGB:i(39298)}},76756:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(61286),f=new d({initialize:function(o,n,h,p,a,c){n||(n=o.sys.make.image({x:h,y:p,key:a,frame:c,add:!1})),this.bitmapMask=n,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(u){this.bitmapMask=u},preRenderWebGL:function(u,o,n){u.pipelines.BITMAPMASK_PIPELINE.beginMask(this,o,n)},postRenderWebGL:function(u,o,n){u.pipelines.BITMAPMASK_PIPELINE.endMask(this,o,n)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});x.register("bitmapMask",function(u,o,n,h,p){return new f(this.scene,u,o,n,h,p)}),r.exports=f},63037:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=new d({initialize:function(u,o){this.geometryMask=o,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(f){return this.geometryMask=f,this},setInvertAlpha:function(f){return f===void 0&&(f=!0),this.invertAlpha=f,this},preRenderWebGL:function(f,u,o){var n=f.gl;f.flush(),f.maskStack.length===0&&(n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),f.maskCount=0),f.currentCameraMask.mask!==this&&(f.currentMask.mask=this),f.maskStack.push({mask:this,camera:o}),this.applyStencil(f,o,!0),f.maskCount++},applyStencil:function(f,u,o){var n=f.gl,h=this.geometryMask,p=f.maskCount,a=255;n.colorMask(!1,!1,!1,!1),o?(n.stencilFunc(n.EQUAL,p,a),n.stencilOp(n.KEEP,n.KEEP,n.INCR),p++):(n.stencilFunc(n.EQUAL,p+1,a),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),this.level=p,h.renderWebGL(f,h,u),f.flush(),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),this.invertAlpha?n.stencilFunc(n.NOTEQUAL,p,a):n.stencilFunc(n.EQUAL,p,a)},postRenderWebGL:function(f){var u=f.gl;f.maskStack.pop(),f.maskCount--,f.flush();var o=f.currentMask;if(f.maskStack.length===0)o.mask=null,u.disable(u.STENCIL_TEST);else{var n=f.maskStack[f.maskStack.length-1];n.mask.applyStencil(f,n.camera,!1),f.currentCameraMask.mask!==n.mask?(o.mask=n.mask,o.camera=n.camera):o.mask=null}},preRenderCanvas:function(f,u,o){var n=this.geometryMask;f.currentContext.save(),n.renderCanvas(f,n,o,null,null,!0),f.currentContext.clip()},postRenderCanvas:function(f){f.currentContext.restore()},destroy:function(){this.geometryMask=null}});r.exports=x},93310:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BitmapMask:i(76756),GeometryMask:i(63037)}},31053:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=new d({initialize:function(u,o,n,h){(!o||o==="")&&(o=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!n||n==="")&&(n=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),h===void 0&&(h=null),this.key=u,this.fragmentSrc=o,this.vertexSrc=n,this.uniforms=h}});r.exports=x},99584:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){var x;if(d)typeof d=="string"?x=document.getElementById(d):typeof d=="object"&&d.nodeType===1&&(x=d);else if(i.parentElement||d===null)return i;return x||(x=document.body),x.appendChild(i),i};r.exports=T},85178:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(99584),x=function(f){var u=f.config;if(!(!u.parent||!u.domCreateContainer)){var o=document.createElement("div");o.style.cssText=["display: block;","width: "+f.scale.width+"px;","height: "+f.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+u.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),f.domContainer=o,d(o,u.parent)}};r.exports=x},21546:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(36580),x=function(f){if(document.readyState==="complete"||document.readyState==="interactive"){f();return}var u=function(){document.removeEventListener("deviceready",u,!0),document.removeEventListener("DOMContentLoaded",u,!0),window.removeEventListener("load",u,!0),f()};document.body?d.cordova?document.addEventListener("deviceready",u,!1):(document.addEventListener("DOMContentLoaded",u,!0),window.addEventListener("load",u,!0)):window.setTimeout(u,20)};r.exports=x},74181:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){if(!i)return window.innerHeight;var d=Math.abs(window.orientation),x={w:0,h:0},f=document.createElement("div");return f.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(f),x.w=d===90?f.offsetHeight:window.innerWidth,x.h=d===90?window.innerWidth:f.offsetHeight,document.documentElement.removeChild(f),f=null,Math.abs(window.orientation)!==90?x.h:x.w};r.exports=T},9229:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(55301),x=function(f,u){var o=window.screen,n=o?o.orientation||o.mozOrientation||o.msOrientation:!1;if(n&&typeof n.type=="string")return n.type;if(typeof n=="string")return n;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?d.ORIENTATION.PORTRAIT:d.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return d.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return d.ORIENTATION.LANDSCAPE}else return u>f?d.ORIENTATION.PORTRAIT:d.ORIENTATION.LANDSCAPE};r.exports=x},2893:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var d;return i!==""&&(typeof i=="string"?d=document.getElementById(i):i&&i.nodeType===1&&(d=i)),d||(d=document.body),d};r.exports=T},89200:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var d="";try{if(window.DOMParser){var x=new DOMParser;d=x.parseFromString(i,"text/xml")}else d=new ActiveXObject("Microsoft.XMLDOM"),d.loadXML(i)}catch{d=null}return!d||!d.documentElement||d.getElementsByTagName("parsererror").length?null:d};r.exports=T},55638:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){i.parentNode&&i.parentNode.removeChild(i)};r.exports=T},27385:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(72283),f=new d({initialize:function(){this.isRunning=!1,this.callback=x,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var o=this;this.step=function n(h){o.callback(h),o.isRunning&&(o.timeOutID=window.requestAnimationFrame(n))},this.stepTimeout=function n(){o.isRunning&&(o.timeOutID=window.setTimeout(n,o.delay)),o.callback(window.performance.now())}},start:function(u,o,n){this.isRunning||(this.callback=u,this.isSetTimeOut=o,this.delay=n,this.isRunning=!0,this.timeOutID=o?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=x}});r.exports=f},3590:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={AddToDOM:i(99584),DOMContentLoaded:i(21546),GetInnerHeight:i(74181),GetScreenOrientation:i(9229),GetTarget:i(2893),ParseXML:i(89200),RemoveFromDOM:i(55638),RequestAnimationFrame:i(27385)};r.exports=d},78491:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(6659),f=i(91963),u=new d({Extends:x,initialize:function(){x.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});f.register("EventEmitter",u,"events"),r.exports=u},95146:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={EventEmitter:i(78491)}},20170:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(47551),f=i(47406),u=new d({Extends:x,initialize:function(n,h){h===void 0&&(h=1),x.call(this,f.BARREL,n),this.amount=h}});r.exports=u},51182:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(47551),f=i(47406),u=new d({Extends:x,initialize:function(n,h,p,a,c,v,g){p===void 0&&(p=1),a===void 0&&(a=1),c===void 0&&(c=1),v===void 0&&(v=1),g===void 0&&(g=4),x.call(this,f.BLOOM,n),this.steps=g,this.offsetX=p,this.offsetY=a,this.blurStrength=c,this.strength=v,this.glcolor=[1,1,1],h!=null&&(this.color=h)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}}});r.exports=u},51498:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(47551),f=i(47406),u=new d({Extends:x,initialize:function(n,h,p,a,c,v,g){h===void 0&&(h=0),p===void 0&&(p=2),a===void 0&&(a=2),c===void 0&&(c=1),g===void 0&&(g=4),x.call(this,f.BLUR,n),this.quality=h,this.x=p,this.y=a,this.steps=g,this.strength=c,this.glcolor=[1,1,1],v!=null&&(this.color=v)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}}});r.exports=u},12042:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(47551),f=i(47406),u=new d({Extends:x,initialize:function(n,h,p,a,c,v,g,m){h===void 0&&(h=.5),p===void 0&&(p=1),a===void 0&&(a=.2),c===void 0&&(c=!1),v===void 0&&(v=1),g===void 0&&(g=1),m===void 0&&(m=1),x.call(this,f.BOKEH,n),this.radius=h,this.amount=p,this.contrast=a,this.isTiltShift=c,this.strength=m,this.blurX=v,this.blurY=g}});r.exports=u},69900:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(47551),f=i(47406),u=new d({Extends:x,initialize:function(n,h,p,a,c,v){h===void 0&&(h=8),c===void 0&&(c=1),v===void 0&&(v=.005),x.call(this,f.CIRCLE,n),this.scale=c,this.feather=v,this.thickness=h,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],p!=null&&(this.color=p),a!=null&&(this.backgroundColor=a)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}},backgroundColor:{get:function(){var o=this.glcolor2;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor2;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(o){this.glcolor2[3]=o}}});r.exports=u},48991:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(65246),f=i(47406),u=new d({Extends:x,initialize:function(n){x.call(this),this.type=f.COLOR_MATRIX,this.gameObject=n,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});r.exports=u},47551:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=new d({initialize:function(u,o){this.type=u,this.gameObject=o,this.active=!0},setActive:function(f){return this.active=f,this},destroy:function(){this.gameObject=null,this.active=!1}});r.exports=x},47909:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(47551),f=i(47406),u=new d({Extends:x,initialize:function(n,h,p,a){h===void 0&&(h="__WHITE"),p===void 0&&(p=.005),a===void 0&&(a=.005),x.call(this,f.DISPLACEMENT,n),this.x=p,this.y=a,this.glTexture,this.setTexture(h)},setTexture:function(o){var n=this.gameObject.scene.sys.textures.getFrame(o);return n&&(this.glTexture=n.glTexture),this}});r.exports=u},18919:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(47551),f=i(47406),u=new d({Extends:x,initialize:function(n,h,p,a,c){p===void 0&&(p=4),a===void 0&&(a=0),c===void 0&&(c=!1),x.call(this,f.GLOW,n),this.outerStrength=p,this.innerStrength=a,this.knockout=c,this.glcolor=[1,1,1,1],h!==void 0&&(this.color=h)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}}});r.exports=u},62494:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(47551),f=i(47406),u=new d({Extends:x,initialize:function(n,h,p,a,c,v,g,m,y){a===void 0&&(a=.2),c===void 0&&(c=0),v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=1),y===void 0&&(y=0),x.call(this,f.GRADIENT,n),this.alpha=a,this.size=y,this.fromX=c,this.fromY=v,this.toX=g,this.toY=m,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],h!=null&&(this.color1=h),p!=null&&(this.color2=p)},color1:{get:function(){var o=this.glcolor1;return(o[0]<<16)+(o[1]<<8)+(o[2]|0)},set:function(o){var n=this.glcolor1;n[0]=o>>16&255,n[1]=o>>8&255,n[2]=o&255}},color2:{get:function(){var o=this.glcolor2;return(o[0]<<16)+(o[1]<<8)+(o[2]|0)},set:function(o){var n=this.glcolor2;n[0]=o>>16&255,n[1]=o>>8&255,n[2]=o&255}}});r.exports=u},68897:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(47551),f=i(47406),u=new d({Extends:x,initialize:function(n,h){h===void 0&&(h=1),x.call(this,f.PIXELATE,n),this.amount=h}});r.exports=u},58575:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(47551),f=i(47406),u=new d({Extends:x,initialize:function(n,h,p,a,c,v,g,m){h===void 0&&(h=0),p===void 0&&(p=0),a===void 0&&(a=.1),c===void 0&&(c=1),g===void 0&&(g=6),m===void 0&&(m=1),x.call(this,f.SHADOW,n),this.x=h,this.y=p,this.decay=a,this.power=c,this.glcolor=[0,0,0,1],this.samples=g,this.intensity=m,v!==void 0&&(this.color=v)},color:{get:function(){var o=this.glcolor;return(o[0]*255<<16)+(o[1]*255<<8)+(o[2]*255|0)},set:function(o){var n=this.glcolor;n[0]=(o>>16&255)/255,n[1]=(o>>8&255)/255,n[2]=(o&255)/255}}});r.exports=u},33755:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(47551),f=i(47406),u=new d({Extends:x,initialize:function(n,h,p,a,c){h===void 0&&(h=.5),p===void 0&&(p=.5),a===void 0&&(a=3),c===void 0&&(c=!1),x.call(this,f.SHINE,n),this.speed=h,this.lineWidth=p,this.gradient=a,this.reveal=c}});r.exports=u},24949:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(47551),f=i(47406),u=new d({Extends:x,initialize:function(n,h,p,a,c){h===void 0&&(h=.5),p===void 0&&(p=.5),a===void 0&&(a=.5),c===void 0&&(c=.5),x.call(this,f.VIGNETTE,n),this.x=h,this.y=p,this.radius=a,this.strength=c}});r.exports=u},66241:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(47551),f=i(47406),u=new d({Extends:x,initialize:function(n,h,p,a,c){h===void 0&&(h=.1),p===void 0&&(p=0),a===void 0&&(a=0),c===void 0&&(c=!1),x.call(this,f.WIPE,n),this.progress=0,this.wipeWidth=h,this.direction=p,this.axis=a,this.reveal=c}});r.exports=u},47406:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};r.exports=T},96910:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(98611),x=i(47406),f={Barrel:i(20170),Controller:i(47551),Bloom:i(51182),Blur:i(51498),Bokeh:i(12042),Circle:i(69900),ColorMatrix:i(48991),Displacement:i(47909),Glow:i(18919),Gradient:i(62494),Pixelate:i(68897),Shadow:i(58575),Shine:i(33755),Vignette:i(24949),Wipe:i(66241)};f=d(!1,f,x),r.exports=f},88933:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(95723),x=i(20494),f=function(u,o,n){o.x=x(n,"x",0),o.y=x(n,"y",0),o.depth=x(n,"depth",0),o.flipX=x(n,"flipX",!1),o.flipY=x(n,"flipY",!1);var h=x(n,"scale",null);typeof h=="number"?o.setScale(h):h!==null&&(o.scaleX=x(h,"x",1),o.scaleY=x(h,"y",1));var p=x(n,"scrollFactor",null);typeof p=="number"?o.setScrollFactor(p):p!==null&&(o.scrollFactorX=x(p,"x",1),o.scrollFactorY=x(p,"y",1)),o.rotation=x(n,"rotation",0);var a=x(n,"angle",null);a!==null&&(o.angle=a),o.alpha=x(n,"alpha",1);var c=x(n,"origin",null);if(typeof c=="number")o.setOrigin(c);else if(c!==null){var v=x(c,"x",.5),g=x(c,"y",.5);o.setOrigin(v,g)}o.blendMode=x(n,"blendMode",d.NORMAL),o.visible=x(n,"visible",!0);var m=x(n,"add",!0);return m&&u.sys.displayList.add(o),o.preUpdate&&u.sys.updateList.add(o),o};r.exports=f},32291:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(20494),x=function(f,u){var o=d(u,"anims",null);if(o===null)return f;if(typeof o=="string")f.anims.play(o);else if(typeof o=="object"){var n=f.anims,h=d(o,"key",void 0);if(h){var p=d(o,"startFrame",void 0),a=d(o,"delay",0),c=d(o,"repeat",0),v=d(o,"repeatDelay",0),g=d(o,"yoyo",!1),m=d(o,"play",!1),y=d(o,"delayedPlay",0),P={key:h,delay:a,repeat:c,repeatDelay:v,yoyo:g,startFrame:p};m?n.play(P):y>0?n.playAfterDelay(P,y):n.load(P)}}return f};r.exports=x},91713:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(71207),f=i(91963),u=i(56631),o=i(7599),n=i(17922),h=new d({Extends:x,initialize:function(a){x.call(this,a),this.sortChildrenFlag=!1,this.scene=a,this.systems=a.sys,this.events=a.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(o.BOOT,this.boot,this),this.events.on(o.START,this.start,this)},boot:function(){this.events.once(o.DESTROY,this.destroy,this)},addChildCallback:function(p){p.displayList&&p.displayList!==this&&p.removeFromDisplayList(),p.parentContainer&&p.parentContainer.remove(p),p.displayList||(this.queueDepthSort(),p.displayList=this,p.emit(u.ADDED_TO_SCENE,p,this.scene),this.events.emit(o.ADDED_TO_SCENE,p,this.scene))},removeChildCallback:function(p){this.queueDepthSort(),p.displayList=null,p.emit(u.REMOVED_FROM_SCENE,p,this.scene),this.events.emit(o.REMOVED_FROM_SCENE,p,this.scene)},start:function(){this.events.once(o.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(n(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(p,a){return p._depth-a._depth},getChildren:function(){return this.list},shutdown:function(){for(var p=this.list;p.length;)p[0].destroy(!0);this.events.off(o.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(o.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});f.register("DisplayList",h,"displayList"),r.exports=h},89980:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(48129),f=i(81078),u=i(6659),o=i(56631),n=i(7599),h=new d({Extends:u,initialize:function(a,c){u.call(this),this.scene=a,this.displayList=null,this.type=c,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(o.ADDED_TO_SCENE,this.addedToScene,this),this.on(o.REMOVED_FROM_SCENE,this.removedFromScene,this),a.sys.queueDepthSort()},setActive:function(p){return this.active=p,this},setName:function(p){return this.name=p,this},setState:function(p){return this.state=p,this},setDataEnabled:function(){return this.data||(this.data=new f(this)),this},setData:function(p,a){return this.data||(this.data=new f(this)),this.data.set(p,a),this},incData:function(p,a){return this.data||(this.data=new f(this)),this.data.inc(p,a),this},toggleData:function(p){return this.data||(this.data=new f(this)),this.data.toggle(p),this},getData:function(p){return this.data||(this.data=new f(this)),this.data.get(p)},setInteractive:function(p,a,c){return this.scene.sys.input.enable(this,p,a,c),this},disableInteractive:function(){return this.scene.sys.input.disable(this),this},removeInteractive:function(){return this.scene.sys.input.clear(this),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return x(this)},willRender:function(p){var a=this.displayList&&this.displayList.active?this.displayList.willRender(p):!0;return!(!a||h.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&p.id)},getIndexList:function(){for(var p=this,a=this.parentContainer,c=[];a&&(c.unshift(a.getIndex(p)),p=a,a.parentContainer);)a=a.parentContainer;return this.displayList?c.unshift(this.displayList.getIndex(p)):c.unshift(this.scene.sys.displayList.getIndex(p)),c},addToDisplayList:function(p){return p===void 0&&(p=this.scene.sys.displayList),this.displayList&&this.displayList!==p&&this.removeFromDisplayList(),p.exists(this)||(this.displayList=p,p.add(this,!0),p.queueDepthSort(),this.emit(o.ADDED_TO_SCENE,this,this.scene),p.events.emit(n.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var p=this.displayList||this.scene.sys.displayList;return p&&p.exists(this)&&(p.remove(this,!0),p.queueDepthSort(),this.displayList=null,this.emit(o.REMOVED_FROM_SCENE,this,this.scene),p.events.emit(n.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},destroy:function(p){!this.scene||this.ignoreDestroy||(p===void 0&&(p=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(o.DESTROY,this,p),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});h.RENDER_MASK=15,r.exports=h},99325:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(91963),f=i(7599),u=new d({initialize:function(n){this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.displayList,this.updateList,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});u.register=function(o,n){u.prototype.hasOwnProperty(o)||(u.prototype[o]=n)},u.remove=function(o){u.prototype.hasOwnProperty(o)&&delete u.prototype[o]},x.register("GameObjectCreator",u,"make"),r.exports=u},61286:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(91963),f=i(7599),u=new d({initialize:function(n){this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.displayList,this.updateList,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},existing:function(o){return(o.renderCanvas||o.renderWebGL)&&this.displayList.add(o),o.preUpdate&&this.updateList.add(o),o},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});u.register=function(o,n){u.prototype.hasOwnProperty(o)||(u.prototype[o]=n)},u.remove=function(o){u.prototype.hasOwnProperty(o)&&delete u.prototype[o]},x.register("GameObjectFactory",u,"add"),r.exports=u},73329:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(69360),x=new d,f=new d,u=new d,o={camera:x,sprite:f,calc:u},n=function(h,p,a){var c=x,v=f,g=u;return v.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY),c.copyFrom(p.matrix),a?(c.multiplyWithOffset(a,-p.scrollX*h.scrollFactorX,-p.scrollY*h.scrollFactorY),v.e=h.x,v.f=h.y):(v.e-=p.scrollX*h.scrollFactorX,v.f-=p.scrollY*h.scrollFactorY),c.multiply(v,g),o};r.exports=n},92034:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(74623),f=i(91963),u=i(7599),o=new d({Extends:x,initialize:function(h){x.call(this),this.checkQueue=!0,this.scene=h,this.systems=h.sys,h.sys.events.once(u.BOOT,this.boot,this),h.sys.events.on(u.START,this.start,this)},boot:function(){this.systems.events.once(u.DESTROY,this.destroy,this)},start:function(){var n=this.systems.events;n.on(u.PRE_UPDATE,this.update,this),n.on(u.UPDATE,this.sceneUpdate,this),n.once(u.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(n,h){for(var p=this._active,a=p.length,c=0;c<a;c++){var v=p[c];v.active&&v.preUpdate.call(v,n,h)}},shutdown:function(){for(var n=this._active.length;n--;)this._active[n].destroy(!0);for(n=this._pending.length;n--;)this._pending[n].destroy(!0);for(n=this._destroy.length;n--;)this._destroy[n].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var h=this.systems.events;h.off(u.PRE_UPDATE,this.update,this),h.off(u.UPDATE,this.sceneUpdate,this),h.off(u.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(u.START,this.start,this),this.scene=null,this.systems=null}});f.register("UpdateList",o,"updateList"),r.exports=o},8810:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f,u,o,n,h,p,a,c,v,g,m,y){var P=x.x-d.displayOriginX+u,M=x.y-d.displayOriginY+o,E=P+x.w,w=M+x.h,R=n.getXRound(P,M,h),O=n.getYRound(P,M,h),A=n.getXRound(P,w,h),F=n.getYRound(P,w,h),L=n.getXRound(E,w,h),I=n.getYRound(E,w,h),B=n.getXRound(E,M,h),b=n.getYRound(E,M,h);i.batchQuad(d,R,O,A,F,L,I,B,b,f.u0,f.v0,f.u1,f.v1,p,a,c,v,g,m,y)};r.exports=T},82173:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){if(x===void 0&&(x=!1),f===void 0)return f={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},f;var u=i.text,o=u.length,n=i.maxWidth,h=i.wordWrapCharCode,p=Number.MAX_VALUE,a=Number.MAX_VALUE,c=0,v=0,g=i.fontData.chars,m=i.fontData.lineHeight,y=i.letterSpacing,P=i.lineSpacing,M=0,E=0,w=0,R=null,O=i._align,A=0,F=0,L=i.fontSize/i.fontData.size,I=L*i.scaleX,B=L*i.scaleY,b=null,k=0,U=[],Y=Number.MAX_VALUE,H=0,z=0,V=0,D,G=[],N=[],X=null;if(n>0){for(D=0;D<o;D++){if(w=u.charCodeAt(D),w===10){X!==null&&(G.push({word:X.word,i:X.i,x:X.x*I,y:X.y*B,w:X.w*I,h:X.h*B,cr:!0}),X=null),M=0,E+=m+P,b=null;continue}if(R=g[w],!!R){if(b!==null)var W=R.kerning[k];w===h?X!==null&&(G.push({word:X.word,i:X.i,x:X.x*I,y:X.y*B,w:X.w*I,h:X.h*B,cr:!1}),X=null):(X===null&&(X={word:"",i:D,x:M,y:E,w:0,h:m,cr:!1}),X.word=X.word.concat(u[D]),X.w+=R.xOffset+R.xAdvance+(W!==void 0?W:0)),M+=R.xAdvance+y,b=R,k=w}}X!==null&&G.push({word:X.word,i:X.i,x:X.x*I,y:X.y*B,w:X.w*I,h:X.h*B,cr:!1}),M=0,E=0,b=null,k=0;var $,K=0,j=[];for(D=0;D<G.length;D++){var Z=G[D],J=Z.x,Q=Z.x+Z.w;if($){var _=J-($.x+$.w);K=J-(_+$.w),$=null}var q=J-K,et=Q-K;q>n||et>n?(j.push(Z.i-1),Z.cr?(j.push(Z.i+Z.word.length),K=0,$=null):$=Z):Z.cr&&(j.push(Z.i+Z.word.length),K=0,$=null)}var ot=function(Lt,de,me){return Lt.substr(0,de)+me+Lt.substr(de+1)};for(D=j.length-1;D>=0;D--)u=ot(u,j[D],`
`);f.wrappedText=u,o=u.length,G=[],X=null}var ut=0;for(D=0;D<o;D++){if(w=u.charCodeAt(D),w===10){X!==null&&(G.push({word:X.word,i:X.i,x:X.x*I,y:X.y*B,w:X.w*I,h:X.h*B}),X=null),M=0,E+=m+P,b=null,U[z]=V,V>H&&(H=V),V<Y&&(Y=V),z++,V=0;continue}if(R=g[w],!!R){if(A=M,F=E,b!==null){var lt=R.kerning[k];A+=lt!==void 0?lt:0}p>A&&(p=A),a>F&&(a=F);var tt=A+R.xAdvance,at=F+m;c<tt&&(c=tt),v<at&&(v=at);var rt=R.xOffset+R.xAdvance+(lt!==void 0?lt:0);w===h?X!==null&&(G.push({word:X.word,i:X.i,x:X.x*I,y:X.y*B,w:X.w*I,h:X.h*B}),X=null):(X===null&&(X={word:"",i:ut,x:M,y:E,w:0,h:m}),X.word=X.word.concat(u[D]),X.w+=rt),N.push({i:ut,idx:D,char:u[D],code:w,x:(R.xOffset+A)*L,y:(R.yOffset+E)*L,w:R.width*L,h:R.height*L,t:E*L,r:tt*L,b:m*L,line:z,glyph:R}),M+=R.xAdvance+y+(lt!==void 0?lt:0),b=R,k=w,V=tt*L,ut++}}if(X!==null&&G.push({word:X.word,i:X.i,x:X.x*I,y:X.y*B,w:X.w*I,h:X.h*B}),U[z]=V,V>H&&(H=V),V<Y&&(Y=V),O>0)for(var gt=0;gt<N.length;gt++){var mt=N[gt];if(O===1){var zt=(H-U[mt.line])/2;mt.x+=zt,mt.r+=zt}else if(O===2){var bt=H-U[mt.line];mt.x+=bt,mt.r+=bt}}var Et=f.local,xt=f.global,Qt=f.lines;return Et.x=p*L,Et.y=a*L,Et.width=c*L,Et.height=v*L,xt.x=i.x-i._displayOriginX+p*I,xt.y=i.y-i._displayOriginY+a*B,xt.width=c*I,xt.height=v*B,Qt.shortest=Y,Qt.longest=H,Qt.lengths=U,d&&(Et.x=Math.ceil(Et.x),Et.y=Math.ceil(Et.y),Et.width=Math.ceil(Et.width),Et.height=Math.ceil(Et.height),xt.x=Math.ceil(xt.x),xt.y=Math.ceil(xt.y),xt.width=Math.ceil(xt.width),xt.height=Math.ceil(xt.height),Qt.shortest=Math.ceil(Y),Qt.longest=Math.ceil(H)),x&&(i._displayOriginX=i.originX*Et.width,i._displayOriginY=i.originY*Et.height,xt.x=i.x-i._displayOriginX*i.scaleX,xt.y=i.y-i._displayOriginY*i.scaleY,d&&(xt.x=Math.ceil(xt.x),xt.y=Math.ceil(xt.y))),f.words=G,f.characters=N,f.lines.height=m,f.scale=L,f.scaleX=i.scaleX,f.scaleY=i.scaleY,f};r.exports=T},68298:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(31476),x=function(f,u,o,n,h,p,a){var c=f.sys.textures.get(o),v=c.get(n),g=f.sys.cache.xml.get(h);if(v&&g){var m=d(g,v,p,a,c);return f.sys.cache.bitmapFont.add(u,{data:m,texture:o,frame:n,fromAtlas:!0}),!0}else return!1};r.exports=x},39860:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(10850),x=function(f,u){var o=u.width,n=u.height,h=Math.floor(o/2),p=Math.floor(n/2),a=d(u,"chars","");if(a!==""){var c=d(u,"image",""),v=f.sys.textures.getFrame(c),g=v.cutX,m=v.cutY,y=v.source.width,P=v.source.height,M=d(u,"offset.x",0),E=d(u,"offset.y",0),w=d(u,"spacing.x",0),R=d(u,"spacing.y",0),O=d(u,"lineSpacing",0),A=d(u,"charsPerRow",null);A===null&&(A=y/o,A>a.length&&(A=a.length));for(var F=M,L=E,I={retroFont:!0,font:c,size:o,lineHeight:n+O,chars:{}},B=0,b=0;b<a.length;b++){var k=a.charCodeAt(b),U=(g+F)/y,Y=(m+L)/P,H=(g+F+o)/y,z=(m+L+n)/P;I.chars[k]={x:F,y:L,width:o,height:n,centerX:h,centerY:p,xOffset:0,yOffset:0,xAdvance:o,data:{},kerning:{},u0:U,v0:Y,u1:H,v1:z},B++,B===A?(B=0,F=M,L+=n+R):F+=o+w}var V={data:I,frame:null,texture:c};return V}};r.exports=x},31476:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(d,x){return parseInt(d.getAttribute(x),10)}var i=function(d,x,f,u,o){f===void 0&&(f=0),u===void 0&&(u=0);var n=x.cutX,h=x.cutY,p=x.source.width,a=x.source.height,c=x.sourceIndex,v={},g=d.getElementsByTagName("info")[0],m=d.getElementsByTagName("common")[0];v.font=g.getAttribute("face"),v.size=T(g,"size"),v.lineHeight=T(m,"lineHeight")+u,v.chars={};var y=d.getElementsByTagName("char"),P=x!==void 0&&x.trimmed;if(P)var M=x.height,E=x.width;for(var w=0;w<y.length;w++){var R=y[w],O=T(R,"id"),A=String.fromCharCode(O),F=T(R,"x"),L=T(R,"y"),I=T(R,"width"),B=T(R,"height");P&&(F<E&&(E=F),L<M&&(M=L)),P&&M!==0&&E!==0&&(F-=x.x,L-=x.y);var b=(n+F)/p,k=(h+L)/a,U=(n+F+I)/p,Y=(h+L+B)/a;if(v.chars[O]={x:F,y:L,width:I,height:B,centerX:Math.floor(I/2),centerY:Math.floor(B/2),xOffset:T(R,"xoffset"),yOffset:T(R,"yoffset"),xAdvance:T(R,"xadvance")+f,data:{},kerning:{},u0:b,v0:k,u1:U,v1:Y},o&&I!==0&&B!==0){var H=o.add(A,c,F,L,I,B);H&&H.setUVs(I,B,b,k,U,Y)}}var z=d.getElementsByTagName("kerning");for(w=0;w<z.length;w++){var V=z[w],D=T(V,"first"),G=T(V,"second"),N=T(V,"amount");v.chars[G].kerning[D]=N}return v};r.exports=i},55873:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(66863),x=i(98611),f={Parse:i(39860)};f=x(!1,f,d),r.exports=f},66863:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};r.exports=T},13468:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(44616),x=i(56694),f=i(88899),u=new x({Extends:d,Mixins:[f],initialize:function(n,h,p,a,c,v,g){d.call(this,n,h,p,a,c,v,g),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(o,n){return this.cropWidth=o,this.cropHeight=n,this},setDisplayCallback:function(o){return this.displayCallback=o,this},setScrollX:function(o){return this.scrollX=o,this},setScrollY:function(o){return this.scrollY=o,this}});r.exports=u},93438:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(49584),x=function(f,u,o,n){var h=u._text,p=h.length,a=f.currentContext;if(!(p===0||!d(f,a,u,o,n))){o.addToRenderList(u);var c=u.fromAtlas?u.frame:u.texture.frames.__BASE,v=u.displayCallback,g=u.callbackData,m=u.fontData.chars,y=u.fontData.lineHeight,P=u._letterSpacing,M=0,E=0,w=0,R=null,O=0,A=0,F=0,L=0,I=0,B=0,b=null,k=0,U=u.frame.source.image,Y=c.cutX,H=c.cutY,z=0,V=0,D=u._fontSize/u.fontData.size,G=u._align,N=0,X=0;u.getTextBounds(!1);var W=u._bounds.lines;G===1?X=(W.longest-W.lengths[0])/2:G===2&&(X=W.longest-W.lengths[0]),a.translate(-u.displayOriginX,-u.displayOriginY);var $=o.roundPixels;u.cropWidth>0&&u.cropHeight>0&&(a.beginPath(),a.rect(0,0,u.cropWidth,u.cropHeight),a.clip());for(var K=0;K<p;K++){if(V=D,z=0,w=h.charCodeAt(K),w===10){N++,G===1?X=(W.longest-W.lengths[N])/2:G===2&&(X=W.longest-W.lengths[N]),M=0,E+=y,b=null;continue}if(R=m[w],!!R){if(O=Y+R.x,A=H+R.y,F=R.width,L=R.height,I=R.xOffset+M-u.scrollX,B=R.yOffset+E-u.scrollY,b!==null){var j=R.kerning[k];I+=j!==void 0?j:0}if(v){g.index=K,g.charCode=w,g.x=I,g.y=B,g.scale=V,g.rotation=z,g.data=R.data;var Z=v(g);I=Z.x,B=Z.y,V=Z.scale,z=Z.rotation}I*=V,B*=V,I+=X,M+=R.xAdvance+P+(j!==void 0?j:0),b=R,k=w,!(F===0||L===0||w===32)&&($&&(I=Math.round(I),B=Math.round(B)),a.save(),a.translate(I,B),a.rotate(z),a.scale(V,V),a.drawImage(U,O,A,F,L,0,0,F,L),a.restore())}}a.restore()}};r.exports=x},67513:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(13468),x=i(88933),f=i(99325),u=i(20494);f.register("dynamicBitmapText",function(o,n){o===void 0&&(o={});var h=u(o,"font",""),p=u(o,"text",""),a=u(o,"size",!1),c=new d(this.scene,0,0,h,p,a);return n!==void 0&&(o.add=n),x(this.scene,c,o),c})},94145:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(13468),x=i(61286);x.register("dynamicBitmapText",function(f,u,o,n,h){return this.displayList.add(new d(this.scene,f,u,o,n,h))})},88899:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(16873),f=i(93438),r.exports={renderWebGL:x,renderCanvas:f}},16873:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(73329),x=i(69360),f=i(75512),u=new x,o=function(n,h,p,a){var c=h.text,v=c.length;if(v!==0){p.addToRenderList(h);var g=n.pipelines.set(h.pipeline,h),m=d(h,p,a);n.pipelines.preBatch(h);var y=m.sprite,P=m.calc,M=u,E=h.cropWidth>0||h.cropHeight>0;E&&(g.flush(),n.pushScissor(P.tx,P.ty,h.cropWidth*P.scaleX,h.cropHeight*P.scaleY));var w=h.frame,R=w.glTexture,O=h.tintFill,A=f.getTintAppendFloatAlpha(h.tintTopLeft,p.alpha*h._alphaTL),F=f.getTintAppendFloatAlpha(h.tintTopRight,p.alpha*h._alphaTR),L=f.getTintAppendFloatAlpha(h.tintBottomLeft,p.alpha*h._alphaBL),I=f.getTintAppendFloatAlpha(h.tintBottomRight,p.alpha*h._alphaBR),B=g.setGameObject(h),b=0,k=0,U=0,Y=0,H=h.letterSpacing,z,V=0,D=0,G,N=h.scrollX,X=h.scrollY,W=h.fontData,$=W.chars,K=W.lineHeight,j=h.fontSize/W.size,Z=0,J=h._align,Q=0,_=0,q=h.getTextBounds(!1);h.maxWidth>0&&(c=q.wrappedText,v=c.length);var et=h._bounds.lines;J===1?_=(et.longest-et.lengths[0])/2:J===2&&(_=et.longest-et.lengths[0]);for(var ot=p.roundPixels,ut=h.displayCallback,lt=h.callbackData,tt=0;tt<v;tt++){if(U=c.charCodeAt(tt),U===10){Q++,J===1?_=(et.longest-et.lengths[Q])/2:J===2&&(_=et.longest-et.lengths[Q]),b=0,k+=K,G=null;continue}if(z=$[U],!!z){V=z.width,D=z.height;var at=z.xOffset+b-N,rt=z.yOffset+k-X;if(G!==null){var gt=z.kerning[Y];at+=gt!==void 0?gt:0}if(b+=z.xAdvance+H,G=z,Y=U,!(V===0||D===0||U===32)){if(j=h.fontSize/h.fontData.size,Z=0,ut){lt.color=0,lt.tint.topLeft=A,lt.tint.topRight=F,lt.tint.bottomLeft=L,lt.tint.bottomRight=I,lt.index=tt,lt.charCode=U,lt.x=at,lt.y=rt,lt.scale=j,lt.rotation=Z,lt.data=z.data;var mt=ut(lt);at=mt.x,rt=mt.y,j=mt.scale,Z=mt.rotation,mt.color?(A=mt.color,F=mt.color,L=mt.color,I=mt.color):(A=mt.tint.topLeft,F=mt.tint.topRight,L=mt.tint.bottomLeft,I=mt.tint.bottomRight),A=f.getTintAppendFloatAlpha(A,p.alpha*h._alphaTL),F=f.getTintAppendFloatAlpha(F,p.alpha*h._alphaTR),L=f.getTintAppendFloatAlpha(L,p.alpha*h._alphaBL),I=f.getTintAppendFloatAlpha(I,p.alpha*h._alphaBR)}at*=j,rt*=j,at-=h.displayOriginX,rt-=h.displayOriginY,at+=_,M.applyITRS(at,rt,Z,j,j),P.multiply(M,y);var zt=z.u0,bt=z.v0,Et=z.u1,xt=z.v1,Qt=V,Lt=D,de=y.e,me=y.f,Qe=Lt*y.c+y.e,Dn=Lt*y.d+y.f,In=Qt*y.a+Lt*y.c+y.e,Bn=Qt*y.b+Lt*y.d+y.f,bn=Qt*y.a+y.e,Gn=Qt*y.b+y.f;ot&&(de=Math.round(de),me=Math.round(me),Qe=Math.round(Qe),Dn=Math.round(Dn),In=Math.round(In),Bn=Math.round(Bn),bn=Math.round(bn),Gn=Math.round(Gn)),g.shouldFlush(6)&&(g.flush(),B=g.setGameObject(h)),g.batchQuad(h,de,me,Qe,Dn,In,Bn,bn,Gn,zt,bt,Et,xt,A,F,L,I,O,R,B)}}}E&&(g.flush(),n.popScissor()),n.pipelines.postBatch(h)}};r.exports=o},44616:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(82897),f=i(64937),u=i(89980),o=i(82173),n=i(68298),h=i(31476),p=i(74118),a=i(84557),c=new d({Extends:u,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Texture,f.Tint,f.Transform,f.Visible,a],initialize:function(g,m,y,P,M,E,w){M===void 0&&(M=""),w===void 0&&(w=0),u.call(this,g,"BitmapText"),this.font=P;var R=this.scene.sys.cache.bitmapFont.get(P);R||console.warn("Invalid BitmapText key: "+P),this.fontData=R.data,this._text="",this._fontSize=E||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=w,this._bounds=o(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=R.fromAtlas,this.setTexture(R.texture,R.frame),this.setPosition(m,y),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(M)},setLeftAlign:function(){return this._align=c.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=c.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=c.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(v){return this._fontSize=v,this._dirty=!0,this},setLetterSpacing:function(v){return v===void 0&&(v=0),this._letterSpacing=v,this._dirty=!0,this},setLineSpacing:function(v){return v===void 0&&(v=0),this.lineSpacing=v,this},setText:function(v){return!v&&v!==0&&(v=""),Array.isArray(v)&&(v=v.join(`
`)),v!==this.text&&(this._text=v.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(v,g,m,y){return v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=.5),this.dropShadowX=v,this.dropShadowY=g,this.dropShadowColor=m,this.dropShadowAlpha=y,this},setCharacterTint:function(v,g,m,y,P,M,E){v===void 0&&(v=0),g===void 0&&(g=1),m===void 0&&(m=!1),y===void 0&&(y=-1),P===void 0&&(P=y,M=y,E=y);var w=this.text.length;g===-1&&(g=w),v<0&&(v=w+v),v=x(v,0,w-1);for(var R=x(v+g,v,w),O=this.charColors,A=v;A<R;A++){var F=O[A];if(y===-1)O[A]=null;else{var L=m?1:0;F?(F.tintEffect=L,F.tintTL=y,F.tintTR=P,F.tintBL=M,F.tintBR=E):O[A]={tintEffect:L,tintTL:y,tintTR:P,tintBL:M,tintBR:E}}}return this},setWordTint:function(v,g,m,y,P,M,E){g===void 0&&(g=1);for(var w=this.getTextBounds(),R=w.words,O=typeof v=="number",A=0,F=0;F<R.length;F++){var L=R[F];if((O&&F===v||!O&&L.word===v)&&(this.setCharacterTint(L.i,L.word.length,m,y,P,M,E),A++,A===g))return this}return this},getTextBounds:function(v){var g=this._bounds;return(this._dirty||v||this.scaleX!==g.scaleX||this.scaleY!==g.scaleY)&&(o(this,v,!0,g),this._dirty=!1),g},getCharacterAt:function(v,g,m){for(var y=this.getLocalPoint(v,g,null,m),P=this.getTextBounds(),M=P.characters,E=new p,w=0;w<M.length;w++){var R=M[w];if(E.setTo(R.x,R.t,R.r-R.x,R.b),E.contains(y.x,y.y))return R}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(v,g,m){if(g===void 0&&(g=this._fontSize),m===void 0&&(m=this._align),v!==this.font){var y=this.scene.sys.cache.bitmapFont.get(v);y&&(this.font=v,this.fontData=y.data,this._fontSize=g,this._align=m,this.fromAtlas=y.fromAtlas===!0,this.setTexture(y.texture,y.frame),o(this,!1,!0,this._bounds))}return this},setMaxWidth:function(v,g){return this._maxWidth=v,this._dirty=!0,g!==void 0&&(this.wordWrapCharCode=g),this},align:{set:function(v){this._align=v,this._dirty=!0},get:function(){return this._align}},text:{set:function(v){this.setText(v)},get:function(){return this._text}},fontSize:{set:function(v){this._fontSize=v,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(v){this._letterSpacing=v,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(v){this._lineSpacing=v,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(v){this._maxWidth=v,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var v=f.ToJSON(this),g={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return v.data=g,v},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});c.ALIGN_LEFT=0,c.ALIGN_CENTER=1,c.ALIGN_RIGHT=2,c.ParseFromAtlas=n,c.ParseXMLBitmapFont=h,r.exports=c},97545:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(49584),x=function(f,u,o,n){var h=u._text,p=h.length,a=f.currentContext;if(!(p===0||!d(f,a,u,o,n))){o.addToRenderList(u);var c=u.fromAtlas?u.frame:u.texture.frames.__BASE,v=u.fontData.chars,g=u.fontData.lineHeight,m=u._letterSpacing,y=u._lineSpacing,P=0,M=0,E=0,w=null,R=0,O=0,A=0,F=0,L=0,I=0,B=null,b=0,k=c.source.image,U=c.cutX,Y=c.cutY,H=u._fontSize/u.fontData.size,z=u._align,V=0,D=0,G=u.getTextBounds(!1);u.maxWidth>0&&(h=G.wrappedText,p=h.length);var N=u._bounds.lines;z===1?D=(N.longest-N.lengths[0])/2:z===2&&(D=N.longest-N.lengths[0]),a.translate(-u.displayOriginX,-u.displayOriginY);for(var X=o.roundPixels,W=0;W<p;W++){if(E=h.charCodeAt(W),E===10){V++,z===1?D=(N.longest-N.lengths[V])/2:z===2&&(D=N.longest-N.lengths[V]),P=0,M+=g+y,B=null;continue}if(w=v[E],!!w){if(R=U+w.x,O=Y+w.y,A=w.width,F=w.height,L=w.xOffset+P,I=w.yOffset+M,B!==null){var $=w.kerning[b];L+=$!==void 0?$:0}L*=H,I*=H,L+=D,P+=w.xAdvance+m+($!==void 0?$:0),B=w,b=E,!(A===0||F===0||E===32)&&(X&&(L=Math.round(L),I=Math.round(I)),a.save(),a.translate(L,I),a.scale(H,H),a.drawImage(k,R,O,A,F,0,0,A,F),a.restore())}}a.restore()}};r.exports=x},95499:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(44616),x=i(88933),f=i(99325),u=i(20494),o=i(10850);f.register("bitmapText",function(n,h){n===void 0&&(n={});var p=o(n,"font",""),a=u(n,"text",""),c=u(n,"size",!1),v=o(n,"align",0),g=new d(this.scene,0,0,p,a,c,v);return h!==void 0&&(n.add=h),x(this.scene,g,n),g})},21797:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(44616),x=i(61286);x.register("bitmapText",function(f,u,o,n,h,p){return this.displayList.add(new d(this.scene,f,u,o,n,h,p))})},84557:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(26372),f=i(97545),r.exports={renderWebGL:x,renderCanvas:f}},26372:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(8810),x=i(73329),f=i(75512),u=function(o,n,h,p){var a=n._text,c=a.length;if(c!==0){h.addToRenderList(n);var v=o.pipelines.set(n.pipeline,n),g=x(n,h,p).calc;o.pipelines.preBatch(n);var m=h.roundPixels,y=h.alpha,P=n.charColors,M=n.tintFill,E=f.getTintAppendFloatAlpha,w=E(n.tintTopLeft,y*n._alphaTL),R=E(n.tintTopRight,y*n._alphaTR),O=E(n.tintBottomLeft,y*n._alphaBL),A=E(n.tintBottomRight,y*n._alphaBR),F=n.frame.glTexture,L=v.setGameObject(n),I=n.getTextBounds(!1),B,b,k,U=I.characters,Y=n.dropShadowX,H=n.dropShadowY,z=Y!==0||H!==0;if(z){var V=n.dropShadowColor,D=n.dropShadowAlpha,G=E(V,y*D*n._alphaTL),N=E(V,y*D*n._alphaTR),X=E(V,y*D*n._alphaBL),W=E(V,y*D*n._alphaBR);for(B=0;B<U.length;B++)b=U[B],k=b.glyph,!(b.code===32||k.width===0||k.height===0)&&d(v,n,b,k,Y,H,g,m,G,N,X,W,1,F,L)}for(B=0;B<U.length;B++)if(b=U[B],k=b.glyph,!(b.code===32||k.width===0||k.height===0))if(v.shouldFlush(6)&&(v.flush(),L=v.setGameObject(n)),P[b.i]){var $=P[b.i],K=$.tintEffect,j=E($.tintTL,y*n._alphaTL),Z=E($.tintTR,y*n._alphaTR),J=E($.tintBL,y*n._alphaBL),Q=E($.tintBR,y*n._alphaBR);d(v,n,b,k,0,0,g,m,j,Z,J,Q,K,F,L)}else d(v,n,b,k,0,0,g,m,w,R,O,A,M,F,L);o.pipelines.postBatch(n)}};r.exports=u},52816:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(92246),x=i(41664),f=i(56694),u=i(64937),o=i(82047),n=i(89980),h=i(71207),p=new f({Extends:n,Mixins:[u.Alpha,u.BlendMode,u.Depth,u.Mask,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Size,u.Texture,u.Transform,u.Visible,d],initialize:function(c,v,g,m,y){n.call(this,c,"Blitter"),this.setTexture(m,y),this.setPosition(v,g),this.initPipeline(),this.initPostPipeline(),this.children=new h,this.renderList=[],this.dirty=!1},create:function(a,c,v,g,m){g===void 0&&(g=!0),m===void 0&&(m=this.children.length),v===void 0?v=this.frame:v instanceof o||(v=this.texture.get(v));var y=new x(this,a,c,v,g);return this.children.addAt(y,m,!1),this.dirty=!0,y},createFromCallback:function(a,c,v,g){for(var m=this.createMultiple(c,v,g),y=0;y<m.length;y++){var P=m[y];a.call(this,P,y)}return m},createMultiple:function(a,c,v){c===void 0&&(c=this.frame.name),v===void 0&&(v=!0),Array.isArray(c)||(c=[c]);var g=[],m=this;return c.forEach(function(y){for(var P=0;P<a;P++)g.push(m.create(0,0,y,v))}),g},childCanRender:function(a){return a.visible&&a.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});r.exports=p},33177:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){var u=d.getRenderList();if(u.length!==0){var o=i.currentContext,n=x.alpha*d.alpha;if(n!==0){x.addToRenderList(d),o.globalCompositeOperation=i.blendModes[d.blendMode],o.imageSmoothingEnabled=!d.frame.source.scaleMode;var h=d.x-x.scrollX*d.scrollFactorX,p=d.y-x.scrollY*d.scrollFactorY;o.save(),f&&f.copyToContext(o);for(var a=x.roundPixels,c=0;c<u.length;c++){var v=u[c],g=v.flipX||v.flipY,m=v.frame,y=m.canvasData,P=m.x,M=m.y,E=1,w=1,R=v.alpha*n;R!==0&&(o.globalAlpha=R,g?(v.flipX&&(E=-1,P-=y.width),v.flipY&&(w=-1,M-=y.height),y.width>0&&y.height>0&&(o.save(),o.translate(v.x+h,v.y+p),o.scale(E,w),o.drawImage(m.source.image,y.x,y.y,y.width,y.height,P,M,y.width,y.height),o.restore())):(a&&(P=Math.round(P),M=Math.round(M)),y.width>0&&y.height>0&&o.drawImage(m.source.image,y.x,y.y,y.width,y.height,P+v.x+h,M+v.y+p,y.width,y.height)))}o.restore()}}};r.exports=T},68452:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(52816),x=i(88933),f=i(99325),u=i(20494);f.register("blitter",function(o,n){o===void 0&&(o={});var h=u(o,"key",null),p=u(o,"frame",null),a=new d(this.scene,0,0,h,p);return n!==void 0&&(o.add=n),x(this.scene,a,o),a})},38906:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(52816),x=i(61286);x.register("blitter",function(f,u,o,n){return this.displayList.add(new d(this.scene,f,u,o,n))})},92246:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(89165),f=i(33177),r.exports={renderWebGL:x,renderCanvas:f}},89165:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(69360),x=i(75512),f=new d,u=function(o,n,h,p){var a=n.getRenderList(),c=h.alpha*n.alpha;if(!(a.length===0||c===0)){h.addToRenderList(n);var v=o.pipelines.set(this.pipeline,n),g=h.scrollX*n.scrollFactorX,m=h.scrollY*n.scrollFactorY,y=f.copyFrom(h.matrix);p&&(y.multiplyWithOffset(p,-g,-m),g=0,m=0);var P=n.x-g,M=n.y-m,E=-1,w=!1;o.pipelines.preBatch(n);for(var R=0;R<a.length;R++){var O=a[R],A=O.frame,F=O.alpha*c;if(F!==0){var L=A.width,I=A.height,B=P+O.x+A.x,b=M+O.y+A.y;O.flipX&&(L*=-1,B+=A.width),O.flipY&&(I*=-1,b+=A.height);var k=y.setQuad(B,b,B+L,b+I),U=x.getTintAppendFloatAlpha(O.tint,F);if(A.sourceIndex!==E){var Y=v.setGameObject(n,A);E=A.sourceIndex}v.batchQuad(n,k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],A.u0,A.v0,A.u1,A.v1,U,U,U,U,w,A.glTexture,Y)&&(E=-1)}}o.pipelines.postBatch(n)}};r.exports=u},41664:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(82047),f=new d({initialize:function(o,n,h,p,a){this.parent=o,this.x=n,this.y=h,this.frame=p,this.data={},this.tint=16777215,this._visible=a,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(u){return u===void 0?this.frame=this.parent.frame:u instanceof x&&u.texture===this.parent.texture?this.frame=u:this.frame=this.parent.texture.get(u),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(u,o,n){return this.x=u,this.y=o,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,n&&this.setFrame(n),this},setPosition:function(u,o){return this.x=u,this.y=o,this},setFlipX:function(u){return this.flipX=u,this},setFlipY:function(u){return this.flipY=u,this},setFlip:function(u,o){return this.flipX=u,this.flipY=o,this},setVisible:function(u){return this.visible=u,this},setAlpha:function(u){return this.alpha=u,this},setTint:function(u){return this.tint=u,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(u){this.parent.dirty|=this._visible!==u,this._visible=u}},alpha:{get:function(){return this._alpha},set:function(u){this.parent.dirty|=this._alpha>0!=u>0,this._alpha=u}}});r.exports=f},97123:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(82897),x=2,f={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(u,o,n,h){return u===void 0&&(u=1),o===void 0?this.alpha=u:(this._alphaTL=d(u,0,1),this._alphaTR=d(o,0,1),this._alphaBL=d(n,0,1),this._alphaBR=d(h,0,1)),this},alpha:{get:function(){return this._alpha},set:function(u){var o=d(u,0,1);this._alpha=o,this._alphaTL=o,this._alphaTR=o,this._alphaBL=o,this._alphaBR=o,o===0?this.renderFlags&=~x:this.renderFlags|=x}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(u){var o=d(u,0,1);this._alphaTL=o,o!==0&&(this.renderFlags|=x)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(u){var o=d(u,0,1);this._alphaTR=o,o!==0&&(this.renderFlags|=x)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(u){var o=d(u,0,1);this._alphaBL=o,o!==0&&(this.renderFlags|=x)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(u){var o=d(u,0,1);this._alphaBR=o,o!==0&&(this.renderFlags|=x)}}};r.exports=f},15720:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(82897),x=2,f={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(u){return u===void 0&&(u=1),this.alpha=u,this},alpha:{get:function(){return this._alpha},set:function(u){var o=d(u,0,1);this._alpha=o,o===0?this.renderFlags&=~x:this.renderFlags|=x}}};r.exports=f},69732:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(95723),x={_blendMode:d.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(f){typeof f=="string"&&(f=d[f]),f|=0,f>=-1&&(this._blendMode=f)}},setBlendMode:function(f){return this.blendMode=f,this}};r.exports=x},28284:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(i){this.scaleX=i/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(i){this.scaleY=i/this.height}},setSize:function(i,d){return this.width=i,this.height=d,this},setDisplaySize:function(i,d){return this.displayWidth=i,this.displayHeight=d,this}};r.exports=T},85293:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={texture:null,frame:null,isCropped:!1,setCrop:function(i,d,x,f){if(i===void 0)this.isCropped=!1;else if(this.frame){if(typeof i=="number")this.frame.setCropUVs(this._crop,i,d,x,f,this.flipX,this.flipY);else{var u=i;this.frame.setCropUVs(this._crop,u.x,u.y,u.width,u.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};r.exports=T},14975:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_depth:0,depth:{get:function(){return this._depth},set:function(i){this.displayList&&this.displayList.queueDepthSort(),this._depth=i}},setDepth:function(i){return i===void 0&&(i=0),this.depth=i,this}};r.exports=T},88677:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(96910),f=i(72677),u=new d({initialize:function(n,h){this.gameObject=n,this.isPost=h,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(o){return o===void 0&&(o=0),this.padding=o,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(o){if(!this.isPost){var n=this.gameObject.scene.sys.renderer;n&&n.pipelines?(this.gameObject.pipeline=n.pipelines.FX_PIPELINE,o!==void 0&&(this.padding=o),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var o=this.list,n=0;n<o.length;n++)o[n].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(o){var n;if(this.isPost){var h=this.gameObject.getPostPipeline(String(o.type));for(Array.isArray(h)||(h=[h]),n=0;n<h.length;n++){var p=h[n];if(p.controller===o){this.gameObject.removePostPipeline(p),o.destroy();break}}}else{var a=this.list;for(n=0;n<a.length;n++)a[n]===o&&(f(a,n),o.destroy())}return this.gameObject},disable:function(o){return o===void 0&&(o=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,o&&this.clear(),this.gameObject},add:function(o,n){if(this.isPost){var h=String(o.type);this.gameObject.setPostPipeline(h,n);var p=this.gameObject.getPostPipeline(h);if(p)return Array.isArray(p)&&(p=p.pop()),p.controller=o,o}else return this.enabled||this.enable(),this.list.push(o),o},addGlow:function(o,n,h,p,a,c){return this.add(new x.Glow(this.gameObject,o,n,h,p),{quality:a,distance:c})},addShadow:function(o,n,h,p,a,c,v){return this.add(new x.Shadow(this.gameObject,o,n,h,p,a,c,v))},addPixelate:function(o){return this.add(new x.Pixelate(this.gameObject,o))},addVignette:function(o,n,h,p){return this.add(new x.Vignette(this.gameObject,o,n,h,p))},addShine:function(o,n,h,p){return this.add(new x.Shine(this.gameObject,o,n,h,p))},addBlur:function(o,n,h,p,a,c){return this.add(new x.Blur(this.gameObject,o,n,h,p,a,c))},addGradient:function(o,n,h,p,a,c,v,g){return this.add(new x.Gradient(this.gameObject,o,n,h,p,a,c,v,g))},addBloom:function(o,n,h,p,a,c){return this.add(new x.Bloom(this.gameObject,o,n,h,p,a,c))},addColorMatrix:function(){return this.add(new x.ColorMatrix(this.gameObject))},addCircle:function(o,n,h,p,a){return this.add(new x.Circle(this.gameObject,o,n,h,p,a))},addBarrel:function(o){return this.add(new x.Barrel(this.gameObject,o))},addDisplacement:function(o,n,h){return this.add(new x.Displacement(this.gameObject,o,n,h))},addWipe:function(o,n,h){return this.add(new x.Wipe(this.gameObject,o,n,h))},addReveal:function(o,n,h){return this.add(new x.Wipe(this.gameObject,o,n,h,!0))},addBokeh:function(o,n,h){return this.add(new x.Bokeh(this.gameObject,o,n,h))},addTiltShift:function(o,n,h,p,a,c){return this.add(new x.Bokeh(this.gameObject,o,n,h,!0,p,a,c))},destroy:function(){this.clear(),this.gameObject=null}});r.exports=u},92972:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(i){return this.flipX=i,this},setFlipY:function(i){return this.flipY=i,this},setFlip:function(i,d){return this.flipX=i,this.flipY=d,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};r.exports=T},80693:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(74118),x=i(2386),f=i(93736),u={prepareBoundsOutput:function(o,n){if(n===void 0&&(n=!1),this.rotation!==0&&x(o,this.x,this.y,this.rotation),n&&this.parentContainer){var h=this.parentContainer.getBoundsTransformMatrix();h.transformPoint(o.x,o.y,o)}return o},getCenter:function(o,n){return o===void 0&&(o=new f),o.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,o.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(o,n)},getTopLeft:function(o,n){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX,o.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(o,n)},getTopCenter:function(o,n){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,o.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(o,n)},getTopRight:function(o,n){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX+this.displayWidth,o.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(o,n)},getLeftCenter:function(o,n){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX,o.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(o,n)},getRightCenter:function(o,n){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX+this.displayWidth,o.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(o,n)},getBottomLeft:function(o,n){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX,o.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(o,n)},getBottomCenter:function(o,n){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,o.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(o,n)},getBottomRight:function(o,n){return o||(o=new f),o.x=this.x-this.displayWidth*this.originX+this.displayWidth,o.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(o,n)},getBounds:function(o){o===void 0&&(o=new d);var n,h,p,a,c,v,g,m;if(this.parentContainer){var y=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(o),y.transformPoint(o.x,o.y,o),n=o.x,h=o.y,this.getTopRight(o),y.transformPoint(o.x,o.y,o),p=o.x,a=o.y,this.getBottomLeft(o),y.transformPoint(o.x,o.y,o),c=o.x,v=o.y,this.getBottomRight(o),y.transformPoint(o.x,o.y,o),g=o.x,m=o.y}else this.getTopLeft(o),n=o.x,h=o.y,this.getTopRight(o),p=o.x,a=o.y,this.getBottomLeft(o),c=o.x,v=o.y,this.getBottomRight(o),g=o.x,m=o.y;return o.x=Math.min(n,p,c,g),o.y=Math.min(h,a,v,m),o.width=Math.max(n,p,c,g)-o.x,o.height=Math.max(h,a,v,m)-o.y,o}};r.exports=u},39171:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(76756),x=i(63037),f={mask:null,setMask:function(u){return this.mask=u,this},clearMask:function(u){return u===void 0&&(u=!1),u&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(u,o,n,h,p){return u===void 0&&(this.texture||this.shader||this.geom)&&(u=this),new d(this.scene,u,o,n,h,p)},createGeometryMask:function(u){return u===void 0&&(this.type==="Graphics"||this.geom)&&(u=this),new x(this.scene,u)}};r.exports=f},28072:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(i){this._displayOriginX=i,this.originX=i/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(i){this._displayOriginY=i,this.originY=i/this.height}},setOrigin:function(i,d){return i===void 0&&(i=.5),d===void 0&&(d=i),this.originX=i,this.originY=d,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(i,d){return i===void 0&&(i=0),d===void 0&&(d=i),this.displayOriginX=i,this.displayOriginY=d,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};r.exports=T},54211:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(75606),x=i(63130),f=i(10850),u=i(55303),o=i(93736),n={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:u.PLAYING_FORWARD,setPath:function(h,p){p===void 0&&(p=this.pathConfig);var a=this.pathTween;return a&&a.isPlaying()&&a.stop(),this.path=h,p&&this.startFollow(p),this},setRotateToPath:function(h,p){return p===void 0&&(p=0),this.rotateToPath=h,this.pathRotationOffset=p,this},isFollowing:function(){var h=this.pathTween;return h&&h.isPlaying()},startFollow:function(h,p){h===void 0&&(h={}),p===void 0&&(p=0);var a=this.pathTween;a&&a.isPlaying()&&a.stop(),typeof h=="number"&&(h={duration:h}),h.from=f(h,"from",0),h.to=f(h,"to",1);var c=x(h,"positionOnPath",!1);this.rotateToPath=x(h,"rotateToPath",!1),this.pathRotationOffset=f(h,"rotationOffset",0);var v=f(h,"startAt",p);if(v&&(h.onStart=function(m){var y=m.data[0];y.progress=v,y.elapsed=y.duration*v;var P=y.ease(y.progress);y.current=y.start+(y.end-y.start)*P,y.setTargetValue()}),this.pathOffset||(this.pathOffset=new o(this.x,this.y)),this.pathVector||(this.pathVector=new o),this.pathDelta||(this.pathDelta=new o),this.pathDelta.reset(),h.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(h),this.path.getStartPoint(this.pathOffset),c&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=u.PLAYING_FORWARD,this.rotateToPath){var g=this.path.getPoint(.1);this.rotation=Math.atan2(g.y-this.y,g.x-this.x)+d(this.pathRotationOffset)}return this.pathConfig=h,this},pauseFollow:function(){var h=this.pathTween;return h&&h.isPlaying()&&h.pause(),this},resumeFollow:function(){var h=this.pathTween;return h&&h.isPaused()&&h.resume(),this},stopFollow:function(){var h=this.pathTween;return h&&h.isPlaying()&&h.stop(),this},pathUpdate:function(){var h=this.pathTween;if(h&&h.data){var p=h.data[0],a=this.pathDelta,c=this.pathVector;if(a.copy(c).negate(),p.state===u.COMPLETE){this.path.getPoint(p.end,c),a.add(c),c.add(this.pathOffset),this.setPosition(c.x,c.y);return}else if(p.state!==u.PLAYING_FORWARD&&p.state!==u.PLAYING_BACKWARD)return;this.path.getPoint(h.getValue(),c),a.add(c),c.add(this.pathOffset);var v=this.x,g=this.y;this.setPosition(c.x,c.y);var m=this.x-v,y=this.y-g;if(m===0&&y===0)return;if(p.state!==this._prevDirection){this._prevDirection=p.state;return}this.rotateToPath&&(this.rotation=Math.atan2(y,m)+d(this.pathRotationOffset))}}};r.exports=n},58210:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(28699),x={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(f){this.pipelineData={};var u=this.scene.sys.renderer;if(!u)return!1;var o=u.pipelines;if(o){f===void 0&&(f=o.default);var n=o.get(f);if(n)return this.defaultPipeline=n,this.pipeline=n,!0}return!1},setPipeline:function(f,u,o){var n=this.scene.sys.renderer;if(!n)return this;var h=n.pipelines;if(h){var p=h.get(f);p&&(this.pipeline=p),u&&(this.pipelineData=o?d(u):u)}return this},setPipelineData:function(f,u){var o=this.pipelineData;return u===void 0?delete o[f]:o[f]=u,this},resetPipeline:function(f){return f===void 0&&(f=!1),this.pipeline=this.defaultPipeline,f&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline.name}};r.exports=x},44086:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(28699),x=i(88677),f=i(72677),u={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(o){this.postPipelines=[],this.postPipelineData={},this.postFX=new x(this,!0),o&&(this.preFX=new x(this,!1))},setPostPipeline:function(o,n,h){var p=this.scene.sys.renderer;if(!p)return this;var a=p.pipelines;if(a){Array.isArray(o)||(o=[o]);for(var c=0;c<o.length;c++){var v=a.getPostPipeline(o[c],this,n);v&&this.postPipelines.push(v)}n&&(this.postPipelineData=h?d(n):n)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(o,n){var h=this.postPipelineData;return n===void 0?delete h[o]:h[o]=n,this},getPostPipeline:function(o){for(var n=typeof o=="string",h=this.postPipelines,p=[],a=0;a<h.length;a++){var c=h[a];(n&&c.name===o||!n&&c instanceof o)&&p.push(c)}return p.length===1?p[0]:p},resetPostPipeline:function(o){o===void 0&&(o=!1);for(var n=this.postPipelines,h=0;h<n.length;h++)n[h].destroy();this.postPipelines=[],this.hasPostPipeline=!1,o&&(this.postPipelineData={})},removePostPipeline:function(o){for(var n=typeof o=="string",h=this.postPipelines,p=h.length-1;p>=0;p--){var a=h[p];(n&&a.name===o||!n&&a===o)&&(a.destroy(),f(h,p))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};r.exports=u},45900:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(i,d){return d===void 0&&(d=i),this.scrollFactorX=i,this.scrollFactorY=d,this}};r.exports=T},31654:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(i){this.scaleX=i/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(i){this.scaleY=i/this.frame.realHeight}},setSizeToFrame:function(i){i||(i=this.frame),this.width=i.realWidth,this.height=i.realHeight;var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=this.width,d.hitArea.height=this.height),this},setSize:function(i,d){return this.width=i,this.height=d,this},setDisplaySize:function(i,d){return this.displayWidth=i,this.displayHeight=d,this}};r.exports=T},82081:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(82047),x=8,f={texture:null,frame:null,isCropped:!1,setTexture:function(u,o,n,h){return this.texture=this.scene.sys.textures.get(u),this.setFrame(o,n,h)},setFrame:function(u,o,n){return o===void 0&&(o=!0),n===void 0&&(n=!0),u instanceof d?(this.texture=this.scene.sys.textures.get(u.texture.key),this.frame=u):this.frame=this.texture.get(u),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~x:this.renderFlags|=x,this._sizeComponent&&o&&this.setSizeToFrame(),this._originComponent&&n&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};r.exports=f},21850:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(82047),x=8,f={texture:null,frame:null,isCropped:!1,setCrop:function(u,o,n,h){if(u===void 0)this.isCropped=!1;else if(this.frame){if(typeof u=="number")this.frame.setCropUVs(this._crop,u,o,n,h,this.flipX,this.flipY);else{var p=u;this.frame.setCropUVs(this._crop,p.x,p.y,p.width,p.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(u,o){return this.texture=this.scene.sys.textures.get(u),this.setFrame(o)},setFrame:function(u,o,n){return o===void 0&&(o=!0),n===void 0&&(n=!0),u instanceof d?(this.texture=this.scene.sys.textures.get(u.texture.key),this.frame=u):this.frame=this.texture.get(u),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=~x:this.renderFlags|=x,this._sizeComponent&&o&&this.setSizeToFrame(),this._originComponent&&n&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};r.exports=f},58072:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(i,d,x,f){return i===void 0&&(i=16777215),d===void 0&&(d=i,x=i,f=i),this.tintTopLeft=i,this.tintTopRight=d,this.tintBottomLeft=x,this.tintBottomRight=f,this.tintFill=!1,this},setTintFill:function(i,d,x,f){return this.setTint(i,d,x,f),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(i){this.setTint(i,i,i,i)}},isTinted:{get:function(){var i=16777215;return this.tintFill||this.tintTopLeft!==i||this.tintTopRight!==i||this.tintBottomLeft!==i||this.tintBottomRight!==i}}};r.exports=T},48129:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var d={name:i.name,type:i.type,x:i.x,y:i.y,depth:i.depth,scale:{x:i.scaleX,y:i.scaleY},origin:{x:i.originX,y:i.originY},flipX:i.flipX,flipY:i.flipY,rotation:i.rotation,alpha:i.alpha,visible:i.visible,blendMode:i.blendMode,textureKey:"",frameKey:"",data:{}};return i.texture&&(d.textureKey=i.texture.key,d.frameKey=i.frame.name),d};r.exports=T},56584:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(83392),x=i(69360),f=i(64462),u=i(35786),o=i(62138),n=i(93736),h=4,p={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(a){this._scaleX=a,this._scaleY=a,a===0?this.renderFlags&=~h:this.renderFlags|=h}},scaleX:{get:function(){return this._scaleX},set:function(a){this._scaleX=a,a===0?this.renderFlags&=~h:this._scaleY!==0&&(this.renderFlags|=h)}},scaleY:{get:function(){return this._scaleY},set:function(a){this._scaleY=a,a===0?this.renderFlags&=~h:this._scaleX!==0&&(this.renderFlags|=h)}},angle:{get:function(){return o(this._rotation*d.RAD_TO_DEG)},set:function(a){this.rotation=o(a)*d.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(a){this._rotation=u(a)}},setPosition:function(a,c,v,g){return a===void 0&&(a=0),c===void 0&&(c=a),v===void 0&&(v=0),g===void 0&&(g=0),this.x=a,this.y=c,this.z=v,this.w=g,this},copyPosition:function(a){return a.x!==void 0&&(this.x=a.x),a.y!==void 0&&(this.y=a.y),a.z!==void 0&&(this.z=a.z),a.w!==void 0&&(this.w=a.w),this},setRandomPosition:function(a,c,v,g){return a===void 0&&(a=0),c===void 0&&(c=0),v===void 0&&(v=this.scene.sys.scale.width),g===void 0&&(g=this.scene.sys.scale.height),this.x=a+Math.random()*v,this.y=c+Math.random()*g,this},setRotation:function(a){return a===void 0&&(a=0),this.rotation=a,this},setAngle:function(a){return a===void 0&&(a=0),this.angle=a,this},setScale:function(a,c){return a===void 0&&(a=1),c===void 0&&(c=a),this.scaleX=a,this.scaleY=c,this},setX:function(a){return a===void 0&&(a=0),this.x=a,this},setY:function(a){return a===void 0&&(a=0),this.y=a,this},setZ:function(a){return a===void 0&&(a=0),this.z=a,this},setW:function(a){return a===void 0&&(a=0),this.w=a,this},getLocalTransformMatrix:function(a){return a===void 0&&(a=new x),a.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(a,c){a===void 0&&(a=new x);var v=this.parentContainer;if(!v)return this.getLocalTransformMatrix(a);for(c||(c=new x),a.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);v;)c.applyITRS(v.x,v.y,v._rotation,v._scaleX,v._scaleY),c.multiply(a,a),v=v.parentContainer;return a},getLocalPoint:function(a,c,v,g){v||(v=new n),g||(g=this.scene.sys.cameras.main);var m=g.scrollX,y=g.scrollY,P=a+m*this.scrollFactorX-m,M=c+y*this.scrollFactorY-y;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(P,M,v):f(P,M,this.x,this.y,this.rotation,this.scaleX,this.scaleY,v),this._originComponent&&(v.x+=this._displayOriginX,v.y+=this._displayOriginY),v},getParentRotation:function(){for(var a=0,c=this.parentContainer;c;)a+=c.rotation,c=c.parentContainer;return a}};r.exports=p},69360:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(83392),f=i(93736),u=new d({initialize:function(n,h,p,a,c,v){n===void 0&&(n=1),h===void 0&&(h=0),p===void 0&&(p=0),a===void 0&&(a=1),c===void 0&&(c=0),v===void 0&&(v=0),this.matrix=new Float32Array([n,h,p,a,c,v,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(o){this.matrix[0]=o}},b:{get:function(){return this.matrix[1]},set:function(o){this.matrix[1]=o}},c:{get:function(){return this.matrix[2]},set:function(o){this.matrix[2]=o}},d:{get:function(){return this.matrix[3]},set:function(o){this.matrix[3]=o}},e:{get:function(){return this.matrix[4]},set:function(o){this.matrix[4]=o}},f:{get:function(){return this.matrix[5]},set:function(o){this.matrix[5]=o}},tx:{get:function(){return this.matrix[4]},set:function(o){this.matrix[4]=o}},ty:{get:function(){return this.matrix[5]},set:function(o){this.matrix[5]=o}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var o=this.matrix,n=o[0],h=o[1],p=o[2],a=o[3];return n||h?h>0?Math.acos(n/this.scaleX):-Math.acos(n/this.scaleX):p||a?x.TAU-(a>0?Math.acos(-p/this.scaleY):-Math.acos(p/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var o=this.matrix;return o[0]=1,o[1]=0,o[2]=0,o[3]=1,o[4]=0,o[5]=0,this},translate:function(o,n){var h=this.matrix;return h[4]=h[0]*o+h[2]*n+h[4],h[5]=h[1]*o+h[3]*n+h[5],this},scale:function(o,n){var h=this.matrix;return h[0]*=o,h[1]*=o,h[2]*=n,h[3]*=n,this},rotate:function(o){var n=Math.sin(o),h=Math.cos(o),p=this.matrix,a=p[0],c=p[1],v=p[2],g=p[3];return p[0]=a*h+v*n,p[1]=c*h+g*n,p[2]=a*-n+v*h,p[3]=c*-n+g*h,this},multiply:function(o,n){var h=this.matrix,p=o.matrix,a=h[0],c=h[1],v=h[2],g=h[3],m=h[4],y=h[5],P=p[0],M=p[1],E=p[2],w=p[3],R=p[4],O=p[5],A=n===void 0?h:n.matrix;return A[0]=P*a+M*v,A[1]=P*c+M*g,A[2]=E*a+w*v,A[3]=E*c+w*g,A[4]=R*a+O*v+m,A[5]=R*c+O*g+y,A},multiplyWithOffset:function(o,n,h){var p=this.matrix,a=o.matrix,c=p[0],v=p[1],g=p[2],m=p[3],y=p[4],P=p[5],M=n*c+h*g+y,E=n*v+h*m+P,w=a[0],R=a[1],O=a[2],A=a[3],F=a[4],L=a[5];return p[0]=w*c+R*g,p[1]=w*v+R*m,p[2]=O*c+A*g,p[3]=O*v+A*m,p[4]=F*c+L*g+M,p[5]=F*v+L*m+E,this},transform:function(o,n,h,p,a,c){var v=this.matrix,g=v[0],m=v[1],y=v[2],P=v[3],M=v[4],E=v[5];return v[0]=o*g+n*y,v[1]=o*m+n*P,v[2]=h*g+p*y,v[3]=h*m+p*P,v[4]=a*g+c*y+M,v[5]=a*m+c*P+E,this},transformPoint:function(o,n,h){h===void 0&&(h={x:0,y:0});var p=this.matrix,a=p[0],c=p[1],v=p[2],g=p[3],m=p[4],y=p[5];return h.x=o*a+n*v+m,h.y=o*c+n*g+y,h},invert:function(){var o=this.matrix,n=o[0],h=o[1],p=o[2],a=o[3],c=o[4],v=o[5],g=n*a-h*p;return o[0]=a/g,o[1]=-h/g,o[2]=-p/g,o[3]=n/g,o[4]=(p*v-a*c)/g,o[5]=-(n*v-h*c)/g,this},copyFrom:function(o){var n=this.matrix;return n[0]=o.a,n[1]=o.b,n[2]=o.c,n[3]=o.d,n[4]=o.e,n[5]=o.f,this},copyFromArray:function(o){var n=this.matrix;return n[0]=o[0],n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],this},copyToContext:function(o){var n=this.matrix;return o.transform(n[0],n[1],n[2],n[3],n[4],n[5]),o},setToContext:function(o){return o.setTransform(this),o},copyToArray:function(o){var n=this.matrix;return o===void 0?o=[n[0],n[1],n[2],n[3],n[4],n[5]]:(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5]),o},setTransform:function(o,n,h,p,a,c){var v=this.matrix;return v[0]=o,v[1]=n,v[2]=h,v[3]=p,v[4]=a,v[5]=c,this},decomposeMatrix:function(){var o=this.decomposedMatrix,n=this.matrix,h=n[0],p=n[1],a=n[2],c=n[3],v=h*c-p*a;if(o.translateX=n[4],o.translateY=n[5],h||p){var g=Math.sqrt(h*h+p*p);o.rotation=p>0?Math.acos(h/g):-Math.acos(h/g),o.scaleX=g,o.scaleY=v/g}else if(a||c){var m=Math.sqrt(a*a+c*c);o.rotation=Math.PI*.5-(c>0?Math.acos(-a/m):-Math.acos(a/m)),o.scaleX=v/m,o.scaleY=m}else o.rotation=0,o.scaleX=0,o.scaleY=0;return o},applyITRS:function(o,n,h,p,a){var c=this.matrix,v=Math.sin(h),g=Math.cos(h);return c[4]=o,c[5]=n,c[0]=g*p,c[1]=v*p,c[2]=-v*a,c[3]=g*a,this},applyInverse:function(o,n,h){h===void 0&&(h=new f);var p=this.matrix,a=p[0],c=p[1],v=p[2],g=p[3],m=p[4],y=p[5],P=1/(a*g+v*-c);return h.x=g*P*o+-v*P*n+(y*v-m*g)*P,h.y=a*P*n+-c*P*o+(-y*a+m*c)*P,h},setQuad:function(o,n,h,p,a,c){a===void 0&&(a=!1),c===void 0&&(c=this.quad);var v=this.matrix,g=v[0],m=v[1],y=v[2],P=v[3],M=v[4],E=v[5];return a?(c[0]=Math.round(o*g+n*y+M),c[1]=Math.round(o*m+n*P+E),c[2]=Math.round(o*g+p*y+M),c[3]=Math.round(o*m+p*P+E),c[4]=Math.round(h*g+p*y+M),c[5]=Math.round(h*m+p*P+E),c[6]=Math.round(h*g+n*y+M),c[7]=Math.round(h*m+n*P+E)):(c[0]=o*g+n*y+M,c[1]=o*m+n*P+E,c[2]=o*g+p*y+M,c[3]=o*m+p*P+E,c[4]=h*g+p*y+M,c[5]=h*m+p*P+E,c[6]=h*g+n*y+M,c[7]=h*m+n*P+E),c},getX:function(o,n){return o*this.a+n*this.c+this.e},getY:function(o,n){return o*this.b+n*this.d+this.f},getXRound:function(o,n,h){var p=this.getX(o,n);return h&&(p=Math.round(p)),p},getYRound:function(o,n,h){var p=this.getY(o,n);return h&&(p=Math.round(p)),p},getCSSMatrix:function(){var o=this.matrix;return"matrix("+o[0]+","+o[1]+","+o[2]+","+o[3]+","+o[4]+","+o[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});r.exports=u},59694:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=1,i={_visible:!0,visible:{get:function(){return this._visible},set:function(d){d?(this._visible=!0,this.renderFlags|=T):(this._visible=!1,this.renderFlags&=~T)}},setVisible:function(d){return this.visible=d,this}};r.exports=i},64937:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Alpha:i(97123),AlphaSingle:i(15720),BlendMode:i(69732),ComputedSize:i(28284),Crop:i(85293),Depth:i(14975),Flip:i(92972),FX:i(88677),GetBounds:i(80693),Mask:i(39171),Origin:i(28072),PathFollower:i(54211),Pipeline:i(58210),PostPipeline:i(44086),ScrollFactor:i(45900),Size:i(31654),Texture:i(82081),TextureCrop:i(21850),Tint:i(58072),ToJSON:i(48129),Transform:i(56584),TransformMatrix:i(69360),Visible:i(59694)}},70339:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(59959),x=i(95723),f=i(56694),u=i(64937),o=i(56631),n=i(89980),h=i(74118),p=i(98524),a=i(58795),c=i(93736),v=new f({Extends:n,Mixins:[u.AlphaSingle,u.BlendMode,u.ComputedSize,u.Depth,u.Mask,u.PostPipeline,u.Transform,u.Visible,p],initialize:function(m,y,P,M){n.call(this,m,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new u.TransformMatrix,this.tempTransformMatrix=new u.TransformMatrix,this._sortKey="",this._sysEvents=m.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(y,P),this.setBlendMode(x.SKIP_CHECK),M&&this.add(M)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(g){return g===void 0&&(g=!0),this.exclusive=g,this},getBounds:function(g){if(g===void 0&&(g=new h),g.setTo(this.x,this.y,0,0),this.parentContainer){var m=this.parentContainer.getBoundsTransformMatrix(),y=m.transformPoint(this.x,this.y);g.setTo(y.x,y.y,0,0)}if(this.list.length>0){var P=this.list,M=new h,E=!1;g.setEmpty();for(var w=0;w<P.length;w++){var R=P[w];R.getBounds&&(R.getBounds(M),E?a(M,g,g):(g.setTo(M.x,M.y,M.width,M.height),E=!0))}}return g},addHandler:function(g){g.once(o.DESTROY,this.remove,this),this.exclusive&&(g.parentContainer&&g.parentContainer.remove(g),g.parentContainer=this,g.removeFromDisplayList(),g.addedToScene())},removeHandler:function(g){g.off(o.DESTROY,this.remove,this),this.exclusive&&(g.parentContainer=null,g.removedFromScene(),g.addToDisplayList())},pointToContainer:function(g,m){m===void 0&&(m=new c),this.parentContainer?this.parentContainer.pointToContainer(g,m):(m.x=g.x,m.y=g.y);var y=this.tempTransformMatrix;return y.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),y.invert(),y.transformPoint(g.x,g.y,m),m},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(this.tempTransformMatrix,this.localTransform)},add:function(g){return d.Add(this.list,g,this.maxSize,this.addHandler,this),this},addAt:function(g,m){return d.AddAt(this.list,g,m,this.maxSize,this.addHandler,this),this},getAt:function(g){return this.list[g]},getIndex:function(g){return this.list.indexOf(g)},sort:function(g,m){return g?(m===void 0&&(m=function(y,P){return y[g]-P[g]}),d.StableSort(this.list,m),this):this},getByName:function(g){return d.GetFirst(this.list,"name",g)},getRandom:function(g,m){return d.GetRandom(this.list,g,m)},getFirst:function(g,m,y,P){return d.GetFirst(this.list,g,m,y,P)},getAll:function(g,m,y,P){return d.GetAll(this.list,g,m,y,P)},count:function(g,m,y,P){return d.CountAllMatching(this.list,g,m,y,P)},swap:function(g,m){return d.Swap(this.list,g,m),this},moveTo:function(g,m){return d.MoveTo(this.list,g,m),this},moveAbove:function(g,m){return d.MoveAbove(this.list,g,m),this},moveBelow:function(g,m){return d.MoveBelow(this.list,g,m),this},remove:function(g,m){var y=d.Remove(this.list,g,this.removeHandler,this);if(m&&y){Array.isArray(y)||(y=[y]);for(var P=0;P<y.length;P++)y[P].destroy()}return this},removeAt:function(g,m){var y=d.RemoveAt(this.list,g,this.removeHandler,this);return m&&y&&y.destroy(),this},removeBetween:function(g,m,y){var P=d.RemoveBetween(this.list,g,m,this.removeHandler,this);if(y)for(var M=0;M<P.length;M++)P[M].destroy();return this},removeAll:function(g){var m=this.list;if(g){for(var y=0;y<m.length;y++)m[y]&&m[y].scene&&(m[y].off(o.DESTROY,this.remove,this),m[y].destroy());this.list=[]}else d.RemoveBetween(m,0,m.length,this.removeHandler,this);return this},bringToTop:function(g){return d.BringToTop(this.list,g),this},sendToBack:function(g){return d.SendToBack(this.list,g),this},moveUp:function(g){return d.MoveUp(this.list,g),this},moveDown:function(g){return d.MoveDown(this.list,g),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return d.Shuffle(this.list),this},replace:function(g,m,y){var P=d.Replace(this.list,g,m);return P&&(this.addHandler(m),this.removeHandler(g),y&&g.destroy()),this},exists:function(g){return this.list.indexOf(g)>-1},setAll:function(g,m,y,P){return d.SetAll(this.list,g,m,y,P),this},each:function(g,m){var y=[null],P,M=this.list.slice(),E=M.length;for(P=2;P<arguments.length;P++)y.push(arguments[P]);for(P=0;P<E;P++)y[0]=M[P],g.apply(m,y);return this},iterate:function(g,m){var y=[null],P;for(P=2;P<arguments.length;P++)y.push(arguments[P]);for(P=0;P<this.list.length;P++)y[0]=this.list[P],g.apply(m,y);return this},setScrollFactor:function(g,m,y){return m===void 0&&(m=g),y===void 0&&(y=!1),this.scrollFactorX=g,this.scrollFactorY=m,y&&(d.SetAll(this.list,"scrollFactorX",g),d.SetAll(this.list,"scrollFactorY",m)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.tempTransformMatrix.destroy(),this.list=[]}});r.exports=v},13916:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){x.addToRenderList(d);var u=d.list;if(u.length!==0){var o=d.localTransform;f?(o.loadIdentity(),o.multiply(f),o.translate(d.x,d.y),o.rotate(d.rotation),o.scale(d.scaleX,d.scaleY)):o.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY);var n=d.blendMode!==-1;n||i.setBlendMode(0);var h=d._alpha,p=d.scrollFactorX,a=d.scrollFactorY;d.mask&&d.mask.preRenderCanvas(i,null,x);for(var c=0;c<u.length;c++){var v=u[c];if(v.willRender(x)){var g=v.alpha,m=v.scrollFactorX,y=v.scrollFactorY;!n&&v.blendMode!==i.currentBlendMode&&i.setBlendMode(v.blendMode),v.setScrollFactor(m*p,y*a),v.setAlpha(g*h),v.renderCanvas(i,v,x,o),v.setAlpha(g),v.setScrollFactor(m,y)}}d.mask&&d.mask.postRenderCanvas(i)}};r.exports=T},44516:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(88933),x=i(70339),f=i(99325),u=i(20494);f.register("container",function(o,n){o===void 0&&(o={});var h=u(o,"x",0),p=u(o,"y",0),a=u(o,"children",null),c=new x(this.scene,h,p,a);return n!==void 0&&(o.add=n),d(this.scene,c,o),c})},23400:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(70339),x=i(61286);x.register("container",function(f,u,o){return this.displayList.add(new d(this.scene,f,u,o))})},98524:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(36934),f=i(13916),r.exports={renderWebGL:x,renderCanvas:f}},36934:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){x.addToRenderList(d);var u=d.list,o=u.length;if(o!==0){var n=d.localTransform;f?(n.loadIdentity(),n.multiply(f),n.translate(d.x,d.y),n.rotate(d.rotation),n.scale(d.scaleX,d.scaleY)):n.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),i.pipelines.preBatch(d);var h=d.blendMode!==-1;h||i.setBlendMode(0);for(var p=d.alpha,a=d.scrollFactorX,c=d.scrollFactorY,v=0;v<o;v++){var g=u[v];if(g.willRender(x)){var m,y,P,M;if(g.alphaTopLeft!==void 0)m=g.alphaTopLeft,y=g.alphaTopRight,P=g.alphaBottomLeft,M=g.alphaBottomRight;else{var E=g.alpha;m=E,y=E,P=E,M=E}var w=g.scrollFactorX,R=g.scrollFactorY;!h&&g.blendMode!==i.currentBlendMode&&i.setBlendMode(g.blendMode);var O=g.mask;O&&O.preRenderWebGL(i,g,x);var A=g.type;A!==i.currentType&&(i.newType=!0,i.currentType=A),i.nextTypeMatch=v<o-1?u[v+1].type===i.currentType:!1,g.setScrollFactor(w*a,R*c),g.setAlpha(m*p,y*p,P*p,M*p),g.renderWebGL(i,g,x,n,d),g.setAlpha(m,y,P,M),g.setScrollFactor(w,R),O&&O.postRenderWebGL(i,x),i.newType=!1}}i.pipelines.postBatch(d)}};r.exports=T},2452:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},38943:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(64937),f=i(11603),u=i(89980),o=i(42911),n=i(55638),h=i(7599),p=i(51729),a=new d({Extends:u,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Origin,x.ScrollFactor,x.Transform,x.Visible,f],initialize:function(v,g,m,y,P,M){u.call(this,v,"DOMElement"),this.parent=v.sys.game.domContainer,this.cache=v.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new p,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(g,m),typeof y=="string"?y[0]==="#"?this.setElement(y.substr(1),P,M):this.createElement(y,P,M):y&&this.setElement(y,P,M),v.sys.events.on(h.SLEEP,this.handleSceneEvent,this),v.sys.events.on(h.WAKE,this.handleSceneEvent,this),v.sys.events.on(h.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(c){var v=this.node,g=v.style;v&&(g.display=c.settings.visible?"block":"none")},setSkew:function(c,v){return c===void 0&&(c=0),v===void 0&&(v=c),this.skewX=c,this.skewY=v,this},setPerspective:function(c){return this.parent.style.perspective=c+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(c){this.parent.style.perspective=c+"px"}},addListener:function(c){if(this.node){c=c.split(" ");for(var v=0;v<c.length;v++)this.node.addEventListener(c[v],this.handler,!1)}return this},removeListener:function(c){if(this.node){c=c.split(" ");for(var v=0;v<c.length;v++)this.node.removeEventListener(c[v],this.handler)}return this},dispatchNativeEvent:function(c){this.emit(c.type,c)},createElement:function(c,v,g){return this.setElement(document.createElement(c),v,g)},setElement:function(c,v,g){this.removeElement();var m;if(typeof c=="string"?(c[0]==="#"&&(c=c.substr(1)),m=document.getElementById(c)):typeof c=="object"&&c.nodeType===1&&(m=c),!m)return this;if(this.node=m,v&&o(v))for(var y in v)m.style[y]=v[y];else typeof v=="string"&&(m.style=v);return m.style.zIndex="0",m.style.display="inline",m.style.position="absolute",m.phaser=this,this.parent&&this.parent.appendChild(m),g&&(m.innerText=g),this.updateSize()},createFromCache:function(c,v){var g=this.cache.get(c);return g&&this.createFromHTML(g,v),this},createFromHTML:function(c,v){v===void 0&&(v="div"),this.removeElement();var g=document.createElement(v);return this.node=g,g.style.zIndex="0",g.style.display="inline",g.style.position="absolute",g.phaser=this,this.parent&&this.parent.appendChild(g),g.innerHTML=c,this.updateSize()},removeElement:function(){return this.node&&(n(this.node),this.node=null),this},updateSize:function(){var c=this.node,v=c.getBoundingClientRect();return this.width=c.clientWidth,this.height=c.clientHeight,this.displayWidth=v.width||0,this.displayHeight=v.height||0,this},getChildByProperty:function(c,v){if(this.node){for(var g=this.node.querySelectorAll("*"),m=0;m<g.length;m++)if(g[m][c]===v)return g[m]}return null},getChildByID:function(c){return this.getChildByProperty("id",c)},getChildByName:function(c){return this.getChildByProperty("name",c)},setClassName:function(c){return this.node&&(this.node.className=c,this.updateSize()),this},setText:function(c){return this.node&&(this.node.innerText=c,this.updateSize()),this},setHTML:function(c){return this.node&&(this.node.innerHTML=c,this.updateSize()),this},preRender:function(){var c=this.parentContainer,v=this.node;v&&c&&!c.willRender()&&(v.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(h.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(h.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(h.PRE_RENDER,this.preRender,this)}});r.exports=a},66070:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(2452),x=i(89980),f=i(69360),u=new f,o=new f,n=new f,h=function(p,a,c,v){if(a.node){var g=a.node.style,m=a.scene.sys.settings;if(!g||!m.visible||x.RENDER_MASK!==a.renderFlags||a.cameraFilter!==0&&a.cameraFilter&c.id||a.parentContainer&&!a.parentContainer.willRender()){g.display="none";return}var y=a.parentContainer,P=c.alpha*a.alpha;y&&(P*=y.alpha);var M=u,E=o,w=n,R=0,O=0,A="0%",F="0%";v?(R=a.width*a.scaleX*a.originX,O=a.height*a.scaleY*a.originY,E.applyITRS(a.x-R,a.y-O,a.rotation,a.scaleX,a.scaleY),M.copyFrom(c.matrix),M.multiplyWithOffset(v,-c.scrollX*a.scrollFactorX,-c.scrollY*a.scrollFactorY),E.e=a.x-R,E.f=a.y-O,M.multiply(E,w)):(R=a.width*a.originX,O=a.height*a.originY,E.applyITRS(a.x-R,a.y-O,a.rotation,a.scaleX,a.scaleY),M.copyFrom(c.matrix),A=100*a.originX+"%",F=100*a.originY+"%",E.e-=c.scrollX*a.scrollFactorX,E.f-=c.scrollY*a.scrollFactorY,M.multiply(E,w)),a.transformOnly||(g.display="block",g.opacity=P,g.zIndex=a._depth,g.pointerEvents=a.pointerEvents,g.mixBlendMode=d[a._blendMode]),g.transform=w.getCSSMatrix()+" skew("+a.skewX+"rad, "+a.skewY+"rad) rotate3d("+a.rotate3d.x+","+a.rotate3d.y+","+a.rotate3d.z+","+a.rotate3d.w+a.rotate3dAngle+")",g.transformOrigin=A+" "+F}};r.exports=h},66788:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(38943),x=i(61286);x.register("dom",function(f,u,o,n,h){var p=new d(this.scene,f,u,o,n,h);return this.displayList.add(p),p})},11603:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(66070),f=i(66070),r.exports={renderWebGL:x,renderCanvas:f}},65492:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addedtoscene"},98398:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},40239:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removedfromscene"},17286:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},31496:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="created"},89587:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="error"},59792:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="locked"},96342:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loop"},6017:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="playing"},49614:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="play"},24418:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="seeked"},87318:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="seeking"},50009:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stalled"},61922:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"},79501:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="textureready"},4052:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="unlocked"},54857:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="unsupported"},56631:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADDED_TO_SCENE:i(65492),DESTROY:i(98398),REMOVED_FROM_SCENE:i(40239),VIDEO_COMPLETE:i(17286),VIDEO_CREATED:i(31496),VIDEO_ERROR:i(89587),VIDEO_LOCKED:i(59792),VIDEO_LOOP:i(96342),VIDEO_PLAY:i(49614),VIDEO_PLAYING:i(6017),VIDEO_SEEKED:i(24418),VIDEO_SEEKING:i(87318),VIDEO_STALLED:i(50009),VIDEO_STOP:i(61922),VIDEO_TEXTURE:i(79501),VIDEO_UNLOCKED:i(4052),VIDEO_UNSUPPORTED:i(54857)}},39419:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(64937),f=i(89980),u=i(79394),o=new d({Extends:f,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.Origin,x.ScrollFactor,x.Size,x.Texture,x.Tint,x.Transform,x.Visible,u],initialize:function(h){f.call(this,h,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});r.exports=o},96699:()=>{},41155:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(39419),x=i(61286);x.register("extern",function(){var f=new d(this.scene);return this.displayList.add(f),f})},79394:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(81410),f=i(96699),r.exports={renderWebGL:x,renderCanvas:f}},81410:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(73329),x=function(f,u,o,n){f.pipelines.clear();var h=d(u,o,n).calc;u.render.call(u,f,o,h),f.pipelines.rebind()};r.exports=x},36266:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},33182:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(51052),x=i(56694),f=i(36266),u=i(64937),o=i(95669),n=i(89980),h=i(72632),p=i(10850),a=i(83392),c=i(60898),v=new x({Extends:n,Mixins:[u.AlphaSingle,u.BlendMode,u.Depth,u.Mask,u.Pipeline,u.PostPipeline,u.Transform,u.Visible,u.ScrollFactor,c],initialize:function(m,y){var P=p(y,"x",0),M=p(y,"y",0);n.call(this,m,"Graphics"),this.setPosition(P,M),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(y)},setDefaultStyles:function(g){return p(g,"lineStyle",null)&&(this.defaultStrokeWidth=p(g,"lineStyle.width",1),this.defaultStrokeColor=p(g,"lineStyle.color",16777215),this.defaultStrokeAlpha=p(g,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),p(g,"fillStyle",null)&&(this.defaultFillColor=p(g,"fillStyle.color",16777215),this.defaultFillAlpha=p(g,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(g,m,y){return y===void 0&&(y=1),this.commandBuffer.push(f.LINE_STYLE,g,m,y),this._lineWidth=g,this},fillStyle:function(g,m){return m===void 0&&(m=1),this.commandBuffer.push(f.FILL_STYLE,g,m),this},fillGradientStyle:function(g,m,y,P,M,E,w,R){return M===void 0&&(M=1),E===void 0&&(E=M),w===void 0&&(w=M),R===void 0&&(R=M),this.commandBuffer.push(f.GRADIENT_FILL_STYLE,M,E,w,R,g,m,y,P),this},lineGradientStyle:function(g,m,y,P,M,E){return E===void 0&&(E=1),this.commandBuffer.push(f.GRADIENT_LINE_STYLE,g,E,m,y,P,M),this},beginPath:function(){return this.commandBuffer.push(f.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(f.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(f.FILL_PATH),this},fill:function(){return this.commandBuffer.push(f.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(f.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(f.STROKE_PATH),this},fillCircleShape:function(g){return this.fillCircle(g.x,g.y,g.radius)},strokeCircleShape:function(g){return this.strokeCircle(g.x,g.y,g.radius)},fillCircle:function(g,m,y){return this.beginPath(),this.arc(g,m,y,0,a.PI2),this.fillPath(),this},strokeCircle:function(g,m,y){return this.beginPath(),this.arc(g,m,y,0,a.PI2),this.strokePath(),this},fillRectShape:function(g){return this.fillRect(g.x,g.y,g.width,g.height)},strokeRectShape:function(g){return this.strokeRect(g.x,g.y,g.width,g.height)},fillRect:function(g,m,y,P){return this.commandBuffer.push(f.FILL_RECT,g,m,y,P),this},strokeRect:function(g,m,y,P){var M=this._lineWidth/2,E=g-M,w=g+M;return this.beginPath(),this.moveTo(g,m),this.lineTo(g,m+P),this.strokePath(),this.beginPath(),this.moveTo(g+y,m),this.lineTo(g+y,m+P),this.strokePath(),this.beginPath(),this.moveTo(E,m),this.lineTo(w+y,m),this.strokePath(),this.beginPath(),this.moveTo(E,m+P),this.lineTo(w+y,m+P),this.strokePath(),this},fillRoundedRect:function(g,m,y,P,M){M===void 0&&(M=20);var E=M,w=M,R=M,O=M;typeof M!="number"&&(E=h(M,"tl",20),w=h(M,"tr",20),R=h(M,"bl",20),O=h(M,"br",20));var A=E>=0,F=w>=0,L=R>=0,I=O>=0;return E=Math.abs(E),w=Math.abs(w),R=Math.abs(R),O=Math.abs(O),this.beginPath(),this.moveTo(g+E,m),this.lineTo(g+y-w,m),F?this.arc(g+y-w,m+w,w,-a.TAU,0):this.arc(g+y,m,w,Math.PI,a.TAU,!0),this.lineTo(g+y,m+P-O),I?this.arc(g+y-O,m+P-O,O,0,a.TAU):this.arc(g+y,m+P,O,-a.TAU,Math.PI,!0),this.lineTo(g+R,m+P),L?this.arc(g+R,m+P-R,R,a.TAU,Math.PI):this.arc(g,m+P,R,0,-a.TAU,!0),this.lineTo(g,m+E),A?this.arc(g+E,m+E,E,-Math.PI,-a.TAU):this.arc(g,m,E,a.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(g,m,y,P,M){M===void 0&&(M=20);var E=M,w=M,R=M,O=M,A=Math.min(y,P)/2;typeof M!="number"&&(E=h(M,"tl",20),w=h(M,"tr",20),R=h(M,"bl",20),O=h(M,"br",20));var F=E>=0,L=w>=0,I=R>=0,B=O>=0;return E=Math.min(Math.abs(E),A),w=Math.min(Math.abs(w),A),R=Math.min(Math.abs(R),A),O=Math.min(Math.abs(O),A),this.beginPath(),this.moveTo(g+E,m),this.lineTo(g+y-w,m),this.moveTo(g+y-w,m),L?this.arc(g+y-w,m+w,w,-a.TAU,0):this.arc(g+y,m,w,Math.PI,a.TAU,!0),this.lineTo(g+y,m+P-O),this.moveTo(g+y,m+P-O),B?this.arc(g+y-O,m+P-O,O,0,a.TAU):this.arc(g+y,m+P,O,-a.TAU,Math.PI,!0),this.lineTo(g+R,m+P),this.moveTo(g+R,m+P),I?this.arc(g+R,m+P-R,R,a.TAU,Math.PI):this.arc(g,m+P,R,0,-a.TAU,!0),this.lineTo(g,m+E),this.moveTo(g,m+E),F?this.arc(g+E,m+E,E,-Math.PI,-a.TAU):this.arc(g,m,E,a.TAU,0,!0),this.strokePath(),this},fillPointShape:function(g,m){return this.fillPoint(g.x,g.y,m)},fillPoint:function(g,m,y){return!y||y<1?y=1:(g-=y/2,m-=y/2),this.commandBuffer.push(f.FILL_RECT,g,m,y,y),this},fillTriangleShape:function(g){return this.fillTriangle(g.x1,g.y1,g.x2,g.y2,g.x3,g.y3)},strokeTriangleShape:function(g){return this.strokeTriangle(g.x1,g.y1,g.x2,g.y2,g.x3,g.y3)},fillTriangle:function(g,m,y,P,M,E){return this.commandBuffer.push(f.FILL_TRIANGLE,g,m,y,P,M,E),this},strokeTriangle:function(g,m,y,P,M,E){return this.commandBuffer.push(f.STROKE_TRIANGLE,g,m,y,P,M,E),this},strokeLineShape:function(g){return this.lineBetween(g.x1,g.y1,g.x2,g.y2)},lineBetween:function(g,m,y,P){return this.beginPath(),this.moveTo(g,m),this.lineTo(y,P),this.strokePath(),this},lineTo:function(g,m){return this.commandBuffer.push(f.LINE_TO,g,m),this},moveTo:function(g,m){return this.commandBuffer.push(f.MOVE_TO,g,m),this},strokePoints:function(g,m,y,P){m===void 0&&(m=!1),y===void 0&&(y=!1),P===void 0&&(P=g.length),this.beginPath(),this.moveTo(g[0].x,g[0].y);for(var M=1;M<P;M++)this.lineTo(g[M].x,g[M].y);return m&&this.lineTo(g[0].x,g[0].y),y&&this.closePath(),this.strokePath(),this},fillPoints:function(g,m,y,P){m===void 0&&(m=!1),y===void 0&&(y=!1),P===void 0&&(P=g.length),this.beginPath(),this.moveTo(g[0].x,g[0].y);for(var M=1;M<P;M++)this.lineTo(g[M].x,g[M].y);return m&&this.lineTo(g[0].x,g[0].y),y&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(g,m){m===void 0&&(m=32);var y=g.getPoints(m);return this.strokePoints(y,!0)},strokeEllipse:function(g,m,y,P,M){M===void 0&&(M=32);var E=new o(g,m,y,P),w=E.getPoints(M);return this.strokePoints(w,!0)},fillEllipseShape:function(g,m){m===void 0&&(m=32);var y=g.getPoints(m);return this.fillPoints(y,!0)},fillEllipse:function(g,m,y,P,M){M===void 0&&(M=32);var E=new o(g,m,y,P),w=E.getPoints(M);return this.fillPoints(w,!0)},arc:function(g,m,y,P,M,E,w){return E===void 0&&(E=!1),w===void 0&&(w=0),this.commandBuffer.push(f.ARC,g,m,y,P,M,E,w),this},slice:function(g,m,y,P,M,E,w){return E===void 0&&(E=!1),w===void 0&&(w=0),this.commandBuffer.push(f.BEGIN_PATH),this.commandBuffer.push(f.MOVE_TO,g,m),this.commandBuffer.push(f.ARC,g,m,y,P,M,E,w),this.commandBuffer.push(f.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(f.SAVE),this},restore:function(){return this.commandBuffer.push(f.RESTORE),this},translateCanvas:function(g,m){return this.commandBuffer.push(f.TRANSLATE,g,m),this},scaleCanvas:function(g,m){return this.commandBuffer.push(f.SCALE,g,m),this},rotateCanvas:function(g){return this.commandBuffer.push(f.ROTATE,g),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(g,m,y){var P=this.scene.sys,M=P.game.renderer;m===void 0&&(m=P.scale.width),y===void 0&&(y=P.scale.height),v.TargetCamera.setScene(this.scene),v.TargetCamera.setViewport(0,0,m,y),v.TargetCamera.scrollX=this.x,v.TargetCamera.scrollY=this.y;var E,w,R={willReadFrequently:!0};if(typeof g=="string")if(P.textures.exists(g)){E=P.textures.get(g);var O=E.getSourceImage();O instanceof HTMLCanvasElement&&(w=O.getContext("2d",R))}else E=P.textures.createCanvas(g,m,y),w=E.getSourceImage().getContext("2d",R);else g instanceof HTMLCanvasElement&&(w=g.getContext("2d",R));return w&&(this.renderCanvas(M,this,v.TargetCamera,null,w,!1),E&&E.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});v.TargetCamera=new d,r.exports=v},91543:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(36266),x=i(49584),f=function(u,o,n,h,p,a){var c=o.commandBuffer,v=c.length,g=p||u.currentContext;if(!(v===0||!x(u,g,o,n,h))){n.addToRenderList(o);var m=1,y=1,P=0,M=0,E=1,w=0,R=0,O=0;g.beginPath();for(var A=0;A<v;++A){var F=c[A];switch(F){case d.ARC:g.arc(c[A+1],c[A+2],c[A+3],c[A+4],c[A+5],c[A+6]),A+=7;break;case d.LINE_STYLE:E=c[A+1],P=c[A+2],m=c[A+3],w=(P&16711680)>>>16,R=(P&65280)>>>8,O=P&255,g.strokeStyle="rgba("+w+","+R+","+O+","+m+")",g.lineWidth=E,A+=3;break;case d.FILL_STYLE:M=c[A+1],y=c[A+2],w=(M&16711680)>>>16,R=(M&65280)>>>8,O=M&255,g.fillStyle="rgba("+w+","+R+","+O+","+y+")",A+=2;break;case d.BEGIN_PATH:g.beginPath();break;case d.CLOSE_PATH:g.closePath();break;case d.FILL_PATH:a||g.fill();break;case d.STROKE_PATH:a||g.stroke();break;case d.FILL_RECT:a?g.rect(c[A+1],c[A+2],c[A+3],c[A+4]):g.fillRect(c[A+1],c[A+2],c[A+3],c[A+4]),A+=4;break;case d.FILL_TRIANGLE:g.beginPath(),g.moveTo(c[A+1],c[A+2]),g.lineTo(c[A+3],c[A+4]),g.lineTo(c[A+5],c[A+6]),g.closePath(),a||g.fill(),A+=6;break;case d.STROKE_TRIANGLE:g.beginPath(),g.moveTo(c[A+1],c[A+2]),g.lineTo(c[A+3],c[A+4]),g.lineTo(c[A+5],c[A+6]),g.closePath(),a||g.stroke(),A+=6;break;case d.LINE_TO:g.lineTo(c[A+1],c[A+2]),A+=2;break;case d.MOVE_TO:g.moveTo(c[A+1],c[A+2]),A+=2;break;case d.LINE_FX_TO:g.lineTo(c[A+1],c[A+2]),A+=5;break;case d.MOVE_FX_TO:g.moveTo(c[A+1],c[A+2]),A+=5;break;case d.SAVE:g.save();break;case d.RESTORE:g.restore();break;case d.TRANSLATE:g.translate(c[A+1],c[A+2]),A+=2;break;case d.SCALE:g.scale(c[A+1],c[A+2]),A+=2;break;case d.ROTATE:g.rotate(c[A+1]),A+=1;break;case d.GRADIENT_FILL_STYLE:A+=5;break;case d.GRADIENT_LINE_STYLE:A+=6;break}}g.restore()}};r.exports=f},41286:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(99325),x=i(33182);d.register("graphics",function(f,u){f===void 0&&(f={}),u!==void 0&&(f.add=u);var o=new x(this.scene,f);return f.add&&this.scene.sys.displayList.add(o),o})},13122:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(33182),x=i(61286);x.register("graphics",function(f){return this.displayList.add(new d(this.scene,f))})},60898:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(34429),f=i(91543),f=i(91543),r.exports={renderWebGL:x,renderCanvas:f}},34429:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(36266),x=i(73329),f=i(69360),u=i(75512),o=function(c,v,g){this.x=c,this.y=v,this.width=g},n=function(c,v,g){this.points=[],this.pointsLength=1,this.points[0]=new o(c,v,g)},h=[],p=new f,a=function(c,v,g,m){if(v.commandBuffer.length!==0){g.addToRenderList(v);var y=c.pipelines.set(v.pipeline,v);c.pipelines.preBatch(v);for(var P=x(v,g,m).calc,M=p.loadIdentity(),E=v.commandBuffer,w=g.alpha*v.alpha,R=1,O=y.fillTint,A=y.strokeTint,F=0,L=0,I=0,B=.01,b=Math.PI*2,k,U=[],Y=0,H=!0,z=null,V=u.getTintAppendFloatAlpha,D=0;D<E.length;D++)switch(k=E[D],k){case d.BEGIN_PATH:{U.length=0,z=null,H=!0;break}case d.CLOSE_PATH:{H=!1,z&&z.points.length&&z.points.push(z.points[0]);break}case d.FILL_PATH:{for(Y=0;Y<U.length;Y++)y.batchFillPath(U[Y].points,M,P);break}case d.STROKE_PATH:{for(Y=0;Y<U.length;Y++)y.batchStrokePath(U[Y].points,R,H,M,P);break}case d.LINE_STYLE:{R=E[++D];var G=E[++D],N=E[++D]*w,X=V(G,N);A.TL=X,A.TR=X,A.BL=X,A.BR=X;break}case d.FILL_STYLE:{var W=E[++D],$=E[++D]*w,K=V(W,$);O.TL=K,O.TR=K,O.BL=K,O.BR=K;break}case d.GRADIENT_FILL_STYLE:{var j=E[++D]*w,Z=E[++D]*w,J=E[++D]*w,Q=E[++D]*w;O.TL=V(E[++D],j),O.TR=V(E[++D],Z),O.BL=V(E[++D],J),O.BR=V(E[++D],Q);break}case d.GRADIENT_LINE_STYLE:{R=E[++D];var _=E[++D]*w;A.TL=V(E[++D],_),A.TR=V(E[++D],_),A.BL=V(E[++D],_),A.BR=V(E[++D],_);break}case d.ARC:{var q=0,et=E[++D],ot=E[++D],ut=E[++D],lt=E[++D],tt=E[++D],at=E[++D],rt=E[++D];for(tt-=lt,at?tt<-b?tt=-b:tt>0&&(tt=-b+tt%b):tt>b?tt=b:tt<0&&(tt=b+tt%b),z===null&&(z=new n(et+Math.cos(lt)*ut,ot+Math.sin(lt)*ut,R),U.push(z),q+=B);q<1+rt;)I=tt*q+lt,F=et+Math.cos(I)*ut,L=ot+Math.sin(I)*ut,z.points.push(new o(F,L,R)),q+=B;I=tt+lt,F=et+Math.cos(I)*ut,L=ot+Math.sin(I)*ut,z.points.push(new o(F,L,R));break}case d.FILL_RECT:{y.batchFillRect(E[++D],E[++D],E[++D],E[++D],M,P);break}case d.FILL_TRIANGLE:{y.batchFillTriangle(E[++D],E[++D],E[++D],E[++D],E[++D],E[++D],M,P);break}case d.STROKE_TRIANGLE:{y.batchStrokeTriangle(E[++D],E[++D],E[++D],E[++D],E[++D],E[++D],R,M,P);break}case d.LINE_TO:{z!==null?z.points.push(new o(E[++D],E[++D],R)):(z=new n(E[++D],E[++D],R),U.push(z));break}case d.MOVE_TO:{z=new n(E[++D],E[++D],R),U.push(z);break}case d.SAVE:{h.push(M.copyToArray());break}case d.RESTORE:{M.copyFromArray(h.pop());break}case d.TRANSLATE:{et=E[++D],ot=E[++D],M.translate(et,ot);break}case d.SCALE:{et=E[++D],ot=E[++D],M.scale(et,ot);break}case d.ROTATE:{M.rotate(E[++D]);break}}c.pipelines.postBatch(v)}};r.exports=a},59192:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(83979),x=i(56694),f=i(56631),u=i(6659),o=i(71608),n=i(72632),h=i(10850),p=i(19256),a=i(42911),c=i(75757),v=i(58403),g=i(13747),m=new x({Extends:u,initialize:function(P,M,E){u.call(this),E?M&&!Array.isArray(M)&&(M=[M]):Array.isArray(M)?a(M[0])&&(E=M,M=null):a(M)&&(E=M,M=null),this.scene=P,this.children=new v,this.isParent=!0,this.type="Group",this.classType=n(E,"classType",g),this.name=n(E,"name",""),this.active=n(E,"active",!0),this.maxSize=n(E,"maxSize",-1),this.defaultKey=n(E,"defaultKey",null),this.defaultFrame=n(E,"defaultFrame",null),this.runChildUpdate=n(E,"runChildUpdate",!1),this.createCallback=n(E,"createCallback",null),this.removeCallback=n(E,"removeCallback",null),this.createMultipleCallback=n(E,"createMultipleCallback",null),this.internalCreateCallback=n(E,"internalCreateCallback",null),this.internalRemoveCallback=n(E,"internalRemoveCallback",null),M&&this.addMultiple(M),E&&this.createMultiple(E),this.on(f.ADDED_TO_SCENE,this.addedToScene,this),this.on(f.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(y,P,M,E,w,R){if(y===void 0&&(y=0),P===void 0&&(P=0),M===void 0&&(M=this.defaultKey),E===void 0&&(E=this.defaultFrame),w===void 0&&(w=!0),R===void 0&&(R=!0),this.isFull())return null;var O=new this.classType(this.scene,y,P,M,E);return O.addToDisplayList(this.scene.sys.displayList),O.addToUpdateList(),O.visible=w,O.setActive(R),this.add(O),O},createMultiple:function(y){if(this.isFull())return[];Array.isArray(y)||(y=[y]);var P=[];if(y[0].key)for(var M=0;M<y.length;M++){var E=this.createFromConfig(y[M]);P=P.concat(E)}return P},createFromConfig:function(y){if(this.isFull())return[];this.classType=n(y,"classType",this.classType);var P=n(y,"key",void 0),M=n(y,"frame",null),E=n(y,"visible",!0),w=n(y,"active",!0),R=[];if(P===void 0)return R;Array.isArray(P)||(P=[P]),Array.isArray(M)||(M=[M]);var O=n(y,"repeat",0),A=n(y,"randomKey",!1),F=n(y,"randomFrame",!1),L=n(y,"yoyo",!1),I=n(y,"quantity",!1),B=n(y,"frameQuantity",1),b=n(y,"max",0),k=c(P,M,{max:b,qty:I||B,random:A,randomB:F,repeat:O,yoyo:L});y.createCallback&&(this.createCallback=y.createCallback),y.removeCallback&&(this.removeCallback=y.removeCallback),y.internalCreateCallback&&(this.internalCreateCallback=y.internalCreateCallback),y.internalRemoveCallback&&(this.internalRemoveCallback=y.internalRemoveCallback);for(var U=0;U<k.length;U++){var Y=this.create(0,0,k[U].a,k[U].b,E,w);if(!Y)break;R.push(Y)}if(p(y,"setXY")){var H=h(y,"setXY.x",0),z=h(y,"setXY.y",0),V=h(y,"setXY.stepX",0),D=h(y,"setXY.stepY",0);d.SetXY(R,H,z,V,D)}if(p(y,"setRotation")){var G=h(y,"setRotation.value",0),N=h(y,"setRotation.step",0);d.SetRotation(R,G,N)}if(p(y,"setScale")){var X=h(y,"setScale.x",1),W=h(y,"setScale.y",X),$=h(y,"setScale.stepX",0),K=h(y,"setScale.stepY",0);d.SetScale(R,X,W,$,K)}if(p(y,"setOrigin")){var j=h(y,"setOrigin.x",.5),Z=h(y,"setOrigin.y",j),J=h(y,"setOrigin.stepX",0),Q=h(y,"setOrigin.stepY",0);d.SetOrigin(R,j,Z,J,Q)}if(p(y,"setAlpha")){var _=h(y,"setAlpha.value",1),q=h(y,"setAlpha.step",0);d.SetAlpha(R,_,q)}if(p(y,"setDepth")){var et=h(y,"setDepth.value",0),ot=h(y,"setDepth.step",0);d.SetDepth(R,et,ot)}if(p(y,"setScrollFactor")){var ut=h(y,"setScrollFactor.x",1),lt=h(y,"setScrollFactor.y",ut),tt=h(y,"setScrollFactor.stepX",0),at=h(y,"setScrollFactor.stepY",0);d.SetScrollFactor(R,ut,lt,tt,at)}var rt=n(y,"hitArea",null),gt=n(y,"hitAreaCallback",null);rt&&d.SetHitArea(R,rt,gt);var mt=n(y,"gridAlign",!1);return mt&&d.GridAlign(R,mt),this.createMultipleCallback&&this.createMultipleCallback.call(this,R),R},preUpdate:function(y,P){if(!(!this.runChildUpdate||this.children.size===0))for(var M=this.children.entries.slice(),E=0;E<M.length;E++){var w=M[E];w.active&&w.update(y,P)}},add:function(y,P){return P===void 0&&(P=!1),this.isFull()?this:(this.children.set(y),this.internalCreateCallback&&this.internalCreateCallback.call(this,y),this.createCallback&&this.createCallback.call(this,y),P&&(y.addToDisplayList(this.scene.sys.displayList),y.addToUpdateList()),y.on(f.DESTROY,this.remove,this),this)},addMultiple:function(y,P){if(P===void 0&&(P=!1),Array.isArray(y))for(var M=0;M<y.length;M++)this.add(y[M],P);return this},remove:function(y,P,M){return P===void 0&&(P=!1),M===void 0&&(M=!1),this.children.contains(y)?(this.children.delete(y),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,y),this.removeCallback&&this.removeCallback.call(this,y),y.off(f.DESTROY,this.remove,this),M?y.destroy():P&&(y.removeFromDisplayList(),y.removeFromUpdateList()),this):this},clear:function(y,P){y===void 0&&(y=!1),P===void 0&&(P=!1);for(var M=this.children,E=0;E<M.size;E++){var w=M.entries[E];w.off(f.DESTROY,this.remove,this),P?w.destroy():y&&(w.removeFromDisplayList(),w.removeFromUpdateList())}return this.children.clear(),this},contains:function(y){return this.children.contains(y)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(y,P,M,E){return o(this.children.entries,y,P,M,E)},getFirst:function(y,P,M,E,w,R,O){return this.getHandler(!0,1,y,P,M,E,w,R,O)},getFirstNth:function(y,P,M,E,w,R,O,A){return this.getHandler(!0,y,P,M,E,w,R,O,A)},getLast:function(y,P,M,E,w,R,O){return this.getHandler(!1,1,y,P,M,E,w,R,O)},getLastNth:function(y,P,M,E,w,R,O,A){return this.getHandler(!1,y,P,M,E,w,R,O,A)},getHandler:function(y,P,M,E,w,R,O,A,F){M===void 0&&(M=!1),E===void 0&&(E=!1);var L,I,B=0,b=this.children.entries;if(y)for(I=0;I<b.length;I++)if(L=b[I],L.active===M){if(B++,B===P)break}else L=null;else for(I=b.length-1;I>=0;I--)if(L=b[I],L.active===M){if(B++,B===P)break}else L=null;return L?(typeof w=="number"&&(L.x=w),typeof R=="number"&&(L.y=R),L):E?this.create(w,R,O,A,F):null},get:function(y,P,M,E,w){return this.getFirst(!1,!0,y,P,M,E,w)},getFirstAlive:function(y,P,M,E,w,R){return this.getFirst(!0,y,P,M,E,w,R)},getFirstDead:function(y,P,M,E,w,R){return this.getFirst(!1,y,P,M,E,w,R)},playAnimation:function(y,P){return d.PlayAnimation(this.children.entries,y,P),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(y){y===void 0&&(y=!0);for(var P=0,M=0;M<this.children.size;M++)this.children.entries[M].active===y&&P++;return P},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var y=this.getTotalUsed(),P=this.maxSize===-1?999999999999:this.maxSize;return P-y},setActive:function(y){return this.active=y,this},setName:function(y){return this.name=y,this},propertyValueSet:function(y,P,M,E,w){return d.PropertyValueSet(this.children.entries,y,P,M,E,w),this},propertyValueInc:function(y,P,M,E,w){return d.PropertyValueInc(this.children.entries,y,P,M,E,w),this},setX:function(y,P){return d.SetX(this.children.entries,y,P),this},setY:function(y,P){return d.SetY(this.children.entries,y,P),this},setXY:function(y,P,M,E){return d.SetXY(this.children.entries,y,P,M,E),this},incX:function(y,P){return d.IncX(this.children.entries,y,P),this},incY:function(y,P){return d.IncY(this.children.entries,y,P),this},incXY:function(y,P,M,E){return d.IncXY(this.children.entries,y,P,M,E),this},shiftPosition:function(y,P,M){return d.ShiftPosition(this.children.entries,y,P,M),this},angle:function(y,P){return d.Angle(this.children.entries,y,P),this},rotate:function(y,P){return d.Rotate(this.children.entries,y,P),this},rotateAround:function(y,P){return d.RotateAround(this.children.entries,y,P),this},rotateAroundDistance:function(y,P,M){return d.RotateAroundDistance(this.children.entries,y,P,M),this},setAlpha:function(y,P){return d.SetAlpha(this.children.entries,y,P),this},setTint:function(y,P,M,E){return d.SetTint(this.children.entries,y,P,M,E),this},setOrigin:function(y,P,M,E){return d.SetOrigin(this.children.entries,y,P,M,E),this},scaleX:function(y,P){return d.ScaleX(this.children.entries,y,P),this},scaleY:function(y,P){return d.ScaleY(this.children.entries,y,P),this},scaleXY:function(y,P,M,E){return d.ScaleXY(this.children.entries,y,P,M,E),this},setDepth:function(y,P){return d.SetDepth(this.children.entries,y,P),this},setBlendMode:function(y){return d.SetBlendMode(this.children.entries,y),this},setHitArea:function(y,P){return d.SetHitArea(this.children.entries,y,P),this},shuffle:function(){return d.Shuffle(this.children.entries),this},kill:function(y){this.children.contains(y)&&y.setActive(!1)},killAndHide:function(y){this.children.contains(y)&&(y.setActive(!1),y.setVisible(!1))},setVisible:function(y,P,M){return d.SetVisible(this.children.entries,y,P,M),this},toggleVisible:function(){return d.ToggleVisible(this.children.entries),this},destroy:function(y,P){y===void 0&&(y=!1),P===void 0&&(P=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(f.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(P,y),this.scene=void 0,this.children=void 0)}});r.exports=m},61295:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(99325),x=i(59192);d.register("group",function(f){return new x(this.scene,null,f)})},62598:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(59192),x=i(61286);x.register("group",function(f,u){return this.updateList.add(new d(this.scene,f,u))})},1539:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(64937),f=i(89980),u=i(57322),o=new d({Extends:f,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Size,x.TextureCrop,x.Tint,x.Transform,x.Visible,u],initialize:function(h,p,a,c,v){f.call(this,h,"Image"),this._crop=this.resetCropObject(),this.setTexture(c,v),this.setPosition(p,a),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});r.exports=o},57786:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){x.addToRenderList(d),i.batchSprite(d,d.frame,x,f)};r.exports=T},83556:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(88933),x=i(99325),f=i(20494),u=i(1539);x.register("image",function(o,n){o===void 0&&(o={});var h=f(o,"key",null),p=f(o,"frame",null),a=new u(this.scene,0,0,h,p);return n!==void 0&&(o.add=n),d(this.scene,a,o),a})},20927:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(1539),x=i(61286);x.register("image",function(f,u,o,n){return this.displayList.add(new d(this.scene,f,u,o,n))})},57322:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(59390),f=i(57786),r.exports={renderWebGL:x,renderCanvas:f}},59390:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){x.addToRenderList(d),this.pipeline.batchSprite(d,x,f)};r.exports=T},48013:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={Events:i(56631),DisplayList:i(91713),GameObjectCreator:i(99325),GameObjectFactory:i(61286),UpdateList:i(92034),Components:i(64937),GetCalcMatrix:i(73329),BuildGameObject:i(88933),BuildGameObjectAnimation:i(32291),GameObject:i(89980),BitmapText:i(44616),Blitter:i(52816),Bob:i(41664),Container:i(70339),DOMElement:i(38943),DynamicBitmapText:i(13468),Extern:i(39419),Graphics:i(33182),Group:i(59192),Image:i(1539),Layer:i(85305),Particles:i(27684),PathFollower:i(29598),RenderTexture:i(15996),RetroFont:i(55873),Rope:i(79968),Sprite:i(13747),Text:i(76555),GetTextSize:i(32979),MeasureText:i(27030),TextStyle:i(74744),TileSprite:i(35856),Zone:i(71030),Video:i(8630),Shape:i(91461),Arc:i(28593),Curve:i(15220),Ellipse:i(28591),Grid:i(39169),IsoBox:i(4415),IsoTriangle:i(65159),Line:i(579),Polygon:i(91249),Rectangle:i(517),Star:i(77843),Triangle:i(21873),Factories:{Blitter:i(38906),Container:i(23400),DOMElement:i(66788),DynamicBitmapText:i(94145),Extern:i(41155),Graphics:i(13122),Group:i(62598),Image:i(20927),Layer:i(17676),Particles:i(81212),PathFollower:i(19626),RenderTexture:i(29599),Rope:i(31982),Sprite:i(66135),StaticBitmapText:i(21797),Text:i(94627),TileSprite:i(20509),Zone:i(34546),Video:i(215),Arc:i(10369),Curve:i(10147),Ellipse:i(99869),Grid:i(9326),IsoBox:i(88154),IsoTriangle:i(67765),Line:i(85665),Polygon:i(88203),Rectangle:i(94355),Star:i(23962),Triangle:i(79296)},Creators:{Blitter:i(68452),Container:i(44516),DynamicBitmapText:i(67513),Graphics:i(41286),Group:i(61295),Image:i(83556),Layer:i(56378),Particles:i(765),RenderTexture:i(85692),Rope:i(96027),Sprite:i(89219),StaticBitmapText:i(95499),Text:i(75397),TileSprite:i(63950),Zone:i(24067),Video:i(65601)}};d.Shader=i(27902),d.Mesh=i(83321),d.NineSlice=i(44139),d.PointLight=i(13171),d.Plane=i(33412),d.Factories.Shader=i(51979),d.Factories.Mesh=i(8767),d.Factories.NineSlice=i(53778),d.Factories.PointLight=i(91201),d.Factories.Plane=i(58322),d.Creators.Shader=i(13908),d.Creators.Mesh=i(41839),d.Creators.NineSlice=i(40964),d.Creators.PointLight=i(162),d.Creators.Plane=i(10912),d.Light=i(14455),d.LightsManager=i(26193),d.LightsPlugin=i(50296),r.exports=d},85305:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(95723),x=i(56694),f=i(64937),u=i(48129),o=i(81078),n=i(6659),h=i(56631),p=i(71207),a=i(47427),c=i(58010),v=i(7599),g=i(17922),m=new x({Extends:p,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Mask,f.PostPipeline,f.Visible,n,c],initialize:function(P,M){p.call(this,P),n.call(this),this.scene=P,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=P.sys,this.events=P.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(d.SKIP_CHECK),M&&this.add(M),P.sys.queueDepthSort()},setActive:function(y){return this.active=y,this},setName:function(y){return this.name=y,this},setState:function(y){return this.state=y,this},setDataEnabled:function(){return this.data||(this.data=new o(this)),this},setData:function(y,P){return this.data||(this.data=new o(this)),this.data.set(y,P),this},incData:function(y,P){return this.data||(this.data=new o(this)),this.data.inc(y,P),this},toggleData:function(y){return this.data||(this.data=new o(this)),this.data.toggle(y),this},getData:function(y){return this.data||(this.data=new o(this)),this.data.get(y)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},add:function(y){return p.prototype.add.call(this,y),this},remove:function(y,P){var M=p.prototype.remove.call(this,y);if(P&&M){Array.isArray(M)||(M=[M]);for(var E=0;E<M.length;E++)M[E].destroy()}return this},removeAll:function(y){var P=this.list;if(y){for(var M=0;M<P.length;M++)P[M]&&P[M].scene&&(P[M].off(h.DESTROY,this.remove,this),P[M].destroy());this.list=[]}else a(P,0,P.length,this.removeChildCallback,this);return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return u(this)},willRender:function(y){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&y.id)},getIndexList:function(){for(var y=this,P=this.parentContainer,M=[];P&&(M.unshift(P.getIndex(y)),y=P,P.parentContainer);)P=P.parentContainer;return M.unshift(this.displayList.getIndex(y)),M},addChildCallback:function(y){y.once(h.DESTROY,this.remove,this),y.displayList&&y.displayList!==this&&y.removeFromDisplayList(),y.displayList||(this.queueDepthSort(),y.displayList=this,y.emit(h.ADDED_TO_SCENE,y,this.scene),this.events.emit(v.ADDED_TO_SCENE,y,this.scene))},removeChildCallback:function(y){y.off(h.DESTROY,this.remove,this),this.queueDepthSort(),y.displayList=null,y.emit(h.REMOVED_FROM_SCENE,y,this.scene),this.events.emit(v.REMOVED_FROM_SCENE,y,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(g(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(y,P){return y._depth-P._depth},getChildren:function(){return this.list},addToDisplayList:function(y){return y===void 0&&(y=this.scene.sys.displayList),this.displayList&&this.displayList!==y&&this.removeFromDisplayList(),y.exists(this)||(this.displayList=y,y.add(this,!0),y.queueDepthSort(),this.emit(h.ADDED_TO_SCENE,this,this.scene),y.events.emit(v.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var y=this.displayList||this.scene.sys.displayList;return y.exists(this)&&(y.remove(this,!0),y.queueDepthSort(),this.displayList=null,this.emit(h.REMOVED_FROM_SCENE,this,this.scene),y.events.emit(v.REMOVED_FROM_SCENE,this,this.scene)),this},destroy:function(y){if(!(!this.scene||this.ignoreDestroy)){this.emit(h.DESTROY,this);for(var P=this.list;P.length;)P[0].destroy(y);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});r.exports=m},834:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){var f=d.list;if(f.length!==0){d.depthSort();var u=d.blendMode!==-1;u||i.setBlendMode(0);var o=d._alpha;d.mask&&d.mask.preRenderCanvas(i,null,x);for(var n=0;n<f.length;n++){var h=f[n];if(h.willRender(x)){var p=h.alpha;!u&&h.blendMode!==i.currentBlendMode&&i.setBlendMode(h.blendMode),h.setAlpha(p*o),h.renderCanvas(i,h,x),h.setAlpha(p)}}d.mask&&d.mask.postRenderCanvas(i)}};r.exports=T},56378:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(88933),x=i(85305),f=i(99325),u=i(20494);f.register("layer",function(o,n){o===void 0&&(o={});var h=u(o,"children",null),p=new x(this.scene,h);return n!==void 0&&(o.add=n),d(this.scene,p,o),p})},17676:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(85305),x=i(61286);x.register("layer",function(f){return this.displayList.add(new d(this.scene,f))})},58010:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(17576),f=i(834),r.exports={renderWebGL:x,renderCanvas:f}},17576:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){var f=d.list,u=f.length;if(u!==0){d.depthSort(),i.pipelines.preBatch(d);var o=d.blendMode!==-1;o||i.setBlendMode(0);for(var n=d.alpha,h=0;h<u;h++){var p=f[h];if(p.willRender(x)){var a,c,v,g;if(p.alphaTopLeft!==void 0)a=p.alphaTopLeft,c=p.alphaTopRight,v=p.alphaBottomLeft,g=p.alphaBottomRight;else{var m=p.alpha;a=m,c=m,v=m,g=m}!o&&p.blendMode!==i.currentBlendMode&&i.setBlendMode(p.blendMode);var y=p.mask;y&&y.preRenderWebGL(i,p,x);var P=p.type;P!==i.currentType&&(i.newType=!0,i.currentType=P),i.nextTypeMatch=h<u-1?f[h+1].type===i.currentType:!1,p.setAlpha(a*n,c*n,v*n,g*n),p.renderWebGL(i,p,x),p.setAlpha(a,c,v,g),y&&y.postRenderWebGL(i,x),i.newType=!1}}i.pipelines.postBatch(d)}};r.exports=T},14455:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(26673),x=i(56694),f=i(64937),u=i(39298),o=i(75512),n=new x({Extends:d,Mixins:[f.Origin,f.ScrollFactor,f.Transform,f.Visible],initialize:function(p,a,c,v,g,m,y){d.call(this,p,a,c),this.color=new u(v,g,m),this.intensity=y,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(c)},displayWidth:{get:function(){return this.diameter},set:function(h){this.diameter=h}},displayHeight:{get:function(){return this.diameter},set:function(h){this.diameter=h}},width:{get:function(){return this.diameter},set:function(h){this.diameter=h}},height:{get:function(){return this.diameter},set:function(h){this.diameter=h}},willRender:function(h){return!(n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&h.id)},setColor:function(h){var p=o.getFloatsFromUintRGB(h);return this.color.set(p[0],p[1],p[2]),this},setIntensity:function(h){return this.intensity=h,this},setRadius:function(h){return this.radius=h,this}});n.RENDER_MASK=15,r.exports=n},26193:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(26535),x=i(56694),f=i(53996),u=i(14455),o=i(13171),n=i(39298),h=i(72677),p=i(17922),a=i(75512),c=new x({initialize:function(){this.lights=[],this.ambientColor=new n(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(v,g,m,y,P,M){return this.systems.displayList.add(new o(this.scene,v,g,m,y,P,M))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(v){for(var g=this.lights,m=v.worldView,y=[],P=0;P<g.length;P++){var M=g[P];M.willRender(v)&&d(M,m)&&y.push({light:M,distance:f(M.x,M.y,m.centerX,m.centerY)})}return y.length>this.maxLights&&(p(y,this.sortByDistance),y=y.slice(0,this.maxLights)),this.visibleLights=y.length,y},sortByDistance:function(v,g){return v.distance>=g.distance},setAmbientColor:function(v){var g=a.getFloatsFromUintRGB(v);return this.ambientColor.set(g[0],g[1],g[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(v,g,m,y,P){v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=128),y===void 0&&(y=16777215),P===void 0&&(P=1);var M=a.getFloatsFromUintRGB(y),E=new u(v,g,m,M[0],M[1],M[2],P);return this.lights.push(E),E},removeLight:function(v){var g=this.lights.indexOf(v);return g>=0&&h(this.lights,g),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});r.exports=c},50296:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(26193),f=i(91963),u=i(7599),o=new d({Extends:x,initialize:function(h){this.scene=h,this.systems=h.sys,h.sys.settings.isBooted||h.sys.events.once(u.BOOT,this.boot,this),x.call(this)},boot:function(){var n=this.systems.events;n.on(u.SHUTDOWN,this.shutdown,this),n.on(u.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});f.register("LightsPlugin",o,"lights"),r.exports=o},83321:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(64937),f=i(75606),u=i(18693),o=i(89980),n=i(53267),h=i(67623),p=i(73329),a=i(16650),c=i(23464),v=i(23701),g=i(17922),m=i(70015),y=i(85769),P=new d({Extends:o,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Size,x.Texture,x.Transform,x.Visible,c],initialize:function(E,w,R,O,A,F,L,I,B,b,k,U){w===void 0&&(w=0),R===void 0&&(R=0),O===void 0&&(O="__WHITE"),o.call(this,E,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new m,this.modelScale=new m(1,1,1),this.modelRotation=new m,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new a,this.viewPosition=new m,this.viewMatrix=new a,this.projectionMatrix=new a,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var Y=E.sys.renderer;this.setPosition(w,R),this.setTexture(O,A),this.setSize(Y.width,Y.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(Y.width,Y.height),F&&this.addVertices(F,L,I,B,b,k,U)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(M){return this.viewPosition.addScale(m.LEFT,M),this.dirtyCache[10]=1,this},panY:function(M){return this.viewPosition.y+=m.DOWN.y*M,this.dirtyCache[10]=1,this},panZ:function(M){return this.viewPosition.z+=M,this.dirtyCache[10]=1,this},setPerspective:function(M,E,w,R,O){return w===void 0&&(w=45),R===void 0&&(R=.01),O===void 0&&(O=1e3),this.fov=w,this.projectionMatrix.perspective(f(w),M/E,R,O),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(M,E,w,R){return M===void 0&&(M=this.scene.sys.renderer.getAspectRatio()),E===void 0&&(E=1),w===void 0&&(w=-1e3),R===void 0&&(R=1e3),this.fov=0,this.projectionMatrix.ortho(-M,M,-E,E,w,R),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(M){M.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(M,E,w,R,O,A,F,L,I){var B=this.scene.sys.cache.obj.get(M),b;return B&&(b=n(B,this,E,w,R,O,A,F,L,I)),(!b||b.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",M),this},sortByDepth:function(M,E){return M.depth-E.depth},depthSort:function(){return g(this.faces,this.sortByDepth),this},addVertex:function(M,E,w,R,O,A,F){var L=new y(M,E,w,R,O,A,F);return this.vertices.push(L),L},addFace:function(M,E,w){var R=new u(M,E,w);return this.faces.push(R),this.dirtyCache[9]=-1,R},addVertices:function(M,E,w,R,O,A,F){var L=h(M,E,w,R,O,A,F);return L?(this.faces=this.faces.concat(L.faces),this.vertices=this.vertices.concat(L.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(M){return this.faces[M]},hasFaceAt:function(M,E,w){w===void 0&&(w=this.scene.sys.cameras.main);for(var R=p(this,w).calc,O=this.faces,A=0;A<O.length;A++){var F=O[A];if(F.contains(M,E,R))return!0}return!1},getFaceAt:function(M,E,w){w===void 0&&(w=this.scene.sys.cameras.main);for(var R=p(this,w).calc,O=this.faces,A=[],F=0;F<O.length;F++){var L=O[F];L.contains(M,E,R)&&A.push(L)}return g(A,this.sortByDepth)},setDebug:function(M,E){return this.debugGraphic=M,!M&&!E?this.debugCallback=null:E?this.debugCallback=E:this.debugCallback=this.renderDebug,this},isDirty:function(){var M=this.modelPosition,E=this.modelRotation,w=this.modelScale,R=this.dirtyCache,O=M.x,A=M.y,F=M.z,L=E.x,I=E.y,B=E.z,b=w.x,k=w.y,U=w.z,Y=this.getFaceCount(),H=R[0],z=R[1],V=R[2],D=R[3],G=R[4],N=R[5],X=R[6],W=R[7],$=R[8],K=R[9];return R[0]=O,R[1]=A,R[2]=F,R[3]=L,R[4]=I,R[5]=B,R[6]=b,R[7]=k,R[8]=U,R[9]=Y,H!==O||z!==A||V!==F||D!==L||G!==I||N!==B||X!==b||W!==k||$!==U||K!==Y},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var M=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!M[10]&&!this.isDirty())){var E=this.width,w=this.height,R=this.viewMatrix,O=this.viewPosition;M[10]&&(R.identity(),R.translate(O),R.invert(),M[10]=0);var A=this.transformMatrix;A.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var F=O.z,L=this.faces,I=0;I<L.length;I++)L[I].transformCoordinatesLocal(A,E,w,F);this.depthSort()}},renderDebug:function(M,E){for(var w=M.debugGraphic,R=0;R<E.length;R++){var O=E[R],A=O.vertex1.tx,F=O.vertex1.ty,L=O.vertex2.tx,I=O.vertex2.ty,B=O.vertex3.tx,b=O.vertex3.ty;w.strokeTriangle(A,F,L,I,B,b)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(){var M=(function(E,w,R){for(var O=this.faces,A=0;A<O.length;A++){var F=O[A];if(F.contains(w,R))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,M),this},setTint:function(M){M===void 0&&(M=16777215);for(var E=this.vertices,w=0;w<E.length;w++)E[w].color=M;return this},uvScroll:function(M,E){for(var w=this.faces,R=0;R<w.length;R++)w[R].scrollUV(M,E);return this},uvScale:function(M,E){for(var w=this.faces,R=0;R<w.length;R++)w[R].scaleUV(M,E);return this},tint:{set:function(M){this.setTint(M)}},rotateX:{get:function(){return v(this.modelRotation.x)},set:function(M){this.modelRotation.x=f(M)}},rotateY:{get:function(){return v(this.modelRotation.y)},set:function(M){this.modelRotation.y=f(M)}},rotateZ:{get:function(){return v(this.modelRotation.z)},set:function(M){this.modelRotation.z=f(M)}}});r.exports=P},6317:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};r.exports=T},41839:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(88933),x=i(99325),f=i(20494),u=i(10850),o=i(83321);x.register("mesh",function(n,h){n===void 0&&(n={});var p=f(n,"key",null),a=f(n,"frame",null),c=u(n,"vertices",[]),v=u(n,"uvs",[]),g=u(n,"indicies",[]),m=u(n,"containsZ",!1),y=u(n,"normals",[]),P=u(n,"colors",16777215),M=u(n,"alphas",1),E=new o(this.scene,0,0,p,a,c,v,g,m,y,P,M);return h!==void 0&&(n.add=h),d(this.scene,E,n),E})},8767:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(83321),x=i(61286);x.register("mesh",function(f,u,o,n,h,p,a,c,v,g,m){return this.displayList.add(new d(this.scene,f,u,o,n,h,p,a,c,v,g,m))})},23464:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(57410),f=i(6317),r.exports={renderWebGL:x,renderCanvas:f}},57410:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(73329),x=function(f,u,o,n){var h=u.faces,p=h.length;if(p!==0){o.addToRenderList(u);var a=f.pipelines.set(u.pipeline,u),c=d(u,o,n).calc;f.pipelines.preBatch(u);for(var v=a.setGameObject(u),g=a.vertexViewF32,m=a.vertexViewU32,y=a.vertexCount*a.currentShader.vertexComponentCount-1,P=u.tintFill,M=[],E=u.debugCallback,w=c.a,R=c.b,O=c.c,A=c.d,F=c.e,L=c.f,I=u.viewPosition.z,B=u.hideCCW,b=o.roundPixels,k=o.alpha*u.alpha,U=0,Y=0;Y<p;Y++){var H=h[Y];H.isInView(o,B,I,k,w,R,O,A,F,L,b)&&(a.shouldFlush(3)&&(a.flush(),v=a.setGameObject(u),y=0),y=H.load(g,m,y,v,P),U++,a.vertexCount+=3,a.currentBatch.count=a.vertexCount-a.currentBatch.start,E&&M.push(H))}u.totalFrame+=U,E&&E.call(u,u,M),f.pipelines.postBatch(u)}};r.exports=x},44139:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(64937),f=i(89980),u=i(94456),o=i(85769),n=new d({Extends:f,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Texture,x.Transform,x.Visible,u],initialize:function(p,a,c,v,g,m,y,P,M,E,w){f.call(this,p,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var R=p.textures.getFrame(v,g);this.is3Slice=!E&&!w,R.scale9&&(this.is3Slice=R.is3Slice);for(var O=this.is3Slice?18:54,A=0;A<O;A++)this.vertices.push(new o);this.setPosition(a,c),this.setTexture(v,g),this.setSlices(m,y,P,M,E,w,!1),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline()},setSlices:function(h,p,a,c,v,g,m){a===void 0&&(a=10),c===void 0&&(c=10),v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=!1);var y=this.frame,P=!1;if(this.is3Slice&&m&&v!==0&&g!==0&&(P=!0),P)console.warn("Cannot change 9 slice to 3 slice");else{if(y.scale9&&!m){var M=y.data.scale9Borders,E=M.x,w=M.y;a=E,c=y.width-M.w-E,v=w,g=y.height-M.h-w,h===void 0&&(h=y.width),p===void 0&&(p=y.height)}else h===void 0&&(h=256),p===void 0&&(p=256);this._width=h,this._height=p,this.leftWidth=a,this.rightWidth=c,this.topHeight=v,this.bottomHeight=g,this.is3Slice&&(p=y.height,this._height=p,this.topHeight=p,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var h=this.leftWidth,p=this.rightWidth,a=this.topHeight,c=this.bottomHeight,v=this.frame.width,g=this.frame.height;this.updateQuadUVs(0,0,0,h/v,a/g),this.updateQuadUVs(6,h/v,0,1-p/v,a/g),this.updateQuadUVs(12,1-p/v,0,1,a/g),this.is3Slice||(this.updateQuadUVs(18,0,a/g,h/v,1-c/g),this.updateQuadUVs(24,h/v,a/g,1-p/v,1-c/g),this.updateQuadUVs(30,1-p/v,a/g,1,1-c/g),this.updateQuadUVs(36,0,1-c/g,h/v,1),this.updateQuadUVs(42,h/v,1-c/g,1-p/v,1),this.updateQuadUVs(48,1-p/v,1-c/g,1,1))},updateVertices:function(){var h=this.leftWidth,p=this.rightWidth,a=this.topHeight,c=this.bottomHeight,v=this.width,g=this.height;this.updateQuad(0,-.5,.5,-.5+h/v,.5-a/g),this.updateQuad(6,-.5+h/v,.5,.5-p/v,.5-a/g),this.updateQuad(12,.5-p/v,.5,.5,.5-a/g),this.is3Slice||(this.updateQuad(18,-.5,.5-a/g,-.5+h/v,-.5+c/g),this.updateQuad(24,-.5+h/v,.5-a/g,.5-p/v,-.5+c/g),this.updateQuad(30,.5-p/v,.5-a/g,.5,-.5+c/g),this.updateQuad(36,-.5,-.5+c/g,-.5+h/v,-.5),this.updateQuad(42,-.5+h/v,-.5+c/g,.5-p/v,-.5),this.updateQuad(48,.5-p/v,-.5+c/g,.5,-.5))},updateQuad:function(h,p,a,c,v){var g=this.width,m=this.height,y=this.originX,P=this.originY,M=this.vertices;M[h+0].resize(p,a,g,m,y,P),M[h+1].resize(p,v,g,m,y,P),M[h+2].resize(c,a,g,m,y,P),M[h+3].resize(p,v,g,m,y,P),M[h+4].resize(c,v,g,m,y,P),M[h+5].resize(c,a,g,m,y,P)},updateQuadUVs:function(h,p,a,c,v){var g=this.vertices,m=this.frame,y=m.u0,P=m.v0,M=m.u1,E=m.v1;if(y!==0||M!==1){var w=M-y;p=y+p*w,c=y+c*w}if(P!==0||E!==1){var R=E-P;a=P+a*R,v=P+v*R}g[h+0].setUVs(p,a),g[h+1].setUVs(p,v),g[h+2].setUVs(c,a),g[h+3].setUVs(p,v),g[h+4].setUVs(c,v),g[h+5].setUVs(c,a)},clearTint:function(){return this.setTint(16777215),this},setTint:function(h){return h===void 0&&(h=16777215),this.tint=h,this.tintFill=!1,this},setTintFill:function(h){return this.setTint(h),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(h){this._width=Math.max(h,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(h){this.is3Slice||(this._height=Math.max(h,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(h){this.scaleX=h/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(h){this.scaleY=h/this.height}},setSize:function(h,p){this.width=h,this.height=p;var a=this.input;return a&&!a.customHitArea&&(a.hitArea.width=this.width,a.hitArea.height=this.height),this},setDisplaySize:function(h,p){return this.displayWidth=h,this.displayHeight=p,this},originX:{get:function(){return this._originX},set:function(h){this._originX=h,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(h){this._originY=h,this.updateVertices()}},setOrigin:function(h,p){return h===void 0&&(h=.5),p===void 0&&(p=h),this._originX=h,this._originY=p,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var h=this.frame.height;this._height=h,this.topHeight=h,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});r.exports=n},40964:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(88933),x=i(99325),f=i(20494),u=i(10850),o=i(44139);x.register("nineslice",function(n,h){n===void 0&&(n={});var p=f(n,"key",null),a=f(n,"frame",null),c=u(n,"width",256),v=u(n,"height",256),g=u(n,"leftWidth",10),m=u(n,"rightWidth",10),y=u(n,"topHeight",0),P=u(n,"bottomHeight",0),M=new o(this.scene,0,0,p,a,c,v,g,m,y,P);return h!==void 0&&(n.add=h),d(this.scene,M,n),M})},53778:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(44139),x=i(61286);x.register("nineslice",function(f,u,o,n,h,p,a,c,v,g){return this.displayList.add(new d(this.scene,f,u,o,n,h,p,a,c,v,g))})},94456:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(27420),r.exports={renderWebGL:x,renderCanvas:f}},27420:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(73329),x=i(75512),f=function(u,o,n,h){var p=o.vertices,a=p.length;if(a!==0){n.addToRenderList(o);var c=u.pipelines.set(o.pipeline,o),v=d(o,n,h,!1).calc;u.pipelines.preBatch(o);var g=c.setGameObject(o),m=c.vertexViewF32,y=c.vertexViewU32,P=c.vertexCount*c.currentShader.vertexComponentCount-1,M=n.roundPixels,E=o.tintFill,w=n.alpha*o.alpha,R=x.getTintAppendFloatAlpha(o.tint,w),O=c.vertexAvailable(),A=-1;O<a&&(A=O);for(var F=0;F<a;F++){var L=p[F];F===A&&(c.flush(),g=c.setGameObject(o),P=0),m[++P]=v.getXRound(L.vx,L.vy,M),m[++P]=v.getYRound(L.vx,L.vy,M),m[++P]=L.u,m[++P]=L.v,m[++P]=g,m[++P]=E,y[++P]=R,c.vertexCount++,c.currentBatch.count=c.vertexCount-c.currentBatch.start}u.pipelines.postBatch(o)}};r.exports=f},19737:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(93025),f=i(22946),u=i(21902),o=i(4840),n=i(15978),h=new d({Extends:x,initialize:function(a){x.call(this,a,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var p=this.propertyValue,a=p,c=this.defaultEmit,v=this.defaultUpdate;if(this.method===9){this.start=p[0],this.ease=u("Linear"),this.interpolation=o("linear"),c=this.easedValueEmit,v=this.easeValueUpdate,a=p[0],this.active=!0;for(var g=0;g<p.length;g++){var m=n(p[g]);this.r.push(m.r),this.g.push(m.g),this.b.push(m.b)}}return this.onEmit=c,this.onUpdate=v,this.current=a,this},setEase:function(p){this.easeName=p,this.ease=u(p)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(p,a,c){var v=this.ease(c),g=this.interpolation(this.r,v),m=this.interpolation(this.g,v),y=this.interpolation(this.b,v),P=f(g,m,y);return this.current=P,P}});r.exports=h},93025:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(17489),x=i(82897),f=i(56694),u=i(61616),o=i(21902),n=i(72632),h=i(4840),p=i(88462),a=i(1071),c=new f({initialize:function(g,m,y){y===void 0&&(y=!1),this.propertyKey=g,this.propertyValue=m,this.defaultValue=m,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=y,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(v,g){v===void 0&&(v={}),g&&(this.propertyKey=g),this.propertyValue=n(v,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(v){var g;switch(this.method){case 1:case 3:case 8:g=v;break;case 2:this.propertyValue.indexOf(v)>=0&&(g=v);break;case 4:var m=(this.end-this.start)/this.steps;g=p(v,m),this.counter=g;break;case 5:case 6:case 7:g=x(v,this.start,this.end);break;case 9:g=this.start[0];break}return this.current=g,this},getMethod:function(){var v=this.propertyValue;if(v===null)return 0;var g=typeof v;if(g==="number")return 1;if(Array.isArray(v))return 2;if(g==="function")return 3;if(g==="object"){if(this.hasBoth(v,"start","end"))return this.has(v,"steps")?4:5;if(this.hasBoth(v,"min","max"))return 6;if(this.has(v,"random"))return 7;if(this.hasEither(v,"onEmit","onUpdate"))return 8;if(this.hasEither(v,"values","interpolation"))return 9}return 0},setMethods:function(){var v=this.propertyValue,g=v,m=this.defaultEmit,y=this.defaultUpdate;switch(this.method){case 1:m=this.staticValueEmit;break;case 2:m=this.randomStaticValueEmit,g=v[0];break;case 3:this._onEmit=v,m=this.proxyEmit;break;case 4:this.start=v.start,this.end=v.end,this.steps=v.steps,this.counter=this.start,this.yoyo=this.has(v,"yoyo")?v.yoyo:!1,this.direction=0,m=this.steppedEmit,g=this.start;break;case 5:this.start=v.start,this.end=v.end;var P=this.has(v,"ease")?v.ease:"Linear";this.ease=o(P,v.easeParams),m=this.has(v,"random")&&v.random?this.randomRangedValueEmit:this.easedValueEmit,y=this.easeValueUpdate,g=this.start;break;case 6:this.start=v.min,this.end=v.max,m=this.has(v,"int")&&v.int?this.randomRangedIntEmit:this.randomRangedValueEmit,g=this.start;break;case 7:var M=v.random;Array.isArray(M)&&(this.start=M[0],this.end=M[1]),m=this.randomRangedIntEmit,g=this.start;break;case 8:this._onEmit=this.has(v,"onEmit")?v.onEmit:this.defaultEmit,this._onUpdate=this.has(v,"onUpdate")?v.onUpdate:this.defaultUpdate,m=this.proxyEmit,y=this.proxyUpdate;break;case 9:this.start=v.values;var E=this.has(v,"ease")?v.ease:"Linear";this.ease=o(E,v.easeParams),this.interpolation=h(v.interpolation),m=this.easedValueEmit,y=this.easeValueUpdate,g=this.start[0];break}return this.onEmit=m,this.onUpdate=y,this.current=g,this},has:function(v,g){return v.hasOwnProperty(g)},hasBoth:function(v,g,m){return v.hasOwnProperty(g)&&v.hasOwnProperty(m)},hasEither:function(v,g,m){return v.hasOwnProperty(g)||v.hasOwnProperty(m)},defaultEmit:function(v,g,m){return m},defaultUpdate:function(v,g,m,y){return y},proxyEmit:function(v,g,m){var y=this._onEmit(v,g,m);return this.current=y,y},proxyUpdate:function(v,g,m,y){var P=this._onUpdate(v,g,m,y);return this.current=P,P},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var v=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[v],this.current},randomRangedValueEmit:function(v,g){var m=u(this.start,this.end);return v&&v.data[g]&&(v.data[g].min=m,v.data[g].max=this.end),this.current=m,m},randomRangedIntEmit:function(v,g){var m=d(this.start,this.end);return v&&v.data[g]&&(v.data[g].min=m,v.data[g].max=this.end),this.current=m,m},steppedEmit:function(){var v=this.counter,g=v,m=(this.end-this.start)/this.steps;if(this.yoyo){var y;this.direction===0?(g+=m,g>=this.end&&(y=g-this.end,g=this.end-y,this.direction=1)):(g-=m,g<=this.start&&(y=this.start-g,g=this.start+y,this.direction=0)),this.counter=g}else this.counter=a(g+m,this.start,this.end);return this.current=v,v},easedValueEmit:function(v,g){if(v&&v.data[g]){var m=v.data[g];m.min=this.start,m.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(v,g,m){var y=v.data[g],P,M=this.ease(m);return this.interpolation?P=this.interpolation(this.start,M):P=(y.max-y.min)*M+y.min,this.current=P,P},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});r.exports=c},87811:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(72632),f=i(30891),u=new d({Extends:f,initialize:function(n,h,p,a,c){if(typeof n=="object"){var v=n;n=x(v,"x",0),h=x(v,"y",0),p=x(v,"power",0),a=x(v,"epsilon",100),c=x(v,"gravity",50)}else n===void 0&&(n=0),h===void 0&&(h=0),p===void 0&&(p=0),a===void 0&&(a=100),c===void 0&&(c=50);f.call(this,n,h,!0),this._gravity=c,this._power=p*c,this._epsilon=a*a},update:function(o,n){var h=this.x-o.x,p=this.y-o.y,a=h*h+p*p;if(a!==0){var c=Math.sqrt(a);a<this._epsilon&&(a=this._epsilon);var v=this._power*n/(a*c)*100;o.velocityX+=h*v,o.velocityY+=p*v}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(o){this._epsilon=o*o}},power:{get:function(){return this._power/this._gravity},set:function(o){this._power=o*this._gravity}},gravity:{get:function(){return this._gravity},set:function(o){var n=this.power;this._gravity=o,this.power=n}}});r.exports=u},14909:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(16569),x=i(82897),f=i(56694),u=i(75606),o=i(74118),n=i(2386),h=i(93736),p=new f({initialize:function(c){this.emitter=c,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new h,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=c.scene,this.anims=new d(this),this.bounds=new o},emit:function(a,c,v,g,m,y){return this.emitter.emit(a,c,v,g,m,y)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(a,c){a===void 0&&(a=0),c===void 0&&(c=0),this.x=a,this.y=c},fire:function(a,c){var v=this.emitter,g=v.ops,m=v.getAnim();if(m?this.anims.play(m):(this.frame=v.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(v.getEmitZone(this),a===void 0?this.x+=g.x.onEmit(this,"x"):g.x.steps>0?this.x+=a+g.x.onEmit(this,"x"):this.x+=a,c===void 0?this.y+=g.y.onEmit(this,"y"):g.y.steps>0?this.y+=c+g.y.onEmit(this,"y"):this.y+=c,this.life=g.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=g.delay.onEmit(this,"delay"),this.holdCurrent=g.hold.onEmit(this,"hold"),this.scaleX=g.scaleX.onEmit(this,"scaleX"),this.scaleY=g.scaleY.active?g.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=g.rotate.onEmit(this,"rotate"),this.rotation=u(this.angle),v.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&v.getDeathZone(this))return this.lifeCurrent=0,!1;var y=g.speedX.onEmit(this,"speedX"),P=g.speedY.active?g.speedY.onEmit(this,"speedY"):y;if(v.radial){var M=u(g.angle.onEmit(this,"angle"));this.velocityX=Math.cos(M)*Math.abs(y),this.velocityY=Math.sin(M)*Math.abs(P)}else if(v.moveTo){var E=g.moveToX.onEmit(this,"moveToX"),w=g.moveToY.onEmit(this,"moveToY"),R=this.life/1e3;this.velocityX=(E-this.x)/R,this.velocityY=(w-this.y)/R}else this.velocityX=y,this.velocityY=P;return v.acceleration&&(this.accelerationX=g.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=g.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=g.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=g.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=g.bounce.onEmit(this,"bounce"),this.alpha=g.alpha.onEmit(this,"alpha"),g.color.active?this.tint=g.color.onEmit(this,"tint"):this.tint=g.tint.onEmit(this,"tint"),!0},update:function(a,c,v){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=a,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=a,!1;this.anims.update(0,a);var g=this.emitter,m=g.ops,y=1-this.lifeCurrent/this.life;if(this.lifeT=y,this.x=m.x.onUpdate(this,"x",y,this.x),this.y=m.y.onUpdate(this,"y",y,this.y),g.moveTo){var P=m.moveToX.onUpdate(this,"moveToX",y,g.moveToX),M=m.moveToY.onUpdate(this,"moveToY",y,g.moveToY),E=this.lifeCurrent/1e3;this.velocityX=(P-this.x)/E,this.velocityY=(M-this.y)/E}return this.computeVelocity(g,a,c,v,y),this.scaleX=m.scaleX.onUpdate(this,"scaleX",y,this.scaleX),m.scaleY.active?this.scaleY=m.scaleY.onUpdate(this,"scaleY",y,this.scaleY):this.scaleY=this.scaleX,this.angle=m.rotate.onUpdate(this,"rotate",y,this.angle),this.rotation=u(this.angle),g.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=x(m.alpha.onUpdate(this,"alpha",y,this.alpha),0,1),m.color.active?this.tint=m.color.onUpdate(this,"color",y,this.tint):this.tint=m.tint.onUpdate(this,"tint",y,this.tint),this.lifeCurrent-=a,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(a,c,v,g,m){var y=a.ops,P=this.velocityX,M=this.velocityY,E=y.accelerationX.onUpdate(this,"accelerationX",m,this.accelerationX),w=y.accelerationY.onUpdate(this,"accelerationY",m,this.accelerationY),R=y.maxVelocityX.onUpdate(this,"maxVelocityX",m,this.maxVelocityX),O=y.maxVelocityY.onUpdate(this,"maxVelocityY",m,this.maxVelocityY);this.bounce=y.bounce.onUpdate(this,"bounce",m,this.bounce),P+=a.gravityX*v+E*v,M+=a.gravityY*v+w*v,P=x(P,-R,R),M=x(M,-O,O),this.velocityX=P,this.velocityY=M,this.x+=P*v,this.y+=M*v,a.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var A=0;A<g.length;A++){var F=g[A];F.active&&F.update(this,c,v,m)}},setSizeToFrame:function(){},getBounds:function(a){a===void 0&&(a=this.emitter.getWorldTransformMatrix());var c=Math.abs(a.scaleX)*this.scaleX,v=Math.abs(a.scaleY)*this.scaleY,g=this.x,m=this.y,y=this.rotation,P=this.frame.width*c/2,M=this.frame.height*v/2,E=this.bounds,w=new h(g-P,m-M),R=new h(g+P,m-M),O=new h(g-P,m+M),A=new h(g+P,m+M);return y!==0&&(n(w,g,m,y),n(R,g,m,y),n(O,g,m,y),n(A,g,m,y)),a.transformPoint(w.x,w.y,w),a.transformPoint(R.x,R.y,R),a.transformPoint(O.x,O.y,O),a.transformPoint(A.x,A.y,A),E.x=Math.min(w.x,R.x,O.x,A.x),E.y=Math.min(w.y,R.y,O.y,A.y),E.width=Math.max(w.x,R.x,O.x,A.x)-E.x,E.height=Math.max(w.y,R.y,O.y,A.y)-E.y,E},destroy:function(){this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});r.exports=p},73106:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(30891),f=i(74118),u=new d({Extends:x,initialize:function(n,h,p,a,c,v,g,m){c===void 0&&(c=!0),v===void 0&&(v=!0),g===void 0&&(g=!0),m===void 0&&(m=!0),x.call(this,n,h,!0),this.bounds=new f(n,h,p,a),this.collideLeft=c,this.collideRight=v,this.collideTop=g,this.collideBottom=m},update:function(o){var n=this.bounds,h=-o.bounce,p=o.worldPosition;p.x<n.x&&this.collideLeft?(o.x+=n.x-p.x,o.velocityX*=h):p.x>n.right&&this.collideRight&&(o.x-=p.x-n.right,o.velocityX*=h),p.y<n.y&&this.collideTop?(o.y+=n.y-p.y,o.velocityY*=h):p.y>n.bottom&&this.collideBottom&&(o.y-=p.y-n.bottom,o.velocityY*=h)}});r.exports=u},9216:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(64937),f=i(48129),u=i(29538),o=i(69361),n=i(54213),h=i(19737),p=i(93025),a=i(40629),c=i(89980),v=i(72632),g=i(72861),m=i(87811),y=i(53523),P=i(19256),M=i(7782),E=i(71207),w=i(14655),R=i(14909),O=i(68433),A=i(74118),F=i(90205),L=i(66458),I=i(69116),B=i(17922),b=i(69360),k=i(93736),U=i(1071),Y=i(73106),H=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],z=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],V=new d({Extends:c,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Texture,x.Transform,x.Visible,I],initialize:function(G,N,X,W,$){c.call(this,G,"ParticleEmitter"),this.particleClass=R,this.ops={accelerationX:new p("accelerationX",0),accelerationY:new p("accelerationY",0),alpha:new p("alpha",1),angle:new p("angle",{min:0,max:360},!0),bounce:new p("bounce",0),color:new h("color"),delay:new p("delay",0,!0),hold:new p("hold",0,!0),lifespan:new p("lifespan",1e3,!0),maxVelocityX:new p("maxVelocityX",1e4),maxVelocityY:new p("maxVelocityY",1e4),moveToX:new p("moveToX",0),moveToY:new p("moveToY",0),quantity:new p("quantity",1,!0),rotate:new p("rotate",0),scaleX:new p("scaleX",1),scaleY:new p("scaleY",1),speedX:new p("speedX",0,!0),speedY:new p("speedY",0,!0),tint:new p("tint",16777215),x:new p("x",0),y:new p("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new k,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new b,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new E(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(N,X),this.setTexture(W),$&&this.setConfig($)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(D){if(!D)return this;var G=0,N="",X=this.ops;for(G=0;G<z.length;G++)N=z[G],X[N].loadConfig(D);for(G=0;G<H.length;G++)N=H[G],P(D,N)&&(this[N]=v(D,N));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,P(D,"speed")&&(X.speedX.loadConfig(D,"speed"),X.speedY.active=!1),(y(D,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),P(D,"scale")&&(X.scaleX.loadConfig(D,"scale"),X.scaleY.active=!1),P(D,"callbackScope")){var W=v(D,"callbackScope",null);this.emitCallbackScope=W,this.deathCallbackScope=W}if(P(D,"emitZone")&&this.addEmitZone(D.emitZone),P(D,"deathZone")&&this.addDeathZone(D.deathZone),P(D,"bounds")){var $=this.addParticleBounds(D.bounds);$.collideLeft=v(D,"collideLeft",!0),$.collideRight=v(D,"collideRight",!0),$.collideTop=v(D,"collideTop",!0),$.collideBottom=v(D,"collideBottom",!0)}return P(D,"followOffset")&&this.followOffset.setFromObject(v(D,"followOffset",0)),P(D,"texture")&&this.setTexture(D.texture),P(D,"frame")?this.setEmitterFrame(D.frame):P(D,"anim")&&this.setAnim(D.anim),P(D,"reserve")&&this.reserve(D.reserve),P(D,"advance")&&this.fastForward(D.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(a.START,this),this},toJSON:function(){var D=f(this),G=0,N="";for(G=0;G<H.length;G++)N=H[G],D[N]=this[N];var X=this.ops;for(G=0;G<z.length;G++)N=z[G],X[N]&&(D[N]=X[N].toJSON());return X.speedY.active||(delete D.speedX,D.speed=X.speedX.toJSON()),this.scaleX===this.scaleY&&(delete D.scaleX,delete D.scaleY,D.scale=X.scaleX.toJSON()),D},resetCounters:function(D,G){var N=this.counters;N.fill(0),N[0]=D,G&&(N[5]=1)},startFollow:function(D,G,N,X){return G===void 0&&(G=0),N===void 0&&(N=0),X===void 0&&(X=!1),this.follow=D,this.followOffset.set(G,N),this.trackVisible=X,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var D=this.frames,G=D.length,N;return G===1?N=D[0]:this.randomFrame?N=g(D):(N=D[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===G&&(this.currentFrame=0))),this.texture.get(N)},setEmitterFrame:function(D,G,N){G===void 0&&(G=!0),N===void 0&&(N=1),this.randomFrame=G,this.frameQuantity=N,this.currentFrame=0;var X=typeof D;if(this.frames.length=0,Array.isArray(D))this.frames=this.frames.concat(D);else if(X==="string"||X==="number")this.frames.push(D);else if(X==="object"){var W=D;D=v(W,"frames",null),D&&(this.frames=this.frames.concat(D));var $=v(W,"cycle",!1);this.randomFrame=!$,this.frameQuantity=v(W,"quantity",N)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var D=this.anims,G=D.length;if(G===0)return null;if(G===1)return D[0];if(this.randomAnim)return g(D);var N=D[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=U(this.currentAnim+1,0,G)),N},setAnim:function(D,G,N){G===void 0&&(G=!0),N===void 0&&(N=1),this.randomAnim=G,this.animQuantity=N,this.currentAnim=0;var X=typeof D;if(this.anims.length=0,Array.isArray(D))this.anims=this.anims.concat(D);else if(X==="string")this.anims.push(D);else if(X==="object"){var W=D;D=v(W,"anims",null),D&&(this.anims=this.anims.concat(D));var $=v(W,"cycle",!1);this.randomAnim=!$,this.animQuantity=v(W,"quantity",N)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(D){return D===void 0&&(D=!0),this.radial=D,this},addParticleBounds:function(D,G,N,X,W,$,K,j){if(typeof D=="object"){var Z=D;D=Z.x,G=Z.y,N=P(Z,"w")?Z.w:Z.width,X=P(Z,"h")?Z.h:Z.height}return this.addParticleProcessor(new Y(D,G,N,X,W,$,K,j))},setParticleSpeed:function(D,G){return G===void 0&&(G=D),this.ops.speedX.onChange(D),D===G?this.ops.speedY.active=!1:this.ops.speedY.onChange(G),this.radial=!0,this},setParticleScale:function(D,G){return D===void 0&&(D=1),G===void 0&&(G=D),this.ops.scaleX.onChange(D),this.ops.scaleY.onChange(G),this},setParticleGravity:function(D,G){return this.gravityX=D,this.gravityY=G,this},setParticleAlpha:function(D){return this.ops.alpha.onChange(D),this},setParticleTint:function(D){return this.ops.tint.onChange(D),this},setEmitterAngle:function(D){return this.ops.angle.onChange(D),this},setParticleLifespan:function(D){return this.ops.lifespan.onChange(D),this},setQuantity:function(D){return this.quantity=D,this},setFrequency:function(D,G){return this.frequency=D,this.flowCounter=D>0?D:0,G&&(this.quantity=G),this},addDeathZone:function(D){Array.isArray(D)||(D=[D]);for(var G,N=[],X=0;X<D.length;X++)if(G=D[X],G instanceof o)N.push(G);else if(typeof G.contains=="function")G=new o(G,!0),N.push(G);else{var W=v(G,"type","onEnter"),$=v(G,"source",null);if($&&typeof $.contains=="function"){var K=W==="onEnter";G=new o($,K),N.push(G)}}return this.deathZones=this.deathZones.concat(N),N},removeDeathZone:function(D){return L(this.deathZones,D),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(D){Array.isArray(D)||(D=[D]);for(var G,N=[],X=0;X<D.length;X++)if(G=D[X],G instanceof O||G instanceof n)N.push(G);else{var W=v(G,"source",null);if(W){var $=v(G,"type","random");if($==="random"&&typeof W.getRandomPoint=="function")G=new O(W),N.push(G);else if($==="edge"&&typeof W.getPoints=="function"){var K=v(G,"quantity",1),j=v(G,"stepRate",0),Z=v(G,"yoyo",!1),J=v(G,"seamless",!0),Q=v(G,"total",-1);G=new n(W,K,j,Z,J,Q),N.push(G)}}}return this.emitZones=this.emitZones.concat(N),N},removeEmitZone:function(D){return L(this.emitZones,D),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(D){var G=this.emitZones,N=G.length;if(N!==0){var X=G[this.zoneIndex];X.getPoint(D),X.total>-1&&(this.zoneTotal++,this.zoneTotal===X.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===N&&(this.zoneIndex=0)))}},getDeathZone:function(D){for(var G=this.deathZones,N=0;N<G.length;N++){var X=G[N];if(X.willKill(D))return this.emit(a.DEATH_ZONE,this,D,X),!0}return!1},setEmitZone:function(D){var G;return isFinite(D)?G=D:G=this.emitZones.indexOf(D),G>=0&&(this.zoneIndex=G),this},addParticleProcessor:function(D){return this.processors.exists(D)||(D.emitter&&D.emitter.removeParticleProcessor(D),this.processors.add(D),D.emitter=this),D},removeParticleProcessor:function(D){return this.processors.exists(D)&&(this.processors.remove(D,!0),D.emitter=null),D},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(D){return this.addParticleProcessor(new m(D))},reserve:function(D){var G=this.dead;if(this.maxParticles>0){var N=this.getParticleCount();N+D>this.maxParticles&&(D=this.maxParticles-(N+D))}for(var X=0;X<D;X++)G.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(D,G){return D===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof D=="function"&&(this.emitCallback=D,G&&(this.emitCallbackScope=G)),this},onParticleDeath:function(D,G){return D===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof D=="function"&&(this.deathCallback=D,G&&(this.deathCallbackScope=G)),this},killAll:function(){for(var D=this.dead,G=this.alive;G.length>0;)D.push(G.pop());return this},forEachAlive:function(D,G){for(var N=this.alive,X=N.length,W=0;W<X;W++)D.call(G,N[W],this);return this},forEachDead:function(D,G){for(var N=this.dead,X=N.length,W=0;W<X;W++)D.call(G,N[W],this);return this},start:function(D,G){return D===void 0&&(D=0),this.emitting||(D>0&&this.fastForward(D),this.emitting=!0,this.resetCounters(this.frequency,!0),G!==void 0&&(this.duration=Math.abs(G)),this.emit(a.START,this)),this},stop:function(D){return D===void 0&&(D=!1),this.emitting&&(this.emitting=!1,D&&this.killAll(),this.emit(a.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(D,G){return D===void 0&&(D=""),G===void 0&&(G=this.true),this.sortProperty=D,this.sortOrderAsc=G,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(D){return this.sortProperty!==""?D=this.depthSortCallback:D=null,this.sortCallback=D,this},depthSort:function(){return B(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(D,G){var N=this.sortProperty;return this.sortOrderAsc?D[N]-G[N]:G[N]-D[N]},flow:function(D,G,N){return G===void 0&&(G=1),this.emitting=!1,this.frequency=D,this.quantity=G,N!==void 0&&(this.stopAfter=N),this.start()},explode:function(D,G,N){this.frequency=-1,this.resetCounters(-1,!0);var X=this.emitParticle(D,G,N);return this.emit(a.EXPLODE,this,X),X},emitParticleAt:function(D,G,N){return this.emitParticle(N,D,G)},emitParticle:function(D,G,N){if(!this.atLimit()){D===void 0&&(D=this.ops.quantity.onEmit());for(var X=this.dead,W=this.stopAfter,$=this.follow?this.follow.x+this.followOffset.x:G,K=this.follow?this.follow.y+this.followOffset.y:N,j=0;j<D;j++){var Z=X.pop();if(Z||(Z=new this.particleClass(this)),Z.fire($,K)?(this.particleBringToTop?this.alive.push(Z):this.alive.unshift(Z),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,Z,this)):this.dead.push(Z),W>0&&(this.stopCounter++,this.stopCounter>=W)||this.atLimit())break}return Z}},fastForward:function(D,G){G===void 0&&(G=1e3/60);var N=0;for(this.skipping=!0;N<Math.abs(D);)this.preUpdate(0,G),N+=G;return this.skipping=!1,this},preUpdate:function(D,G){G*=this.timeScale;var N=G/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var X=this.getProcessors(),W=this.alive,$=this.dead,K=0,j=[],Z=W.length;for(K=0;K<Z;K++){var J=W[K];J.update(G,N,X)&&j.push({index:K,particle:J})}if(Z=j.length,Z>0){var Q=this.deathCallback,_=this.deathCallbackScope;for(K=Z-1;K>=0;K--){var q=j[K];W.splice(q.index,1),$.push(q.particle),Q&&Q.call(_,q.particle),q.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&W.length===0&&(this.completeFlag=0,this.emit(a.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=G;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=G,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(D){for(var G=this.getWorldTransformMatrix(),N=this.alive,X=N.length,W=[],$=0;$<X;$++){var K=N[$];F(D,K.getBounds(G))&&W.push(K)}return W},getBounds:function(D,G,N,X){D===void 0&&(D=0),G===void 0&&(G=0),N===void 0&&(N=1e3/60),X===void 0&&(X=new A);var W=this.getWorldTransformMatrix(),$,K,j=this.alive,Z=!1;if(X.setTo(0,0,0,0),G>0){var J=0;for(this.skipping=!0;J<Math.abs(G);){for(this.preUpdate(0,N),$=0;$<j.length;$++)K=j[$].getBounds(W),Z?w(X,K):(Z=!0,u(K,X));J+=N}this.skipping=!1}else for($=0;$<j.length;$++)K=j[$].getBounds(W),Z?w(X,K):(Z=!0,u(K,X));return D>0&&M(X,D,D),X},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(D){this.ops.x.onChange(D)}},particleY:{get:function(){return this.ops.y.current},set:function(D){this.ops.y.onChange(D)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(D){this.ops.accelerationX.onChange(D)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(D){this.ops.accelerationY.onChange(D)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(D){this.ops.maxVelocityX.onChange(D)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(D){this.ops.maxVelocityY.onChange(D)}},speed:{get:function(){return this.ops.speedX.current},set:function(D){this.ops.speedX.onChange(D),this.ops.speedY.onChange(D)}},speedX:{get:function(){return this.ops.speedX.current},set:function(D){this.ops.speedX.onChange(D)}},speedY:{get:function(){return this.ops.speedY.current},set:function(D){this.ops.speedY.onChange(D)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(D){this.ops.moveToX.onChange(D)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(D){this.ops.moveToY.onChange(D)}},bounce:{get:function(){return this.ops.bounce.current},set:function(D){this.ops.bounce.onChange(D)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(D){this.ops.scaleX.onChange(D)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(D){this.ops.scaleY.onChange(D)}},particleColor:{get:function(){return this.ops.color.current},set:function(D){this.ops.color.onChange(D)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(D){this.ops.color.setEase(D)}},particleTint:{get:function(){return this.ops.tint.current},set:function(D){this.ops.tint.onChange(D)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(D){this.ops.alpha.onChange(D)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(D){this.ops.lifespan.onChange(D)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(D){this.ops.angle.onChange(D)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(D){this.ops.rotate.onChange(D)}},quantity:{get:function(){return this.ops.quantity.current},set:function(D){this.ops.quantity.onChange(D)}},delay:{get:function(){return this.ops.delay.current},set:function(D){this.ops.delay.onChange(D)}},hold:{get:function(){return this.ops.hold.current},set:function(D){this.ops.hold.onChange(D)}},flowCounter:{get:function(){return this.counters[0]},set:function(D){this.counters[0]=D}},frameCounter:{get:function(){return this.counters[1]},set:function(D){this.counters[1]=D}},animCounter:{get:function(){return this.counters[2]},set:function(D){this.counters[2]=D}},elapsed:{get:function(){return this.counters[3]},set:function(D){this.counters[3]=D}},stopCounter:{get:function(){return this.counters[4]},set:function(D){this.counters[4]=D}},completeFlag:{get:function(){return this.counters[5]},set:function(D){this.counters[5]=D}},zoneIndex:{get:function(){return this.counters[6]},set:function(D){this.counters[6]=D}},zoneTotal:{get:function(){return this.counters[7]},set:function(D){this.counters[7]=D}},currentFrame:{get:function(){return this.counters[8]},set:function(D){this.counters[8]=D}},currentAnim:{get:function(){return this.counters[9]},set:function(D){this.counters[9]=D}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var D,G=this.ops;for(D=0;D<z.length;D++){var N=z[D];G[N].destroy()}for(D=0;D<this.alive.length;D++)this.alive[D].destroy();for(D=0;D<this.dead.length;D++)this.dead[D].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});r.exports=V},10456:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(90205),x=i(69360),f=new x,u=new x,o=new x,n=new x,h=function(p,a,c,v){var g=f,m=u,y=o,P=n;v?(P.loadIdentity(),P.multiply(v),P.translate(a.x,a.y),P.rotate(a.rotation),P.scale(a.scaleX,a.scaleY)):P.applyITRS(a.x,a.y,a.rotation,a.scaleX,a.scaleY);var M=p.currentContext,E=c.roundPixels,w=c.alpha,R=a.alpha,O=a.alive,A=O.length,F=a.viewBounds;if(!(!a.visible||A===0||F&&!d(F,c.worldView))){a.sortCallback&&a.depthSort(),c.addToRenderList(a);var L=a.scrollFactorX,I=a.scrollFactorY;M.save(),M.globalCompositeOperation=p.blendModes[a.blendMode];for(var B=0;B<A;B++){var b=O[B],k=b.alpha*R*w;if(!(k<=0||b.scaleX===0||b.scaleY===0)){y.applyITRS(b.x,b.y,b.rotation,b.scaleX,b.scaleY),g.copyFrom(c.matrix),g.multiplyWithOffset(P,-c.scrollX*L,-c.scrollY*I),y.e=b.x,y.f=b.y,g.multiply(y,m);var U=b.frame,Y=U.canvasData;if(Y.width>0&&Y.height>0){var H=-U.halfWidth,z=-U.halfHeight;M.globalAlpha=k,M.save(),m.setToContext(M),E&&(H=Math.round(H),z=Math.round(z)),M.imageSmoothingEnabled=!U.source.scaleMode,M.drawImage(U.source.image,Y.x,Y.y,Y.width,Y.height,H,z,Y.width,Y.height),M.restore()}}}M.restore()}};r.exports=h},765:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(88933),x=i(99325),f=i(20494),u=i(72632),o=i(9216);x.register("particles",function(n,h){n===void 0&&(n={});var p=f(n,"key",null),a=u(n,"config",null),c=new o(this.scene,0,0,p);return h!==void 0&&(n.add=h),d(this.scene,c,n),a&&c.setConfig(a),c})},81212:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61286),x=i(9216);d.register("particles",function(f,u,o,n){return f!==void 0&&typeof f=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new x(this.scene,f,u,o,n))})},69116:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(10275),f=i(10456),r.exports={renderWebGL:x,renderCanvas:f}},10275:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(90205),x=i(69360),f=i(75512),u=new x,o=new x,n=new x,h=new x,p=function(a,c,v,g){var m=a.pipelines.set(c.pipeline),y=u,P=o,M=n,E=h;g?(E.loadIdentity(),E.multiply(g),E.translate(c.x,c.y),E.rotate(c.rotation),E.scale(c.scaleX,c.scaleY)):E.applyITRS(c.x,c.y,c.rotation,c.scaleX,c.scaleY);var w=f.getTintAppendFloatAlpha,R=v.alpha,O=c.alpha;a.pipelines.preBatch(c);var A=c.alive,F=A.length,L=c.viewBounds;if(!(F===0||L&&!d(L,v.worldView))){c.sortCallback&&c.depthSort(),v.addToRenderList(c),y.copyFrom(v.matrix),y.multiplyWithOffset(E,-v.scrollX*c.scrollFactorX,-v.scrollY*c.scrollFactorY),a.setBlendMode(c.blendMode),c.mask&&(c.mask.preRenderWebGL(a,c,v),a.pipelines.set(c.pipeline));for(var I=c.tintFill,B,b,k=0;k<F;k++){var U=A[k],Y=U.alpha*O*R;if(!(Y<=0||U.scaleX===0||U.scaleY===0)){M.applyITRS(U.x,U.y,U.rotation,U.scaleX,U.scaleY),M.e=U.x,M.f=U.y,y.multiply(M,P);var H=U.frame;H.glTexture!==b&&(b=H.glTexture,B=m.setGameObject(c,H));var z=-H.halfWidth,V=-H.halfHeight,D=P.setQuad(z,V,z+H.width,V+H.height),G=w(U.tint,Y);m.shouldFlush(6)&&(m.flush(),B=m.setGameObject(c,H)),m.batchQuad(c,D[0],D[1],D[2],D[3],D[4],D[5],D[6],D[7],H.u0,H.v0,H.u1,H.v1,G,G,G,G,I,b,B)}}c.mask&&c.mask.postRenderWebGL(a,v),a.pipelines.postBatch(c)}};r.exports=p},30891:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=new d({initialize:function(u,o,n){u===void 0&&(u=0),o===void 0&&(o=0),n===void 0&&(n=!0),this.emitter,this.x=u,this.y=o,this.active=n},update:function(){},destroy:function(){this.emitter=null}});r.exports=x},76100:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},26677:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="deathzone"},62736:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="explode"},56490:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},85715:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"},40629:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COMPLETE:i(76100),DEATH_ZONE:i(26677),EXPLODE:i(62736),START:i(56490),STOP:i(85715)}},27684:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={EmitterColorOp:i(19737),EmitterOp:i(93025),Events:i(40629),GravityWell:i(87811),Particle:i(14909),ParticleBounds:i(73106),ParticleEmitter:i(9216),ParticleProcessor:i(30891),Zones:i(25962)}},69361:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=new d({initialize:function(u,o){this.source=u,this.killOnEnter=o},willKill:function(f){var u=f.worldPosition,o=this.source.contains(u.x,u.y);return o&&this.killOnEnter||!o&&!this.killOnEnter}});r.exports=x},54213:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=new d({initialize:function(u,o,n,h,p,a){h===void 0&&(h=!1),p===void 0&&(p=!0),a===void 0&&(a=-1),this.source=u,this.points=[],this.quantity=o,this.stepRate=n,this.yoyo=h,this.counter=-1,this.seamless=p,this._length=0,this._direction=0,this.total=a,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var f=this.points[0],u=this.points[this.points.length-1];f.x===u.x&&f.y===u.y&&this.points.pop()}var o=this._length;return this._length=this.points.length,this._length<o&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(f){return this.source=f,this.updateSource()},getPoint:function(f){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var u=this.points[this.counter];u&&(f.x=u.x,f.y=u.y)}});r.exports=x},68433:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(93736),f=new d({initialize:function(o){this.source=o,this._tempVec=new x,this.total=-1},getPoint:function(u){var o=this._tempVec;this.source.getRandomPoint(o),u.x=o.x,u.y=o.y}});r.exports=f},25962:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DeathZone:i(69361),EdgeZone:i(54213),RandomZone:i(68433)}},29598:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(64937),f=i(13747),u=new d({Extends:f,Mixins:[x.PathFollower],initialize:function(n,h,p,a,c,v){f.call(this,n,p,a,c,v),this.path=h},preUpdate:function(o,n){this.anims.update(o,n),this.pathUpdate(o)}});r.exports=u},19626:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61286),x=i(29598);d.register("follower",function(f,u,o,n,h){var p=new x(this.scene,f,u,o,n,h);return this.displayList.add(p),this.updateList.add(p),p})},33412:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(16569),x=i(56694),f=i(99425),u=i(15978),o=i(83321),n=i(76583),h=new x({Extends:o,initialize:function(a,c,v,g,m,y,P,M){g||(g="__DEFAULT"),o.call(this,a,c,v,g,m),this.type="Plane",this.anims=new d(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(y,P,M),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(p,a,c){p===void 0&&(p=8),a===void 0&&(a=8),c===void 0&&(c=!1);var v=!1;return c&&(v=!0),this.gridWidth=p,this.gridHeight=a,this.isTiled=c,this.clear(),f({mesh:this,widthSegments:p,heightSegments:a,isOrtho:!1,tile:c,flipY:v}),this},setSizeToFrame:function(p){p===void 0&&(p=!0);var a=this.frame;if(this.setPerspective(this.width/a.width,this.height/a.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!p)return this;var c=this.gridWidth,v=this.gridHeight,g=this.vertices,m=a.u0,y=a.u1,P=a.v0,M=a.v1,E,w,R=0;if(this.isTiled)for(P=a.v1,M=a.v0,w=0;w<v;w++)for(E=0;E<c;E++)g[R++].setUVs(m,M),g[R++].setUVs(m,P),g[R++].setUVs(y,M),g[R++].setUVs(m,P),g[R++].setUVs(y,P),g[R++].setUVs(y,M);else{var O=c+1,A=v+1,F=y-m,L=M-P,I=[];for(w=0;w<A;w++)for(E=0;E<O;E++){var B=m+F*(E/c),b=P+L*(w/v);I.push(B,b)}for(w=0;w<v;w++)for(E=0;E<c;E++){var k=(E+O*w)*2,U=(E+O*(w+1))*2,Y=(E+1+O*(w+1))*2,H=(E+1+O*w)*2;g[R++].setUVs(I[k],I[k+1]),g[R++].setUVs(I[U],I[U+1]),g[R++].setUVs(I[H],I[H+1]),g[R++].setUVs(I[U],I[U+1]),g[R++].setUVs(I[Y],I[Y+1]),g[R++].setUVs(I[H],I[H+1])}}return this},setViewHeight:function(p){p===void 0&&(p=this.frame.height);var a=this.fov*(Math.PI/180);this.viewPosition.z=this.height/p/Math.tan(a/2),this.dirtyCache[10]=1},createCheckerboard:function(p,a,c,v,g){p===void 0&&(p=16777215),a===void 0&&(a=255),c===void 0&&(c=255),v===void 0&&(v=255),g===void 0&&(g=128);var m=this.scene.sys.renderer.gl,y=m.createTexture();m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,y),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST);for(var P=u(p),M=u(a),E=[],w=0;w<16;w++)for(var R=0;R<16;R++)w<8&&R<8||w>7&&R>7?E.push(P.r,P.g,P.b,c):E.push(M.r,M.g,M.b,v);m.texImage2D(m.TEXTURE_2D,0,m.RGBA,16,16,0,m.RGBA,m.UNSIGNED_BYTE,new Uint8Array(E)),y.isAlphaPremultiplied=!0,y.isRenderTexture=!1,y.width=16,y.height=16;var O=this.scene.sys.textures.addGLTexture(n(),y,16,16);return this.removeCheckerboard(),this._checkerboard=O,m.bindTexture(m.TEXTURE_2D,null),this.setTexture(O),this.setSizeToFrame(),this.setViewHeight(g),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(p,a){return this.anims.play(p,a)},playReverse:function(p,a){return this.anims.playReverse(p,a)},playAfterDelay:function(p,a){return this.anims.playAfterDelay(p,a)},playAfterRepeat:function(p,a){return this.anims.playAfterRepeat(p,a)},stop:function(){return this.anims.stop()},stopAfterDelay:function(p){return this.anims.stopAfterDelay(p)},stopAfterRepeat:function(p){return this.anims.stopAfterRepeat(p)},stopOnFrame:function(p){return this.anims.stopOnFrame(p)},preUpdate:function(p,a){o.prototype.preUpdate.call(this,p,a),this.anims.update(p,a)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});r.exports=h},10912:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(88933),x=i(32291),f=i(99325),u=i(20494),o=i(10850),n=i(33412);f.register("plane",function(h,p){h===void 0&&(h={});var a=u(h,"key",null),c=u(h,"frame",null),v=o(h,"width",8),g=o(h,"height",8),m=o(h,"tile",!1),y=new n(this.scene,0,0,a,c,v,g,m);p!==void 0&&(h.add=p);var P=o(h,"checkerboard",null);if(P){var M=o(P,"color1",16777215),E=o(P,"color2",255),w=o(P,"alpha1",255),R=o(P,"alpha2",255),O=o(P,"height",128);y.createCheckerboard(M,E,w,R,O)}return d(this.scene,y,h),x(y,h),y})},58322:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(33412),x=i(61286);x.register("plane",function(f,u,o,n,h,p,a){return this.displayList.add(new d(this.scene,f,u,o,n,h,p,a))})},13171:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(64937),f=i(89980),u=i(74853),o=i(65641),n=i(71606),h=new d({Extends:f,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Transform,x.Visible,n],initialize:function(a,c,v,g,m,y,P){g===void 0&&(g=16777215),m===void 0&&(m=128),y===void 0&&(y=1),P===void 0&&(P=.1),f.call(this,a,"PointLight"),this.initPipeline(o.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(c,v),this.color=u(g),this.intensity=y,this.attenuation=P,this.width=m*2,this.height=m*2,this._radius=m},radius:{get:function(){return this._radius},set:function(p){this._radius=p,this.width=p*2,this.height=p*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});r.exports=h},162:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(88933),x=i(99325),f=i(20494),u=i(13171);x.register("pointlight",function(o,n){o===void 0&&(o={});var h=f(o,"color",16777215),p=f(o,"radius",128),a=f(o,"intensity",1),c=f(o,"attenuation",.1),v=new u(this.scene,0,0,h,p,a,c);return n!==void 0&&(o.add=n),d(this.scene,v,o),v})},91201:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61286),x=i(13171);d.register("pointlight",function(f,u,o,n,h,p){return this.displayList.add(new x(this.scene,f,u,o,n,h,p))})},71606:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(80590),r.exports={renderWebGL:x,renderCanvas:f}},80590:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(73329),x=function(f,u,o,n){o.addToRenderList(u);var h=f.pipelines.set(u.pipeline),p=d(u,o,n).calc,a=u.width,c=u.height,v=-u._radius,g=-u._radius,m=v+a,y=g+c,P=p.getX(0,0),M=p.getY(0,0),E=p.getX(v,g),w=p.getY(v,g),R=p.getX(v,y),O=p.getY(v,y),A=p.getX(m,y),F=p.getY(m,y),L=p.getX(m,g),I=p.getY(m,g);f.pipelines.preBatch(u),h.batchPointLight(u,o,E,w,R,O,A,F,L,I,P,M),f.pipelines.postBatch(u)};r.exports=x},15996:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(845),f=i(1539),u=new d({Extends:f,initialize:function(n,h,p,a,c){h===void 0&&(h=0),p===void 0&&(p=0),a===void 0&&(a=32),c===void 0&&(c=32);var v=new x(n.sys.textures,"",a,c);f.call(this,n,h,p,v),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(o,n){this.width=o,this.height=n,this.texture.setSize(o,n),this.updateDisplayOrigin();var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=o,h.hitArea.height=n),this},resize:function(o,n){return this.setSize(o,n),this},saveTexture:function(o){var n=this.texture;return n.key=o,n.manager.addDynamicTexture(n)&&(this._saved=!0),n},fill:function(o,n,h,p,a,c){return this.texture.fill(o,n,h,p,a,c),this},clear:function(){return this.texture.clear(),this},stamp:function(o,n,h,p,a){return this.texture.stamp(o,n,h,p,a),this},erase:function(o,n,h){return this.texture.erase(o,n,h),this},draw:function(o,n,h,p,a){return this.texture.draw(o,n,h,p,a),this},drawFrame:function(o,n,h,p,a,c){return this.texture.drawFrame(o,n,h,p,a,c),this},repeat:function(o,n,h,p,a,c,v,g,m){return this.texture.repeat(o,n,h,p,a,c,v,g,m),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(o,n,h,p,a){return this.texture.batchDraw(o,n,h,p,a),this},batchDrawFrame:function(o,n,h,p,a,c){return this.texture.batchDrawFrame(o,n,h,p,a,c),this},endDraw:function(o){return this.texture.endDraw(o),this},snapshotArea:function(o,n,h,p,a,c,v){return this.texture.snapshotArea(o,n,h,p,a,c,v),this},snapshot:function(o,n,h){return this.snapshotArea(0,0,this.width,this.height,o,n,h)},snapshotPixel:function(o,n,h){return this.snapshotArea(o,n,1,1,h,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});r.exports=u},85692:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(88933),x=i(99325),f=i(20494),u=i(15996);x.register("renderTexture",function(o,n){o===void 0&&(o={});var h=f(o,"x",0),p=f(o,"y",0),a=f(o,"width",32),c=f(o,"height",32),v=new u(this.scene,h,p,a,c);return n!==void 0&&(o.add=n),d(this.scene,v,o),v})},29599:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61286),x=i(15996);d.register("renderTexture",function(f,u,o,n){return this.displayList.add(new x(this.scene,f,u,o,n))})},79968:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(16569),x=i(56694),f=i(64937),u=i(89980),o=i(65641),n=i(58912),h=i(93736),p=new x({Extends:u,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Flip,f.Mask,f.Pipeline,f.PostPipeline,f.Size,f.Texture,f.Transform,f.Visible,f.ScrollFactor,n],initialize:function(c,v,g,m,y,P,M,E,w){m===void 0&&(m="__DEFAULT"),P===void 0&&(P=2),M===void 0&&(M=!0),u.call(this,c,"Rope"),this.anims=new d(this),this.points=P,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=m==="__DEFAULT",this.dirty=!1,this.horizontal=M,this._flipX=!1,this._flipY=!1,this._perp=new h,this.debugCallback=null,this.debugGraphic=null,this.setTexture(m,y),this.setPosition(v,g),this.setSizeToFrame(),this.initPipeline(o.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(P)&&this.resizeArrays(P.length),this.setPoints(P,E,w),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(a,c){var v=this.anims.currentFrame;this.anims.update(a,c),this.anims.currentFrame!==v&&(this.updateUVs(),this.updateVertices())},play:function(a,c,v){return this.anims.play(a,c,v),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(a,c,v){return a===void 0&&(a=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(a,c,v))},setVertical:function(a,c,v){return a===void 0&&(a=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(a,c,v)):this},setTintFill:function(a){return a===void 0&&(a=!1),this.tintFill=a,this},setAlphas:function(a,c){var v=this.points.length;if(v<1)return this;var g=this.alphas;a===void 0?a=[1]:!Array.isArray(a)&&c===void 0&&(a=[a]);var m,y=0;if(c!==void 0)for(m=0;m<v;m++)y=m*2,g[y]=a,g[y+1]=c;else if(a.length===v)for(m=0;m<v;m++)y=m*2,g[y]=a[m],g[y+1]=a[m];else{var P=a[0];for(m=0;m<v;m++)y=m*2,a.length>y&&(P=a[y]),g[y]=P,a.length>y+1&&(P=a[y+1]),g[y+1]=P}return this},setColors:function(a){var c=this.points.length;if(c<1)return this;var v=this.colors;a===void 0?a=[16777215]:Array.isArray(a)||(a=[a]);var g,m=0;if(a.length===c)for(g=0;g<c;g++)m=g*2,v[m]=a[g],v[m+1]=a[g];else{var y=a[0];for(g=0;g<c;g++)m=g*2,a.length>m&&(y=a[m]),v[m]=y,a.length>m+1&&(y=a[m+1]),v[m+1]=y}return this},setPoints:function(a,c,v){if(a===void 0&&(a=2),typeof a=="number"){var g=a;g<2&&(g=2),a=[];var m,y,P;if(this.horizontal)for(P=-this.frame.halfWidth,y=this.frame.width/(g-1),m=0;m<g;m++)a.push({x:P+m*y,y:0});else for(P=-this.frame.halfHeight,y=this.frame.height/(g-1),m=0;m<g;m++)a.push({x:0,y:P+m*y})}var M=a.length,E=this.points.length;return M<1?(console.warn("Rope: Not enough points given"),this):(M===1&&(a.unshift({x:0,y:0}),M++),E!==M&&this.resizeArrays(M),this.dirty=!0,this.points=a,this.updateUVs(),c!=null&&this.setColors(c),v!=null&&this.setAlphas(v),this)},updateUVs:function(){for(var a=this.uv,c=this.points.length,v=this.frame.u0,g=this.frame.v0,m=this.frame.u1,y=this.frame.v1,P=(m-v)/(c-1),M=(y-g)/(c-1),E=0;E<c;E++){var w=E*4,R,O,A,F;this.horizontal?(this._flipX?(R=m-E*P,A=m-E*P):(R=v+E*P,A=v+E*P),this._flipY?(O=y,F=g):(O=g,F=y)):(this._flipX?(R=v,A=m):(R=m,A=v),this._flipY?(O=y-E*M,F=y-E*M):(O=g+E*M,F=g+E*M)),a[w+0]=R,a[w+1]=O,a[w+2]=A,a[w+3]=F}return this},resizeArrays:function(a){var c=this.colors,v=this.alphas;this.vertices=new Float32Array(a*4),this.uv=new Float32Array(a*4),c=new Uint32Array(a*2),v=new Float32Array(a*2);for(var g=0;g<a*2;g++)c[g]=16777215,v[g]=1;return this.colors=c,this.alphas=v,this.dirty=!0,this},updateVertices:function(){var a=this._perp,c=this.points,v=this.vertices,g=c.length;if(this.dirty=!1,!(g<1)){for(var m,y=c[0],P=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,M=0;M<g;M++){var E=c[M],w=M*4;M<g-1?m=c[M+1]:m=E,a.x=m.y-y.y,a.y=-(m.x-y.x);var R=a.length();a.x/=R,a.y/=R,a.x*=P,a.y*=P,v[w]=E.x+a.x,v[w+1]=E.y+a.y,v[w+2]=E.x-a.x,v[w+3]=E.y-a.y,y=E}return this}},setDebug:function(a,c){return this.debugGraphic=a,!a&&!c?this.debugCallback=null:c?this.debugCallback=c:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(a,c,v){var g=a.debugGraphic,m=v[0],y=v[1],P=v[2],M=v[3];g.lineBetween(m,y,P,M);for(var E=4;E<c;E+=4){var w=v[E+0],R=v[E+1],O=v[E+2],A=v[E+3];g.lineBetween(m,y,w,R),g.lineBetween(P,M,O,A),g.lineBetween(P,M,w,R),g.lineBetween(w,R,O,A),m=w,y=R,P=O,M=A}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(a){return this._flipX=a,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(a){return this._flipY=a,this.updateUVs()}}});r.exports=p},44598:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};r.exports=T},96027:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(88933),x=i(99325),f=i(20494),u=i(10850),o=i(79968);x.register("rope",function(n,h){n===void 0&&(n={});var p=f(n,"key",null),a=f(n,"frame",null),c=f(n,"horizontal",!0),v=u(n,"points",void 0),g=u(n,"colors",void 0),m=u(n,"alphas",void 0),y=new o(this.scene,0,0,p,a,v,c,g,m);return h!==void 0&&(n.add=h),d(this.scene,y,n),y})},31982:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79968),x=i(61286);x.register("rope",function(f,u,o,n,h,p,a,c){return this.displayList.add(new d(this.scene,f,u,o,n,h,p,a,c))})},58912:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(49489),f=i(44598),r.exports={renderWebGL:x,renderCanvas:f}},49489:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(73329),x=i(75512),f=function(u,o,n,h){n.addToRenderList(o);var p=u.pipelines.set(o.pipeline,o),a=d(o,n,h).calc,c=o.vertices,v=o.uv,g=o.colors,m=o.alphas,y=o.alpha,P=x.getTintAppendFloatAlpha,M=n.roundPixels,E=c.length,w=Math.floor(E*.5);p.flush(),u.pipelines.preBatch(o);var R=p.setGameObject(o),O=p.vertexViewF32,A=p.vertexViewU32,F=p.vertexCount*p.currentShader.vertexComponentCount-1,L=0,I=o.tintFill;o.dirty&&o.updateVertices();for(var B=o.debugCallback,b=[],k=0;k<E;k+=2){var U=c[k+0],Y=c[k+1],H=U*a.a+Y*a.c+a.e,z=U*a.b+Y*a.d+a.f;M&&(H=Math.round(H),z=Math.round(z)),O[++F]=H,O[++F]=z,O[++F]=v[k+0],O[++F]=v[k+1],O[++F]=R,O[++F]=I,A[++F]=P(g[L],n.alpha*(m[L]*y)),L++,B&&(b[k+0]=H,b[k+1]=z)}B&&B.call(o,o,E,b),p.vertexCount+=w,p.currentBatch.count=p.vertexCount-p.currentBatch.start,u.pipelines.postBatch(o)};r.exports=f},27902:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(64937),f=i(89980),u=i(72632),o=i(98611),n=i(22440),h=i(24252),p=i(69360),a=new d({Extends:f,Mixins:[x.ComputedSize,x.Depth,x.GetBounds,x.Mask,x.Origin,x.ScrollFactor,x.Transform,x.Visible,h],initialize:function(v,g,m,y,P,M,E,w){m===void 0&&(m=0),y===void 0&&(y=0),P===void 0&&(P=128),M===void 0&&(M=128),f.call(this,v,"Shader"),this.blendMode=-1,this.shader;var R=v.sys.renderer;this.renderer=R,this.gl=R.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=R.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new p,this._tempMatrix2=new p,this._tempMatrix3=new p,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=R.width,this._rendererHeight=R.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(m,y),this.setSize(P,M),this.setOrigin(.5,.5),this.setShader(g,E,w)},willRender:function(c){return this.renderToTexture?!0:!(f.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&c.id)},setRenderToTexture:function(c,v){if(v===void 0&&(v=!1),!this.renderToTexture){var g=this.width,m=this.height,y=this.renderer;this.glTexture=y.createTextureFromSource(null,g,m,0),this.glTexture.flipY=v,this.framebuffer=y.createFramebuffer(g,m,this.glTexture,!1),this._rendererWidth=g,this._rendererHeight=m,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),c&&(this.texture=this.scene.sys.textures.addGLTexture(c,this.glTexture,g,m))}return this.shader&&(y.pipelines.clear(),this.load(),this.flush(),y.pipelines.rebind()),this},setShader:function(c,v,g){if(v===void 0&&(v=[]),typeof c=="string"){var m=this.scene.sys.cache.shader;if(!m.has(c))return console.warn("Shader missing: "+c),this;this.shader=m.get(c)}else this.shader=c;var y=this.gl,P=this.renderer;this.program&&y.deleteProgram(this.program);var M=P.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);y.uniformMatrix4fv(y.getUniformLocation(M,"uViewMatrix"),!1,this.viewMatrix),y.uniformMatrix4fv(y.getUniformLocation(M,"uProjectionMatrix"),!1,this.projectionMatrix),y.uniform2f(y.getUniformLocation(M,"uResolution"),this.width,this.height),this.program=M;var E=new Date,w={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[E.getFullYear(),E.getMonth(),E.getDate(),E.getHours()*60*60+E.getMinutes()*60+E.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=o(!0,{},this.shader.uniforms,w):this.uniforms=w;for(var R=0;R<4;R++)v[R]&&this.setSampler2D("iChannel"+R,v[R],R,g);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(c){return this.pointer=c,this},projOrtho:function(c,v,g,m){var y=-1e3,P=1e3,M=1/(c-v),E=1/(g-m),w=1/(y-P),R=this.projectionMatrix;R[0]=-2*M,R[5]=-2*E,R[10]=2*w,R[12]=(c+v)*M,R[13]=(m+g)*E,R[14]=(P+y)*w;var O=this.program,A=this.gl,F=this.renderer;F.setProgram(O),A.uniformMatrix4fv(A.getUniformLocation(O,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=v,this._rendererHeight=g},initUniforms:function(){var c=this.gl,v=this.renderer.glFuncMap,g=this.program;this._textureCount=0;for(var m in this.uniforms){var y=this.uniforms[m],P=y.type,M=v[P];y.uniformLocation=c.getUniformLocation(g,m),P!=="sampler2D"&&(y.glMatrix=M.matrix,y.glValueLength=M.length,y.glFunc=M.func)}},setSampler2DBuffer:function(c,v,g,m,y,P){y===void 0&&(y=0),P===void 0&&(P={});var M=this.uniforms[c];return M.value=v,P.width=g,P.height=m,M.textureData=P,this._textureCount=y,this.initSampler2D(M),this},setSampler2D:function(c,v,g,m){g===void 0&&(g=0);var y=this.scene.sys.textures;if(y.exists(v)){var P=y.getFrame(v);if(P.glTexture&&P.glTexture.isRenderTexture)return this.setSampler2DBuffer(c,P.glTexture,P.width,P.height,g,m);var M=this.uniforms[c],E=P.source;M.textureKey=v,M.source=E.image,M.value=P.glTexture,E.isGLTexture&&(m||(m={}),m.width=E.width,m.height=E.height),m&&(M.textureData=m),this._textureCount=g,this.initSampler2D(M)}return this},setUniform:function(c,v){return n(this.uniforms,c,v),this},getUniform:function(c){return u(this.uniforms,c,null)},setChannel0:function(c,v){return this.setSampler2D("iChannel0",c,0,v)},setChannel1:function(c,v){return this.setSampler2D("iChannel1",c,1,v)},setChannel2:function(c,v){return this.setSampler2D("iChannel2",c,2,v)},setChannel3:function(c,v){return this.setSampler2D("iChannel3",c,3,v)},initSampler2D:function(c){if(c.value){var v=this.gl;v.activeTexture(v.TEXTURE0+this._textureCount),v.bindTexture(v.TEXTURE_2D,c.value);var g=c.textureData;if(g&&!c.value.isRenderTexture){var m=v[u(g,"magFilter","linear").toUpperCase()],y=v[u(g,"minFilter","linear").toUpperCase()],P=v[u(g,"wrapS","repeat").toUpperCase()],M=v[u(g,"wrapT","repeat").toUpperCase()],E=v[u(g,"format","rgba").toUpperCase()];if(g.repeat&&(P=v.REPEAT,M=v.REPEAT),v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,!!g.flipY),g.width){var w=u(g,"width",512),R=u(g,"height",2),O=u(g,"border",0);v.texImage2D(v.TEXTURE_2D,0,E,w,R,O,E,v.UNSIGNED_BYTE,null)}else v.texImage2D(v.TEXTURE_2D,0,E,v.RGBA,v.UNSIGNED_BYTE,c.source);v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,m),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,y),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_S,P),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,M)}this.renderer.setProgram(this.program),v.uniform1i(c.uniformLocation,this._textureCount),this._textureCount++}},syncUniforms:function(){var c=this.gl,v=this.uniforms,g,m,y,P,M,E=0;for(var w in v)g=v[w],y=g.glFunc,m=g.glValueLength,P=g.uniformLocation,M=g.value,M!==null&&(m===1?g.glMatrix?y.call(c,P,g.transpose,M):y.call(c,P,M):m===2?y.call(c,P,M.x,M.y):m===3?y.call(c,P,M.x,M.y,M.z):m===4?y.call(c,P,M.x,M.y,M.z,M.w):g.type==="sampler2D"&&(c.activeTexture(c.TEXTURE0+E),c.bindTexture(c.TEXTURE_2D,M),c.uniform1i(P,E),E++))},load:function(c){var v=this.gl,g=this.width,m=this.height,y=this.renderer,P=this.program,M=this.viewMatrix;if(!this.renderToTexture){var E=-this._displayOriginX,w=-this._displayOriginY;M[0]=c[0],M[1]=c[1],M[4]=c[2],M[5]=c[3],M[8]=c[4],M[9]=c[5],M[12]=M[0]*E+M[4]*w,M[13]=M[1]*E+M[5]*w}v.useProgram(P),v.uniformMatrix4fv(v.getUniformLocation(P,"uViewMatrix"),!1,M),v.uniform2f(v.getUniformLocation(P,"uResolution"),this.width,this.height);var R=this.uniforms,O=R.resolution;O.value.x=g,O.value.y=m,R.time.value=y.game.loop.getDuration();var A=this.pointer;if(A){var F=R.mouse,L=A.x/g,I=1-A.y/m;F.value.x=L.toFixed(2),F.value.y=I.toFixed(2)}this.syncUniforms()},flush:function(){var c=this.width,v=this.height,g=this.program,m=this.gl,y=this.vertexBuffer,P=this.renderer,M=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(P.setFramebuffer(this.framebuffer),m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT)),m.bindBuffer(m.ARRAY_BUFFER,y);var E=m.getAttribLocation(g,"inPosition");E!==-1&&(m.enableVertexAttribArray(E),m.vertexAttribPointer(E,2,m.FLOAT,!1,M,0));var w=this.vertexViewF32;w[3]=v,w[4]=c,w[5]=v,w[8]=c,w[9]=v,w[10]=c;var R=6;m.bufferSubData(m.ARRAY_BUFFER,0,this.bytes.subarray(0,R*M)),m.drawArrays(m.TRIANGLES,0,R),this.renderToTexture&&P.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},preDestroy:function(){var c=this.gl;c.deleteProgram(this.program),c.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(this.renderer.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null)}});r.exports=a},10612:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};r.exports=T},13908:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(88933),x=i(99325),f=i(20494),u=i(27902);x.register("shader",function(o,n){o===void 0&&(o={});var h=f(o,"key",null),p=f(o,"x",0),a=f(o,"y",0),c=f(o,"width",128),v=f(o,"height",128),g=new u(this.scene,h,p,a,c,v);return n!==void 0&&(o.add=n),d(this.scene,g,o),g})},51979:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(27902),x=i(61286);x.register("shader",function(f,u,o,n,h,p,a){return this.displayList.add(new d(this.scene,f,u,o,n,h,p,a))})},24252:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(19782),f=i(10612),r.exports={renderWebGL:x,renderCanvas:f}},19782:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(73329),x=function(f,u,o,n){if(u.shader){if(o.addToRenderList(u),f.pipelines.clear(),u.renderToTexture)u.load(),u.flush();else{var h=d(u,o,n).calc;(f.width!==u._rendererWidth||f.height!==u._rendererHeight)&&u.projOrtho(0,f.width,f.height,0),u.load(h.matrix),u.flush()}f.pipelines.rebind()}};r.exports=x},19543:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(75512),x=function(f,u,o,n,h,p){for(var a=d.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*n),c=o.pathData,v=o.pathIndexes,g=0;g<v.length;g+=3){var m=v[g]*2,y=v[g+1]*2,P=v[g+2]*2,M=c[m+0]-h,E=c[m+1]-p,w=c[y+0]-h,R=c[y+1]-p,O=c[P+0]-h,A=c[P+1]-p,F=u.getX(M,E),L=u.getY(M,E),I=u.getX(w,R),B=u.getY(w,R),b=u.getX(O,A),k=u.getY(O,A);f.batchTri(o,F,L,I,B,b,k,0,0,1,1,a,a,a,2)}};r.exports=x},15608:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){var u=x||d.fillColor,o=f||d.fillAlpha,n=(u&16711680)>>>16,h=(u&65280)>>>8,p=u&255;i.fillStyle="rgba("+n+","+h+","+p+","+o+")"};r.exports=T},17876:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){var u=x||d.strokeColor,o=f||d.strokeAlpha,n=(u&16711680)>>>16,h=(u&65280)>>>8,p=u&255;i.strokeStyle="rgba("+n+","+h+","+p+","+o+")",i.lineWidth=d.lineWidth};r.exports=T},91461:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(64937),f=i(89980),u=i(88829),o=new d({Extends:f,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Transform,x.Visible],initialize:function(h,p,a){p===void 0&&(p="Shape"),f.call(this,h,p),this.geom=a,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new u,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(n,h){return h===void 0&&(h=1),n===void 0?this.isFilled=!1:(this.fillColor=n,this.fillAlpha=h,this.isFilled=!0),this},setStrokeStyle:function(n,h,p){return p===void 0&&(p=1),n===void 0?this.isStroked=!1:(this.lineWidth=n,this.strokeColor=h,this.strokeAlpha=p,this.isStroked=!0),this},setClosePath:function(n){return this.closePath=n,this},setSize:function(n,h){return this.width=n,this.height=h,this},setDisplaySize:function(n,h){return this.displayWidth=n,this.displayHeight=h,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}}});r.exports=o},50262:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(75512),x=function(f,u,o,n,h){var p=f.strokeTint,a=d.getTintAppendFloatAlpha(u.strokeColor,u.strokeAlpha*o);p.TL=a,p.TR=a,p.BL=a,p.BR=a;var c=u.pathData,v=c.length-1,g=u.lineWidth,m=g/2,y=c[0]-n,P=c[1]-h;u.closePath||(v-=2);for(var M=2;M<v;M+=2){var E=c[M]-n,w=c[M+1]-h;f.batchLine(y,P,E,w,m,m,g,M-2,u.closePath?M===v-1:!1),y=E,P=w}};r.exports=x},28593:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(2213),x=i(56694),f=i(75606),u=i(11117),o=i(26673),n=i(83392),h=i(91461),p=new x({Extends:h,Mixins:[d],initialize:function(c,v,g,m,y,P,M,E,w){v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=128),y===void 0&&(y=0),P===void 0&&(P=360),M===void 0&&(M=!1),h.call(this,c,"Arc",new o(0,0,m)),this._startAngle=y,this._endAngle=P,this._anticlockwise=M,this._iterations=.01,this.setPosition(v,g);var R=this.geom.radius*2;this.setSize(R,R),E!==void 0&&this.setFillStyle(E,w),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(a){this._iterations=a,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(a){this.geom.radius=a;var c=a*2;this.setSize(c,c),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(a){this._startAngle=a,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(a){this._endAngle=a,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(a){this._anticlockwise=a,this.updateData()}},setRadius:function(a){return this.radius=a,this},setIterations:function(a){return a===void 0&&(a=.01),this.iterations=a,this},setStartAngle:function(a,c){return this._startAngle=a,c!==void 0&&(this._anticlockwise=c),this.updateData()},setEndAngle:function(a,c){return this._endAngle=a,c!==void 0&&(this._anticlockwise=c),this.updateData()},updateData:function(){var a=this._iterations,c=a,v=this.geom.radius,g=f(this._startAngle),m=f(this._endAngle),y=this._anticlockwise,P=v,M=v;m-=g,y?m<-n.PI2?m=-n.PI2:m>0&&(m=-n.PI2+m%n.PI2):m>n.PI2?m=n.PI2:m<0&&(m=n.PI2+m%n.PI2);for(var E=[P+Math.cos(g)*v,M+Math.sin(g)*v],w;c<1;)w=m*c+g,E.push(P+Math.cos(w)*v,M+Math.sin(w)*v),c+=a;return w=m+g,E.push(P+Math.cos(w)*v,M+Math.sin(w)*v),E.push(P+Math.cos(g)*v,M+Math.sin(g)*v),this.pathIndexes=u(E),this.pathData=E,this}});r.exports=p},23560:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(75606),x=i(15608),f=i(17876),u=i(49584),o=function(n,h,p,a){p.addToRenderList(h);var c=n.currentContext;if(u(n,c,h,p,a)){var v=h.radius;c.beginPath(),c.arc(v-h.originX*(v*2),v-h.originY*(v*2),v,d(h._startAngle),d(h._endAngle),h.anticlockwise),h.closePath&&c.closePath(),h.isFilled&&(x(c,h),c.fill()),h.isStroked&&(f(c,h),c.stroke()),c.restore()}};r.exports=o},10369:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(28593),x=i(61286);x.register("arc",function(f,u,o,n,h,p,a,c){return this.displayList.add(new d(this.scene,f,u,o,n,h,p,a,c))}),x.register("circle",function(f,u,o,n,h){return this.displayList.add(new d(this.scene,f,u,o,0,360,!1,n,h))})},2213:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(58356),f=i(23560),r.exports={renderWebGL:x,renderCanvas:f}},58356:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(73329),x=i(19543),f=i(50262),u=function(o,n,h,p){h.addToRenderList(n);var a=o.pipelines.set(n.pipeline),c=d(n,h,p),v=a.calcMatrix.copyFrom(c.calc),g=n._displayOriginX,m=n._displayOriginY,y=h.alpha*n.alpha;o.pipelines.preBatch(n),n.isFilled&&x(a,v,n,y,g,m),n.isStroked&&f(a,n,y,g,m),o.pipelines.postBatch(n)};r.exports=u},15220:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(87203),f=i(11117),u=i(74118),o=i(91461),n=new d({Extends:o,Mixins:[x],initialize:function(p,a,c,v,g,m){a===void 0&&(a=0),c===void 0&&(c=0),o.call(this,p,"Curve",v),this._smoothness=32,this._curveBounds=new u,this.closePath=!1,this.setPosition(a,c),g!==void 0&&this.setFillStyle(g,m),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(h){this._smoothness=h,this.updateData()}},setSmoothness:function(h){return this._smoothness=h,this.updateData()},updateData:function(){var h=this._curveBounds,p=this._smoothness;this.geom.getBounds(h,p),this.setSize(h.width,h.height),this.updateDisplayOrigin();for(var a=[],c=this.geom.getPoints(p),v=0;v<c.length;v++)a.push(c[v].x,c[v].y);return a.push(c[0].x,c[0].y),this.pathIndexes=f(a),this.pathData=a,this}});r.exports=n},4024:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(15608),x=i(17876),f=i(49584),u=function(o,n,h,p){h.addToRenderList(n);var a=o.currentContext;if(f(o,a,n,h,p)){var c=n._displayOriginX+n._curveBounds.x,v=n._displayOriginY+n._curveBounds.y,g=n.pathData,m=g.length-1,y=g[0]-c,P=g[1]-v;a.beginPath(),a.moveTo(y,P),n.closePath||(m-=2);for(var M=2;M<m;M+=2){var E=g[M]-c,w=g[M+1]-v;a.lineTo(E,w)}n.closePath&&a.closePath(),n.isFilled&&(d(a,n),a.fill()),n.isStroked&&(x(a,n),a.stroke()),a.restore()}};r.exports=u},10147:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61286),x=i(15220);d.register("curve",function(f,u,o,n,h){return this.displayList.add(new x(this.scene,f,u,o,n,h))})},87203:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(82958),f=i(4024),r.exports={renderWebGL:x,renderCanvas:f}},82958:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(19543),x=i(73329),f=i(50262),u=function(o,n,h,p){h.addToRenderList(n);var a=o.pipelines.set(n.pipeline),c=x(n,h,p),v=a.calcMatrix.copyFrom(c.calc),g=n._displayOriginX+n._curveBounds.x,m=n._displayOriginY+n._curveBounds.y,y=h.alpha*n.alpha;o.pipelines.preBatch(n),n.isFilled&&d(a,v,n,y,g,m),n.isStroked&&f(a,n,y,g,m),o.pipelines.postBatch(n)};r.exports=u},28591:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(11117),f=i(84171),u=i(95669),o=i(91461),n=new d({Extends:o,Mixins:[f],initialize:function(p,a,c,v,g,m,y){a===void 0&&(a=0),c===void 0&&(c=0),v===void 0&&(v=128),g===void 0&&(g=128),o.call(this,p,"Ellipse",new u(v/2,g/2,v,g)),this._smoothness=64,this.setPosition(a,c),this.width=v,this.height=g,m!==void 0&&this.setFillStyle(m,y),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(h){this._smoothness=h,this.updateData()}},setSize:function(h,p){return this.width=h,this.height=p,this.geom.setPosition(h/2,p/2),this.geom.setSize(h,p),this.updateData()},setSmoothness:function(h){return this._smoothness=h,this.updateData()},updateData:function(){for(var h=[],p=this.geom.getPoints(this._smoothness),a=0;a<p.length;a++)h.push(p[a].x,p[a].y);return h.push(p[0].x,p[0].y),this.pathIndexes=x(h),this.pathData=h,this}});r.exports=n},55881:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(15608),x=i(17876),f=i(49584),u=function(o,n,h,p){h.addToRenderList(n);var a=o.currentContext;if(f(o,a,n,h,p)){var c=n._displayOriginX,v=n._displayOriginY,g=n.pathData,m=g.length-1,y=g[0]-c,P=g[1]-v;a.beginPath(),a.moveTo(y,P),n.closePath||(m-=2);for(var M=2;M<m;M+=2){var E=g[M]-c,w=g[M+1]-v;a.lineTo(E,w)}a.closePath(),n.isFilled&&(d(a,n),a.fill()),n.isStroked&&(x(a,n),a.stroke()),a.restore()}};r.exports=u},99869:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(28591),x=i(61286);x.register("ellipse",function(f,u,o,n,h,p){return this.displayList.add(new d(this.scene,f,u,o,n,h,p))})},84171:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(17554),f=i(55881),r.exports={renderWebGL:x,renderCanvas:f}},17554:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(19543),x=i(73329),f=i(50262),u=function(o,n,h,p){h.addToRenderList(n);var a=o.pipelines.set(n.pipeline),c=x(n,h,p),v=a.calcMatrix.copyFrom(c.calc),g=n._displayOriginX,m=n._displayOriginY,y=h.alpha*n.alpha;o.pipelines.preBatch(n),n.isFilled&&d(a,v,n,y,g,m),n.isStroked&&f(a,n,y,g,m),o.pipelines.postBatch(n)};r.exports=u},39169:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(91461),f=i(88059),u=new d({Extends:x,Mixins:[f],initialize:function(n,h,p,a,c,v,g,m,y,P,M){h===void 0&&(h=0),p===void 0&&(p=0),a===void 0&&(a=128),c===void 0&&(c=128),v===void 0&&(v=32),g===void 0&&(g=32),x.call(this,n,"Grid",null),this.cellWidth=v,this.cellHeight=g,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(h,p),this.setSize(a,c),this.setFillStyle(m,y),P!==void 0&&this.setOutlineStyle(P,M),this.updateDisplayOrigin()},setFillStyle:function(o,n){return n===void 0&&(n=1),o===void 0?this.showCells=!1:(this.fillColor=o,this.fillAlpha=n,this.showCells=!0),this},setAltFillStyle:function(o,n){return n===void 0&&(n=1),o===void 0?this.showAltCells=!1:(this.altFillColor=o,this.altFillAlpha=n,this.showAltCells=!0),this},setOutlineStyle:function(o,n){return n===void 0&&(n=1),o===void 0?this.showOutline=!1:(this.outlineFillColor=o,this.outlineFillAlpha=n,this.showOutline=!0),this}});r.exports=u},95525:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(15608),x=i(17876),f=i(49584),u=function(o,n,h,p){h.addToRenderList(n);var a=o.currentContext;if(f(o,a,n,h,p)){var c=-n._displayOriginX,v=-n._displayOriginY,g=h.alpha*n.alpha,m=n.width,y=n.height,P=n.cellWidth,M=n.cellHeight,E=Math.ceil(m/P),w=Math.ceil(y/M),R=P,O=M,A=P-(E*P-m),F=M-(w*M-y),L=n.showCells,I=n.showAltCells,B=n.showOutline,b=0,k=0,U=0,Y=0,H=0;if(B&&(R--,O--,A===P&&A--,F===M&&F--),L&&n.fillAlpha>0)for(d(a,n),k=0;k<w;k++)for(I&&(U=k%2),b=0;b<E;b++){if(I&&U){U=0;continue}U++,Y=b<E-1?R:A,H=k<w-1?O:F,a.fillRect(c+b*P,v+k*M,Y,H)}if(I&&n.altFillAlpha>0)for(d(a,n,n.altFillColor,n.altFillAlpha*g),k=0;k<w;k++)for(I&&(U=k%2),b=0;b<E;b++){if(I&&!U){U=1;continue}U=0,Y=b<E-1?R:A,H=k<w-1?O:F,a.fillRect(c+b*P,v+k*M,Y,H)}if(B&&n.outlineFillAlpha>0){for(x(a,n,n.outlineFillColor,n.outlineFillAlpha*g),b=1;b<E;b++){var z=b*P;a.beginPath(),a.moveTo(z+c,v),a.lineTo(z+c,y+v),a.stroke()}for(k=1;k<w;k++){var V=k*M;a.beginPath(),a.moveTo(c,V+v),a.lineTo(c+m,V+v),a.stroke()}}a.restore()}};r.exports=u},9326:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61286),x=i(39169);d.register("grid",function(f,u,o,n,h,p,a,c,v,g){return this.displayList.add(new x(this.scene,f,u,o,n,h,p,a,c,v,g))})},88059:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(50639),f=i(95525),r.exports={renderWebGL:x,renderCanvas:f}},50639:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(73329),x=i(75512),f=function(u,o,n,h){n.addToRenderList(o);var p=u.pipelines.set(o.pipeline),a=d(o,n,h),c=p.calcMatrix.copyFrom(a.calc);c.translate(-o._displayOriginX,-o._displayOriginY);var v=n.alpha*o.alpha,g=o.width,m=o.height,y=o.cellWidth,P=o.cellHeight,M=Math.ceil(g/y),E=Math.ceil(m/P),w=y,R=P,O=y-(M*y-g),A=P-(E*P-m),F,L,I=o.showCells,B=o.showAltCells,b=o.showOutline,k=0,U=0,Y=0,H=0,z=0;if(b&&(w--,R--,O===y&&O--,A===P&&A--),u.pipelines.preBatch(o),I&&o.fillAlpha>0)for(F=p.fillTint,L=x.getTintAppendFloatAlpha(o.fillColor,o.fillAlpha*v),F.TL=L,F.TR=L,F.BL=L,F.BR=L,U=0;U<E;U++)for(B&&(Y=U%2),k=0;k<M;k++){if(B&&Y){Y=0;continue}Y++,H=k<M-1?w:O,z=U<E-1?R:A,p.batchFillRect(k*y,U*P,H,z)}if(B&&o.altFillAlpha>0)for(F=p.fillTint,L=x.getTintAppendFloatAlpha(o.altFillColor,o.altFillAlpha*v),F.TL=L,F.TR=L,F.BL=L,F.BR=L,U=0;U<E;U++)for(B&&(Y=U%2),k=0;k<M;k++){if(B&&!Y){Y=1;continue}Y=0,H=k<M-1?w:O,z=U<E-1?R:A,p.batchFillRect(k*y,U*P,H,z)}if(b&&o.outlineFillAlpha>0){var V=p.strokeTint,D=x.getTintAppendFloatAlpha(o.outlineFillColor,o.outlineFillAlpha*v);for(V.TL=D,V.TR=D,V.BL=D,V.BR=D,k=1;k<M;k++){var G=k*y;p.batchLine(G,0,G,m,1,1,1,0,!1)}for(U=1;U<E;U++){var N=U*P;p.batchLine(0,N,g,N,1,1,1,0,!1)}}u.pipelines.postBatch(o)};r.exports=f},4415:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72296),x=i(56694),f=i(91461),u=new x({Extends:f,Mixins:[d],initialize:function(n,h,p,a,c,v,g,m){h===void 0&&(h=0),p===void 0&&(p=0),a===void 0&&(a=48),c===void 0&&(c=32),v===void 0&&(v=15658734),g===void 0&&(g=10066329),m===void 0&&(m=13421772),f.call(this,n,"IsoBox",null),this.projection=4,this.fillTop=v,this.fillLeft=g,this.fillRight=m,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(h,p),this.setSize(a,c),this.updateDisplayOrigin()},setProjection:function(o){return this.projection=o,this},setFaces:function(o,n,h){return o===void 0&&(o=!0),n===void 0&&(n=!0),h===void 0&&(h=!0),this.showTop=o,this.showLeft=n,this.showRight=h,this},setFillStyle:function(o,n,h){return this.fillTop=o,this.fillLeft=n,this.fillRight=h,this.isFilled=!0,this}});r.exports=u},32884:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(15608),x=i(49584),f=function(u,o,n,h){n.addToRenderList(o);var p=u.currentContext;if(x(u,p,o,n,h)&&o.isFilled){var a=o.width,c=o.height,v=a/2,g=a/o.projection;o.showTop&&(d(p,o,o.fillTop),p.beginPath(),p.moveTo(-v,-c),p.lineTo(0,-g-c),p.lineTo(v,-c),p.lineTo(v,-1),p.lineTo(0,g-1),p.lineTo(-v,-1),p.lineTo(-v,-c),p.fill()),o.showLeft&&(d(p,o,o.fillLeft),p.beginPath(),p.moveTo(-v,0),p.lineTo(0,g),p.lineTo(0,g-c),p.lineTo(-v,-c),p.lineTo(-v,0),p.fill()),o.showRight&&(d(p,o,o.fillRight),p.beginPath(),p.moveTo(v,0),p.lineTo(0,g),p.lineTo(0,g-c),p.lineTo(v,-c),p.lineTo(v,0),p.fill()),p.restore()}};r.exports=f},88154:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61286),x=i(4415);d.register("isobox",function(f,u,o,n,h,p,a){return this.displayList.add(new x(this.scene,f,u,o,n,h,p,a))})},72296:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(33101),f=i(32884),r.exports={renderWebGL:x,renderCanvas:f}},33101:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(73329),x=i(75512),f=function(u,o,n,h){n.addToRenderList(o);var p=u.pipelines.set(o.pipeline),a=d(o,n,h),c=p.calcMatrix.copyFrom(a.calc),v=o.width,g=o.height,m=v/2,y=v/o.projection,P=n.alpha*o.alpha;if(o.isFilled){var M,E,w,R,O,A,F,L,I;u.pipelines.preBatch(o),o.showTop&&(M=x.getTintAppendFloatAlpha(o.fillTop,P),E=c.getX(-m,-g),w=c.getY(-m,-g),R=c.getX(0,-y-g),O=c.getY(0,-y-g),A=c.getX(m,-g),F=c.getY(m,-g),L=c.getX(0,y-g),I=c.getY(0,y-g),p.batchQuad(o,E,w,R,O,A,F,L,I,0,0,1,1,M,M,M,M,2)),o.showLeft&&(M=x.getTintAppendFloatAlpha(o.fillLeft,P),E=c.getX(-m,0),w=c.getY(-m,0),R=c.getX(0,y),O=c.getY(0,y),A=c.getX(0,y-g),F=c.getY(0,y-g),L=c.getX(-m,-g),I=c.getY(-m,-g),p.batchQuad(o,E,w,R,O,A,F,L,I,0,0,1,1,M,M,M,M,2)),o.showRight&&(M=x.getTintAppendFloatAlpha(o.fillRight,P),E=c.getX(m,0),w=c.getY(m,0),R=c.getX(0,y),O=c.getY(0,y),A=c.getX(0,y-g),F=c.getY(0,y-g),L=c.getX(m,-g),I=c.getY(m,-g),p.batchQuad(o,E,w,R,O,A,F,L,I,0,0,1,1,M,M,M,M,2)),u.pipelines.postBatch(o)}};r.exports=f},65159:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(93387),f=i(91461),u=new d({Extends:f,Mixins:[x],initialize:function(n,h,p,a,c,v,g,m,y){h===void 0&&(h=0),p===void 0&&(p=0),a===void 0&&(a=48),c===void 0&&(c=32),v===void 0&&(v=!1),g===void 0&&(g=15658734),m===void 0&&(m=10066329),y===void 0&&(y=13421772),f.call(this,n,"IsoTriangle",null),this.projection=4,this.fillTop=g,this.fillLeft=m,this.fillRight=y,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=v,this.isFilled=!0,this.setPosition(h,p),this.setSize(a,c),this.updateDisplayOrigin()},setProjection:function(o){return this.projection=o,this},setReversed:function(o){return this.isReversed=o,this},setFaces:function(o,n,h){return o===void 0&&(o=!0),n===void 0&&(n=!0),h===void 0&&(h=!0),this.showTop=o,this.showLeft=n,this.showRight=h,this},setFillStyle:function(o,n,h){return this.fillTop=o,this.fillLeft=n,this.fillRight=h,this.isFilled=!0,this}});r.exports=u},9923:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(15608),x=i(49584),f=function(u,o,n,h){n.addToRenderList(o);var p=u.currentContext;if(x(u,p,o,n,h)&&o.isFilled){var a=o.width,c=o.height,v=a/2,g=a/o.projection,m=o.isReversed;o.showTop&&m&&(d(p,o,o.fillTop),p.beginPath(),p.moveTo(-v,-c),p.lineTo(0,-g-c),p.lineTo(v,-c),p.lineTo(0,g-c),p.fill()),o.showLeft&&(d(p,o,o.fillLeft),p.beginPath(),m?(p.moveTo(-v,-c),p.lineTo(0,g),p.lineTo(0,g-c)):(p.moveTo(-v,0),p.lineTo(0,g),p.lineTo(0,g-c)),p.fill()),o.showRight&&(d(p,o,o.fillRight),p.beginPath(),m?(p.moveTo(v,-c),p.lineTo(0,g),p.lineTo(0,g-c)):(p.moveTo(v,0),p.lineTo(0,g),p.lineTo(0,g-c)),p.fill()),p.restore()}};r.exports=f},67765:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61286),x=i(65159);d.register("isotriangle",function(f,u,o,n,h,p,a,c){return this.displayList.add(new x(this.scene,f,u,o,n,h,p,a,c))})},93387:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(54946),f=i(9923),r.exports={renderWebGL:x,renderCanvas:f}},54946:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(73329),x=i(75512),f=function(u,o,n,h){n.addToRenderList(o);var p=u.pipelines.set(o.pipeline),a=d(o,n,h),c=p.calcMatrix.copyFrom(a.calc),v=o.width,g=o.height,m=v/2,y=v/o.projection,P=o.isReversed,M=n.alpha*o.alpha;if(o.isFilled){u.pipelines.preBatch(o);var E,w,R,O,A,F,L;if(o.showTop&&P){E=x.getTintAppendFloatAlpha(o.fillTop,M),w=c.getX(-m,-g),R=c.getY(-m,-g),O=c.getX(0,-y-g),A=c.getY(0,-y-g),F=c.getX(m,-g),L=c.getY(m,-g);var I=c.getX(0,y-g),B=c.getY(0,y-g);p.batchQuad(o,w,R,O,A,F,L,I,B,0,0,1,1,E,E,E,E,2)}o.showLeft&&(E=x.getTintAppendFloatAlpha(o.fillLeft,M),P?(w=c.getX(-m,-g),R=c.getY(-m,-g),O=c.getX(0,y),A=c.getY(0,y),F=c.getX(0,y-g),L=c.getY(0,y-g)):(w=c.getX(-m,0),R=c.getY(-m,0),O=c.getX(0,y),A=c.getY(0,y),F=c.getX(0,y-g),L=c.getY(0,y-g)),p.batchTri(o,w,R,O,A,F,L,0,0,1,1,E,E,E,2)),o.showRight&&(E=x.getTintAppendFloatAlpha(o.fillRight,M),P?(w=c.getX(m,-g),R=c.getY(m,-g),O=c.getX(0,y),A=c.getY(0,y),F=c.getX(0,y-g),L=c.getY(0,y-g)):(w=c.getX(m,0),R=c.getY(m,0),O=c.getX(0,y),A=c.getY(0,y),F=c.getX(0,y-g),L=c.getY(0,y-g)),p.batchTri(o,w,R,O,A,F,L,0,0,1,1,E,E,E,2)),u.pipelines.postBatch(o)}};r.exports=f},579:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(91461),f=i(88829),u=i(52660),o=new d({Extends:x,Mixins:[u],initialize:function(h,p,a,c,v,g,m,y,P){p===void 0&&(p=0),a===void 0&&(a=0),c===void 0&&(c=0),v===void 0&&(v=0),g===void 0&&(g=128),m===void 0&&(m=0),x.call(this,h,"Line",new f(c,v,g,m));var M=Math.max(1,this.geom.right-this.geom.left),E=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(p,a),this.setSize(M,E),y!==void 0&&this.setStrokeStyle(1,y,P),this.updateDisplayOrigin()},setLineWidth:function(n,h){return h===void 0&&(h=n),this._startWidth=n,this._endWidth=h,this.lineWidth=n,this},setTo:function(n,h,p,a){return this.geom.setTo(n,h,p,a),this}});r.exports=o},52044:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(17876),x=i(49584),f=function(u,o,n,h){n.addToRenderList(o);var p=u.currentContext;if(x(u,p,o,n,h)){var a=o._displayOriginX,c=o._displayOriginY;o.isStroked&&(d(p,o),p.beginPath(),p.moveTo(o.geom.x1-a,o.geom.y1-c),p.lineTo(o.geom.x2-a,o.geom.y2-c),p.stroke()),p.restore()}};r.exports=f},85665:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61286),x=i(579);d.register("line",function(f,u,o,n,h,p,a,c){return this.displayList.add(new x(this.scene,f,u,o,n,h,p,a,c))})},52660:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(46952),f=i(52044),r.exports={renderWebGL:x,renderCanvas:f}},46952:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(73329),x=i(75512),f=function(u,o,n,h){n.addToRenderList(o);var p=u.pipelines.set(o.pipeline),a=d(o,n,h);p.calcMatrix.copyFrom(a.calc);var c=o._displayOriginX,v=o._displayOriginY,g=n.alpha*o.alpha;if(u.pipelines.preBatch(o),o.isStroked){var m=p.strokeTint,y=x.getTintAppendFloatAlpha(o.strokeColor,o.strokeAlpha*g);m.TL=y,m.TR=y,m.BL=y,m.BR=y,p.batchLine(o.geom.x1-c,o.geom.y1-v,o.geom.x2-c,o.geom.y2-v,o._startWidth/2,o._endWidth/2,1,0,!1,a.sprite,a.camera)}u.pipelines.postBatch(o)};r.exports=f},91249:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(70573),x=i(56694),f=i(11117),u=i(14045),o=i(8580),n=i(91461),h=i(18974),p=new x({Extends:n,Mixins:[d],initialize:function(c,v,g,m,y,P){v===void 0&&(v=0),g===void 0&&(g=0),n.call(this,c,"Polygon",new o(m));var M=u(this.geom);this.setPosition(v,g),this.setSize(M.width,M.height),y!==void 0&&this.setFillStyle(y,P),this.updateDisplayOrigin(),this.updateData()},smooth:function(a){a===void 0&&(a=1);for(var c=0;c<a;c++)h(this.geom);return this.updateData()},setTo:function(a){this.geom.setTo(a);var c=u(this.geom);return this.setSize(c.width,c.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var a=[],c=this.geom.points,v=0;v<c.length;v++)a.push(c[v].x,c[v].y);return a.push(c[0].x,c[0].y),this.pathIndexes=f(a),this.pathData=a,this}});r.exports=p},40834:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(15608),x=i(17876),f=i(49584),u=function(o,n,h,p){h.addToRenderList(n);var a=o.currentContext;if(f(o,a,n,h,p)){var c=n._displayOriginX,v=n._displayOriginY,g=n.pathData,m=g.length-1,y=g[0]-c,P=g[1]-v;a.beginPath(),a.moveTo(y,P),n.closePath||(m-=2);for(var M=2;M<m;M+=2){var E=g[M]-c,w=g[M+1]-v;a.lineTo(E,w)}n.closePath&&a.closePath(),n.isFilled&&(d(a,n),a.fill()),n.isStroked&&(x(a,n),a.stroke()),a.restore()}};r.exports=u},88203:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61286),x=i(91249);d.register("polygon",function(f,u,o,n,h){return this.displayList.add(new x(this.scene,f,u,o,n,h))})},70573:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(72841),f=i(40834),r.exports={renderWebGL:x,renderCanvas:f}},72841:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(19543),x=i(73329),f=i(50262),u=function(o,n,h,p){h.addToRenderList(n);var a=o.pipelines.set(n.pipeline),c=x(n,h,p),v=a.calcMatrix.copyFrom(c.calc),g=n._displayOriginX,m=n._displayOriginY,y=h.alpha*n.alpha;o.pipelines.preBatch(n),n.isFilled&&d(a,v,n,y,g,m),n.isStroked&&f(a,n,y,g,m),o.pipelines.postBatch(n)};r.exports=u},517:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(74118),f=i(91461),u=i(37673),o=new d({Extends:f,Mixins:[u],initialize:function(h,p,a,c,v,g,m){p===void 0&&(p=0),a===void 0&&(a=0),c===void 0&&(c=128),v===void 0&&(v=128),f.call(this,h,"Rectangle",new x(0,0,c,v)),this.setPosition(p,a),this.setSize(c,v),g!==void 0&&this.setFillStyle(g,m),this.updateDisplayOrigin(),this.updateData()},setSize:function(n,h){this.width=n,this.height=h,this.geom.setSize(n,h),this.updateData(),this.updateDisplayOrigin();var p=this.input;return p&&!p.customHitArea&&(p.hitArea.width=n,p.hitArea.height=h),this},updateData:function(){var n=[],h=this.geom,p=this._tempLine;return h.getLineA(p),n.push(p.x1,p.y1,p.x2,p.y2),h.getLineB(p),n.push(p.x2,p.y2),h.getLineC(p),n.push(p.x2,p.y2),h.getLineD(p),n.push(p.x2,p.y2),this.pathData=n,this}});r.exports=o},4091:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(15608),x=i(17876),f=i(49584),u=function(o,n,h,p){h.addToRenderList(n);var a=o.currentContext;if(f(o,a,n,h,p)){var c=n._displayOriginX,v=n._displayOriginY;n.isFilled&&(d(a,n),a.fillRect(-c,-v,n.width,n.height)),n.isStroked&&(x(a,n),a.beginPath(),a.rect(-c,-v,n.width,n.height),a.stroke()),a.restore()}};r.exports=u},94355:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61286),x=i(517);d.register("rectangle",function(f,u,o,n,h,p){return this.displayList.add(new x(this.scene,f,u,o,n,h,p))})},37673:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(43532),f=i(4091),r.exports={renderWebGL:x,renderCanvas:f}},43532:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(73329),x=i(50262),f=i(75512),u=function(o,n,h,p){h.addToRenderList(n);var a=o.pipelines.set(n.pipeline),c=d(n,h,p);a.calcMatrix.copyFrom(c.calc);var v=n._displayOriginX,g=n._displayOriginY,m=h.alpha*n.alpha;if(o.pipelines.preBatch(n),n.isFilled){var y=a.fillTint,P=f.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*m);y.TL=P,y.TR=P,y.BL=P,y.BR=P,a.batchFillRect(-v,-g,n.width,n.height)}n.isStroked&&x(a,n,m,v,g),o.pipelines.postBatch(n)};r.exports=u},77843:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(87956),x=i(56694),f=i(11117),u=i(91461),o=new x({Extends:u,Mixins:[d],initialize:function(h,p,a,c,v,g,m,y){p===void 0&&(p=0),a===void 0&&(a=0),c===void 0&&(c=5),v===void 0&&(v=32),g===void 0&&(g=64),u.call(this,h,"Star",null),this._points=c,this._innerRadius=v,this._outerRadius=g,this.setPosition(p,a),this.setSize(g*2,g*2),m!==void 0&&this.setFillStyle(m,y),this.updateDisplayOrigin(),this.updateData()},setPoints:function(n){return this._points=n,this.updateData()},setInnerRadius:function(n){return this._innerRadius=n,this.updateData()},setOuterRadius:function(n){return this._outerRadius=n,this.updateData()},points:{get:function(){return this._points},set:function(n){this._points=n,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(n){this._innerRadius=n,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(n){this._outerRadius=n,this.updateData()}},updateData:function(){var n=[],h=this._points,p=this._innerRadius,a=this._outerRadius,c=Math.PI/2*3,v=Math.PI/h,g=a,m=a;n.push(g,m+-a);for(var y=0;y<h;y++)n.push(g+Math.cos(c)*a,m+Math.sin(c)*a),c+=v,n.push(g+Math.cos(c)*p,m+Math.sin(c)*p),c+=v;return n.push(g,m+-a),this.pathIndexes=f(n),this.pathData=n,this}});r.exports=o},11401:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(15608),x=i(17876),f=i(49584),u=function(o,n,h,p){h.addToRenderList(n);var a=o.currentContext;if(f(o,a,n,h,p)){var c=n._displayOriginX,v=n._displayOriginY,g=n.pathData,m=g.length-1,y=g[0]-c,P=g[1]-v;a.beginPath(),a.moveTo(y,P),n.closePath||(m-=2);for(var M=2;M<m;M+=2){var E=g[M]-c,w=g[M+1]-v;a.lineTo(E,w)}a.closePath(),n.isFilled&&(d(a,n),a.fill()),n.isStroked&&(x(a,n),a.stroke()),a.restore()}};r.exports=u},23962:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(77843),x=i(61286);x.register("star",function(f,u,o,n,h,p,a){return this.displayList.add(new d(this.scene,f,u,o,n,h,p,a))})},87956:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(12037),f=i(11401),r.exports={renderWebGL:x,renderCanvas:f}},12037:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(19543),x=i(73329),f=i(50262),u=function(o,n,h,p){h.addToRenderList(n);var a=o.pipelines.set(n.pipeline),c=x(n,h,p),v=a.calcMatrix.copyFrom(c.calc),g=n._displayOriginX,m=n._displayOriginY,y=h.alpha*n.alpha;o.pipelines.preBatch(n),n.isFilled&&d(a,v,n,y,g,m),n.isStroked&&f(a,n,y,g,m),o.pipelines.postBatch(n)};r.exports=u},21873:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(91461),f=i(66349),u=i(70498),o=new d({Extends:x,Mixins:[u],initialize:function(h,p,a,c,v,g,m,y,P,M,E){p===void 0&&(p=0),a===void 0&&(a=0),c===void 0&&(c=0),v===void 0&&(v=128),g===void 0&&(g=64),m===void 0&&(m=0),y===void 0&&(y=128),P===void 0&&(P=128),x.call(this,h,"Triangle",new f(c,v,g,m,y,P));var w=this.geom.right-this.geom.left,R=this.geom.bottom-this.geom.top;this.setPosition(p,a),this.setSize(w,R),M!==void 0&&this.setFillStyle(M,E),this.updateDisplayOrigin(),this.updateData()},setTo:function(n,h,p,a,c,v){return this.geom.setTo(n,h,p,a,c,v),this.updateData()},updateData:function(){var n=[],h=this.geom,p=this._tempLine;return h.getLineA(p),n.push(p.x1,p.y1,p.x2,p.y2),h.getLineB(p),n.push(p.x2,p.y2),h.getLineC(p),n.push(p.x2,p.y2),this.pathData=n,this}});r.exports=o},60213:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(15608),x=i(17876),f=i(49584),u=function(o,n,h,p){h.addToRenderList(n);var a=o.currentContext;if(f(o,a,n,h,p)){var c=n._displayOriginX,v=n._displayOriginY,g=n.geom.x1-c,m=n.geom.y1-v,y=n.geom.x2-c,P=n.geom.y2-v,M=n.geom.x3-c,E=n.geom.y3-v;a.beginPath(),a.moveTo(g,m),a.lineTo(y,P),a.lineTo(M,E),a.closePath(),n.isFilled&&(d(a,n),a.fill()),n.isStroked&&(x(a,n),a.stroke()),a.restore()}};r.exports=u},79296:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61286),x=i(21873);d.register("triangle",function(f,u,o,n,h,p,a,c,v,g){return this.displayList.add(new x(this.scene,f,u,o,n,h,p,a,c,v,g))})},70498:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(72291),f=i(60213),r.exports={renderWebGL:x,renderCanvas:f}},72291:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(73329),x=i(50262),f=i(75512),u=function(o,n,h,p){h.addToRenderList(n);var a=o.pipelines.set(n.pipeline),c=d(n,h,p);a.calcMatrix.copyFrom(c.calc);var v=n._displayOriginX,g=n._displayOriginY,m=h.alpha*n.alpha;if(o.pipelines.preBatch(n),n.isFilled){var y=a.fillTint,P=f.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*m);y.TL=P,y.TR=P,y.BL=P,y.BR=P;var M=n.geom.x1-v,E=n.geom.y1-g,w=n.geom.x2-v,R=n.geom.y2-g,O=n.geom.x3-v,A=n.geom.y3-g;a.batchFillTriangle(M,E,w,R,O,A,c.sprite,c.camera)}n.isStroked&&x(a,n,m,v,g),o.pipelines.postBatch(n)};r.exports=u},13747:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(16569),x=i(56694),f=i(64937),u=i(89980),o=i(20791),n=new x({Extends:u,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Size,f.TextureCrop,f.Tint,f.Transform,f.Visible,o],initialize:function(p,a,c,v,g){u.call(this,p,"Sprite"),this._crop=this.resetCropObject(),this.anims=new d(this),this.setTexture(v,g),this.setPosition(a,c),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(h,p){this.anims.update(h,p)},play:function(h,p){return this.anims.play(h,p)},playReverse:function(h,p){return this.anims.playReverse(h,p)},playAfterDelay:function(h,p){return this.anims.playAfterDelay(h,p)},playAfterRepeat:function(h,p){return this.anims.playAfterRepeat(h,p)},chain:function(h){return this.anims.chain(h)},stop:function(){return this.anims.stop()},stopAfterDelay:function(h){return this.anims.stopAfterDelay(h)},stopAfterRepeat:function(h){return this.anims.stopAfterRepeat(h)},stopOnFrame:function(h){return this.anims.stopOnFrame(h)},toJSON:function(){return f.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});r.exports=n},27573:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){x.addToRenderList(d),i.batchSprite(d,d.frame,x,f)};r.exports=T},89219:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(88933),x=i(32291),f=i(99325),u=i(20494),o=i(13747);f.register("sprite",function(n,h){n===void 0&&(n={});var p=u(n,"key",null),a=u(n,"frame",null),c=new o(this.scene,0,0,p,a);return h!==void 0&&(n.add=h),d(this.scene,c,n),x(c,n),c})},66135:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61286),x=i(13747);d.register("sprite",function(f,u,o,n){return this.displayList.add(new x(this.scene,f,u,o,n))})},20791:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(21034),f=i(27573),r.exports={renderWebGL:x,renderCanvas:f}},21034:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){x.addToRenderList(d),d.pipeline.batchSprite(d,x,f)};r.exports=T},32979:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){var f=i.canvas,u=i.context,o=i.style,n=[],h=0,p=x.length;o.maxLines>0&&o.maxLines<x.length&&(p=o.maxLines),o.syncFont(f,u);for(var a=0;a<p;a++){var c=o.strokeThickness;c+=u.measureText(x[a]).width,x[a].length>1&&(c+=i.letterSpacing*(x[a].length-1)),o.wordWrap&&(c-=u.measureText(" ").width),n[a]=Math.ceil(c),h=Math.max(h,n[a])}var v=d.fontSize+o.strokeThickness,g=v*p,m=i.lineSpacing;return p>1&&(g+=m*(p-1)),{width:h,height:g,lines:p,lineWidths:n,lineSpacing:m,lineHeight:v}};r.exports=T},27030:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61068),x=function(f){var u=d.create(this),o=u.getContext("2d",{willReadFrequently:!0});f.syncFont(u,o);var n=o.measureText(f.testString);if("actualBoundingBoxAscent"in n){var h=n.actualBoundingBoxAscent,p=n.actualBoundingBoxDescent;return d.remove(u),{ascent:h,descent:p,fontSize:h+p}}var a=Math.ceil(n.width*f.baselineX),c=a,v=2*c;c=c*f.baselineY|0,u.width=a,u.height=v,o.fillStyle="#f00",o.fillRect(0,0,a,v),o.font=f._font,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(f.testString,0,c);var g={ascent:0,descent:0,fontSize:0},m=o.getImageData(0,0,a,v);if(!m)return g.ascent=c,g.descent=c+6,g.fontSize=g.ascent+g.descent,d.remove(u),g;var y=m.data,P=y.length,M=a*4,E,w,R=0,O=!1;for(E=0;E<c;E++){for(w=0;w<M;w+=4)if(y[R+w]!==255){O=!0;break}if(!O)R+=M;else break}for(g.ascent=c-E,R=P-M,O=!1,E=v;E>c;E--){for(w=0;w<M;w+=4)if(y[R+w]!==255){O=!0;break}if(!O)R-=M;else break}return g.descent=E-c,g.fontSize=g.ascent+g.descent,d.remove(u),g};r.exports=x},76555:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(99584),x=i(61068),f=i(56694),u=i(64937),o=i(89980),n=i(32979),h=i(10850),p=i(55638),a=i(80032),c=i(74744),v=new f({Extends:o,Mixins:[u.Alpha,u.BlendMode,u.ComputedSize,u.Crop,u.Depth,u.Flip,u.GetBounds,u.Mask,u.Origin,u.Pipeline,u.PostPipeline,u.ScrollFactor,u.Tint,u.Transform,u.Visible,a],initialize:function(m,y,P,M,E){y===void 0&&(y=0),P===void 0&&(P=0),o.call(this,m,"Text"),this.renderer=m.sys.renderer,this.setPosition(y,P),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=x.create(this),this.context,this.style=new c(this,E),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=m.sys.textures.addCanvas(null,this.canvas,!0),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(M),E&&E.padding&&this.setPadding(E.padding),E&&E.lineSpacing&&this.setLineSpacing(E.lineSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",d(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(g){var m=this.style;if(m.wordWrapCallback){var y=m.wordWrapCallback.call(m.wordWrapCallbackScope,g,this);return Array.isArray(y)&&(y=y.join(`
`)),y}else return m.wordWrapWidth?m.wordWrapUseAdvanced?this.advancedWordWrap(g,this.context,this.style.wordWrapWidth):this.basicWordWrap(g,this.context,this.style.wordWrapWidth):g},advancedWordWrap:function(g,m,y){for(var P="",M=g.replace(/ +/gi," ").split(this.splitRegExp),E=M.length,w=0;w<E;w++){var R=M[w],O="";R=R.replace(/^ *|\s*$/gi,"");var A=m.measureText(R).width;if(A<y){P+=R+`
`;continue}for(var F=y,L=R.split(" "),I=0;I<L.length;I++){var B=L[I],b=B+" ",k=m.measureText(b).width;if(k>F){if(I===0){for(var U=b;U.length&&(U=U.slice(0,-1),k=m.measureText(U).width,!(k<=F)););if(!U.length)throw new Error("wordWrapWidth < a single character");var Y=B.substr(U.length);L[I]=Y,O+=U}var H=L[I].length?I:I+1,z=L.slice(H).join(" ").replace(/[ \n]*$/gi,"");M.splice(w+1,0,z),E=M.length;break}else O+=b,F-=k}P+=O.replace(/[ \n]*$/gi,"")+`
`}return P=P.replace(/[\s|\n]*$/gi,""),P},basicWordWrap:function(g,m,y){for(var P="",M=g.split(this.splitRegExp),E=M.length-1,w=m.measureText(" ").width,R=0;R<=E;R++){for(var O=y,A=M[R].split(" "),F=A.length-1,L=0;L<=F;L++){var I=A[L],B=m.measureText(I).width,b=B;L<F&&(b+=w),b>O&&L>0&&(P+=`
`,O=y),P+=I,L<F?(P+=" ",O-=b):O-=B}R<E&&(P+=`
`)}return P},getWrappedText:function(g){g===void 0&&(g=this._text),this.style.syncFont(this.canvas,this.context);var m=this.runWordWrap(g);return m.split(this.splitRegExp)},setText:function(g){return!g&&g!==0&&(g=""),Array.isArray(g)&&(g=g.join(`
`)),g!==this._text&&(this._text=g.toString(),this.updateText()),this},appendText:function(g,m){m===void 0&&(m=!0),!g&&g!==0&&(g=""),Array.isArray(g)&&(g=g.join(`
`)),g=g.toString();var y=this._text.concat(m?`
`+g:g);return y!==this._text&&(this._text=y,this.updateText()),this},setStyle:function(g){return this.style.setStyle(g)},setFont:function(g){return this.style.setFont(g)},setFontFamily:function(g){return this.style.setFontFamily(g)},setFontSize:function(g){return this.style.setFontSize(g)},setFontStyle:function(g){return this.style.setFontStyle(g)},setFixedSize:function(g,m){return this.style.setFixedSize(g,m)},setBackgroundColor:function(g){return this.style.setBackgroundColor(g)},setFill:function(g){return this.style.setFill(g)},setColor:function(g){return this.style.setColor(g)},setStroke:function(g,m){return this.style.setStroke(g,m)},setShadow:function(g,m,y,P,M,E){return this.style.setShadow(g,m,y,P,M,E)},setShadowOffset:function(g,m){return this.style.setShadowOffset(g,m)},setShadowColor:function(g){return this.style.setShadowColor(g)},setShadowBlur:function(g){return this.style.setShadowBlur(g)},setShadowStroke:function(g){return this.style.setShadowStroke(g)},setShadowFill:function(g){return this.style.setShadowFill(g)},setWordWrapWidth:function(g,m){return this.style.setWordWrapWidth(g,m)},setWordWrapCallback:function(g,m){return this.style.setWordWrapCallback(g,m)},setAlign:function(g){return this.style.setAlign(g)},setResolution:function(g){return this.style.setResolution(g)},setLineSpacing:function(g){return this.lineSpacing=g,this.updateText()},setLetterSpacing:function(g){return this.letterSpacing=g,this.updateText()},setPadding:function(g,m,y,P){if(typeof g=="object"){var M=g,E=h(M,"x",null);E!==null?(g=E,y=E):(g=h(M,"left",0),y=h(M,"right",g));var w=h(M,"y",null);w!==null?(m=w,P=w):(m=h(M,"top",0),P=h(M,"bottom",m))}else g===void 0&&(g=0),m===void 0&&(m=g),y===void 0&&(y=g),P===void 0&&(P=m);return this.padding.left=g,this.padding.top=m,this.padding.right=y,this.padding.bottom=P,this.updateText()},setMaxLines:function(g){return this.style.setMaxLines(g)},setRTL:function(g){g===void 0&&(g=!0);var m=this.style;return m.rtl===g?this:(m.rtl=g,g?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",d(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),m.align==="left"?m.align="right":m.align==="right"&&(m.align="left"),this)},updateText:function(){var g=this.canvas,m=this.context,y=this.style,P=y.resolution,M=y.metrics;y.syncFont(g,m);var E=this._text;(y.wordWrapWidth||y.wordWrapCallback)&&(E=this.runWordWrap(this._text));var w=E.split(this.splitRegExp),R=n(this,M,w),O=this.padding,A;y.fixedWidth===0?(this.width=R.width+O.left+O.right,A=R.width):(this.width=y.fixedWidth,A=this.width-O.left-O.right,A<R.width&&(A=R.width)),y.fixedHeight===0?this.height=R.height+O.top+O.bottom:this.height=y.fixedHeight;var F=this.width,L=this.height;this.updateDisplayOrigin(),F*=P,L*=P,F=Math.max(F,1),L=Math.max(L,1),g.width!==F||g.height!==L?(g.width=F,g.height=L,this.frame.setSize(F,L),y.syncFont(g,m),y.rtl&&(m.direction="rtl")):m.clearRect(0,0,F,L),m.save(),m.scale(P,P),y.backgroundColor&&(m.fillStyle=y.backgroundColor,m.fillRect(0,0,F,L)),y.syncStyle(g,m),m.translate(O.left,O.top);for(var I,B,b=0;b<R.lines;b++){if(I=y.strokeThickness/2,B=y.strokeThickness/2+b*R.lineHeight+M.ascent,b>0&&(B+=R.lineSpacing*b),y.rtl)I=F-I-O.left-O.right;else if(y.align==="right")I+=A-R.lineWidths[b];else if(y.align==="center")I+=(A-R.lineWidths[b])/2;else if(y.align==="justify"){var k=.85;if(R.lineWidths[b]/R.width>=k){var U=R.width-R.lineWidths[b],Y=m.measureText(" ").width,H=w[b].trim(),z=H.split(" ");U+=(w[b].length-H.length)*Y;for(var V=Math.floor(U/Y),D=0;V>0;)z[D]+=" ",D=(D+1)%(z.length-1||1),--V;w[b]=z.join(" ")}}if(this.autoRound&&(I=Math.round(I),B=Math.round(B)),y.strokeThickness&&(y.syncShadow(m,y.shadowStroke),m.strokeText(w[b],I,B)),y.color){y.syncShadow(m,y.shadowFill);var G=this.letterSpacing;if(G!==0)for(var N=0,X=w[b].split(""),W=0;W<X.length;W++)m.fillText(X[W],I+N,B),N+=m.measureText(X[W]).width+G;else m.fillText(w[b],I,B)}}m.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(g,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture);var $=this.input;return $&&!$.customHitArea&&($.hitArea.width=this.width,$.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(g){this.setText(g)}},toJSON:function(){var g=u.ToJSON(this),m={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return g.data=m,g},preDestroy:function(){p(this.canvas),x.remove(this.canvas),this.texture.destroy()}});r.exports=v},71649:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){d.width===0||d.height===0||(x.addToRenderList(d),i.batchSprite(d,d.frame,x,f))};r.exports=T},75397:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(88933),x=i(99325),f=i(20494),u=i(76555);x.register("text",function(o,n){o===void 0&&(o={});var h=f(o,"text",""),p=f(o,"style",null),a=f(o,"padding",null);a!==null&&(p.padding=a);var c=new u(this.scene,0,0,h,p);return n!==void 0&&(o.add=n),d(this.scene,c,o),c.autoRound=f(o,"autoRound",!0),c.resolution=f(o,"resolution",1),c})},94627:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(76555),x=i(61286);x.register("text",function(f,u,o,n){return this.displayList.add(new d(this.scene,f,u,o,n))})},80032:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(76128),f=i(71649),r.exports={renderWebGL:x,renderCanvas:f}},74744:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(20494),f=i(10850),u=i(27030),o={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},n=new d({initialize:function(p,a){this.parent=p,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(a,!1,!0)},setStyle:function(h,p,a){p===void 0&&(p=!0),a===void 0&&(a=!1),h&&h.hasOwnProperty("fontSize")&&typeof h.fontSize=="number"&&(h.fontSize=h.fontSize.toString()+"px");for(var c in o){var v=a?o[c][1]:this[c];c==="wordWrapCallback"||c==="wordWrapCallbackScope"?this[c]=f(h,o[c][0],v):this[c]=x(h,o[c][0],v)}var g=f(h,"font",null);g!==null&&this.setFont(g,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var m=f(h,"fill",null);m!==null&&(this.color=m);var y=f(h,"metrics",!1);return y?this.metrics={ascent:f(y,"ascent",0),descent:f(y,"descent",0),fontSize:f(y,"fontSize",0)}:(p||!this.metrics)&&(this.metrics=u(this)),p?this.parent.updateText():this.parent},syncFont:function(h,p){p.font=this._font},syncStyle:function(h,p){p.textBaseline="alphabetic",p.fillStyle=this.color,p.strokeStyle=this.stroke,p.lineWidth=this.strokeThickness,p.lineCap="round",p.lineJoin="round"},syncShadow:function(h,p){p?(h.shadowOffsetX=this.shadowOffsetX,h.shadowOffsetY=this.shadowOffsetY,h.shadowColor=this.shadowColor,h.shadowBlur=this.shadowBlur):(h.shadowOffsetX=0,h.shadowOffsetY=0,h.shadowColor=0,h.shadowBlur=0)},update:function(h){return h&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=u(this)),this.parent.updateText()},setFont:function(h,p){p===void 0&&(p=!0);var a=h,c="",v="";if(typeof h!="string")a=f(h,"fontFamily","Courier"),c=f(h,"fontSize","16px"),v=f(h,"fontStyle","");else{var g=h.split(" "),m=0;v=g.length>2?g[m++]:"",c=g[m++]||"16px",a=g[m++]||"Courier"}return(a!==this.fontFamily||c!==this.fontSize||v!==this.fontStyle)&&(this.fontFamily=a,this.fontSize=c,this.fontStyle=v,p&&this.update(!0)),this.parent},setFontFamily:function(h){return this.fontFamily!==h&&(this.fontFamily=h,this.update(!0)),this.parent},setFontStyle:function(h){return this.fontStyle!==h&&(this.fontStyle=h,this.update(!0)),this.parent},setFontSize:function(h){return typeof h=="number"&&(h=h.toString()+"px"),this.fontSize!==h&&(this.fontSize=h,this.update(!0)),this.parent},setTestString:function(h){return this.testString=h,this.update(!0)},setFixedSize:function(h,p){return this.fixedWidth=h,this.fixedHeight=p,h&&(this.parent.width=h),p&&(this.parent.height=p),this.update(!1)},setBackgroundColor:function(h){return this.backgroundColor=h,this.update(!1)},setFill:function(h){return this.color=h,this.update(!1)},setColor:function(h){return this.color=h,this.update(!1)},setResolution:function(h){return this.resolution=h,this.update(!1)},setStroke:function(h,p){return p===void 0&&(p=this.strokeThickness),h===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==h||this.strokeThickness!==p)&&(this.stroke=h,this.strokeThickness=p,this.update(!0)),this.parent},setShadow:function(h,p,a,c,v,g){return h===void 0&&(h=0),p===void 0&&(p=0),a===void 0&&(a="#000"),c===void 0&&(c=0),v===void 0&&(v=!1),g===void 0&&(g=!0),this.shadowOffsetX=h,this.shadowOffsetY=p,this.shadowColor=a,this.shadowBlur=c,this.shadowStroke=v,this.shadowFill=g,this.update(!1)},setShadowOffset:function(h,p){return h===void 0&&(h=0),p===void 0&&(p=h),this.shadowOffsetX=h,this.shadowOffsetY=p,this.update(!1)},setShadowColor:function(h){return h===void 0&&(h="#000"),this.shadowColor=h,this.update(!1)},setShadowBlur:function(h){return h===void 0&&(h=0),this.shadowBlur=h,this.update(!1)},setShadowStroke:function(h){return this.shadowStroke=h,this.update(!1)},setShadowFill:function(h){return this.shadowFill=h,this.update(!1)},setWordWrapWidth:function(h,p){return p===void 0&&(p=!1),this.wordWrapWidth=h,this.wordWrapUseAdvanced=p,this.update(!1)},setWordWrapCallback:function(h,p){return p===void 0&&(p=null),this.wordWrapCallback=h,this.wordWrapCallbackScope=p,this.update(!1)},setAlign:function(h){return h===void 0&&(h="left"),this.align=h,this.update(!1)},setMaxLines:function(h){return h===void 0&&(h=0),this.maxLines=h,this.update(!1)},getTextMetrics:function(){var h=this.metrics;return{ascent:h.ascent,descent:h.descent,fontSize:h.fontSize}},toJSON:function(){var h={};for(var p in o)h[p]=this[p];return h.metrics=this.getTextMetrics(),h},destroy:function(){this.parent=void 0}});r.exports=n},76128:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(75512),x=function(f,u,o,n){if(!(u.width===0||u.height===0)){o.addToRenderList(u);var h=u.frame,p=h.width,a=h.height,c=d.getTintAppendFloatAlpha,v=f.pipelines.set(u.pipeline,u),g=v.setTexture2D(h.glTexture,u);v.batchTexture(u,h.glTexture,p,a,u.x,u.y,p/u.style.resolution,a/u.style.resolution,u.scaleX,u.scaleY,u.rotation,u.flipX,u.flipY,u.scrollFactorX,u.scrollFactorY,u.displayOriginX,u.displayOriginY,0,0,p,a,c(u.tintTopLeft,o.alpha*u._alphaTL),c(u.tintTopRight,o.alpha*u._alphaTR),c(u.tintBottomLeft,o.alpha*u._alphaBL),c(u.tintBottomRight,o.alpha*u._alphaBR),u.tintFill,0,0,o,n,!1,g)}};r.exports=x},35856:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61068),x=i(56694),f=i(64937),u=i(89980),o=i(3504),n=i(8213),h=i(9271),p=i(93736),a=8,c=new x({Extends:u,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Crop,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Tint,f.Transform,f.Visible,h],initialize:function(g,m,y,P,M,E,w){var R=g.sys.renderer;u.call(this,g,"TileSprite");var O=g.sys.textures.get(E),A=O.get(w);A.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),O=g.sys.textures.get("__MISSING"),A=O.get()),O.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),O=g.sys.textures.get("__MISSING"),A=O.get()),!P||!M?(P=A.width,M=A.height):(P=Math.floor(P),M=Math.floor(M)),this._tilePosition=new p,this._tileScale=new p(1,1),this.dirty=!1,this.renderer=R,this.canvas=d.create(this,P,M),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=O,this.displayFrame=A,this._crop=this.resetCropObject(),this.texture=g.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=o(A.width),this.potHeight=o(A.height),this.fillCanvas=d.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(m,y),this.setSize(P,M),this.setFrame(w),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(v,g){return this.displayTexture=this.scene.sys.textures.get(v),this.setFrame(g)},setFrame:function(v){var g=this.displayTexture.get(v);return this.potWidth=o(g.width),this.potHeight=o(g.height),this.canvas.width=0,!g.cutWidth||!g.cutHeight?this.renderFlags&=~a:this.renderFlags|=a,this.displayFrame=g,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(v,g){return v!==void 0&&(this.tilePositionX=v),g!==void 0&&(this.tilePositionY=g),this},setTileScale:function(v,g){return v===void 0&&(v=this.tileScaleX),g===void 0&&(g=v),this.tileScaleX=v,this.tileScaleY=g,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var v=this.displayFrame;if(v.source.isRenderTexture||v.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var g=this.fillContext,m=this.fillCanvas,y=this.potWidth,P=this.potHeight;(!this.renderer||!this.renderer.gl)&&(y=v.cutWidth,P=v.cutHeight),g.clearRect(0,0,y,P),m.width=y,m.height=P,g.drawImage(v.source.image,v.cutX,v.cutY,v.cutWidth,v.cutHeight,0,0,y,P),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(m,this.fillPattern):this.fillPattern=g.createPattern(m,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var v=this.canvas;if((v.width!==this.width||v.height!==this.height)&&(v.width=this.width,v.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var g=this.context;this.scene.sys.game.config.antialias||n.disable(g);var m=this._tileScale.x,y=this._tileScale.y,P=this._tilePosition.x,M=this._tilePosition.y;g.clearRect(0,0,this.width,this.height),g.save(),g.scale(m,y),g.translate(-P,-M),g.fillStyle=this.fillPattern,g.fillRect(P,M,this.width/m,this.height/y),g.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),d.remove(this.canvas),d.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(v){this._tilePosition.x=v,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(v){this._tilePosition.y=v,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(v){this._tileScale.x=v,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(v){this._tileScale.y=v,this.dirty=!0}}});r.exports=c},93305:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){d.updateCanvas(),x.addToRenderList(d),i.batchSprite(d,d.frame,x,f)};r.exports=T},63950:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(88933),x=i(99325),f=i(20494),u=i(35856);x.register("tileSprite",function(o,n){o===void 0&&(o={});var h=f(o,"x",0),p=f(o,"y",0),a=f(o,"width",512),c=f(o,"height",512),v=f(o,"key",""),g=f(o,"frame",""),m=new u(this.scene,h,p,a,c,v,g);return n!==void 0&&(o.add=n),d(this.scene,m,o),m})},20509:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(35856),x=i(61286);x.register("tileSprite",function(f,u,o,n,h,p){return this.displayList.add(new d(this.scene,f,u,o,n,h,p))})},9271:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(74287),f=i(93305),r.exports={renderWebGL:x,renderCanvas:f}},74287:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(75512),x=function(f,u,o,n){u.updateCanvas();var h=u.width,p=u.height;if(!(h===0||p===0)){o.addToRenderList(u);var a=d.getTintAppendFloatAlpha,c=f.pipelines.set(u.pipeline,u),v=c.setTexture2D(u.fillPattern,u);c.batchTexture(u,u.fillPattern,u.displayFrame.width*u.tileScaleX,u.displayFrame.height*u.tileScaleY,u.x,u.y,h,p,u.scaleX,u.scaleY,u.rotation,u.flipX,u.flipY,u.scrollFactorX,u.scrollFactorY,u.originX*h,u.originY*p,0,0,h,p,a(u.tintTopLeft,o.alpha*u._alphaTL),a(u.tintTopRight,o.alpha*u._alphaTR),a(u.tintBottomLeft,o.alpha*u._alphaBL),a(u.tintBottomRight,o.alpha*u._alphaBR),u.tintFill,u.tilePositionX%u.displayFrame.width/u.displayFrame.width,u.tilePositionY%u.displayFrame.height/u.displayFrame.height,o,n,!1,v)}};r.exports=x},8630:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(82897),x=i(56694),f=i(64937),u=i(56631),o=i(97081),n=i(89980),h=i(83392),p=i(76038),a=i(76583),c=i(77974),v=new x({Extends:n,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Size,f.TextureCrop,f.Tint,f.Transform,f.Visible,c],initialize:function(m,y,P,M){n.call(this,m,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=a(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._rfvCallbackId=0;var E=m.sys.game;this._device=E.device.video,this.setPosition(y,P),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),E.events.on(o.PAUSE,this.globalPause,this),E.events.on(o.RESUME,this.globalResume,this);var w=m.sys.sound;w&&w.on(p.GLOBAL_MUTE,this.globalMute,this),M&&this.load(M)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(g){var m=this.scene.sys.cache.video.get(g);return m?(this.cacheKey=g,this.loadHandler(m.url,m.noAudio,m.crossOrigin)):console.warn("No video in cache for key: "+g),this},changeSource:function(g,m,y,P,M){m===void 0&&(m=!0),y===void 0&&(y=!1),this.cacheKey!==g&&(this.load(g),m&&this.play(y,P,M))},getVideoKey:function(){return this.cacheKey},loadURL:function(g,m,y){m===void 0&&(m=!1);var P=this._device.getVideoURL(g);return P?(this.cacheKey="",this.loadHandler(P.url,m,y)):console.warn("No supported video format found for "+g),this},loadMediaStream:function(g,m,y){return this.loadHandler(null,m,y,g)},loadHandler:function(g,m,y,P){m||(m=!1);var M=this.video;if(M?(this.removeLoadEventHandlers(),this.stop()):(M=document.createElement("video"),M.controls=!1,M.setAttribute("playsinline","playsinline"),M.setAttribute("preload","auto"),M.setAttribute("disablePictureInPicture","true")),m?(M.muted=!0,M.defaultMuted=!0,M.setAttribute("autoplay","autoplay")):(M.muted=!1,M.defaultMuted=!1,M.removeAttribute("autoplay")),y?M.setAttribute("crossorigin",y):M.removeAttribute("crossorigin"),P)if("srcObject"in M)try{M.srcObject=P}catch(E){if(E.name!=="TypeError")throw E;M.src=URL.createObjectURL(P)}else M.src=URL.createObjectURL(P);else M.src=g;return this.addLoadEventHandlers(),this.retry=0,this.video=M,this._playCalled=!1,M.load(),this},requestVideoFrame:function(g,m){var y=this.video;if(y){var P=m.width,M=m.height,E=this.videoTexture,w=this.videoTextureSource,R=!E||w.source!==y;R?(this._codePaused=y.paused,this._codeMuted=y.muted,E?(w.source=y,w.width=P,w.height=M,E.get().setSize(P,M)):(E=this.scene.sys.textures.create(this._key,y,P,M),E.add("__BASE",0,0,0,P,M),this.setTexture(E),this.videoTexture=E,this.videoTextureSource=E.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(u.VIDEO_TEXTURE,this,E)),this.setSizeToFrame(),this.updateDisplayOrigin()):w.update(),this.isStalled=!1,this.metadata=m;var O=m.mediaTime;R&&(this._lastUpdate=O,this.emit(u.VIDEO_CREATED,this,P,M),this.frameReady||(this.frameReady=!0,this.emit(u.VIDEO_PLAY,this))),this._playingMarker?O>=this._markerOut&&(y.loop?(y.currentTime=this._markerIn,this.emit(u.VIDEO_LOOP,this)):(this.stop(!1),this.emit(u.VIDEO_COMPLETE,this))):O<this._lastUpdate&&this.emit(u.VIDEO_LOOP,this),this._lastUpdate=O,this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(g,m,y){m===void 0&&(m=-1),y===void 0&&(y=h.MAX_SAFE_INTEGER);var P=this.video;return!P||this.isPlaying()?(P||console.warn("Video not loaded"),this):(g===void 0&&(g=P.loop),P.loop=g,this._markerIn=m,this._markerOut=y,this._playingMarker=m>-1&&y>m&&y<h.MAX_SAFE_INTEGER,this._playCalled||(this._rfvCallbackId=P.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},addLoadEventHandlers:function(){var g=this.video;g&&(g.addEventListener("error",this._loadCallbackHandler),g.addEventListener("abort",this._loadCallbackHandler))},removeLoadEventHandlers:function(){var g=this.video;g&&(g.removeEventListener("error",this._loadCallbackHandler),g.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var g=this.video;if(g){var m=this._callbacks;for(var y in m)g.addEventListener(y,m[y])}},removeEventHandlers:function(){var g=this.video;if(g){var m=this._callbacks;for(var y in m)g.removeEventListener(y,m[y])}},createPlayPromise:function(g){g===void 0&&(g=!0);var m=this.video,y=m.play();if(y!==void 0){var P=this.playSuccess.bind(this),M=this.playError.bind(this);if(!g){var E=this;M=function(){E.failedPlayAttempts++}}y.then(P).catch(M)}else m.addEventListener("playing",this._callbacks.legacy),g||this.failedPlayAttempts++},addMarker:function(g,m,y){return!isNaN(m)&&m>=0&&!isNaN(y)&&y>m&&(this.markers[g]=[m,y]),this},playMarker:function(g,m){var y=this.markers[g];return y&&this.play(m,y[0],y[1]),this},removeMarker:function(g){return delete this.markers[g],this},snapshot:function(g,m){return g===void 0&&(g=this.width),m===void 0&&(m=this.height),this.snapshotArea(0,0,this.width,this.height,g,m)},snapshotArea:function(g,m,y,P,M,E){g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=this.width),P===void 0&&(P=this.height),M===void 0&&(M=y),E===void 0&&(E=P);var w=this.video,R=this.snapshotTexture;return R?(R.setSize(M,E),w&&R.context.drawImage(w,g,m,y,P,0,0,M,E)):(R=this.scene.sys.textures.createCanvas(a(),M,E),this.snapshotTexture=R,w&&R.context.drawImage(w,g,m,y,P,0,0,M,E)),R.update()},saveSnapshotTexture:function(g){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,g):this.snapshotTexture=this.scene.sys.textures.createCanvas(g,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(u.VIDEO_UNLOCKED,this));var g=this.scene.sys.sound;g&&g.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(g){var m=g.name;m==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(u.VIDEO_LOCKED,this)):m==="NotSupportedError"?(this.stop(!1),this.emit(u.VIDEO_UNSUPPORTED,this,g)):(this.stop(!1),this.emit(u.VIDEO_ERROR,this,g))},legacyPlayHandler:function(){var g=this.video;g&&(this.playSuccess(),g.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(u.VIDEO_PLAYING,this)},loadErrorHandler:function(g){this.stop(!1),this.emit(u.VIDEO_ERROR,this,g)},stalledHandler:function(g){this.isStalled=!0,this.emit(u.VIDEO_STALLED,this,g)},completeHandler:function(){this._playCalled=!1,this.emit(u.VIDEO_COMPLETE,this)},preUpdate:function(g,m){var y=this.video;!y||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=m,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(g){var m=this.video;if(m){var y=m.duration;if(y!==1/0&&!isNaN(y)){var P=y*g;this.setCurrentTime(P)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(g){var m=this.video;if(m){if(typeof g=="string"){var y=g[0],P=parseFloat(g.substr(1));y==="+"?g=m.currentTime+P:y==="-"&&(g=m.currentTime-P)}m.currentTime=g}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(u.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(u.VIDEO_SEEKED,this)},getProgress:function(){var g=this.video;if(g){var m=g.duration;if(m!==1/0&&!isNaN(m))return g.currentTime/m}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(g){g===void 0&&(g=!0),this._codeMuted=g;var m=this.video;return m&&(m.muted=this._systemMuted?!0:g),this},isMuted:function(){return this._codeMuted},globalMute:function(g,m){this._systemMuted=m;var y=this.video;y&&(y.muted=this._codeMuted?!0:m)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(g){g===void 0&&(g=!0);var m=this.video;return this._codePaused=g,m&&!m.ended&&(g?m.paused||(this.removeEventHandlers(),m.pause()):g||(this._playCalled?m.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(g){return g===void 0&&(g=1),this.video&&(this.video.volume=d(g,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(g){return this.video&&(this.video.playbackRate=g),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(g){return g===void 0&&(g=!0),this.video&&(this.video.loop=g),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(g,m){return m===void 0&&(m=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,g),this.videoTextureSource.setFlipY(m)),this._key=g,this.flipY=m,!!this.videoTexture},stop:function(g){g===void 0&&(g=!0);var m=this.video;return m&&(this.removeEventHandlers(),m.cancelVideoFrameCallback(this._rfvCallbackId),m.pause()),this.retry=0,this._playCalled=!1,g&&this.emit(u.VIDEO_STOP,this),this},removeVideoElement:function(){var g=this.video;if(g){for(g.parentNode&&g.parentNode.removeChild(g);g.hasChildNodes();)g.removeChild(g.firstChild);g.removeAttribute("autoplay"),g.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var g=this.scene.sys.game.events;g.off(o.PAUSE,this.globalPause,this),g.off(o.RESUME,this.globalResume,this);var m=this.scene.sys.sound;m&&m.off(p.GLOBAL_MUTE,this.globalMute,this)}});r.exports=v},56933:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){d.videoTexture&&(x.addToRenderList(d),i.batchSprite(d,d.frame,x,f))};r.exports=T},65601:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(88933),x=i(99325),f=i(20494),u=i(8630);x.register("video",function(o,n){o===void 0&&(o={});var h=f(o,"key",null),p=new u(this.scene,0,0,h);return n!==void 0&&(o.add=n),d(this.scene,p,o),p})},215:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(8630),x=i(61286);x.register("video",function(f,u,o){return this.displayList.add(new d(this.scene,f,u,o))})},77974:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(83572),f=i(56933),r.exports={renderWebGL:x,renderCanvas:f}},83572:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){d.videoTexture&&(x.addToRenderList(d),d.pipeline.batchSprite(d,x,f))};r.exports=T},71030:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(95723),x=i(26673),f=i(65650),u=i(56694),o=i(64937),n=i(89980),h=i(74118),p=i(94287),a=new u({Extends:n,Mixins:[o.Depth,o.GetBounds,o.Origin,o.Transform,o.ScrollFactor,o.Visible],initialize:function(v,g,m,y,P){y===void 0&&(y=1),P===void 0&&(P=y),n.call(this,v,"Zone"),this.setPosition(g,m),this.width=y,this.height=P,this.blendMode=d.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(c){this.scaleX=c/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(c){this.scaleY=c/this.height}},setSize:function(c,v,g){g===void 0&&(g=!0),this.width=c,this.height=v,this.updateDisplayOrigin();var m=this.input;return g&&m&&!m.customHitArea&&(m.hitArea.width=c,m.hitArea.height=v),this},setDisplaySize:function(c,v){return this.displayWidth=c,this.displayHeight=v,this},setCircleDropZone:function(c){return this.setDropZone(new x(0,0,c),f)},setRectangleDropZone:function(c,v){return this.setDropZone(new h(0,0,c,v),p)},setDropZone:function(c,v){return this.input||this.setInteractive(c,v,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(c,v,g){g.addToRenderList(v)},renderWebGL:function(c,v,g){g.addToRenderList(v)}});r.exports=a},24067:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(99325),x=i(20494),f=i(71030);d.register("zone",function(u){var o=x(u,"x",0),n=x(u,"y",0),h=x(u,"width",1),p=x(u,"height",h);return new f(this.scene,o,n,h,p)})},34546:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(71030),x=i(61286);x.register("zone",function(f,u,o,n){return this.displayList.add(new d(this.scene,f,u,o,n))})},95847:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.radius>0?Math.PI*i.radius*i.radius:0};r.exports=T},26673:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(65650),f=i(94026),u=i(62941),o=i(52394),n=i(30977),h=new d({initialize:function(a,c,v){a===void 0&&(a=0),c===void 0&&(c=0),v===void 0&&(v=0),this.type=o.CIRCLE,this.x=a,this.y=c,this._radius=v,this._diameter=v*2},contains:function(p,a){return x(this,p,a)},getPoint:function(p,a){return f(this,p,a)},getPoints:function(p,a,c){return u(this,p,a,c)},getRandomPoint:function(p){return n(this,p)},setTo:function(p,a,c){return this.x=p,this.y=a,this._radius=c,this._diameter=c*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(p,a){return a===void 0&&(a=p),this.x=p,this.y=a,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(p){this._radius=p,this._diameter=p*2}},diameter:{get:function(){return this._diameter},set:function(p){this._diameter=p,this._radius=p*.5}},left:{get:function(){return this.x-this._radius},set:function(p){this.x=p+this._radius}},right:{get:function(){return this.x+this._radius},set:function(p){this.x=p-this._radius}},top:{get:function(){return this.y-this._radius},set:function(p){this.y=p+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(p){this.y=p-this._radius}}});r.exports=h},37964:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return 2*(Math.PI*i.radius)};r.exports=T},72233:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=function(f,u,o){return o===void 0&&(o=new d),o.x=f.x+f.radius*Math.cos(u),o.y=f.y+f.radius*Math.sin(u),o};r.exports=x},61761:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(26673),x=function(f){return new d(f.x,f.y,f.radius)};r.exports=x},65650:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){if(i.radius>0&&d>=i.left&&d<=i.right&&x>=i.top&&x<=i.bottom){var f=(i.x-d)*(i.x-d),u=(i.y-x)*(i.y-x);return f+u<=i.radius*i.radius}else return!1};r.exports=T},39187:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(65650),x=function(f,u){return d(f,u.x,u.y)};r.exports=x},58672:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(65650),x=function(f,u){return d(f,u.x,u.y)&&d(f,u.right,u.y)&&d(f,u.x,u.bottom)&&d(f,u.right,u.bottom)};r.exports=x},42997:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return d.setTo(i.x,i.y,i.radius)};r.exports=T},94894:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return i.x===d.x&&i.y===d.y&&i.radius===d.radius};r.exports=T},48027:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(74118),x=function(f,u){return u===void 0&&(u=new d),u.x=f.left,u.y=f.top,u.width=f.diameter,u.height=f.diameter,u};r.exports=x},94026:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72233),x=i(91806),f=i(83392),u=i(79967),o=function(n,h,p){p===void 0&&(p=new u);var a=x(h,0,f.PI2);return d(n,a,p)};r.exports=o},62941:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(37964),x=i(72233),f=i(91806),u=i(83392),o=function(n,h,p,a){a===void 0&&(a=[]),!h&&p>0&&(h=d(n)/p);for(var c=0;c<h;c++){var v=f(c/h,0,u.PI2);a.push(x(n,v))}return a};r.exports=o},34585:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return i.x+=d,i.y+=x,i};r.exports=T},88665:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return i.x+=d.x,i.y+=d.y,i};r.exports=T},30977:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=function(f,u){u===void 0&&(u=new d);var o=2*Math.PI*Math.random(),n=Math.random()+Math.random(),h=n>1?2-n:n,p=h*Math.cos(o),a=h*Math.sin(o);return u.x=f.x+p*f.radius,u.y=f.y+a*f.radius,u};r.exports=x},6112:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(26673);d.Area=i(95847),d.Circumference=i(37964),d.CircumferencePoint=i(72233),d.Clone=i(61761),d.Contains=i(65650),d.ContainsPoint=i(39187),d.ContainsRect=i(58672),d.CopyFrom=i(42997),d.Equals=i(94894),d.GetBounds=i(48027),d.GetPoint=i(94026),d.GetPoints=i(62941),d.Offset=i(34585),d.OffsetPoint=i(88665),d.Random=i(30977),r.exports=d},52394:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};r.exports=T},58605:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.isEmpty()?0:i.getMajorRadius()*i.getMinorRadius()*Math.PI};r.exports=T},39507:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var d=i.width/2,x=i.height/2,f=Math.pow(d-x,2)/Math.pow(d+x,2);return Math.PI*(d+x)*(1+3*f/(10+Math.sqrt(4-3*f)))};r.exports=T},86998:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=function(f,u,o){o===void 0&&(o=new d);var n=f.width/2,h=f.height/2;return o.x=f.x+n*Math.cos(u),o.y=f.y+h*Math.sin(u),o};r.exports=x},81773:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(95669),x=function(f){return new d(f.x,f.y,f.width,f.height)};r.exports=x},72313:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){if(i.width<=0||i.height<=0)return!1;var f=(d-i.x)/i.width,u=(x-i.y)/i.height;return f*=f,u*=u,f+u<.25};r.exports=T},34368:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72313),x=function(f,u){return d(f,u.x,u.y)};r.exports=x},71431:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72313),x=function(f,u){return d(f,u.x,u.y)&&d(f,u.right,u.y)&&d(f,u.x,u.bottom)&&d(f,u.right,u.bottom)};r.exports=x},75459:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return d.setTo(i.x,i.y,i.width,i.height)};r.exports=T},95669:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(72313),f=i(95340),u=i(54978),o=i(52394),n=i(72006),h=new d({initialize:function(a,c,v,g){a===void 0&&(a=0),c===void 0&&(c=0),v===void 0&&(v=0),g===void 0&&(g=0),this.type=o.ELLIPSE,this.x=a,this.y=c,this.width=v,this.height=g},contains:function(p,a){return x(this,p,a)},getPoint:function(p,a){return f(this,p,a)},getPoints:function(p,a,c){return u(this,p,a,c)},getRandomPoint:function(p){return n(this,p)},setTo:function(p,a,c,v){return this.x=p,this.y=a,this.width=c,this.height=v,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(p,a){return a===void 0&&(a=p),this.x=p,this.y=a,this},setSize:function(p,a){return a===void 0&&(a=p),this.width=p,this.height=a,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(p){this.x=p+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(p){this.x=p-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(p){this.y=p+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(p){this.y=p-this.height/2}}});r.exports=h},98068:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return i.x===d.x&&i.y===d.y&&i.width===d.width&&i.height===d.height};r.exports=T},72897:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(74118),x=function(f,u){return u===void 0&&(u=new d),u.x=f.left,u.y=f.top,u.width=f.width,u.height=f.height,u};r.exports=x},95340:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(86998),x=i(91806),f=i(83392),u=i(79967),o=function(n,h,p){p===void 0&&(p=new u);var a=x(h,0,f.PI2);return d(n,a,p)};r.exports=o},54978:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(39507),x=i(86998),f=i(91806),u=i(83392),o=function(n,h,p,a){a===void 0&&(a=[]),!h&&p>0&&(h=d(n)/p);for(var c=0;c<h;c++){var v=f(c/h,0,u.PI2);a.push(x(n,v))}return a};r.exports=o},77951:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return i.x+=d,i.y+=x,i};r.exports=T},36233:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return i.x+=d.x,i.y+=d.y,i};r.exports=T},72006:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=function(f,u){u===void 0&&(u=new d);var o=Math.random()*Math.PI*2,n=Math.sqrt(Math.random());return u.x=f.x+n*Math.cos(o)*f.width/2,u.y=f.y+n*Math.sin(o)*f.height/2,u};r.exports=x},40652:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(95669);d.Area=i(58605),d.Circumference=i(39507),d.CircumferencePoint=i(86998),d.Clone=i(81773),d.Contains=i(72313),d.ContainsPoint=i(34368),d.ContainsRect=i(71431),d.CopyFrom=i(75459),d.Equals=i(98068),d.GetBounds=i(72897),d.GetPoint=i(95340),d.GetPoints=i(54978),d.Offset=i(77951),d.OffsetPoint=i(36233),d.Random=i(72006),r.exports=d},84068:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(52394),x=i(98611),f={Circle:i(6112),Ellipse:i(40652),Intersects:i(7563),Line:i(28482),Mesh:i(14293),Point:i(63472),Polygon:i(44359),Rectangle:i(66658),Triangle:i(87619)};f=x(!1,f,d),r.exports=f},22184:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(53996),x=function(f,u){return d(f.x,f.y,u.x,u.y)<=f.radius+u.radius};r.exports=x},26535:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){var x=d.width/2,f=d.height/2,u=Math.abs(i.x-d.x-x),o=Math.abs(i.y-d.y-f),n=x+i.radius,h=f+i.radius;if(u>n||o>h)return!1;if(u<=x||o<=f)return!0;var p=u-x,a=o-f,c=p*p,v=a*a,g=i.radius*i.radius;return c+v<=g};r.exports=T},71145:(r,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=i(22184),f=function(u,o,n){if(n===void 0&&(n=[]),x(u,o)){var h=u.x,p=u.y,a=u.radius,c=o.x,v=o.y,g=o.radius,m,y,P,M,E;if(p===v)E=(g*g-a*a-c*c+h*h)/(2*(h-c)),m=1,y=-2*v,P=c*c+E*E-2*c*E+v*v-g*g,M=y*y-4*m*P,M===0?n.push(new d(E,-y/(2*m))):M>0&&(n.push(new d(E,(-y+Math.sqrt(M))/(2*m))),n.push(new d(E,(-y-Math.sqrt(M))/(2*m))));else{var w=(h-c)/(p-v),R=(g*g-a*a-c*c+h*h-v*v+p*p)/(2*(p-v));m=w*w+1,y=2*p*w-2*R*w-2*h,P=h*h+p*p+R*R-a*a-2*p*R,M=y*y-4*m*P,M===0?(E=-y/(2*m),n.push(new d(E,R-E*w))):M>0&&(E=(-y+Math.sqrt(M))/(2*m),n.push(new d(E,R-E*w)),E=(-y-Math.sqrt(M))/(2*m),n.push(new d(E,R-E*w)))}}return n};r.exports=f},62508:(r,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(26111),x=i(26535),f=function(u,o,n){if(n===void 0&&(n=[]),x(u,o)){var h=o.getLineA(),p=o.getLineB(),a=o.getLineC(),c=o.getLineD();d(h,u,n),d(p,u,n),d(a,u,n),d(c,u,n)}return n};r.exports=f},26111:(r,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=i(61472),f=function(u,o,n){if(n===void 0&&(n=[]),x(u,o)){var h=u.x1,p=u.y1,a=u.x2,c=u.y2,v=o.x,g=o.y,m=o.radius,y=a-h,P=c-p,M=h-v,E=p-g,w=y*y+P*P,R=2*(y*M+P*E),O=M*M+E*E-m*m,A=R*R-4*w*O,F,L;if(A===0){var I=-R/(2*w);F=h+I*y,L=p+I*P,I>=0&&I<=1&&n.push(new d(F,L))}else if(A>0){var B=(-R-Math.sqrt(A))/(2*w);F=h+B*y,L=p+B*P,B>=0&&B<=1&&n.push(new d(F,L));var b=(-R+Math.sqrt(A))/(2*w);F=h+b*y,L=p+b*P,b>=0&&b<=1&&n.push(new d(F,L))}}return n};r.exports=f},96537:(r,T,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(70015),x=function(f,u,o,n){o===void 0&&(o=!1);var h=f.x1,p=f.y1,a=f.x2,c=f.y2,v=u.x1,g=u.y1,m=u.x2,y=u.y2,P=a-h,M=c-p,E=m-v,w=y-g,R=P*w-M*E;if(R===0)return null;var O,A,F;if(o){if(O=(P*(g-p)+M*(h-v))/(E*M-w*P),A=(v+E*O-h)/P,A<0||O<0||O>1)return null;F=A}else{if(O=((v-h)*w-(g-p)*E)/R,A=((p-g)*P-(h-v)*M)/R,O<0||O>1||A<0||A>1)return null;F=O}return n===void 0&&(n=new d),n.set(h+P*F,p+M*F,F)};r.exports=x},17647:(r,T,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(96537),x=i(88829),f=i(70015),u=new x,o=new f,n=function(h,p,a,c){a===void 0&&(a=!1),c===void 0&&(c=new f);var v=!1;c.set(),o.set();for(var g=p[p.length-1],m=0;m<p.length;m++){var y=p[m];u.setTo(g.x,g.y,y.x,y.y),g=y,d(h,u,a,o)&&(!v||o.z<c.z)&&(c.copy(o),v=!0)}return v?c:null};r.exports=n},68439:(r,T,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(70015),x=i(51729),f=i(17647),u=new d,o=function(n,h,p,a){a===void 0&&(a=new x),Array.isArray(h)||(h=[h]);var c=!1;a.set(),u.set();for(var v=0;v<h.length;v++)f(n,h[v].points,p,u)&&(!c||u.z<a.z)&&(a.set(u.x,u.y,u.z,v),c=!0);return c?a:null};r.exports=o},9569:(r,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=i(25227),f=i(47910),u=function(o,n,h){if(h===void 0&&(h=[]),f(o,n))for(var p=n.getLineA(),a=n.getLineB(),c=n.getLineC(),v=n.getLineD(),g=[new d,new d,new d,new d],m=[x(p,o,g[0]),x(a,o,g[1]),x(c,o,g[2]),x(v,o,g[3])],y=0;y<4;y++)m[y]&&h.push(g[y]);return h};r.exports=u},7449:(r,T,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(51729),x=i(68439),f=i(88829),u=new f;function o(p,a,c,v,g){var m=Math.cos(p),y=Math.sin(p);u.setTo(a,c,a+m,c+y);var P=x(u,v,!0);P&&g.push(new d(P.x,P.y,p,P.w))}function n(p,a){return p.z-a.z}var h=function(p,a,c){Array.isArray(c)||(c=[c]);for(var v=[],g=[],m=0;m<c.length;m++)for(var y=c[m].points,P=0;P<y.length;P++){var M=Math.atan2(y[P].y-a,y[P].x-p);g.indexOf(M)===-1&&(o(M,p,a,c,v),o(M-1e-5,p,a,c,v),o(M+1e-5,p,a,c,v),g.push(M))}return v.sort(n)};r.exports=h},82931:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(74118),x=i(90205),f=function(u,o,n){return n===void 0&&(n=new d),x(u,o)&&(n.x=Math.max(u.x,o.x),n.y=Math.max(u.y,o.y),n.width=Math.min(u.right,o.right)-n.x,n.height=Math.min(u.bottom,o.bottom)-n.y),n};r.exports=f},1946:(r,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(9569),x=i(90205),f=function(u,o,n){if(n===void 0&&(n=[]),x(u,o)){var h=u.getLineA(),p=u.getLineB(),a=u.getLineC(),c=u.getLineD();d(h,o,n),d(p,o,n),d(a,o,n),d(c,o,n)}return n};r.exports=f},34211:(r,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(20370),x=i(9569),f=function(u,o,n){if(n===void 0&&(n=[]),d(u,o)){var h=o.getLineA(),p=o.getLineB(),a=o.getLineC();x(h,u,n),x(p,u,n),x(a,u,n)}return n};r.exports=f},80511:(r,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(26111),x=i(48411),f=function(u,o,n){if(n===void 0&&(n=[]),x(u,o)){var h=u.getLineA(),p=u.getLineB(),a=u.getLineC();d(h,o,n),d(p,o,n),d(a,o,n)}return n};r.exports=f},31343:(r,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=i(86117),f=i(25227),u=function(o,n,h){if(h===void 0&&(h=[]),x(o,n))for(var p=o.getLineA(),a=o.getLineB(),c=o.getLineC(),v=[new d,new d,new d],g=[f(p,n,v[0]),f(a,n,v[1]),f(c,n,v[2])],m=0;m<3;m++)g[m]&&h.push(v[m]);return h};r.exports=u},70534:(r,T,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(23589),x=i(31343),f=function(u,o,n){if(n===void 0&&(n=[]),d(u,o)){var h=o.getLineA(),p=o.getLineB(),a=o.getLineC();x(u,h,n),x(u,p,n),x(u,a,n)}return n};r.exports=f},61472:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(65650),x=i(79967),f=new x,u=function(o,n,h){if(h===void 0&&(h=f),d(n,o.x1,o.y1))return h.x=o.x1,h.y=o.y1,!0;if(d(n,o.x2,o.y2))return h.x=o.x2,h.y=o.y2,!0;var p=o.x2-o.x1,a=o.y2-o.y1,c=n.x-o.x1,v=n.y-o.y1,g=p*p+a*a,m=p,y=a;if(g>0){var P=(c*p+v*a)/g;m*=P,y*=P}h.x=o.x1+m,h.y=o.y1+y;var M=m*m+y*y;return M<=g&&m*p+y*a>=0&&d(n,h.x,h.y)};r.exports=u},25227:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){var f=i.x1,u=i.y1,o=i.x2,n=i.y2,h=d.x1,p=d.y1,a=d.x2,c=d.y2;if(f===o&&u===n||h===a&&p===c)return!1;var v=(c-p)*(o-f)-(a-h)*(n-u);if(v===0)return!1;var g=((a-h)*(u-p)-(c-p)*(f-h))/v,m=((o-f)*(u-p)-(n-u)*(f-h))/v;return g<0||g>1||m<0||m>1?!1:(x&&(x.x=f+g*(o-f),x.y=u+g*(n-u)),!0)};r.exports=T},47910:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){var x=i.x1,f=i.y1,u=i.x2,o=i.y2,n=d.x,h=d.y,p=d.right,a=d.bottom,c=0;if(x>=n&&x<=p&&f>=h&&f<=a||u>=n&&u<=p&&o>=h&&o<=a)return!0;if(x<n&&u>=n){if(c=f+(o-f)*(n-x)/(u-x),c>h&&c<=a)return!0}else if(x>p&&u<=p&&(c=f+(o-f)*(p-x)/(u-x),c>=h&&c<=a))return!0;if(f<h&&o>=h){if(c=x+(u-x)*(h-f)/(o-f),c>=n&&c<=p)return!0}else if(f>a&&o<=a&&(c=x+(u-x)*(a-f)/(o-f),c>=n&&c<=p))return!0;return!1};r.exports=T},34426:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){x===void 0&&(x=1);var f=d.x1,u=d.y1,o=d.x2,n=d.y2,h=i.x,p=i.y,a=(o-f)*(o-f)+(n-u)*(n-u);if(a===0)return!1;var c=((h-f)*(o-f)+(p-u)*(n-u))/a;if(c<0)return Math.sqrt((f-h)*(f-h)+(u-p)*(u-p))<=x;if(c>=0&&c<=1){var v=((u-p)*(o-f)-(f-h)*(n-u))/a;return Math.abs(v)*Math.sqrt(a)<=x}else return Math.sqrt((o-h)*(o-h)+(n-p)*(n-p))<=x};r.exports=T},81414:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(34426),x=function(f,u){if(!d(f,u))return!1;var o=Math.min(u.x1,u.x2),n=Math.max(u.x1,u.x2),h=Math.min(u.y1,u.y2),p=Math.max(u.y1,u.y2);return f.x>=o&&f.x<=n&&f.y>=h&&f.y<=p};r.exports=x},90205:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return i.width<=0||i.height<=0||d.width<=0||d.height<=0?!1:!(i.right<d.x||i.bottom<d.y||i.x>d.right||i.y>d.bottom)};r.exports=T},20370:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(25227),x=i(94287),f=i(86875),u=i(87279),o=function(n,h){if(h.left>n.right||h.right<n.left||h.top>n.bottom||h.bottom<n.top)return!1;var p=h.getLineA(),a=h.getLineB(),c=h.getLineC();if(x(n,p.x1,p.y1)||x(n,p.x2,p.y2)||x(n,a.x1,a.y1)||x(n,a.x2,a.y2)||x(n,c.x1,c.y1)||x(n,c.x2,c.y2))return!0;var v=n.getLineA(),g=n.getLineB(),m=n.getLineC(),y=n.getLineD();if(d(p,v)||d(p,g)||d(p,m)||d(p,y)||d(a,v)||d(a,g)||d(a,m)||d(a,y)||d(c,v)||d(c,g)||d(c,m)||d(c,y))return!0;var P=u(n),M=f(h,P,!0);return M.length>0};r.exports=o},8786:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f,u,o){return o===void 0&&(o=0),!(d>i.right+o||x<i.left-o||f>i.bottom+o||u<i.top-o)};r.exports=T},48411:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61472),x=i(60689),f=function(u,o){return u.left>o.right||u.right<o.left||u.top>o.bottom||u.bottom<o.top?!1:!!(x(u,o.x,o.y)||d(u.getLineA(),o)||d(u.getLineB(),o)||d(u.getLineC(),o))};r.exports=f},86117:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(25227),x=function(f,u){return!!(f.contains(u.x1,u.y1)||f.contains(u.x2,u.y2)||d(f.getLineA(),u)||d(f.getLineB(),u)||d(f.getLineC(),u))};r.exports=x},23589:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(86875),x=i(18680),f=i(25227),u=function(o,n){if(o.left>n.right||o.right<n.left||o.top>n.bottom||o.bottom<n.top)return!1;var h=o.getLineA(),p=o.getLineB(),a=o.getLineC(),c=n.getLineA(),v=n.getLineB(),g=n.getLineC();if(f(h,c)||f(h,v)||f(h,g)||f(p,c)||f(p,v)||f(p,g)||f(a,c)||f(a,v)||f(a,g))return!0;var m=x(o),y=d(n,m,!0);return y.length>0||(m=x(n),y=d(o,m,!0),y.length>0)};r.exports=u},7563:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CircleToCircle:i(22184),CircleToRectangle:i(26535),GetCircleToCircle:i(71145),GetCircleToRectangle:i(62508),GetLineToCircle:i(26111),GetLineToLine:i(96537),GetLineToPoints:i(17647),GetLineToPolygon:i(68439),GetLineToRectangle:i(9569),GetRaysFromPointToPolygon:i(7449),GetRectangleIntersection:i(82931),GetRectangleToRectangle:i(1946),GetRectangleToTriangle:i(34211),GetTriangleToCircle:i(80511),GetTriangleToLine:i(31343),GetTriangleToTriangle:i(70534),LineToCircle:i(61472),LineToLine:i(25227),LineToRectangle:i(47910),PointToLine:i(34426),PointToLineSegment:i(81414),RectangleToRectangle:i(90205),RectangleToTriangle:i(20370),RectangleToValues:i(8786),TriangleToCircle:i(48411),TriangleToLine:i(86117),TriangleToTriangle:i(23589)}},50599:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return Math.atan2(i.y2-i.y1,i.x2-i.x1)};r.exports=T},58813:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){d===void 0&&(d=1),x===void 0&&(x=[]);var f=Math.round(i.x1),u=Math.round(i.y1),o=Math.round(i.x2),n=Math.round(i.y2),h=Math.abs(o-f),p=Math.abs(n-u),a=f<o?1:-1,c=u<n?1:-1,v=h-p;x.push({x:f,y:u});for(var g=1;!(f===o&&u===n);){var m=v<<1;m>-p&&(v-=p,f+=a),m<h&&(v+=h,u+=c),g%d===0&&x.push({x:f,y:u}),g++}return x};r.exports=T},88513:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){var f=d-(i.x1+i.x2)/2,u=x-(i.y1+i.y2)/2;return i.x1+=f,i.y1+=u,i.x2+=f,i.y2+=u,i};r.exports=T},26718:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(88829),x=function(f){return new d(f.x1,f.y1,f.x2,f.y2)};r.exports=x},88930:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return d.setTo(i.x1,i.y1,i.x2,i.y2)};r.exports=T},90656:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return i.x1===d.x1&&i.y1===d.y1&&i.x2===d.x2&&i.y2===d.y2};r.exports=T},30897:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(16028),x=function(f,u,o){o===void 0&&(o=u);var n=d(f),h=f.x2-f.x1,p=f.y2-f.y1;return u&&(f.x1=f.x1-h/n*u,f.y1=f.y1-p/n*u),o&&(f.x2=f.x2+h/n*o,f.y2=f.y2+p/n*o),f};r.exports=x},30684:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(92951),x=i(21902),f=i(79967),u=function(o,n,h,p,a){p===void 0&&(p=0),a===void 0&&(a=[]);var c=[],v=o.x1,g=o.y1,m=o.x2-v,y=o.y2-g,P=x(n,a),M,E,w=h-1;for(M=0;M<w;M++)E=P(M/w),c.push(new f(v+m*E,g+y*E));if(E=P(1),c.push(new f(v+m*E,g+y*E)),p>0){var R=c[0],O=[R];for(M=1;M<c.length-1;M++){var A=c[M];d(R,A)>=p&&(O.push(A),R=A)}var F=c[c.length-1];return d(R,F)<p&&O.pop(),O.push(F),O}else return c};r.exports=u},20487:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=function(f,u){return u===void 0&&(u=new d),u.x=(f.x1+f.x2)/2,u.y=(f.y1+f.y2)/2,u};r.exports=x},11222:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=function(f,u,o){o===void 0&&(o=new d);var n=f.x1,h=f.y1,p=f.x2,a=f.y2,c=(p-n)*(p-n)+(a-h)*(a-h);if(c===0)return o;var v=((u.x-n)*(p-n)+(u.y-h)*(a-h))/c;return o.x=n+v*(p-n),o.y=h+v*(a-h),o};r.exports=x},7377:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(83392),x=i(50599),f=i(79967),u=function(o,n){n===void 0&&(n=new f);var h=x(o)-d.TAU;return n.x=Math.cos(h),n.y=Math.sin(h),n};r.exports=u},66464:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=function(f,u,o){return o===void 0&&(o=new d),o.x=f.x1+(f.x2-f.x1)*u,o.y=f.y1+(f.y2-f.y1)*u,o};r.exports=x},8570:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(16028),x=i(79967),f=function(u,o,n,h){h===void 0&&(h=[]),!o&&n>0&&(o=d(u)/n);for(var p=u.x1,a=u.y1,c=u.x2,v=u.y2,g=0;g<o;g++){var m=g/o,y=p+(c-p)*m,P=a+(v-a)*m;h.push(new x(y,P))}return h};r.exports=f},65269:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Florian Mertens
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){var x=i.x1,f=i.y1,u=i.x2,o=i.y2,n=(u-x)*(u-x)+(o-f)*(o-f);if(n===0)return!1;var h=((f-d.y)*(u-x)-(x-d.x)*(o-f))/n;return Math.abs(h)*Math.sqrt(n)};r.exports=T},82996:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return Math.abs(i.y1-i.y2)};r.exports=T},16028:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return Math.sqrt((i.x2-i.x1)*(i.x2-i.x1)+(i.y2-i.y1)*(i.y2-i.y1))};r.exports=T},88829:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(66464),f=i(8570),u=i(52394),o=i(74077),n=i(93736),h=new d({initialize:function(a,c,v,g){a===void 0&&(a=0),c===void 0&&(c=0),v===void 0&&(v=0),g===void 0&&(g=0),this.type=u.LINE,this.x1=a,this.y1=c,this.x2=v,this.y2=g},getPoint:function(p,a){return x(this,p,a)},getPoints:function(p,a,c){return f(this,p,a,c)},getRandomPoint:function(p){return o(this,p)},setTo:function(p,a,c,v){return p===void 0&&(p=0),a===void 0&&(a=0),c===void 0&&(c=0),v===void 0&&(v=0),this.x1=p,this.y1=a,this.x2=c,this.y2=v,this},setFromObjects:function(p,a){return this.x1=p.x,this.y1=p.y,this.x2=a.x,this.y2=a.y,this},getPointA:function(p){return p===void 0&&(p=new n),p.set(this.x1,this.y1),p},getPointB:function(p){return p===void 0&&(p=new n),p.set(this.x2,this.y2),p},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(p){this.x1<=this.x2?this.x1=p:this.x2=p}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(p){this.x1>this.x2?this.x1=p:this.x2=p}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(p){this.y1<=this.y2?this.y1=p:this.y2=p}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(p){this.y1>this.y2?this.y1=p:this.y2=p}}});r.exports=h},73273:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(83392),x=i(1071),f=i(50599),u=function(o){var n=f(o)-d.TAU;return x(n,-Math.PI,Math.PI)};r.exports=u},96936:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(83392),x=i(50599),f=function(u){return Math.cos(x(u)-d.TAU)};r.exports=f},43581:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(83392),x=i(50599),f=function(u){return Math.sin(x(u)-d.TAU)};r.exports=f},13990:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return i.x1+=d,i.y1+=x,i.x2+=d,i.y2+=x,i};r.exports=T},1298:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return-((i.x2-i.x1)/(i.y2-i.y1))};r.exports=T},74077:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=function(f,u){u===void 0&&(u=new d);var o=Math.random();return u.x=f.x1+o*(f.x2-f.x1),u.y=f.y1+o*(f.y2-f.y1),u};r.exports=x},30473:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(50599),x=i(73273),f=function(u,o){return 2*x(o)-Math.PI-d(u)};r.exports=f},25968:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(1809),x=function(f,u){var o=(f.x1+f.x2)/2,n=(f.y1+f.y2)/2;return d(f,o,n,u)};r.exports=x},24296:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(1809),x=function(f,u,o){return d(f,u.x,u.y,o)};r.exports=x},1809:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){var u=Math.cos(f),o=Math.sin(f),n=i.x1-d,h=i.y1-x;return i.x1=n*u-h*o+d,i.y1=n*o+h*u+x,n=i.x2-d,h=i.y2-x,i.x2=n*u-h*o+d,i.y2=n*o+h*u+x,i};r.exports=T},88171:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f,u){return i.x1=d,i.y1=x,i.x2=d+Math.cos(f)*u,i.y2=x+Math.sin(f)*u,i};r.exports=T},82797:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return(i.y2-i.y1)/(i.x2-i.x1)};r.exports=T},41067:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return Math.abs(i.x1-i.x2)};r.exports=T},28482:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(88829);d.Angle=i(50599),d.BresenhamPoints=i(58813),d.CenterOn=i(88513),d.Clone=i(26718),d.CopyFrom=i(88930),d.Equals=i(90656),d.Extend=i(30897),d.GetEasedPoints=i(30684),d.GetMidPoint=i(20487),d.GetNearestPoint=i(11222),d.GetNormal=i(7377),d.GetPoint=i(66464),d.GetPoints=i(8570),d.GetShortestDistance=i(65269),d.Height=i(82996),d.Length=i(16028),d.NormalAngle=i(73273),d.NormalX=i(96936),d.NormalY=i(43581),d.Offset=i(13990),d.PerpSlope=i(1298),d.Random=i(74077),d.ReflectAngle=i(30473),d.Rotate=i(25968),d.RotateAroundPoint=i(24296),d.RotateAroundXY=i(1809),d.SetToAngle=i(88171),d.Slope=i(82797),d.Width=i(41067),r.exports=d},18693:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(74118),f=i(93736);function u(n,h,p,a){var c=n-p,v=h-a,g=c*c+v*v;return Math.sqrt(g)}var o=new d({initialize:function(h,p,a){this.vertex1=h,this.vertex2=p,this.vertex3=a,this.bounds=new x,this._inCenter=new f},getInCenter:function(n){n===void 0&&(n=!0);var h=this.vertex1,p=this.vertex2,a=this.vertex3,c,v,g,m,y,P;n?(c=h.x,v=h.y,g=p.x,m=p.y,y=a.x,P=a.y):(c=h.vx,v=h.vy,g=p.vx,m=p.vy,y=a.vx,P=a.vy);var M=u(y,P,g,m),E=u(c,v,y,P),w=u(g,m,c,v),R=M+E+w;return this._inCenter.set((c*M+g*E+y*w)/R,(v*M+m*E+P*w)/R)},contains:function(n,h,p){var a=this.vertex1,c=this.vertex2,v=this.vertex3,g=a.vx,m=a.vy,y=c.vx,P=c.vy,M=v.vx,E=v.vy;if(p){var w=p.a,R=p.b,O=p.c,A=p.d,F=p.e,L=p.f;g=a.vx*w+a.vy*O+F,m=a.vx*R+a.vy*A+L,y=c.vx*w+c.vy*O+F,P=c.vx*R+c.vy*A+L,M=v.vx*w+v.vy*O+F,E=v.vx*R+v.vy*A+L}var I=M-g,B=E-m,b=y-g,k=P-m,U=n-g,Y=h-m,H=I*I+B*B,z=I*b+B*k,V=I*U+B*Y,D=b*b+k*k,G=b*U+k*Y,N=H*D-z*z,X=N===0?0:1/N,W=(D*V-z*G)*X,$=(H*G-z*V)*X;return W>=0&&$>=0&&W+$<1},isCounterClockwise:function(n){var h=this.vertex1,p=this.vertex2,a=this.vertex3,c=(p.vx-h.vx)*(a.vy-h.vy)-(p.vy-h.vy)*(a.vx-h.vx);return n<=0?c>=0:c<0},load:function(n,h,p,a,c){return p=this.vertex1.load(n,h,p,a,c),p=this.vertex2.load(n,h,p,a,c),p=this.vertex3.load(n,h,p,a,c),p},transformCoordinatesLocal:function(n,h,p,a){return this.vertex1.transformCoordinatesLocal(n,h,p,a),this.vertex2.transformCoordinatesLocal(n,h,p,a),this.vertex3.transformCoordinatesLocal(n,h,p,a),this},updateBounds:function(){var n=this.vertex1,h=this.vertex2,p=this.vertex3,a=this.bounds;return a.x=Math.min(n.vx,h.vx,p.vx),a.y=Math.min(n.vy,h.vy,p.vy),a.width=Math.max(n.vx,h.vx,p.vx)-a.x,a.height=Math.max(n.vy,h.vy,p.vy)-a.y,this},isInView:function(n,h,p,a,c,v,g,m,y,P,M){this.update(a,c,v,g,m,y,P,M);var E=this.vertex1,w=this.vertex2,R=this.vertex3;if(E.ta<=0&&w.ta<=0&&R.ta<=0||h&&!this.isCounterClockwise(p))return!1;var O=this.bounds;O.x=Math.min(E.tx,w.tx,R.tx),O.y=Math.min(E.ty,w.ty,R.ty),O.width=Math.max(E.tx,w.tx,R.tx)-O.x,O.height=Math.max(E.ty,w.ty,R.ty)-O.y;var A=n.x+n.width,F=n.y+n.height;return O.width<=0||O.height<=0||n.width<=0||n.height<=0?!1:!(O.right<n.x||O.bottom<n.y||O.x>A||O.y>F)},scrollUV:function(n,h){return this.vertex1.scrollUV(n,h),this.vertex2.scrollUV(n,h),this.vertex3.scrollUV(n,h),this},scaleUV:function(n,h){return this.vertex1.scaleUV(n,h),this.vertex2.scaleUV(n,h),this.vertex3.scaleUV(n,h),this},setColor:function(n){return this.vertex1.color=n,this.vertex2.color=n,this.vertex3.color=n,this},update:function(n,h,p,a,c,v,g,m){return this.vertex1.update(h,p,a,c,v,g,m,n),this.vertex2.update(h,p,a,c,v,g,m,n),this.vertex3.update(h,p,a,c,v,g,m,n),this},translate:function(n,h){h===void 0&&(h=0);var p=this.vertex1,a=this.vertex2,c=this.vertex3;return p.x+=n,p.y+=h,a.x+=n,a.y+=h,c.x+=n,c.y+=h,this},x:{get:function(){return this.getInCenter().x},set:function(n){var h=this.getInCenter();this.translate(n-h.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(n){var h=this.getInCenter();this.translate(0,n-h.y)}},alpha:{get:function(){var n=this.vertex1,h=this.vertex2,p=this.vertex3;return(n.alpha+h.alpha+p.alpha)/3},set:function(n){this.vertex1.alpha=n,this.vertex2.alpha=n,this.vertex3.alpha=n}},depth:{get:function(){var n=this.vertex1,h=this.vertex2,p=this.vertex3;return(n.vz+h.vz+p.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});r.exports=o},99425:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(18693),x=i(72632),f=i(16650),u=i(70015),o=i(85769),n=new u,h=new u,p=new f,a=function(c){var v=x(c,"mesh"),g=x(c,"texture",null),m=x(c,"frame"),y=x(c,"width",1),P=x(c,"height",y),M=x(c,"widthSegments",1),E=x(c,"heightSegments",M),w=x(c,"x",0),R=x(c,"y",0),O=x(c,"z",0),A=x(c,"rotateX",0),F=x(c,"rotateY",0),L=x(c,"rotateZ",0),I=x(c,"zIsUp",!0),B=x(c,"isOrtho",v?v.dirtyCache[11]:!1),b=x(c,"colors",[16777215]),k=x(c,"alphas",[1]),U=x(c,"tile",!1),Y=x(c,"flipY",!1),H=x(c,"width",null),z={faces:[],verts:[]};n.set(w,R,O),h.set(A,F,L),p.fromRotationXYTranslation(h,n,I);var V;if(!g&&v)g=v.texture,m||(V=v.frame);else if(v&&typeof g=="string")g=v.scene.sys.textures.get(g);else if(!g)return z;V||(V=g.get(m)),!H&&B&&g&&v&&(y=V.width/v.height,P=V.height/v.height);var D=y/2,G=P/2,N=Math.floor(M),X=Math.floor(E),W=N+1,$=X+1,K=y/N,j=P/X,Z=[],J=[],Q,_,q=0,et=1,ot=0,ut=1;V&&(q=V.u0,et=V.u1,Y?(ot=V.v1,ut=V.v0):(ot=V.v0,ut=V.v1));var lt=et-q,tt=ut-ot;for(_=0;_<$;_++){var at=_*j-G;for(Q=0;Q<W;Q++){var rt=Q*K-D;J.push(rt,-at);var gt=q+lt*(Q/N),mt=ot+tt*(_/X);Z.push(gt,mt)}}Array.isArray(b)||(b=[b]),Array.isArray(k)||(k=[k]);var zt=0,bt=0;for(_=0;_<X;_++)for(Q=0;Q<N;Q++){var Et=(Q+W*_)*2,xt=(Q+W*(_+1))*2,Qt=(Q+1+W*(_+1))*2,Lt=(Q+1+W*_)*2,de=b[bt],me=k[zt],Qe=new o(J[Et],J[Et+1],0,Z[Et],Z[Et+1],de,me).transformMat4(p),Dn=new o(J[xt],J[xt+1],0,Z[xt],Z[xt+1],de,me).transformMat4(p),In=new o(J[Lt],J[Lt+1],0,Z[Lt],Z[Lt+1],de,me).transformMat4(p),Bn=new o(J[xt],J[xt+1],0,Z[xt],Z[xt+1],de,me).transformMat4(p),bn=new o(J[Qt],J[Qt+1],0,Z[Qt],Z[Qt+1],de,me).transformMat4(p),Gn=new o(J[Lt],J[Lt+1],0,Z[Lt],Z[Lt+1],de,me).transformMat4(p);U&&(Qe.setUVs(q,ut),Dn.setUVs(q,ot),In.setUVs(et,ut),Bn.setUVs(q,ot),bn.setUVs(et,ot),Gn.setUVs(et,ut)),bt++,bt===b.length&&(bt=0),zt++,zt===k.length&&(zt=0),z.verts.push(Qe,Dn,In,Bn,bn,Gn),z.faces.push(new d(Qe,Dn,In),new d(Bn,bn,Gn))}return v&&(v.faces=v.faces.concat(z.faces),v.vertices=v.vertices.concat(z.verts)),z};r.exports=a},53267:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(18693),x=i(16650),f=i(70015),u=i(85769),o=new f,n=new f,h=new x,p=function(a,c,v,g,m,y,P,M,E,w){v===void 0&&(v=1),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=0),P===void 0&&(P=0),M===void 0&&(M=0),E===void 0&&(E=0),w===void 0&&(w=!0);var R={faces:[],verts:[]},O=a.materials;o.set(g,m,y),n.set(P,M,E),h.fromRotationXYTranslation(n,o,w);for(var A=0;A<a.models.length;A++)for(var F=a.models[A],L=F.vertices,I=F.textureCoords,B=F.faces,b=0;b<B.length;b++){var k=B[b],U=k.vertices[0],Y=k.vertices[1],H=k.vertices[2],z=L[U.vertexIndex],V=L[Y.vertexIndex],D=L[H.vertexIndex],G=U.textureCoordsIndex,N=Y.textureCoordsIndex,X=H.textureCoordsIndex,W=G===-1?{u:0,v:1}:I[G],$=N===-1?{u:0,v:0}:I[N],K=X===-1?{u:1,v:1}:I[X],j=16777215;k.material!==""&&O[k.material]&&(j=O[k.material]);var Z=new u(z.x*v,z.y*v,z.z*v,W.u,W.v,j).transformMat4(h),J=new u(V.x*v,V.y*v,V.z*v,$.u,$.v,j).transformMat4(h),Q=new u(D.x*v,D.y*v,D.z*v,K.u,K.v,j).transformMat4(h);R.verts.push(Z,J,Q),R.faces.push(new d(Z,J,Q))}return c&&(c.faces=c.faces.concat(R.faces),c.vertices=c.vertices.concat(R.verts)),R};r.exports=p},67623:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(18693),x=i(85769),f=function(u,o,n,h,p,a,c,v){if(h===void 0&&(h=!1),a===void 0&&(a=16777215),c===void 0&&(c=1),v===void 0&&(v=!1),u.length!==o.length&&!h){console.warn("GenerateVerts: vertices and uvs count not equal");return}var g={faces:[],vertices:[]},m,y,P,M,E,w,R,O,A,F,L,I=h?3:2,B=Array.isArray(a),b=Array.isArray(c);if(Array.isArray(n)&&n.length>0)for(m=0;m<n.length;m++){var k=n[m],U=n[m]*2,Y=n[m]*I;y=u[Y],P=u[Y+1],M=h?u[Y+2]:0,E=o[U],w=o[U+1],v&&(w=1-w),R=B?a[k]:a,O=b?c[k]:c,A=0,F=0,L=0,p&&(A=p[Y],F=p[Y+1],L=h?p[Y+2]:0),g.vertices.push(new x(y,P,M,E,w,R,O,A,F,L))}else{var H=0,z=0;for(m=0;m<u.length;m+=I)y=u[m],P=u[m+1],M=h?u[m+2]:0,E=o[H],w=o[H+1],R=B?a[z]:a,O=b?c[z]:c,A=0,F=0,L=0,p&&(A=p[m],F=p[m+1],L=h?p[m+2]:0),g.vertices.push(new x(y,P,M,E,w,R,O,A,F,L)),H+=2,z++}for(m=0;m<g.vertices.length;m+=3){var V=g.vertices[m],D=g.vertices[m+1],G=g.vertices[m+2];g.faces.push(new d(V,D,G))}return g};r.exports=f},27291:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=!0,i="untitled",d="",x="";function f(y){var P=y.indexOf("#");return P>-1?y.substring(0,P):y}function u(y){return y.models.length===0&&y.models.push({faces:[],name:i,textureCoords:[],vertexNormals:[],vertices:[]}),d="",y.models[y.models.length-1]}function o(y,P){var M=y.length>=2?y[1]:i;P.models.push({faces:[],name:M,textureCoords:[],vertexNormals:[],vertices:[]}),d=""}function n(y){y.length===2&&(d=y[1])}function h(y,P){var M=y.length,E=M>=2?parseFloat(y[1]):0,w=M>=3?parseFloat(y[2]):0,R=M>=4?parseFloat(y[3]):0;u(P).vertices.push({x:E,y:w,z:R})}function p(y,P){var M=y.length,E=M>=2?parseFloat(y[1]):0,w=M>=3?parseFloat(y[2]):0,R=M>=4?parseFloat(y[3]):0;isNaN(E)&&(E=0),isNaN(w)&&(w=0),isNaN(R)&&(R=0),T&&(w=1-w),u(P).textureCoords.push({u:E,v:w,w:R})}function a(y,P){var M=y.length,E=M>=2?parseFloat(y[1]):0,w=M>=3?parseFloat(y[2]):0,R=M>=4?parseFloat(y[3]):0;u(P).vertexNormals.push({x:E,y:w,z:R})}function c(y,P){var M=y.length-1;if(!(M<3)){for(var E={group:d,material:x,vertices:[]},w=0;w<M;w++){var R=y[w+1],O=R.split("/"),A=O.length;if(!(A<1||A>3)){var F=0,L=0,I=0;F=parseInt(O[0],10),A>1&&O[1]!==""&&(L=parseInt(O[1],10)),A>2&&(I=parseInt(O[2],10)),F!==0&&(F<0&&(F=u(P).vertices.length+1+F),L-=1,F-=1,I-=1,E.vertices.push({textureCoordsIndex:L,vertexIndex:F,vertexNormalIndex:I}))}}u(P).faces.push(E)}}function v(y,P){y.length>=2&&P.materialLibraries.push(y[1])}function g(y){y.length>=2&&(x=y[1])}var m=function(y,P){P===void 0&&(P=!0),T=P;var M={materials:{},materialLibraries:[],models:[]};d="",x="";for(var E=y.split(`
`),w=0;w<E.length;w++){var R=f(E[w]),O=R.replace(/\s\s+/g," ").trim().split(" ");switch(O[0].toLowerCase()){case"o":o(O,M);break;case"g":n(O);break;case"v":h(O,M);break;case"vt":p(O,M);break;case"vn":a(O,M);break;case"f":c(O,M);break;case"mtllib":v(O,M);break;case"usemtl":g(O);break}}return M};r.exports=m},76799:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(22946),x=function(f){for(var u={},o=f.split(`
`),n="",h=0;h<o.length;h++){var p=o[h].trim();if(!(p.indexOf("#")===0||p==="")){var a=p.replace(/\s\s+/g," ").trim().split(" ");switch(a[0].toLowerCase()){case"newmtl":{n=a[1];break}case"kd":{var c=Math.floor(a[1]*255),v=a.length>=2?Math.floor(a[2]*255):c,g=a.length>=3?Math.floor(a[3]*255):c;u[n]=d(c,v,g);break}}}}return u};r.exports=x},15313:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){var u,o;if(x===void 0&&f===void 0){var n=i.getInCenter();u=n.x,o=n.y}var h=Math.cos(d),p=Math.sin(d),a=i.vertex1,c=i.vertex2,v=i.vertex3,g=a.x-u,m=a.y-o;a.set(g*h-m*p+u,g*p+m*h+o),g=c.x-u,m=c.y-o,c.set(g*h-m*p+u,g*p+m*h+o),g=v.x-u,m=v.y-o,v.set(g*h-m*p+u,g*p+m*h+o)};r.exports=T},85769:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(75512),f=i(70015),u=new d({Extends:f,initialize:function(n,h,p,a,c,v,g,m,y,P){v===void 0&&(v=16777215),g===void 0&&(g=1),m===void 0&&(m=0),y===void 0&&(y=0),P===void 0&&(P=0),f.call(this,n,h,p),this.vx=0,this.vy=0,this.vz=0,this.nx=m,this.ny=y,this.nz=P,this.u=a,this.v=c,this.color=v,this.alpha=g,this.tx=0,this.ty=0,this.ta=0,this.tu=a,this.tv=c},setUVs:function(o,n){return this.u=o,this.v=n,this.tu=o,this.tv=n,this},scrollUV:function(o,n){return this.tu+=o,this.tv+=n,this},scaleUV:function(o,n){return this.tu=this.u*o,this.tv=this.v*n,this},transformCoordinatesLocal:function(o,n,h,p){var a=this.x,c=this.y,v=this.z,g=o.val,m=a*g[0]+c*g[4]+v*g[8]+g[12],y=a*g[1]+c*g[5]+v*g[9]+g[13],P=a*g[2]+c*g[6]+v*g[10]+g[14],M=a*g[3]+c*g[7]+v*g[11]+g[15];this.vx=m/M*n,this.vy=-(y/M)*h,p<=0?this.vz=P/M:this.vz=-(P/M)},resize:function(o,n,h,p,a,c){return this.x=o,this.y=n,this.vx=this.x*h,this.vy=-this.y*p,this.vz=0,a<.5?this.vx+=h*(.5-a):a>.5&&(this.vx-=h*(a-.5)),c<.5?this.vy+=p*(.5-c):c>.5&&(this.vy-=p*(c-.5)),this},update:function(o,n,h,p,a,c,v,g){var m=this.vx*o+this.vy*h+a,y=this.vx*n+this.vy*p+c;return v&&(m=Math.round(m),y=Math.round(y)),this.tx=m,this.ty=y,this.ta=this.alpha*g,this},load:function(o,n,h,p,a){return o[++h]=this.tx,o[++h]=this.ty,o[++h]=this.tu,o[++h]=this.tv,o[++h]=p,o[++h]=a,n[++h]=x.getTintAppendFloatAlpha(this.color,this.ta),h}});r.exports=u},14293:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={Face:i(18693),GenerateGridVerts:i(99425),GenerateObjVerts:i(53267),GenerateVerts:i(67623),ParseObj:i(27291),ParseObjMaterial:i(76799),RotateFace:i(15313),Vertex:i(85769)};r.exports=d},77601:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.setTo(Math.ceil(i.x),Math.ceil(i.y))};r.exports=T},38933:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=function(f){return new d(f.x,f.y)};r.exports=x},47103:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return d.setTo(i.x,i.y)};r.exports=T},13625:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return i.x===d.x&&i.y===d.y};r.exports=T},12536:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.setTo(Math.floor(i.x),Math.floor(i.y))};r.exports=T},54205:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=function(f,u){if(u===void 0&&(u=new d),!Array.isArray(f))throw new Error("GetCentroid points argument must be an array");var o=f.length;if(o<1)throw new Error("GetCentroid points array must not be empty");if(o===1)u.x=f[0].x,u.y=f[0].y;else{for(var n=0;n<o;n++)u.x+=f[n].x,u.y+=f[n].y;u.x/=o,u.y/=o}return u};r.exports=x},50083:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return Math.sqrt(i.x*i.x+i.y*i.y)};r.exports=T},82712:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.x*i.x+i.y*i.y};r.exports=T},20052:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(74118),x=function(f,u){u===void 0&&(u=new d);for(var o=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY,p=Number.POSITIVE_INFINITY,a=0;a<f.length;a++){var c=f[a];c.x>o&&(o=c.x),c.x<n&&(n=c.x),c.y>h&&(h=c.y),c.y<p&&(p=c.y)}return u.x=n,u.y=p,u.width=o-n,u.height=h-p,u};r.exports=x},77154:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=function(f,u,o,n){return o===void 0&&(o=0),n===void 0&&(n=new d),n.x=f.x+(u.x-f.x)*o,n.y=f.y+(u.y-f.y)*o,n};r.exports=x},42397:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.setTo(i.y,i.x)};r.exports=T},59464:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=function(f,u){return u===void 0&&(u=new d),u.setTo(-f.x,-f.y)};r.exports=x},79967:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(52394),f=new d({initialize:function(o,n){o===void 0&&(o=0),n===void 0&&(n=o),this.type=x.POINT,this.x=o,this.y=n},setTo:function(u,o){return u===void 0&&(u=0),o===void 0&&(o=u),this.x=u,this.y=o,this}});r.exports=f},53581:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=i(82712),f=function(u,o,n){n===void 0&&(n=new d);var h=u.x*o.x+u.y*o.y,p=h/x(o);return p!==0&&(n.x=p*o.x,n.y=p*o.y),n};r.exports=f},50817:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=function(f,u,o){o===void 0&&(o=new d);var n=f.x*u.x+f.y*u.y;return n!==0&&(o.x=n*u.x,o.y=n*u.y),o};r.exports=x},40525:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(50083),x=function(f,u){if(f.x!==0||f.y!==0){var o=d(f);f.x/=o,f.y/=o}return f.x*=u,f.y*=u,f};r.exports=x},63472:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967);d.Ceil=i(77601),d.Clone=i(38933),d.CopyFrom=i(47103),d.Equals=i(13625),d.Floor=i(12536),d.GetCentroid=i(54205),d.GetMagnitude=i(50083),d.GetMagnitudeSq=i(82712),d.GetRectangleFromPoints=i(20052),d.Interpolate=i(77154),d.Invert=i(42397),d.Negative=i(59464),d.Project=i(53581),d.ProjectUnit=i(50817),d.SetMagnitude=i(40525),r.exports=d},19631:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(8580),x=function(f){return new d(f.points)};r.exports=x},45604:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){for(var f=!1,u=-1,o=i.points.length-1;++u<i.points.length;o=u){var n=i.points[u].x,h=i.points[u].y,p=i.points[o].x,a=i.points[o].y;(h<=x&&x<a||a<=x&&x<h)&&d<(p-n)*(x-h)/(a-h)+n&&(f=!f)}return f};r.exports=T},87289:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(45604),x=function(f,u){return d(f,u.x,u.y)};r.exports=x},11117:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(z,V,D){D=D||2;var G=V&&V.length,N=G?V[0]*D:z.length,X=i(z,0,N,D,!0),W=[];if(!X||X.next===X.prev)return W;var $,K,j,Z,J,Q,_;if(G&&(X=h(z,V,X,D)),z.length>80*D){$=j=z[0],K=Z=z[1];for(var q=D;q<N;q+=D)J=z[q],Q=z[q+1],J<$&&($=J),Q<K&&(K=Q),J>j&&(j=J),Q>Z&&(Z=Q);_=Math.max(j-$,Z-K),_=_!==0?32767/_:0}return x(X,W,D,$,K,_,0),W}function i(z,V,D,G,N){var X,W;if(N===H(z,V,D,G)>0)for(X=V;X<D;X+=G)W=k(X,z[X],z[X+1],W);else for(X=D-G;X>=V;X-=G)W=k(X,z[X],z[X+1],W);return W&&R(W,W.next)&&(U(W),W=W.next),W}function d(z,V){if(!z)return z;V||(V=z);var D=z,G;do if(G=!1,!D.steiner&&(R(D,D.next)||w(D.prev,D,D.next)===0)){if(U(D),D=V=D.prev,D===D.next)break;G=!0}else D=D.next;while(G||D!==V);return V}function x(z,V,D,G,N,X,W){if(z){!W&&X&&g(z,G,N,X);for(var $=z,K,j;z.prev!==z.next;){if(K=z.prev,j=z.next,X?u(z,G,N,X):f(z)){V.push(K.i/D|0),V.push(z.i/D|0),V.push(j.i/D|0),U(z),z=j.next,$=j.next;continue}if(z=j,z===$){W?W===1?(z=o(d(z),V,D),x(z,V,D,G,N,X,2)):W===2&&n(z,V,D,G,N,X):x(d(z),V,D,G,N,X,1);break}}}}function f(z){var V=z.prev,D=z,G=z.next;if(w(V,D,G)>=0)return!1;for(var N=V.x,X=D.x,W=G.x,$=V.y,K=D.y,j=G.y,Z=N<X?N<W?N:W:X<W?X:W,J=$<K?$<j?$:j:K<j?K:j,Q=N>X?N>W?N:W:X>W?X:W,_=$>K?$>j?$:j:K>j?K:j,q=G.next;q!==V;){if(q.x>=Z&&q.x<=Q&&q.y>=J&&q.y<=_&&M(N,$,X,K,W,j,q.x,q.y)&&w(q.prev,q,q.next)>=0)return!1;q=q.next}return!0}function u(z,V,D,G){var N=z.prev,X=z,W=z.next;if(w(N,X,W)>=0)return!1;for(var $=N.x,K=X.x,j=W.x,Z=N.y,J=X.y,Q=W.y,_=$<K?$<j?$:j:K<j?K:j,q=Z<J?Z<Q?Z:Q:J<Q?J:Q,et=$>K?$>j?$:j:K>j?K:j,ot=Z>J?Z>Q?Z:Q:J>Q?J:Q,ut=y(_,q,V,D,G),lt=y(et,ot,V,D,G),tt=z.prevZ,at=z.nextZ;tt&&tt.z>=ut&&at&&at.z<=lt;){if(tt.x>=_&&tt.x<=et&&tt.y>=q&&tt.y<=ot&&tt!==N&&tt!==W&&M($,Z,K,J,j,Q,tt.x,tt.y)&&w(tt.prev,tt,tt.next)>=0||(tt=tt.prevZ,at.x>=_&&at.x<=et&&at.y>=q&&at.y<=ot&&at!==N&&at!==W&&M($,Z,K,J,j,Q,at.x,at.y)&&w(at.prev,at,at.next)>=0))return!1;at=at.nextZ}for(;tt&&tt.z>=ut;){if(tt.x>=_&&tt.x<=et&&tt.y>=q&&tt.y<=ot&&tt!==N&&tt!==W&&M($,Z,K,J,j,Q,tt.x,tt.y)&&w(tt.prev,tt,tt.next)>=0)return!1;tt=tt.prevZ}for(;at&&at.z<=lt;){if(at.x>=_&&at.x<=et&&at.y>=q&&at.y<=ot&&at!==N&&at!==W&&M($,Z,K,J,j,Q,at.x,at.y)&&w(at.prev,at,at.next)>=0)return!1;at=at.nextZ}return!0}function o(z,V,D){var G=z;do{var N=G.prev,X=G.next.next;!R(N,X)&&O(N,G,G.next,X)&&I(N,X)&&I(X,N)&&(V.push(N.i/D|0),V.push(G.i/D|0),V.push(X.i/D|0),U(G),U(G.next),G=z=X),G=G.next}while(G!==z);return d(G)}function n(z,V,D,G,N,X){var W=z;do{for(var $=W.next.next;$!==W.prev;){if(W.i!==$.i&&E(W,$)){var K=b(W,$);W=d(W,W.next),K=d(K,K.next),x(W,V,D,G,N,X,0),x(K,V,D,G,N,X,0);return}$=$.next}W=W.next}while(W!==z)}function h(z,V,D,G){var N=[],X,W,$,K,j;for(X=0,W=V.length;X<W;X++)$=V[X]*G,K=X<W-1?V[X+1]*G:z.length,j=i(z,$,K,G,!1),j===j.next&&(j.steiner=!0),N.push(P(j));for(N.sort(p),X=0;X<N.length;X++)D=a(N[X],D);return D}function p(z,V){return z.x-V.x}function a(z,V){var D=c(z,V);if(!D)return V;var G=b(D,z);return d(G,G.next),d(D,D.next)}function c(z,V){var D=V,G=z.x,N=z.y,X=-1/0,W;do{if(N<=D.y&&N>=D.next.y&&D.next.y!==D.y){var $=D.x+(N-D.y)*(D.next.x-D.x)/(D.next.y-D.y);if($<=G&&$>X&&(X=$,W=D.x<D.next.x?D:D.next,$===G))return W}D=D.next}while(D!==V);if(!W)return null;var K=W,j=W.x,Z=W.y,J=1/0,Q;D=W;do G>=D.x&&D.x>=j&&G!==D.x&&M(N<Z?G:X,N,j,Z,N<Z?X:G,N,D.x,D.y)&&(Q=Math.abs(N-D.y)/(G-D.x),I(D,z)&&(Q<J||Q===J&&(D.x>W.x||D.x===W.x&&v(W,D)))&&(W=D,J=Q)),D=D.next;while(D!==K);return W}function v(z,V){return w(z.prev,z,V.prev)<0&&w(V.next,z,z.next)<0}function g(z,V,D,G){var N=z;do N.z===0&&(N.z=y(N.x,N.y,V,D,G)),N.prevZ=N.prev,N.nextZ=N.next,N=N.next;while(N!==z);N.prevZ.nextZ=null,N.prevZ=null,m(N)}function m(z){var V,D,G,N,X,W,$,K,j=1;do{for(D=z,z=null,X=null,W=0;D;){for(W++,G=D,$=0,V=0;V<j&&($++,G=G.nextZ,!!G);V++);for(K=j;$>0||K>0&&G;)$!==0&&(K===0||!G||D.z<=G.z)?(N=D,D=D.nextZ,$--):(N=G,G=G.nextZ,K--),X?X.nextZ=N:z=N,N.prevZ=X,X=N;D=G}X.nextZ=null,j*=2}while(W>1);return z}function y(z,V,D,G,N){return z=(z-D)*N|0,V=(V-G)*N|0,z=(z|z<<8)&16711935,z=(z|z<<4)&252645135,z=(z|z<<2)&858993459,z=(z|z<<1)&1431655765,V=(V|V<<8)&16711935,V=(V|V<<4)&252645135,V=(V|V<<2)&858993459,V=(V|V<<1)&1431655765,z|V<<1}function P(z){var V=z,D=z;do(V.x<D.x||V.x===D.x&&V.y<D.y)&&(D=V),V=V.next;while(V!==z);return D}function M(z,V,D,G,N,X,W,$){return(N-W)*(V-$)>=(z-W)*(X-$)&&(z-W)*(G-$)>=(D-W)*(V-$)&&(D-W)*(X-$)>=(N-W)*(G-$)}function E(z,V){return z.next.i!==V.i&&z.prev.i!==V.i&&!L(z,V)&&(I(z,V)&&I(V,z)&&B(z,V)&&(w(z.prev,z,V.prev)||w(z,V.prev,V))||R(z,V)&&w(z.prev,z,z.next)>0&&w(V.prev,V,V.next)>0)}function w(z,V,D){return(V.y-z.y)*(D.x-V.x)-(V.x-z.x)*(D.y-V.y)}function R(z,V){return z.x===V.x&&z.y===V.y}function O(z,V,D,G){var N=F(w(z,V,D)),X=F(w(z,V,G)),W=F(w(D,G,z)),$=F(w(D,G,V));return!!(N!==X&&W!==$||N===0&&A(z,D,V)||X===0&&A(z,G,V)||W===0&&A(D,z,G)||$===0&&A(D,V,G))}function A(z,V,D){return V.x<=Math.max(z.x,D.x)&&V.x>=Math.min(z.x,D.x)&&V.y<=Math.max(z.y,D.y)&&V.y>=Math.min(z.y,D.y)}function F(z){return z>0?1:z<0?-1:0}function L(z,V){var D=z;do{if(D.i!==z.i&&D.next.i!==z.i&&D.i!==V.i&&D.next.i!==V.i&&O(D,D.next,z,V))return!0;D=D.next}while(D!==z);return!1}function I(z,V){return w(z.prev,z,z.next)<0?w(z,V,z.next)>=0&&w(z,z.prev,V)>=0:w(z,V,z.prev)<0||w(z,z.next,V)<0}function B(z,V){var D=z,G=!1,N=(z.x+V.x)/2,X=(z.y+V.y)/2;do D.y>X!=D.next.y>X&&D.next.y!==D.y&&N<(D.next.x-D.x)*(X-D.y)/(D.next.y-D.y)+D.x&&(G=!G),D=D.next;while(D!==z);return G}function b(z,V){var D=new Y(z.i,z.x,z.y),G=new Y(V.i,V.x,V.y),N=z.next,X=V.prev;return z.next=V,V.prev=z,D.next=N,N.prev=D,G.next=D,D.prev=G,X.next=G,G.prev=X,G}function k(z,V,D,G){var N=new Y(z,V,D);return G?(N.next=G.next,N.prev=G,G.next.prev=N,G.next=N):(N.prev=N,N.next=N),N}function U(z){z.next.prev=z.prev,z.prev.next=z.next,z.prevZ&&(z.prevZ.nextZ=z.nextZ),z.nextZ&&(z.nextZ.prevZ=z.prevZ)}function Y(z,V,D){this.i=z,this.x=V,this.y=D,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}T.deviation=function(z,V,D,G){var N=V&&V.length,X=N?V[0]*D:z.length,W=Math.abs(H(z,0,X,D));if(N)for(var $=0,K=V.length;$<K;$++){var j=V[$]*D,Z=$<K-1?V[$+1]*D:z.length;W-=Math.abs(H(z,j,Z,D))}var J=0;for($=0;$<G.length;$+=3){var Q=G[$]*D,_=G[$+1]*D,q=G[$+2]*D;J+=Math.abs((z[Q]-z[q])*(z[_+1]-z[Q+1])-(z[Q]-z[_])*(z[q+1]-z[Q+1]))}return W===0&&J===0?0:Math.abs((J-W)/W)};function H(z,V,D,G){for(var N=0,X=V,W=D-G;X<D;X+=G)N+=(z[W]-z[X])*(z[X+1]+z[W+1]),W=X;return N}T.flatten=function(z){for(var V=z[0][0].length,D={vertices:[],holes:[],dimensions:V},G=0,N=0;N<z.length;N++){for(var X=0;X<z[N].length;X++)for(var W=0;W<V;W++)D.vertices.push(z[N][X][W]);N>0&&(G+=z[N-1].length,D.holes.push(G))}return D},r.exports=T},14045:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(74118),x=function(f,u){u===void 0&&(u=new d);for(var o=1/0,n=1/0,h=-o,p=-n,a,c=0;c<f.points.length;c++)a=f.points[c],o=Math.min(o,a.x),n=Math.min(n,a.y),h=Math.max(h,a.x),p=Math.max(p,a.y);return u.x=o,u.y=n,u.width=h-o,u.height=p-n,u};r.exports=x},98286:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){d===void 0&&(d=[]);for(var x=0;x<i.points.length;x++)d.push(i.points[x].x),d.push(i.points[x].y);return d};r.exports=T},89294:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(16028),x=i(88829),f=i(5159),u=function(o,n,h,p){p===void 0&&(p=[]);var a=o.points,c=f(o);!n&&h>0&&(n=c/h);for(var v=0;v<n;v++)for(var g=c*(v/n),m=0,y=0;y<a.length;y++){var P=a[y],M=a[(y+1)%a.length],E=new x(P.x,P.y,M.x,M.y),w=d(E);if(g<m||g>m+w){m+=w;continue}var R=E.getPoint((g-m)/w);p.push(R);break}return p};r.exports=u},5159:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(16028),x=i(88829),f=function(u){for(var o=u.points,n=0,h=0;h<o.length;h++){var p=o[h],a=o[(h+1)%o.length],c=new x(p.x,p.y,a.x,a.y);n+=d(c)}return n};r.exports=f},8580:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(45604),f=i(89294),u=i(52394),o=new d({initialize:function(h){this.type=u.POLYGON,this.area=0,this.points=[],h&&this.setTo(h)},contains:function(n,h){return x(this,n,h)},setTo:function(n){if(this.area=0,this.points=[],typeof n=="string"&&(n=n.split(" ")),!Array.isArray(n))return this;for(var h,p=0;p<n.length;p++)h={x:0,y:0},typeof n[p]=="number"||typeof n[p]=="string"?(h.x=parseFloat(n[p]),h.y=parseFloat(n[p+1]),p++):Array.isArray(n[p])?(h.x=n[p][0],h.y=n[p][1]):(h.x=n[p].x,h.y=n[p].y),this.points.push(h);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var n=0,h,p,a=0;a<this.points.length-1;a++)h=this.points[a],p=this.points[a+1],n+=(p.x-h.x)*(h.y+p.y);return h=this.points[0],p=this.points[this.points.length-1],n+=(h.x-p.x)*(p.y+h.y),this.area=-n*.5,this.area},getPoints:function(n,h,p){return f(this,n,h,p)}});r.exports=o},32244:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.points.reverse(),i};r.exports=T},95874:r=>{function T(o,n){var h=o.x-n.x,p=o.y-n.y;return h*h+p*p}function i(o,n,h){var p=n.x,a=n.y,c=h.x-p,v=h.y-a;if(c!==0||v!==0){var g=((o.x-p)*c+(o.y-a)*v)/(c*c+v*v);g>1?(p=h.x,a=h.y):g>0&&(p+=c*g,a+=v*g)}return c=o.x-p,v=o.y-a,c*c+v*v}function d(o,n){for(var h=o[0],p=[h],a,c=1,v=o.length;c<v;c++)a=o[c],T(a,h)>n&&(p.push(a),h=a);return h!==a&&p.push(a),p}function x(o,n,h,p,a){for(var c=p,v,g=n+1;g<h;g++){var m=i(o[g],o[n],o[h]);m>c&&(v=g,c=m)}c>p&&(v-n>1&&x(o,n,v,p,a),a.push(o[v]),h-v>1&&x(o,v,h,p,a))}function f(o,n){var h=o.length-1,p=[o[0]];return x(o,0,h,n,p),p.push(o[h]),p}var u=function(o,n,h){n===void 0&&(n=1),h===void 0&&(h=!1);var p=o.points;if(p.length>2){var a=n*n;h||(p=d(p,a)),o.setTo(f(p,a))}return o};r.exports=u},18974:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(d,x){return d[0]=x[0],d[1]=x[1],d},i=function(d){var x,f=[],u=d.points;for(x=0;x<u.length;x++)f.push([u[x].x,u[x].y]);var o=[];for(f.length>0&&o.push(T([0,0],f[0])),x=0;x<f.length-1;x++){var n=f[x],h=f[x+1],p=n[0],a=n[1],c=h[0],v=h[1];o.push([.85*p+.15*c,.85*a+.15*v]),o.push([.15*p+.85*c,.15*a+.85*v])}return f.length>1&&o.push(T([0,0],f[f.length-1])),d.setTo(o)};r.exports=i},23490:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){for(var f=i.points,u=0;u<f.length;u++)f[u].x+=d,f[u].y+=x;return i};r.exports=T},44359:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(8580);d.Clone=i(19631),d.Contains=i(45604),d.ContainsPoint=i(87289),d.Earcut=i(11117),d.GetAABB=i(14045),d.GetNumberArray=i(98286),d.GetPoints=i(89294),d.Perimeter=i(5159),d.Reverse=i(32244),d.Simplify=i(95874),d.Smooth=i(18974),d.Translate=i(23490),r.exports=d},1653:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.width*i.height};r.exports=T},33943:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.x=Math.ceil(i.x),i.y=Math.ceil(i.y),i};r.exports=T},58662:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.x=Math.ceil(i.x),i.y=Math.ceil(i.y),i.width=Math.ceil(i.width),i.height=Math.ceil(i.height),i};r.exports=T},79993:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return i.x=d-i.width/2,i.y=x-i.height/2,i};r.exports=T},81572:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(74118),x=function(f){return new d(f.x,f.y,f.width,f.height)};r.exports=x},94287:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return i.width<=0||i.height<=0?!1:i.x<=d&&i.x+i.width>=d&&i.y<=x&&i.y+i.height>=x};r.exports=T},28687:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(94287),x=function(f,u){return d(f,u.x,u.y)};r.exports=x},73222:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return d.width*d.height>i.width*i.height?!1:d.x>i.x&&d.x<i.right&&d.right>i.x&&d.right<i.right&&d.y>i.y&&d.y<i.bottom&&d.bottom>i.y&&d.bottom<i.bottom};r.exports=T},29538:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return d.setTo(i.x,i.y,i.width,i.height)};r.exports=T},87279:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return d===void 0&&(d=[]),d.push({x:i.x,y:i.y}),d.push({x:i.right,y:i.y}),d.push({x:i.right,y:i.bottom}),d.push({x:i.x,y:i.bottom}),d};r.exports=T},19989:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return i.x===d.x&&i.y===d.y&&i.width===d.width&&i.height===d.height};r.exports=T},92628:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(6700),x=function(f,u){var o=d(f);return o<d(u)?f.setSize(u.height*o,u.height):f.setSize(u.width,u.width/o),f.setPosition(u.centerX-f.width/2,u.centerY-f.height/2)};r.exports=x},85028:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(6700),x=function(f,u){var o=d(f);return o>d(u)?f.setSize(u.height*o,u.height):f.setSize(u.width,u.width/o),f.setPosition(u.centerX-f.width/2,u.centerY-f.height/2)};r.exports=x},71356:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.x=Math.floor(i.x),i.y=Math.floor(i.y),i};r.exports=T},21687:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.x=Math.floor(i.x),i.y=Math.floor(i.y),i.width=Math.floor(i.width),i.height=Math.floor(i.height),i};r.exports=T},80222:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(74118),x=i(83392),f=function(u,o){if(o===void 0&&(o=new d),u.length===0)return o;for(var n=Number.MAX_VALUE,h=Number.MAX_VALUE,p=x.MIN_SAFE_INTEGER,a=x.MIN_SAFE_INTEGER,c,v,g,m=0;m<u.length;m++)c=u[m],Array.isArray(c)?(v=c[0],g=c[1]):(v=c.x,g=c.y),n=Math.min(n,v),h=Math.min(h,g),p=Math.max(p,v),a=Math.max(a,g);return o.x=n,o.y=h,o.width=p-n,o.height=a-h,o};r.exports=f},75785:(r,T,i)=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(74118),x=function(f,u,o,n,h){return h===void 0&&(h=new d),h.setTo(Math.min(f,o),Math.min(u,n),Math.abs(f-o),Math.abs(u-n))};r.exports=x},6700:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.height===0?NaN:i.width/i.height};r.exports=T},35242:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=function(f,u){return u===void 0&&(u=new d),u.x=f.centerX,u.y=f.centerY,u};r.exports=x},47698:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(85876),x=i(79967),f=function(u,o,n){if(n===void 0&&(n=new x),o<=0||o>=1)return n.x=u.x,n.y=u.y,n;var h=d(u)*o;return o>.5?(h-=u.width+u.height,h<=u.width?(n.x=u.right-h,n.y=u.bottom):(n.x=u.x,n.y=u.bottom-(h-u.width))):h<=u.width?(n.x=u.x+h,n.y=u.y):(n.x=u.right,n.y=u.y+(h-u.width)),n};r.exports=f},54932:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(47698),x=i(85876),f=function(u,o,n,h){h===void 0&&(h=[]),!o&&n>0&&(o=x(u)/n);for(var p=0;p<o;p++){var a=p/o;h.push(d(u,a))}return h};r.exports=f},31591:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=function(f,u){return u===void 0&&(u=new d),u.x=f.width,u.y=f.height,u};r.exports=x},7782:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79993),x=function(f,u,o){var n=f.centerX,h=f.centerY;return f.setSize(f.width+u*2,f.height+o*2),d(f,n,h)};r.exports=x},66217:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(74118),x=i(90205),f=function(u,o,n){return n===void 0&&(n=new d),x(u,o)?(n.x=Math.max(u.x,o.x),n.y=Math.max(u.y,o.y),n.width=Math.min(u.right,o.right)-n.x,n.height=Math.min(u.bottom,o.bottom)-n.y):n.setEmpty(),n};r.exports=f},40053:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(85876),x=i(79967),f=function(u,o,n,h){if(h===void 0&&(h=[]),!o&&!n)return h;o?n=Math.round(d(u)/o):o=d(u)/n;for(var p=u.x,a=u.y,c=0,v=0;v<n;v++)switch(h.push(new x(p,a)),c){case 0:p+=o,p>=u.right&&(c=1,a+=p-u.right,p=u.right);break;case 1:a+=o,a>=u.bottom&&(c=2,p-=a-u.bottom,a=u.bottom);break;case 2:p-=o,p<=u.left&&(c=3,a-=u.left-p,p=u.left);break;case 3:a-=o,a<=u.top&&(c=0,a=u.top);break}return h};r.exports=f},86673:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){for(var x=i.x,f=i.right,u=i.y,o=i.bottom,n=0;n<d.length;n++)x=Math.min(x,d[n].x),f=Math.max(f,d[n].x),u=Math.min(u,d[n].y),o=Math.max(o,d[n].y);return i.x=x,i.y=u,i.width=f-x,i.height=o-u,i};r.exports=T},14655:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){var x=Math.min(i.x,d.x),f=Math.max(i.right,d.right);i.x=x,i.width=f-x;var u=Math.min(i.y,d.y),o=Math.max(i.bottom,d.bottom);return i.y=u,i.height=o-u,i};r.exports=T},44755:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){var f=Math.min(i.x,d),u=Math.max(i.right,d);i.x=f,i.width=u-f;var o=Math.min(i.y,x),n=Math.max(i.bottom,x);return i.y=o,i.height=n-o,i};r.exports=T},74466:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return i.x+=d,i.y+=x,i};r.exports=T},55946:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return i.x+=d.x,i.y+=d.y,i};r.exports=T},97474:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return i.x<d.right&&i.right>d.x&&i.y<d.bottom&&i.bottom>d.y};r.exports=T},85876:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return 2*(i.width+i.height)};r.exports=T},20243:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=i(75606),f=function(u,o,n){n===void 0&&(n=new d),o=x(o);var h=Math.sin(o),p=Math.cos(o),a=p>0?u.width/2:u.width/-2,c=h>0?u.height/2:u.height/-2;return Math.abs(a*h)<Math.abs(c*p)?c=a*h/p:a=c*p/h,n.x=a+u.centerX,n.y=c+u.centerY,n};r.exports=f},30001:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=function(f,u){return u===void 0&&(u=new d),u.x=f.x+Math.random()*f.width,u.y=f.y+Math.random()*f.height,u};r.exports=x},97691:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(17489),x=i(73222),f=i(79967),u=function(o,n,h){if(h===void 0&&(h=new f),x(o,n))switch(d(0,3)){case 0:h.x=o.x+Math.random()*(n.right-o.x),h.y=o.y+Math.random()*(n.top-o.y);break;case 1:h.x=n.x+Math.random()*(o.right-n.x),h.y=n.bottom+Math.random()*(o.bottom-n.bottom);break;case 2:h.x=o.x+Math.random()*(n.x-o.x),h.y=n.y+Math.random()*(o.bottom-n.y);break;case 3:h.x=n.right+Math.random()*(o.right-n.right),h.y=o.y+Math.random()*(n.bottom-o.y);break}return h};r.exports=u},74118:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(94287),f=i(47698),u=i(54932),o=i(52394),n=i(88829),h=i(30001),p=new d({initialize:function(c,v,g,m){c===void 0&&(c=0),v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=0),this.type=o.RECTANGLE,this.x=c,this.y=v,this.width=g,this.height=m},contains:function(a,c){return x(this,a,c)},getPoint:function(a,c){return f(this,a,c)},getPoints:function(a,c,v){return u(this,a,c,v)},getRandomPoint:function(a){return h(this,a)},setTo:function(a,c,v,g){return this.x=a,this.y=c,this.width=v,this.height=g,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(a,c){return c===void 0&&(c=a),this.x=a,this.y=c,this},setSize:function(a,c){return c===void 0&&(c=a),this.width=a,this.height=c,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(a){return a===void 0&&(a=new n),a.setTo(this.x,this.y,this.right,this.y),a},getLineB:function(a){return a===void 0&&(a=new n),a.setTo(this.right,this.y,this.right,this.bottom),a},getLineC:function(a){return a===void 0&&(a=new n),a.setTo(this.right,this.bottom,this.x,this.bottom),a},getLineD:function(a){return a===void 0&&(a=new n),a.setTo(this.x,this.bottom,this.x,this.y),a},left:{get:function(){return this.x},set:function(a){a>=this.right?this.width=0:this.width=this.right-a,this.x=a}},right:{get:function(){return this.x+this.width},set:function(a){a<=this.x?this.width=0:this.width=a-this.x}},top:{get:function(){return this.y},set:function(a){a>=this.bottom?this.height=0:this.height=this.bottom-a,this.y=a}},bottom:{get:function(){return this.y+this.height},set:function(a){a<=this.y?this.height=0:this.height=a-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(a){this.x=a-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(a){this.y=a-this.height/2}}});r.exports=p},51828:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return i.width===d.width&&i.height===d.height};r.exports=T},5691:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return x===void 0&&(x=d),i.width*=d,i.height*=x,i};r.exports=T},58795:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(74118),x=function(f,u,o){o===void 0&&(o=new d);var n=Math.min(f.x,u.x),h=Math.min(f.y,u.y),p=Math.max(f.right,u.right)-n,a=Math.max(f.bottom,u.bottom)-h;return o.setTo(n,h,p,a)};r.exports=x},66658:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(74118);d.Area=i(1653),d.Ceil=i(33943),d.CeilAll=i(58662),d.CenterOn=i(79993),d.Clone=i(81572),d.Contains=i(94287),d.ContainsPoint=i(28687),d.ContainsRect=i(73222),d.CopyFrom=i(29538),d.Decompose=i(87279),d.Equals=i(19989),d.FitInside=i(92628),d.FitOutside=i(85028),d.Floor=i(71356),d.FloorAll=i(21687),d.FromPoints=i(80222),d.FromXY=i(75785),d.GetAspectRatio=i(6700),d.GetCenter=i(35242),d.GetPoint=i(47698),d.GetPoints=i(54932),d.GetSize=i(31591),d.Inflate=i(7782),d.Intersection=i(66217),d.MarchingAnts=i(40053),d.MergePoints=i(86673),d.MergeRect=i(14655),d.MergeXY=i(44755),d.Offset=i(74466),d.OffsetPoint=i(55946),d.Overlaps=i(97474),d.Perimeter=i(85876),d.PerimeterPoint=i(20243),d.Random=i(30001),d.RandomOutside=i(97691),d.SameDimensions=i(51828),d.Scale=i(5691),d.Union=i(58795),r.exports=d},19108:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var d=i.x1,x=i.y1,f=i.x2,u=i.y2,o=i.x3,n=i.y3;return Math.abs(((o-d)*(u-x)-(f-d)*(n-x))/2)};r.exports=T},41199:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(66349),x=function(f,u,o){var n=o*(Math.sqrt(3)/2),h=f,p=u,a=f+o/2,c=u+n,v=f-o/2,g=u+n;return new d(h,p,a,c,v,g)};r.exports=x},88730:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(11117),x=i(66349),f=function(u,o,n,h,p){o===void 0&&(o=null),n===void 0&&(n=1),h===void 0&&(h=1),p===void 0&&(p=[]);for(var a=d(u,o),c,v,g,m,y,P,M,E,w,R=0;R<a.length;R+=3)c=a[R],v=a[R+1],g=a[R+2],m=u[c*2]*n,y=u[c*2+1]*h,P=u[v*2]*n,M=u[v*2+1]*h,E=u[g*2]*n,w=u[g*2+1]*h,p.push(new x(m,y,P,M,E,w));return p};r.exports=f},3635:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(66349),x=function(f,u,o,n){n===void 0&&(n=o);var h=f,p=u,a=f,c=u-n,v=f+o,g=u;return new d(h,p,a,c,v,g)};r.exports=x},1882:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56595),x=i(9640),f=function(u,o,n,h){h===void 0&&(h=d);var p=h(u),a=o-p.x,c=n-p.y;return x(u,a,c)};r.exports=f},56595:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=function(f,u){return u===void 0&&(u=new d),u.x=(f.x1+f.x2+f.x3)/3,u.y=(f.y1+f.y2+f.y3)/3,u};r.exports=x},91835:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(93736);function x(u,o,n,h){return u*h-o*n}var f=function(u,o){o===void 0&&(o=new d);var n=u.x3,h=u.y3,p=u.x1-n,a=u.y1-h,c=u.x2-n,v=u.y2-h,g=2*x(p,a,c,v),m=x(a,p*p+a*a,v,c*c+v*v),y=x(p,p*p+a*a,c,c*c+v*v);return o.x=n-m/g,o.y=h+y/g,o};r.exports=f},97073:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(26673),x=function(f,u){u===void 0&&(u=new d);var o=f.x1,n=f.y1,h=f.x2,p=f.y2,a=f.x3,c=f.y3,v=h-o,g=p-n,m=a-o,y=c-n,P=v*(o+h)+g*(n+p),M=m*(o+a)+y*(n+c),E=2*(v*(c-p)-g*(a-h)),w,R;if(Math.abs(E)<1e-6){var O=Math.min(o,h,a),A=Math.min(n,p,c);w=(Math.max(o,h,a)-O)*.5,R=(Math.max(n,p,c)-A)*.5,u.x=O+w,u.y=A+R,u.radius=Math.sqrt(w*w+R*R)}else u.x=(y*P-g*M)/E,u.y=(v*M-m*P)/E,w=u.x-o,R=u.y-n,u.radius=Math.sqrt(w*w+R*R);return u};r.exports=x},75974:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(66349),x=function(f){return new d(f.x1,f.y1,f.x2,f.y2,f.x3,f.y3)};r.exports=x},60689:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){var f=i.x3-i.x1,u=i.y3-i.y1,o=i.x2-i.x1,n=i.y2-i.y1,h=d-i.x1,p=x-i.y1,a=f*f+u*u,c=f*o+u*n,v=f*h+u*p,g=o*o+n*n,m=o*h+n*p,y=a*g-c*c,P=y===0?0:1/y,M=(g*v-c*m)*P,E=(a*m-c*v)*P;return M>=0&&E>=0&&M+E<1};r.exports=T},86875:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){x===void 0&&(x=!1),f===void 0&&(f=[]);for(var u=i.x3-i.x1,o=i.y3-i.y1,n=i.x2-i.x1,h=i.y2-i.y1,p=u*u+o*o,a=u*n+o*h,c=n*n+h*h,v=p*c-a*a,g=v===0?0:1/v,m,y,P,M,E,w,R=i.x1,O=i.y1,A=0;A<d.length&&(P=d[A].x-R,M=d[A].y-O,E=u*P+o*M,w=n*P+h*M,m=(c*E-a*w)*g,y=(p*w-a*E)*g,!(m>=0&&y>=0&&m+y<1&&(f.push({x:d[A].x,y:d[A].y}),x)));A++);return f};r.exports=T},51532:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(60689),x=function(f,u){return d(f,u.x,u.y)};r.exports=x},42538:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return d.setTo(i.x1,i.y1,i.x2,i.y2,i.x3,i.y3)};r.exports=T},18680:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return d===void 0&&(d=[]),d.push({x:i.x1,y:i.y1}),d.push({x:i.x2,y:i.y2}),d.push({x:i.x3,y:i.y3}),d};r.exports=T},29977:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return i.x1===d.x1&&i.y1===d.y1&&i.x2===d.x2&&i.y2===d.y2&&i.x3===d.x3&&i.y3===d.y3};r.exports=T},56088:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=i(16028),f=function(u,o,n){n===void 0&&(n=new d);var h=u.getLineA(),p=u.getLineB(),a=u.getLineC();if(o<=0||o>=1)return n.x=h.x1,n.y=h.y1,n;var c=x(h),v=x(p),g=x(a),m=c+v+g,y=m*o,P=0;return y<c?(P=y/c,n.x=h.x1+(h.x2-h.x1)*P,n.y=h.y1+(h.y2-h.y1)*P):y>c+v?(y-=c+v,P=y/g,n.x=a.x1+(a.x2-a.x1)*P,n.y=a.y1+(a.y2-a.y1)*P):(y-=c,P=y/v,n.x=p.x1+(p.x2-p.x1)*P,n.y=p.y1+(p.y2-p.y1)*P),n};r.exports=f},24402:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(16028),x=i(79967),f=function(u,o,n,h){h===void 0&&(h=[]);var p=u.getLineA(),a=u.getLineB(),c=u.getLineC(),v=d(p),g=d(a),m=d(c),y=v+g+m;!o&&n>0&&(o=y/n);for(var P=0;P<o;P++){var M=y*(P/o),E=0,w=new x;M<v?(E=M/v,w.x=p.x1+(p.x2-p.x1)*E,w.y=p.y1+(p.y2-p.y1)*E):M>v+g?(M-=v+g,E=M/m,w.x=c.x1+(c.x2-c.x1)*E,w.y=c.y1+(c.y2-c.y1)*E):(M-=v,E=M/g,w.x=a.x1+(a.x2-a.x1)*E,w.y=a.y1+(a.y2-a.y1)*E),h.push(w)}return h};r.exports=f},83648:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967);function x(u,o,n,h){var p=u-n,a=o-h,c=p*p+a*a;return Math.sqrt(c)}var f=function(u,o){o===void 0&&(o=new d);var n=u.x1,h=u.y1,p=u.x2,a=u.y2,c=u.x3,v=u.y3,g=x(c,v,p,a),m=x(n,h,c,v),y=x(p,a,n,h),P=g+m+y;return o.x=(n*g+p*m+c*y)/P,o.y=(h*g+a*m+v*y)/P,o};r.exports=f},9640:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return i.x1+=d,i.y1+=x,i.x2+=d,i.y2+=x,i.x3+=d,i.y3+=x,i};r.exports=T},95290:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(16028),x=function(f){var u=f.getLineA(),o=f.getLineB(),n=f.getLineC();return d(u)+d(o)+d(n)};r.exports=x},99761:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(79967),x=function(f,u){u===void 0&&(u=new d);var o=f.x2-f.x1,n=f.y2-f.y1,h=f.x3-f.x1,p=f.y3-f.y1,a=Math.random(),c=Math.random();return a+c>=1&&(a=1-a,c=1-c),u.x=f.x1+(o*a+h*c),u.y=f.y1+(n*a+p*c),u};r.exports=x},21934:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(19211),x=i(83648),f=function(u,o){var n=x(u);return d(u,n.x,n.y,o)};r.exports=f},68454:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(19211),x=function(f,u,o){return d(f,u.x,u.y,o)};r.exports=x},19211:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){var u=Math.cos(f),o=Math.sin(f),n=i.x1-d,h=i.y1-x;return i.x1=n*u-h*o+d,i.y1=n*o+h*u+x,n=i.x2-d,h=i.y2-x,i.x2=n*u-h*o+d,i.y2=n*o+h*u+x,n=i.x3-d,h=i.y3-x,i.x3=n*u-h*o+d,i.y3=n*o+h*u+x,i};r.exports=T},66349:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(60689),f=i(56088),u=i(24402),o=i(52394),n=i(88829),h=i(99761),p=new d({initialize:function(c,v,g,m,y,P){c===void 0&&(c=0),v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=0),P===void 0&&(P=0),this.type=o.TRIANGLE,this.x1=c,this.y1=v,this.x2=g,this.y2=m,this.x3=y,this.y3=P},contains:function(a,c){return x(this,a,c)},getPoint:function(a,c){return f(this,a,c)},getPoints:function(a,c,v){return u(this,a,c,v)},getRandomPoint:function(a){return h(this,a)},setTo:function(a,c,v,g,m,y){return a===void 0&&(a=0),c===void 0&&(c=0),v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=0),y===void 0&&(y=0),this.x1=a,this.y1=c,this.x2=v,this.y2=g,this.x3=m,this.y3=y,this},getLineA:function(a){return a===void 0&&(a=new n),a.setTo(this.x1,this.y1,this.x2,this.y2),a},getLineB:function(a){return a===void 0&&(a=new n),a.setTo(this.x2,this.y2,this.x3,this.y3),a},getLineC:function(a){return a===void 0&&(a=new n),a.setTo(this.x3,this.y3,this.x1,this.y1),a},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(a){var c=0;this.x1<=this.x2&&this.x1<=this.x3?c=this.x1-a:this.x2<=this.x1&&this.x2<=this.x3?c=this.x2-a:c=this.x3-a,this.x1-=c,this.x2-=c,this.x3-=c}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(a){var c=0;this.x1>=this.x2&&this.x1>=this.x3?c=this.x1-a:this.x2>=this.x1&&this.x2>=this.x3?c=this.x2-a:c=this.x3-a,this.x1-=c,this.x2-=c,this.x3-=c}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(a){var c=0;this.y1<=this.y2&&this.y1<=this.y3?c=this.y1-a:this.y2<=this.y1&&this.y2<=this.y3?c=this.y2-a:c=this.y3-a,this.y1-=c,this.y2-=c,this.y3-=c}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(a){var c=0;this.y1>=this.y2&&this.y1>=this.y3?c=this.y1-a:this.y2>=this.y1&&this.y2>=this.y3?c=this.y2-a:c=this.y3-a,this.y1-=c,this.y2-=c,this.y3-=c}}});r.exports=p},87619:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(66349);d.Area=i(19108),d.BuildEquilateral=i(41199),d.BuildFromPolygon=i(88730),d.BuildRight=i(3635),d.CenterOn=i(1882),d.Centroid=i(56595),d.CircumCenter=i(91835),d.CircumCircle=i(97073),d.Clone=i(75974),d.Contains=i(60689),d.ContainsArray=i(86875),d.ContainsPoint=i(51532),d.CopyFrom=i(42538),d.Decompose=i(18680),d.Equals=i(29977),d.GetPoint=i(56088),d.GetPoints=i(24402),d.InCenter=i(83648),d.Perimeter=i(95290),d.Offset=i(9640),d.Random=i(99761),d.Rotate=i(21934),d.RotateAroundPoint=i(68454),d.RotateAroundXY=i(19211),r.exports=d},27395:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return{gameObject:i,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:d,hitAreaCallback:x,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragX:0,dragY:0}};r.exports=T},18104:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return function(x,f,u,o){var n=i.getPixelAlpha(f,u,o.texture.key,o.frame.name);return n&&n>=d}};r.exports=T},69898:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(72687),f=i(6659),u=i(33963),o=i(97081),n=i(71064),h=i(7905),p=i(40398),a=i(37579),c=i(69360),v=i(64462),g=new d({initialize:function(y,P){this.game=y,this.scaleManager,this.canvas,this.config=P,this.enabled=!0,this.events=new f,this.isOver=!0,this.defaultCursor="",this.keyboard=P.inputKeyboard?new n(this):null,this.mouse=P.inputMouse?new h(this):null,this.touch=P.inputTouch?new a(this):null,this.pointers=[],this.pointersTotal=P.inputActivePointers,P.inputTouch&&this.pointersTotal===1&&(this.pointersTotal=2);for(var M=0;M<=this.pointersTotal;M++){var E=new p(this,M);E.smoothFactor=P.inputSmoothFactor,this.pointers.push(E)}this.mousePointer=P.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new c,this._tempMatrix2=new c,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],y.events.once(o.BOOT,this.boot,this)},boot:function(){var m=this.game,y=m.events;this.canvas=m.canvas,this.scaleManager=m.scale,this.events.emit(u.MANAGER_BOOT),y.on(o.PRE_RENDER,this.preRender,this),y.once(o.DESTROY,this.destroy,this)},setCanvasOver:function(m){this.isOver=!0,this.events.emit(u.GAME_OVER,m)},setCanvasOut:function(m){this.isOver=!1,this.events.emit(u.GAME_OUT,m)},preRender:function(){var m=this.game.loop.now,y=this.game.loop.delta,P=this.game.scene.getScenes(!0,!0);this.time=m,this.events.emit(u.MANAGER_UPDATE);for(var M=0;M<P.length;M++){var E=P[M];if(E.sys.input&&E.sys.input.updatePoll(m,y)&&this.globalTopOnly)return}},setDefaultCursor:function(m){this.defaultCursor=m,this.canvas.style.cursor!==m&&(this.canvas.style.cursor=m)},setCursor:function(m){m.cursor&&(this.canvas.style.cursor=m.cursor)},resetCursor:function(m){m.cursor&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(m){m===void 0&&(m=1);var y=[];this.pointersTotal+m>10&&(m=10-this.pointersTotal);for(var P=0;P<m;P++){var M=this.pointers.length,E=new p(this,M);E.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(E),this.pointersTotal++,y.push(E)}return y},updateInputPlugins:function(m,y){var P=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var M=0;M<P.length;M++){var E=P[M];if(E.sys.input){var w=E.sys.input.update(m,y);if(w&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(m){for(var y=this.pointers,P=[],M=0;M<m.changedTouches.length;M++)for(var E=m.changedTouches[M],w=1;w<this.pointersTotal;w++){var R=y[w];if(!R.active){R.touchstart(E,m),this.activePointer=R,P.push(R);break}}this.updateInputPlugins(x.TOUCH_START,P)},onTouchMove:function(m){for(var y=this.pointers,P=[],M=0;M<m.changedTouches.length;M++)for(var E=m.changedTouches[M],w=1;w<this.pointersTotal;w++){var R=y[w];if(R.active&&R.identifier===E.identifier){var O=document.elementFromPoint(E.pageX,E.pageY),A=O===this.canvas;!this.isOver&&A?this.setCanvasOver(m):this.isOver&&!A&&this.setCanvasOut(m),this.isOver&&(R.touchmove(E,m),this.activePointer=R,P.push(R));break}}this.updateInputPlugins(x.TOUCH_MOVE,P)},onTouchEnd:function(m){for(var y=this.pointers,P=[],M=0;M<m.changedTouches.length;M++)for(var E=m.changedTouches[M],w=1;w<this.pointersTotal;w++){var R=y[w];if(R.active&&R.identifier===E.identifier){R.touchend(E,m),P.push(R);break}}this.updateInputPlugins(x.TOUCH_END,P)},onTouchCancel:function(m){for(var y=this.pointers,P=[],M=0;M<m.changedTouches.length;M++)for(var E=m.changedTouches[M],w=1;w<this.pointersTotal;w++){var R=y[w];if(R.active&&R.identifier===E.identifier){R.touchcancel(E,m),P.push(R);break}}this.updateInputPlugins(x.TOUCH_CANCEL,P)},onMouseDown:function(m){var y=this.mousePointer;y.down(m),y.updateMotion(),this.activePointer=y,this.updateInputPlugins(x.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(m){var y=this.mousePointer;y.move(m),y.updateMotion(),this.activePointer=y,this.updateInputPlugins(x.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(m){var y=this.mousePointer;y.up(m),y.updateMotion(),this.activePointer=y,this.updateInputPlugins(x.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(m){var y=this.mousePointer;y.wheel(m),this.activePointer=y,this.updateInputPlugins(x.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(m){var y=this.mouse.locked;this.mousePointer.locked=y,this.events.emit(u.POINTERLOCK_CHANGE,m,y)},inputCandidate:function(m,y){var P=m.input;if(!P||!P.enabled||!m.willRender(y))return!1;var M=!0,E=m.parentContainer;if(E)do{if(!E.willRender(y)){M=!1;break}E=E.parentContainer}while(E);return M},hitTest:function(m,y,P,M){M===void 0&&(M=this._tempHitTest);var E=this._tempPoint,w=P.scrollX,R=P.scrollY;M.length=0;var O=m.x,A=m.y;P.getWorldPoint(O,A,E),m.worldX=E.x,m.worldY=E.y;for(var F={x:0,y:0},L=this._tempMatrix,I=this._tempMatrix2,B=0;B<y.length;B++){var b=y[B];if(this.inputCandidate(b,P)){var k=E.x+w*b.scrollFactorX-w,U=E.y+R*b.scrollFactorY-R;b.parentContainer?(b.getWorldTransformMatrix(L,I),L.applyInverse(k,U,F)):v(k,U,b.x,b.y,b.rotation,b.scaleX,b.scaleY,F),this.pointWithinHitArea(b,F.x,F.y)&&M.push(b)}}return M},pointWithinHitArea:function(m,y,P){y+=m.displayOriginX,P+=m.displayOriginY;var M=m.input;return M&&M.hitAreaCallback(M.hitArea,y,P,m)?(M.localX=y,M.localY=P,!0):!1},pointWithinInteractiveObject:function(m,y,P){return m.hitArea?(y+=m.gameObject.displayOriginX,P+=m.gameObject.displayOriginY,m.localX=y,m.localY=P,m.hitAreaCallback(m.hitArea,y,P,m)):!1},transformPointer:function(m,y,P,M){var E=m.position,w=m.prevPosition;w.x=E.x,w.y=E.y;var R=this.scaleManager.transformX(y),O=this.scaleManager.transformY(P),A=m.smoothFactor;!M||A===0?(E.x=R,E.y=O):(E.x=R*A+w.x*(1-A),E.y=O*A+w.y*(1-A))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(o.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var m=0;m<this.pointers.length;m++)this.pointers[m].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});r.exports=g},12499:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(26673),x=i(65650),f=i(56694),u=i(72687),o=i(27395),n=i(18104),h=i(53996),p=i(95669),a=i(72313),c=i(33963),v=i(6659),g=i(72632),m=i(52394),y=i(63399),P=i(42911),M=i(91963),E=i(74118),w=i(94287),R=i(7599),O=i(66349),A=i(60689),F=new f({Extends:v,initialize:function(I){v.call(this),this.scene=I,this.systems=I.sys,this.settings=I.sys.settings,this.manager=I.sys.game.input,this.pluginEvents=new v,this.enabled=!0,this.displayList,this.cameras,y.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var B={cancelled:!1};this._eventContainer={stopPropagation:function(){B.cancelled=!0}},this._eventData=B,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,I.sys.events.once(R.BOOT,this.boot,this),I.sys.events.on(R.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(R.DESTROY,this.destroy,this),this.pluginEvents.emit(c.BOOT)},start:function(){var L=this.systems.events;L.on(R.TRANSITION_START,this.transitionIn,this),L.on(R.TRANSITION_OUT,this.transitionOut,this),L.on(R.TRANSITION_COMPLETE,this.transitionComplete,this),L.on(R.PRE_UPDATE,this.preUpdate,this),L.once(R.SHUTDOWN,this.shutdown,this),this.manager.events.on(c.GAME_OUT,this.onGameOut,this),this.manager.events.on(c.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(c.START)},onGameOver:function(L){this.isActive()&&this.emit(c.GAME_OVER,L.timeStamp,L)},onGameOut:function(L){this.isActive()&&this.emit(c.GAME_OUT,L.timeStamp,L)},preUpdate:function(){this.pluginEvents.emit(c.PRE_UPDATE);var L=this._pendingRemoval,I=this._pendingInsertion,B=L.length,b=I.length;if(!(B===0&&b===0)){for(var k=this._list,U=0;U<B;U++){var Y=L[U],H=k.indexOf(Y);H>-1&&(k.splice(H,1),this.clear(Y,!0))}this._pendingRemoval.length=0,this._list=k.concat(I.splice(0))}},isActive:function(){return this.enabled&&this.scene.sys.canInput()},updatePoll:function(L,I){if(!this.isActive())return!1;if(this.pluginEvents.emit(c.UPDATE,L,I),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var B,b=this.manager,k=b.pointers,U=b.pointersTotal;for(B=0;B<U;B++)k[B].updateMotion();if(this._list.length===0)return!1;var Y=this.pollRate;if(Y===-1)return!1;if(Y>0)if(this._pollTimer-=I,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var H=!1;for(B=0;B<U;B++){var z=0,V=k[B];this._tempZones=[],this._temp=this.hitTestPointer(V),this.sortGameObjects(this._temp,V),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),z+=this.processOverOutEvents(V),this.getDragState(V)===2&&this.processDragThresholdEvent(V,L),z>0&&(H=!0)}return H},update:function(L,I){if(!this.isActive())return!1;for(var B=I.length,b=!1,k=0;k<B;k++){var U=0,Y=I[k];switch(this._tempZones=[],this._temp=this.hitTestPointer(Y),this.sortGameObjects(this._temp,Y),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),L){case u.MOUSE_DOWN:U+=this.processDragDownEvent(Y),U+=this.processDownEvents(Y),U+=this.processOverOutEvents(Y);break;case u.MOUSE_UP:U+=this.processDragUpEvent(Y),U+=this.processUpEvents(Y),U+=this.processOverOutEvents(Y);break;case u.TOUCH_START:U+=this.processDragDownEvent(Y),U+=this.processDownEvents(Y),U+=this.processOverEvents(Y);break;case u.TOUCH_END:case u.TOUCH_CANCEL:U+=this.processDragUpEvent(Y),U+=this.processUpEvents(Y),U+=this.processOutEvents(Y);break;case u.MOUSE_MOVE:case u.TOUCH_MOVE:U+=this.processDragMoveEvent(Y),U+=this.processMoveEvents(Y),U+=this.processOverOutEvents(Y);break;case u.MOUSE_WHEEL:U+=this.processWheelEvent(Y);break}U>0&&(b=!0)}return this._updatedThisFrame=!0,b},clear:function(L,I){I===void 0&&(I=!1),this.disable(L);var B=L.input;B&&(this.removeDebug(L),B.gameObject=void 0,B.target=void 0,B.hitArea=void 0,B.hitAreaCallback=void 0,B.callbackContext=void 0,L.input=null),I||this.queueForRemoval(L);var b=this._draggable.indexOf(L);return b>-1&&this._draggable.splice(b,1),L},disable:function(L){var I=L.input;I&&(I.enabled=!1,I.dragState=0);var B=this._temp,b=this._drag,k=this._over,U=this.manager,Y=B.indexOf(L);Y>-1&&B.splice(Y,1);for(var H=0;H<U.pointersTotal;H++)Y=b[H].indexOf(L),Y>-1&&b[H].splice(Y,1),Y=k[H].indexOf(L),Y>-1&&(k[H].splice(Y,1),U.resetCursor(I));return this},enable:function(L,I,B,b){return b===void 0&&(b=!1),L.input?L.input.enabled=!0:this.setHitArea(L,I,B),L.input&&b&&!L.input.dropZone&&(L.input.dropZone=b),this},hitTestPointer:function(L){for(var I=this.cameras.getCamerasBelowPointer(L),B=0;B<I.length;B++){for(var b=I[B],k=this.manager.hitTest(L,this._list,b),U=0;U<k.length;U++){var Y=k[U];Y.input.dropZone&&this._tempZones.push(Y)}if(k.length>0)return L.camera=b,k}return L.camera=I[0],[]},processDownEvents:function(L){var I=0,B=this._temp,b=this._eventData,k=this._eventContainer;b.cancelled=!1;for(var U=!1,Y=0;Y<B.length;Y++){var H=B[Y];if(!(!H.input||!H.input.enabled)){if(I++,H.emit(c.GAMEOBJECT_POINTER_DOWN,L,H.input.localX,H.input.localY,k),b.cancelled||!H.input||!H.input.enabled){U=!0;break}if(this.emit(c.GAMEOBJECT_DOWN,L,H,k),b.cancelled||!H.input){U=!0;break}}}return!U&&this.manager&&(L.downElement===this.manager.game.canvas?this.emit(c.POINTER_DOWN,L,B):this.emit(c.POINTER_DOWN_OUTSIDE,L)),I},getDragState:function(L){return this._dragState[L.id]},setDragState:function(L,I){this._dragState[L.id]=I},processDragThresholdEvent:function(L,I){var B=!1,b=this.dragTimeThreshold,k=this.dragDistanceThreshold;if((k>0&&h(L.x,L.y,L.downX,L.downY)>=k||b>0&&I>=L.downTime+b)&&(B=!0),B)return this.setDragState(L,3),this.processDragStartList(L)},processDragStartList:function(L){if(this.getDragState(L)!==3)return 0;for(var I=this._drag[L.id],B=0;B<I.length;B++){var b=I[B],k=b.input;k.dragState=2,k.dragStartX=b.x,k.dragStartY=b.y,k.dragStartXGlobal=L.worldX,k.dragStartYGlobal=L.worldY,k.dragX=k.dragStartXGlobal-k.dragStartX,k.dragY=k.dragStartYGlobal-k.dragStartY,b.emit(c.GAMEOBJECT_DRAG_START,L,k.dragX,k.dragY),this.emit(c.DRAG_START,L,b)}return this.setDragState(L,4),I.length},processDragDownEvent:function(L){var I=this._temp;if(this._draggable.length===0||I.length===0||!L.primaryDown||this.getDragState(L)!==0)return 0;this.setDragState(L,1);for(var B=[],b=0;b<I.length;b++){var k=I[b];k.input.draggable&&k.input.dragState===0&&B.push(k)}return B.length===0?(this.setDragState(L,0),0):(B.length>1&&(this.sortGameObjects(B,L),this.topOnly&&B.splice(1)),this._drag[L.id]=B,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(L,3),this.processDragStartList(L)):(this.setDragState(L,2),0))},processDragMoveEvent:function(L){if(this.getDragState(L)===2&&this.processDragThresholdEvent(L,this.manager.game.loop.now),this.getDragState(L)!==4)return 0;for(var I=this._tempZones,B=this._drag[L.id],b=0;b<B.length;b++){var k=B[b],U=k.input,Y=U.target;if(Y){var H=I.indexOf(Y);H===0?(k.emit(c.GAMEOBJECT_DRAG_OVER,L,Y),this.emit(c.DRAG_OVER,L,k,Y)):H>0?(k.emit(c.GAMEOBJECT_DRAG_LEAVE,L,Y),this.emit(c.DRAG_LEAVE,L,k,Y),U.target=I[0],Y=U.target,k.emit(c.GAMEOBJECT_DRAG_ENTER,L,Y),this.emit(c.DRAG_ENTER,L,k,Y)):(k.emit(c.GAMEOBJECT_DRAG_LEAVE,L,Y),this.emit(c.DRAG_LEAVE,L,k,Y),I[0]?(U.target=I[0],Y=U.target,k.emit(c.GAMEOBJECT_DRAG_ENTER,L,Y),this.emit(c.DRAG_ENTER,L,k,Y)):U.target=null)}else!Y&&I[0]&&(U.target=I[0],Y=U.target,k.emit(c.GAMEOBJECT_DRAG_ENTER,L,Y),this.emit(c.DRAG_ENTER,L,k,Y));var z,V;if(!k.parentContainer)z=L.worldX-U.dragX,V=L.worldY-U.dragY;else{var D=L.worldX-U.dragStartXGlobal,G=L.worldY-U.dragStartYGlobal,N=k.getParentRotation(),X=D*Math.cos(N)+G*Math.sin(N),W=G*Math.cos(N)-D*Math.sin(N);X*=1/k.parentContainer.scaleX,W*=1/k.parentContainer.scaleY,z=X+U.dragStartX,V=W+U.dragStartY}k.emit(c.GAMEOBJECT_DRAG,L,z,V),this.emit(c.DRAG,L,k,z,V)}return B.length},processDragUpEvent:function(L){for(var I=this._drag[L.id],B=0;B<I.length;B++){var b=I[B],k=b.input;if(k&&k.dragState===2){k.dragState=0,k.dragX=k.localX-b.displayOriginX,k.dragY=k.localY-b.displayOriginY;var U=!1,Y=k.target;Y&&(b.emit(c.GAMEOBJECT_DROP,L,Y),this.emit(c.DROP,L,b,Y),k.target=null,U=!0),b.input&&b.input.enabled&&(b.emit(c.GAMEOBJECT_DRAG_END,L,k.dragX,k.dragY,U),this.emit(c.DRAG_END,L,b,U))}}return this.setDragState(L,0),I.splice(0),0},processMoveEvents:function(L){var I=0,B=this._temp,b=this._eventData,k=this._eventContainer;b.cancelled=!1;for(var U=!1,Y=0;Y<B.length;Y++){var H=B[Y];if(!(!H.input||!H.input.enabled)){if(I++,H.emit(c.GAMEOBJECT_POINTER_MOVE,L,H.input.localX,H.input.localY,k),b.cancelled||!H.input||!H.input.enabled){U=!0;break}if(this.emit(c.GAMEOBJECT_MOVE,L,H,k),b.cancelled||!H.input||!H.input.enabled){U=!0;break}if(this.topOnly)break}}return U||this.emit(c.POINTER_MOVE,L,B),I},processWheelEvent:function(L){var I=0,B=this._temp,b=this._eventData,k=this._eventContainer;b.cancelled=!1;for(var U=!1,Y=L.deltaX,H=L.deltaY,z=L.deltaZ,V=0;V<B.length;V++){var D=B[V];if(!(!D.input||!D.input.enabled)){if(I++,D.emit(c.GAMEOBJECT_POINTER_WHEEL,L,Y,H,z,k),b.cancelled||!D.input||!D.input.enabled){U=!0;break}if(this.emit(c.GAMEOBJECT_WHEEL,L,D,Y,H,z,k),b.cancelled||!D.input||!D.input.enabled){U=!0;break}}}return U||this.emit(c.POINTER_WHEEL,L,B,Y,H,z),I},processOverEvents:function(L){var I=this._temp,B=0,b=I.length,k=[];if(b>0){var U=this.manager,Y=this._eventData,H=this._eventContainer;Y.cancelled=!1;for(var z=!1,V=0;V<b;V++){var D=I[V];if(!(!D.input||!D.input.enabled)){if(k.push(D),U.setCursor(D.input),D.emit(c.GAMEOBJECT_POINTER_OVER,L,D.input.localX,D.input.localY,H),B++,Y.cancelled||!D.input||!D.input.enabled){z=!0;break}if(this.emit(c.GAMEOBJECT_OVER,L,D,H),Y.cancelled||!D.input||!D.input.enabled){z=!0;break}}}z||this.emit(c.POINTER_OVER,L,k)}return this._over[L.id]=k,B},processOutEvents:function(L){var I=this._over[L.id],B=0,b=I.length;if(b>0){var k=this.manager,U=this._eventData,Y=this._eventContainer;U.cancelled=!1;var H=!1;this.sortGameObjects(I,L);for(var z=0;z<b;z++){var V=I[z];if(V=I[z],!(!V.input||!V.input.enabled)){if(k.resetCursor(V.input),V.emit(c.GAMEOBJECT_POINTER_OUT,L,Y),B++,U.cancelled||!V.input||!V.input.enabled){H=!0;break}if(this.emit(c.GAMEOBJECT_OUT,L,V,Y),U.cancelled||!V.input||!V.input.enabled){H=!0;break}H||this.emit(c.POINTER_OUT,L,I)}}this._over[L.id]=[]}return B},processOverOutEvents:function(L){var I=this._temp,B,b,k=[],U=[],Y=[],H=this._over[L.id],z=this._drag[L.id],V=this.manager;for(B=0;B<H.length;B++)b=H[B],I.indexOf(b)===-1&&z.indexOf(b)===-1?k.push(b):Y.push(b);for(B=0;B<I.length;B++)b=I[B],H.indexOf(b)===-1&&U.push(b);var D=k.length,G=0,N=this._eventData,X=this._eventContainer;N.cancelled=!1;var W=!1;if(D>0){for(this.sortGameObjects(k,L),B=0;B<D;B++)if(b=k[B],!(!b.input||!b.input.enabled)){if(V.resetCursor(b.input),b.emit(c.GAMEOBJECT_POINTER_OUT,L,X),G++,N.cancelled||!b.input||!b.input.enabled){W=!0;break}if(this.emit(c.GAMEOBJECT_OUT,L,b,X),N.cancelled||!b.input||!b.input.enabled){W=!0;break}}W||this.emit(c.POINTER_OUT,L,k)}if(D=U.length,N.cancelled=!1,W=!1,D>0){for(this.sortGameObjects(U,L),B=0;B<D;B++)if(b=U[B],!(!b.input||!b.input.enabled)){if(V.setCursor(b.input),b.emit(c.GAMEOBJECT_POINTER_OVER,L,b.input.localX,b.input.localY,X),G++,N.cancelled||!b.input||!b.input.enabled){W=!0;break}if(this.emit(c.GAMEOBJECT_OVER,L,b,X),N.cancelled||!b.input||!b.input.enabled){W=!0;break}}W||this.emit(c.POINTER_OVER,L,U)}return H=Y.concat(U),this._over[L.id]=this.sortGameObjects(H,L),G},processUpEvents:function(L){var I=this._temp,B=this._eventData,b=this._eventContainer;B.cancelled=!1;for(var k=!1,U=0;U<I.length;U++){var Y=I[U];if(!(!Y.input||!Y.input.enabled)){if(Y.emit(c.GAMEOBJECT_POINTER_UP,L,Y.input.localX,Y.input.localY,b),B.cancelled||!Y.input||!Y.input.enabled){k=!0;break}if(this.emit(c.GAMEOBJECT_UP,L,Y,b),B.cancelled||!Y.input||!Y.input.enabled){k=!0;break}}}return!k&&this.manager&&(L.upElement===this.manager.game.canvas?this.emit(c.POINTER_UP,L,I):this.emit(c.POINTER_UP_OUTSIDE,L)),I.length},queueForInsertion:function(L){return this._pendingInsertion.indexOf(L)===-1&&this._list.indexOf(L)===-1&&this._pendingInsertion.push(L),this},queueForRemoval:function(L){return this._pendingRemoval.push(L),this},setDraggable:function(L,I){I===void 0&&(I=!0),Array.isArray(L)||(L=[L]);for(var B=0;B<L.length;B++){var b=L[B];b.input.draggable=I;var k=this._draggable.indexOf(b);I&&k===-1?this._draggable.push(b):!I&&k>-1&&this._draggable.splice(k,1)}return this},makePixelPerfect:function(L){L===void 0&&(L=1);var I=this.systems.textures;return n(I,L)},setHitArea:function(L,I,B){if(I===void 0)return this.setHitAreaFromTexture(L);Array.isArray(L)||(L=[L]);var b=!1,k=!1,U=!1,Y=!1,H=!1,z=!0;if(P(I)){var V=I;I=g(V,"hitArea",null),B=g(V,"hitAreaCallback",null),b=g(V,"draggable",!1),k=g(V,"dropZone",!1),U=g(V,"cursor",!1),Y=g(V,"useHandCursor",!1),H=g(V,"pixelPerfect",!1);var D=g(V,"alphaTolerance",1);H&&(I={},B=this.makePixelPerfect(D)),(!I||!B)&&(this.setHitAreaFromTexture(L),z=!1)}else typeof I=="function"&&!B&&(B=I,I={});for(var G=0;G<L.length;G++){var N=L[G];if(H&&N.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var X=N.input?N.input:o(N,I,B);X.customHitArea=z,X.dropZone=k,X.cursor=Y?"pointer":U,N.input=X,b&&this.setDraggable(N),this.queueForInsertion(N)}return this},setHitAreaCircle:function(L,I,B,b,k){k===void 0&&(k=x);var U=new d(I,B,b);return this.setHitArea(L,U,k)},setHitAreaEllipse:function(L,I,B,b,k,U){U===void 0&&(U=a);var Y=new p(I,B,b,k);return this.setHitArea(L,Y,U)},setHitAreaFromTexture:function(L,I){I===void 0&&(I=w),Array.isArray(L)||(L=[L]);for(var B=0;B<L.length;B++){var b=L[B],k=b.frame,U=0,Y=0;if(b.width?(U=b.width,Y=b.height):k&&(U=k.realWidth,Y=k.realHeight),b.type==="Container"&&(U===0||Y===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}U!==0&&Y!==0&&(b.input=o(b,new E(0,0,U,Y),I),this.queueForInsertion(b))}return this},setHitAreaRectangle:function(L,I,B,b,k,U){U===void 0&&(U=w);var Y=new E(I,B,b,k);return this.setHitArea(L,Y,U)},setHitAreaTriangle:function(L,I,B,b,k,U,Y,H){H===void 0&&(H=A);var z=new O(I,B,b,k,U,Y);return this.setHitArea(L,z,H)},enableDebug:function(L,I){I===void 0&&(I=65280);var B=L.input;if(!B||!B.hitArea)return this;var b=B.hitArea,k=b.type,U=B.hitAreaDebug,Y=this.systems.add,H=this.systems.updateList;U&&(H.remove(U),U.destroy(),U=null);var z=0,V=0;switch(k){case m.CIRCLE:U=Y.arc(0,0,b.radius),z=b.x-b.radius,V=b.y-b.radius;break;case m.ELLIPSE:U=Y.ellipse(0,0,b.width,b.height),z=b.x-b.width/2,V=b.y-b.height/2;break;case m.LINE:U=Y.line(0,0,b.x1,b.y1,b.x2,b.y2);break;case m.POLYGON:U=Y.polygon(0,0,b.points);break;case m.RECTANGLE:U=Y.rectangle(0,0,b.width,b.height),z=b.x,V=b.y;break;case m.TRIANGLE:U=Y.triangle(0,0,b.x1,b.y1,b.x2,b.y2,b.x3,b.y3);break}return U&&(U.isFilled=!1,U.strokeColor=I,U.preUpdate=function(){U.setStrokeStyle(1/L.scale,U.strokeColor),U.setDisplayOrigin(L.displayOriginX,L.displayOriginY);var D=L.x,G=L.y,N=L.rotation,X=L.scaleX,W=L.scaleY;if(L.parentContainer){var $=L.getWorldTransformMatrix();D=$.tx,G=$.ty,N=$.rotation,X=$.scaleX,W=$.scaleY}U.setRotation(N),U.setScale(X,W),U.setPosition(D+z*X,G+V*W),U.setScrollFactor(L.scrollFactorX,L.scrollFactorY),U.setDepth(L.depth)},H.add(U),B.hitAreaDebug=U),this},removeDebug:function(L){var I=L.input;if(I&&I.hitAreaDebug){var B=I.hitAreaDebug;this.systems.updateList.remove(B),B.destroy(),I.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(L){return this.pollRate=L,this._pollTimer=0,this},setGlobalTopOnly:function(L){return this.manager.globalTopOnly=L,this},setTopOnly:function(L){return this.topOnly=L,this},sortGameObjects:function(L,I){if(L.length<2||!I.camera)return L;var B=I.camera.renderList;return L.sort(function(b,k){var U=Math.max(B.indexOf(b),0),Y=Math.max(B.indexOf(k),0);return Y-U})},sortDropZones:function(L){return L.length<2?L:(this.scene.sys.depthSort(),L.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(L,I){if(!L.parentContainer&&!I.parentContainer)return this.displayList.getIndex(I)-this.displayList.getIndex(L);if(L.parentContainer===I.parentContainer)return I.parentContainer.getIndex(I)-L.parentContainer.getIndex(L);if(L.parentContainer===I)return-1;if(I.parentContainer===L)return 1;for(var B=L.getIndexList(),b=I.getIndexList(),k=Math.min(B.length,b.length),U=0;U<k;U++){var Y=B[U],H=b[U];if(Y!==H)return H-Y}return b.length-B.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(L){return this.manager.addPointer(L)},setDefaultCursor:function(L){return this.manager.setDefaultCursor(L),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(c.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var L=0;L<10;L++)this._drag[L]=[],this._over[L]=[];this.removeAllListeners();var I=this.manager;I.canvas.style.cursor=I.defaultCursor;var B=this.systems.events;B.off(R.TRANSITION_START,this.transitionIn,this),B.off(R.TRANSITION_OUT,this.transitionOut,this),B.off(R.TRANSITION_COMPLETE,this.transitionComplete,this),B.off(R.PRE_UPDATE,this.preUpdate,this),I.events.off(c.GAME_OUT,this.onGameOut,this),I.events.off(c.GAME_OVER,this.onGameOver,this),B.off(R.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var L=this.manager.pointers,I=0;I<L.length;I++)L[I].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(c.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(R.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});M.register("InputPlugin",F,"input"),r.exports=F},63399:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(10850),x={},f={};f.register=function(u,o,n,h,p){x[u]={plugin:o,mapping:n,settingsKey:h,configKey:p}},f.getPlugin=function(u){return x[u]},f.install=function(u){var o=u.scene.sys,n=o.settings.input,h=o.game.config;for(var p in x){var a=x[p].plugin,c=x[p].mapping,v=x[p].settingsKey,g=x[p].configKey;d(n,v,h[g])&&(u[c]=new a(u))}},f.remove=function(u){x.hasOwnProperty(u)&&delete x[u]},r.exports=f},40398:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(90447),x=i(56694),f=i(53996),u=i(88456),o=i(44521),n=i(93736),h=i(36580),p=new x({initialize:function(c,v){this.manager=c,this.id=v,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new n,this.prevPosition=new n,this.midPoint=new n(-1,-1),this.velocity=new n,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=v===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(a){var c=a.getWorldPoint(this.x,this.y);return this.worldX=c.x,this.worldY=c.y,this},positionToCamera:function(a,c){return a.getWorldPoint(this.x,this.y,c)},updateMotion:function(){var a=this.position.x,c=this.position.y,v=this.midPoint.x,g=this.midPoint.y;if(!(a===v&&c===g)){var m=o(this.motionFactor,v,a),y=o(this.motionFactor,g,c);u(m,a,.1)&&(m=a),u(y,c,.1)&&(y=c),this.midPoint.set(m,y);var P=a-m,M=c-y;this.velocity.set(P,M),this.angle=d(m,y,a,c),this.distance=Math.sqrt(P*P+M*M)}},up:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.button=a.button,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),a.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=a.timeStamp,this.wasTouch=!1)},down:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.button=a.button,this.downElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),a.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),h.macOS&&a.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=a.timeStamp),this.wasTouch=!1},move:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.manager.transformPointer(this,a.pageX,a.pageY,!0),this.locked&&(this.movementX=a.movementX||a.mozMovementX||a.webkitMovementX||0,this.movementY=a.movementY||a.mozMovementY||a.webkitMovementY||0),this.moveTime=a.timeStamp,this.wasTouch=!1},wheel:function(a){"buttons"in a&&(this.buttons=a.buttons),this.event=a,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.deltaX=a.deltaX,this.deltaY=a.deltaY,this.deltaZ=a.deltaZ,this.wasTouch=!1},touchstart:function(a,c){a.pointerId&&(this.pointerId=a.pointerId),this.identifier=a.identifier,this.target=a.target,this.active=!0,this.buttons=1,this.event=c,this.downElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=c.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(a,c){this.event=c,this.manager.transformPointer(this,a.pageX,a.pageY,!0),this.moveTime=c.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(a,c){this.buttons=0,this.event=c,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=c.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(a,c){this.buttons=0,this.event=c,this.upElement=a.target,this.manager.transformPointer(this,a.pageX,a.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=c.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.button===0&&!this.isDown},rightButtonReleased:function(){return this.button===2&&!this.isDown},middleButtonReleased:function(){return this.button===1&&!this.isDown},backButtonReleased:function(){return this.button===3&&!this.isDown},forwardButtonReleased:function(){return this.button===4&&!this.isDown},getDistance:function(){return this.isDown?f(this.downX,this.downY,this.x,this.y):f(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?d(this.downX,this.downY,this.x,this.y):d(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(a,c){a===void 0&&(a=10),c===void 0&&(c=[]);for(var v=this.prevPosition.x,g=this.prevPosition.y,m=this.position.x,y=this.position.y,P=0;P<a;P++){var M=1/a*P;c[P]={x:o(M,v,m),y:o(M,g,y)}}return c},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(a){this.position.x=a}},y:{get:function(){return this.position.y},set:function(a){this.position.y=a}},time:{get:function(){return this.event?this.event.timeStamp:0}}});r.exports=p},72687:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};r.exports=T},14874:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"},54168:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},526:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragend"},81623:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragenter"},94472:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drag"},9304:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragleave"},34265:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragover"},50151:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragstart"},98134:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drop"},56773:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectdown"},45824:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragend"},39578:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragenter"},72072:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drag"},82569:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragleave"},70833:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragover"},81442:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragstart"},32936:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drop"},99658:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectmove"},60515:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectout"},55254:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectover"},34782:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerdown"},41769:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointermove"},65588:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerout"},61640:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerover"},49342:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerup"},82662:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="wheel"},13058:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectup"},52426:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectwheel"},78072:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameout"},1545:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameover"},67137:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"},27678:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="process"},22257:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"},90379:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerlockchange"},88909:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerdown"},36548:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerdownoutside"},18483:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointermove"},22355:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerout"},7997:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerover"},66318:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerup"},94812:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerupoutside"},37310:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="wheel"},24196:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="preupdate"},27053:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="shutdown"},29413:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},25165:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"},33963:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BOOT:i(14874),DESTROY:i(54168),DRAG_END:i(526),DRAG_ENTER:i(81623),DRAG:i(94472),DRAG_LEAVE:i(9304),DRAG_OVER:i(34265),DRAG_START:i(50151),DROP:i(98134),GAME_OUT:i(78072),GAME_OVER:i(1545),GAMEOBJECT_DOWN:i(56773),GAMEOBJECT_DRAG_END:i(45824),GAMEOBJECT_DRAG_ENTER:i(39578),GAMEOBJECT_DRAG:i(72072),GAMEOBJECT_DRAG_LEAVE:i(82569),GAMEOBJECT_DRAG_OVER:i(70833),GAMEOBJECT_DRAG_START:i(81442),GAMEOBJECT_DROP:i(32936),GAMEOBJECT_MOVE:i(99658),GAMEOBJECT_OUT:i(60515),GAMEOBJECT_OVER:i(55254),GAMEOBJECT_POINTER_DOWN:i(34782),GAMEOBJECT_POINTER_MOVE:i(41769),GAMEOBJECT_POINTER_OUT:i(65588),GAMEOBJECT_POINTER_OVER:i(61640),GAMEOBJECT_POINTER_UP:i(49342),GAMEOBJECT_POINTER_WHEEL:i(82662),GAMEOBJECT_UP:i(13058),GAMEOBJECT_WHEEL:i(52426),MANAGER_BOOT:i(67137),MANAGER_PROCESS:i(27678),MANAGER_UPDATE:i(22257),POINTER_DOWN:i(88909),POINTER_DOWN_OUTSIDE:i(36548),POINTER_MOVE:i(18483),POINTER_OUT:i(22355),POINTER_OVER:i(7997),POINTER_UP:i(66318),POINTER_UP_OUTSIDE:i(94812),POINTER_WHEEL:i(37310),POINTERLOCK_CHANGE:i(90379),PRE_UPDATE:i(24196),SHUTDOWN:i(27053),START:i(29413),UPDATE:i(25165)}},70848:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=new d({initialize:function(u,o){this.pad=u,this.events=u.events,this.index=o,this.value=0,this.threshold=.1},update:function(f){this.value=f},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});r.exports=x},21274:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(43200),f=new d({initialize:function(o,n){this.pad=o,this.events=o.manager,this.index=n,this.value=0,this.threshold=1,this.pressed=!1},update:function(u){this.value=u;var o=this.pad,n=this.index;u>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(x.BUTTON_DOWN,o,this,u),this.pad.emit(x.GAMEPAD_BUTTON_DOWN,n,u,this)):this.pressed&&(this.pressed=!1,this.events.emit(x.BUTTON_UP,o,this,u),this.pad.emit(x.GAMEPAD_BUTTON_UP,n,u,this))},destroy:function(){this.pad=null,this.events=null}});r.exports=f},75956:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(70848),x=i(21274),f=i(56694),u=i(6659),o=i(93736),n=new f({Extends:u,initialize:function(p,a){u.call(this),this.manager=p,this.pad=a,this.id=a.id,this.index=a.index;for(var c=[],v=0;v<a.buttons.length;v++)c.push(new x(this,v));this.buttons=c;var g=[];for(v=0;v<a.axes.length;v++)g.push(new d(this,v));this.axes=g,this.vibration=a.vibrationActuator;var m={value:0,pressed:!1};this._LCLeft=c[14]?c[14]:m,this._LCRight=c[15]?c[15]:m,this._LCTop=c[12]?c[12]:m,this._LCBottom=c[13]?c[13]:m,this._RCLeft=c[2]?c[2]:m,this._RCRight=c[1]?c[1]:m,this._RCTop=c[3]?c[3]:m,this._RCBottom=c[0]?c[0]:m,this._FBLeftTop=c[4]?c[4]:m,this._FBLeftBottom=c[6]?c[6]:m,this._FBRightTop=c[5]?c[5]:m,this._FBRightBottom=c[7]?c[7]:m;var y={value:0};this._HAxisLeft=g[0]?g[0]:y,this._VAxisLeft=g[1]?g[1]:y,this._HAxisRight=g[2]?g[2]:y,this._VAxisRight=g[3]?g[3]:y,this.leftStick=new o,this.rightStick=new o,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(h){return this.axes[h].getValue()},setAxisThreshold:function(h){for(var p=0;p<this.axes.length;p++)this.axes[p].threshold=h},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(h){return this.buttons[h].value},isButtonDown:function(h){return this.buttons[h].pressed},update:function(h){if(!(h.timestamp<this._created)){var p,a=this.buttons,c=h.buttons,v=a.length;for(p=0;p<v;p++)a[p].update(c[p].value);var g=this.axes,m=h.axes;for(v=g.length,p=0;p<v;p++)g[p].update(m[p]);v>=2&&(this.leftStick.set(g[0].getValue(),g[1].getValue()),v>=4&&this.rightStick.set(g[2].getValue(),g[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var h;for(h=0;h<this.buttons.length;h++)this.buttons[h].destroy();for(h=0;h<this.axes.length;h++)this.axes[h].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});r.exports=n},1379:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(6659),f=i(43200),u=i(75956),o=i(10850),n=i(63399),h=i(33963),p=new d({Extends:x,initialize:function(c){x.call(this),this.scene=c.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=c,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,c.pluginEvents.once(h.BOOT,this.boot,this),c.pluginEvents.on(h.START,this.start,this)},boot:function(){var a=this.scene.sys.game,c=this.settings.input,v=a.config;this.enabled=o(c,"gamepad",v.inputGamepad)&&a.device.input.gamepads,this.target=o(c,"gamepad.target",v.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(h.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(h.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var a=this,c=this.target,v=function(g){g.defaultPrevented||!a.isActive()||(a.refreshPads(),a.queue.push(g))};this.onGamepadHandler=v,c.addEventListener("gamepadconnected",v,!1),c.addEventListener("gamepaddisconnected",v,!1),this.sceneInputPlugin.pluginEvents.on(h.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(h.UPDATE,this.update);for(var a=0;a<this.gamepads.length;a++)this.gamepads[a].removeAllListeners()},disconnectAll:function(){for(var a=0;a<this.gamepads.length;a++)this.gamepads[a].pad.connected=!1},refreshPads:function(){var a=navigator.getGamepads();if(!a)this.disconnectAll();else for(var c=this.gamepads,v=0;v<a.length;v++){var g=a[v];if(g){var m=g.id,y=g.index,P=c[y];if(P)P.id!==m?(P.destroy(),c[y]=new u(this,g)):P.update(g);else{var M=new u(this,g);c[y]=M,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=M):this._pad3=M:this._pad2=M:this._pad1=M}}}},getAll:function(){for(var a=[],c=this.gamepads,v=0;v<c.length;v++)c[v]&&a.push(c[v]);return a},getPad:function(a){for(var c=this.gamepads,v=0;v<c.length;v++)if(c[v]&&c[v].index===a)return c[v]},update:function(){if(this.enabled){this.refreshPads();var a=this.queue.length;if(a!==0)for(var c=this.queue.splice(0,a),v=0;v<a;v++){var g=c[v],m=this.getPad(g.gamepad.index);g.type==="gamepadconnected"?this.emit(f.CONNECTED,m,g):g.type==="gamepaddisconnected"&&this.emit(f.DISCONNECTED,m,g)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var a=0;a<this.gamepads.length;a++)this.gamepads[a]&&this.gamepads[a].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});n.register("GamepadPlugin",p,"gamepad","gamepad","inputGamepad"),r.exports=p},33171:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},74982:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},43247:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},4898:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DUALSHOCK_4:i(74982),SNES_USB:i(33171),XBOX_360:i(43247)}},17344:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="down"},36635:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="up"},85724:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="connected"},55832:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="disconnected"},772:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="down"},33608:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="up"},43200:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BUTTON_DOWN:i(17344),BUTTON_UP:i(36635),CONNECTED:i(85724),DISCONNECTED:i(55832),GAMEPAD_BUTTON_DOWN:i(772),GAMEPAD_BUTTON_UP:i(33608)}},92636:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Axis:i(70848),Button:i(21274),Events:i(43200),Gamepad:i(75956),GamepadPlugin:i(1379),Configs:i(4898)}},20873:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72687),x=i(98611),f={CreatePixelPerfectHandler:i(18104),CreateInteractiveObject:i(27395),Events:i(33963),Gamepad:i(92636),InputManager:i(69898),InputPlugin:i(12499),InputPluginCache:i(63399),Keyboard:i(28388),Mouse:i(11343),Pointer:i(40398),Touch:i(77423)};f=x(!1,f,d),r.exports=f},71064:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(66458),x=i(56694),f=i(97081),u=i(33963),o=i(11873),n=i(72283),h=new x({initialize:function(a){this.manager=a,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=n,this.onKeyUp=n,a.events.once(u.MANAGER_BOOT,this.boot,this)},boot:function(){var p=this.manager.config;this.enabled=p.inputKeyboard,this.target=p.inputKeyboardEventTarget,this.addCapture(p.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(f.POST_STEP,this.postUpdate,this)},startListeners:function(){var p=this;this.onKeyDown=function(c){if(!(c.defaultPrevented||!p.enabled||!p.manager)){p.queue.push(c),p.manager.events.emit(u.MANAGER_PROCESS);var v=c.altKey||c.ctrlKey||c.shiftKey||c.metaKey;p.preventDefault&&!v&&p.captures.indexOf(c.keyCode)>-1&&c.preventDefault()}},this.onKeyUp=function(c){if(!(c.defaultPrevented||!p.enabled||!p.manager)){p.queue.push(c),p.manager.events.emit(u.MANAGER_PROCESS);var v=c.altKey||c.ctrlKey||c.shiftKey||c.metaKey;p.preventDefault&&!v&&p.captures.indexOf(c.keyCode)>-1&&c.preventDefault()}};var a=this.target;a&&(a.addEventListener("keydown",this.onKeyDown,!1),a.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var p=this.target;p.removeEventListener("keydown",this.onKeyDown,!1),p.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(p){typeof p=="string"&&(p=p.split(",")),Array.isArray(p)||(p=[p]);for(var a=this.captures,c=0;c<p.length;c++){var v=p[c];typeof v=="string"&&(v=o[v.trim().toUpperCase()]),a.indexOf(v)===-1&&a.push(v)}this.preventDefault=a.length>0},removeCapture:function(p){typeof p=="string"&&(p=p.split(",")),Array.isArray(p)||(p=[p]);for(var a=this.captures,c=0;c<p.length;c++){var v=p[c];typeof v=="string"&&(v=o[v.toUpperCase()]),d(a,v)}this.preventDefault=a.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(f.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});r.exports=h},89666:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(6659),f=i(94030),u=i(97081),o=i(10850),n=i(33963),h=i(63399),p=i(50165),a=i(11873),c=i(95625),v=i(48044),g=i(7599),m=i(84314),y=new d({Extends:x,initialize:function(M){x.call(this),this.game=M.systems.game,this.scene=M.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=M,this.manager=M.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,M.pluginEvents.once(n.BOOT,this.boot,this),M.pluginEvents.on(n.START,this.start,this)},boot:function(){var P=this.settings.input;this.enabled=o(P,"keyboard",!0);var M=o(P,"keyboard.capture",null);M&&this.addCaptures(M),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(n.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this),this.game.events.on(u.BLUR,this.resetKeys,this),this.scene.sys.events.on(g.PAUSE,this.resetKeys,this),this.scene.sys.events.on(g.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(P){return this.manager.addCapture(P),this},removeCapture:function(P){return this.manager.removeCapture(P),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:a.UP,down:a.DOWN,left:a.LEFT,right:a.RIGHT,space:a.SPACE,shift:a.SHIFT})},addKeys:function(P,M,E){M===void 0&&(M=!0),E===void 0&&(E=!1);var w={};if(typeof P=="string"){P=P.split(",");for(var R=0;R<P.length;R++){var O=P[R].trim();O&&(w[O]=this.addKey(O,M,E))}}else for(var A in P)w[A]=this.addKey(P[A],M,E);return w},addKey:function(P,M,E){M===void 0&&(M=!0),E===void 0&&(E=!1);var w=this.keys;if(P instanceof p){var R=w.indexOf(P);return R>-1?w[R]=P:w[P.keyCode]=P,M&&this.addCapture(P.keyCode),P.setEmitOnRepeat(E),P}return typeof P=="string"&&(P=a[P.toUpperCase()]),w[P]||(w[P]=new p(this,P),M&&this.addCapture(P),w[P].setEmitOnRepeat(E)),w[P]},removeKey:function(P,M,E){M===void 0&&(M=!1),E===void 0&&(E=!1);var w=this.keys,R;if(P instanceof p){var O=w.indexOf(P);O>-1&&(R=this.keys[O],this.keys[O]=void 0)}else typeof P=="string"&&(P=a[P.toUpperCase()]);return w[P]&&(R=w[P],w[P]=void 0),R&&(R.plugin=null,E&&this.removeCapture(R.keyCode),M&&R.destroy()),this},removeAllKeys:function(P,M){P===void 0&&(P=!1),M===void 0&&(M=!1);for(var E=this.keys,w=0;w<E.length;w++){var R=E[w];R&&(E[w]=void 0,M&&this.removeCapture(R.keyCode),P&&R.destroy())}return this},createCombo:function(P,M){return new c(this,P,M)},checkDown:function(P,M){if(M===void 0&&(M=0),this.enabled&&P.isDown){var E=m(this.time-P.timeDown,M);if(E>P._tick)return P._tick=E,!0}return!1},update:function(){var P=this.manager.queue,M=P.length;if(!(!this.isActive()||M===0))for(var E=this.keys,w=0;w<M;w++){var R=P[w],O=R.keyCode,A=E[O],F=!1;R.cancelled===void 0&&(R.cancelled=0,R.stopImmediatePropagation=function(){R.cancelled=1},R.stopPropagation=function(){R.cancelled=-1}),R.cancelled!==-1&&(O===this.prevCode&&R.timeStamp===this.prevTime&&R.type===this.prevType||(this.prevCode=O,this.prevTime=R.timeStamp,this.prevType=R.type,R.type==="keydown"?(A&&(F=A.isDown,A.onDown(R)),!R.cancelled&&(!A||!F)&&(v[O]&&this.emit(f.KEY_DOWN+v[O],R),R.cancelled||this.emit(f.ANY_KEY_DOWN,R))):(A&&A.onUp(R),R.cancelled||(v[O]&&this.emit(f.KEY_UP+v[O],R),R.cancelled||this.emit(f.ANY_KEY_UP,R))),R.cancelled===1&&(R.cancelled=0)))}},resetKeys:function(){for(var P=this.keys,M=0;M<P.length;M++)P[M]&&P[M].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(n.MANAGER_PROCESS,this.update,this),this.game.events.off(u.BLUR,this.resetKeys),this.scene.sys.events.off(g.PAUSE,this.resetKeys,this),this.scene.sys.events.off(g.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var P=this.keys,M=0;M<P.length;M++)P[M]&&P[M].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});h.register("KeyboardPlugin",y,"keyboard","keyboard","inputKeyboard"),r.exports=y},60258:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return d.timeLastMatched=i.timeStamp,d.index++,d.index===d.size?!0:(d.current=d.keyCodes[d.index],!1)};r.exports=T},95625:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(94030),f=i(72632),u=i(2544),o=i(88754),n=new d({initialize:function(p,a,c){if(c===void 0&&(c={}),a.length<2)return!1;this.manager=p,this.enabled=!0,this.keyCodes=[];for(var v=0;v<a.length;v++){var g=a[v];typeof g=="string"?this.keyCodes.push(g.toUpperCase().charCodeAt(0)):typeof g=="number"?this.keyCodes.push(g):g.hasOwnProperty("keyCode")&&this.keyCodes.push(g.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=f(c,"resetOnWrongKey",!0),this.maxKeyDelay=f(c,"maxKeyDelay",0),this.resetOnMatch=f(c,"resetOnMatch",!1),this.deleteOnMatch=f(c,"deleteOnMatch",!1);var m=this,y=function(P){if(!(m.matched||!m.enabled)){var M=u(P,m);M&&(m.manager.emit(x.COMBO_MATCH,m,P),m.resetOnMatch?o(m):m.deleteOnMatch&&m.destroy())}};this.onKeyDown=y,this.manager.on(x.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(x.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});r.exports=n},2544:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(60258),x=function(f,u){if(u.matched)return!0;var o=!1,n=!1;if(f.keyCode===u.current)if(u.index>0&&u.maxKeyDelay>0){var h=u.timeLastMatched+u.maxKeyDelay;f.timeStamp<=h&&(n=!0,o=d(f,u))}else n=!0,o=d(f,u);return!n&&u.resetOnWrongKey&&(u.index=0,u.current=u.keyCodes[0]),o&&(u.timeLastMatched=f.timeStamp,u.matched=!0,u.timeMatched=f.timeStamp),o};r.exports=x},88754:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.current=i.keyCodes[0],i.index=0,i.timeLastMatched=0,i.matched=!1,i.timeMatched=0,i};r.exports=T},5044:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keydown"},40813:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keyup"},89319:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keycombomatch"},43267:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="down"},78595:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keydown-"},30056:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keyup-"},81939:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="up"},94030:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ANY_KEY_DOWN:i(5044),ANY_KEY_UP:i(40813),COMBO_MATCH:i(89319),DOWN:i(43267),KEY_DOWN:i(78595),KEY_UP:i(30056),UP:i(81939)}},28388:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Events:i(94030),KeyboardManager:i(71064),KeyboardPlugin:i(89666),Key:i(50165),KeyCodes:i(11873),KeyCombo:i(95625),AdvanceKeyCombo:i(60258),ProcessKeyCombo:i(2544),ResetKeyCombo:i(88754),JustDown:i(42460),JustUp:i(53162),DownDuration:i(64964),UpDuration:i(70331)}},64964:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){d===void 0&&(d=50);var x=i.plugin.game.loop.time-i.timeDown;return i.isDown&&x<d};r.exports=T},42460:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i._justDown?(i._justDown=!1,!0):!1};r.exports=T},53162:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i._justUp?(i._justUp=!1,!0):!1};r.exports=T},50165:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(6659),f=i(94030),u=new d({Extends:x,initialize:function(n,h){x.call(this),this.plugin=n,this.keyCode=h,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(o){return this.emitOnRepeat=o,this},onDown:function(o){this.originalEvent=o,this.enabled&&(this.altKey=o.altKey,this.ctrlKey=o.ctrlKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.location=o.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(f.DOWN,this,o):(this.isDown=!0,this.isUp=!1,this.timeDown=o.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(f.DOWN,this,o)))},onUp:function(o){this.originalEvent=o,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=o.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(f.UP,this,o))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});r.exports=u},11873:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};r.exports=T},48044:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(11873),x={};for(var f in d)x[d[f]]=f;r.exports=x},70331:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){d===void 0&&(d=50);var x=i.plugin.game.loop.time-i.timeUp;return i.isUp&&x<d};r.exports=T},7905:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(90185),f=i(33963),u=i(72283),o=new d({initialize:function(h){this.manager=h,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=u,this.onMouseDown=u,this.onMouseUp=u,this.onMouseDownWindow=u,this.onMouseUpWindow=u,this.onMouseOver=u,this.onMouseOut=u,this.onMouseWheel=u,this.pointerLockChange=u,this.isTop=!0,h.events.once(f.MANAGER_BOOT,this.boot,this)},boot:function(){var n=this.manager.config;this.enabled=n.inputMouse,this.target=n.inputMouseEventTarget,this.passive=n.inputMousePassive,this.preventDefaultDown=n.inputMousePreventDefaultDown,this.preventDefaultUp=n.inputMousePreventDefaultUp,this.preventDefaultMove=n.inputMousePreventDefaultMove,this.preventDefaultWheel=n.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,n.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(n){return n.preventDefault(),!1}),this},requestPointerLock:function(){if(x.pointerLock){var n=this.target;n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock,n.requestPointerLock()}},releasePointerLock:function(){x.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var n=this.target;if(n){var h=this,p=this.manager,a=p.canvas,c=window&&window.focus&&p.game.config.autoFocus;this.onMouseMove=function(g){!g.defaultPrevented&&h.enabled&&p&&p.enabled&&(p.onMouseMove(g),h.preventDefaultMove&&g.preventDefault())},this.onMouseDown=function(g){c&&window.focus(),!g.defaultPrevented&&h.enabled&&p&&p.enabled&&(p.onMouseDown(g),h.preventDefaultDown&&g.target===a&&g.preventDefault())},this.onMouseDownWindow=function(g){!g.defaultPrevented&&h.enabled&&p&&p.enabled&&g.target!==a&&p.onMouseDown(g)},this.onMouseUp=function(g){!g.defaultPrevented&&h.enabled&&p&&p.enabled&&(p.onMouseUp(g),h.preventDefaultUp&&g.target===a&&g.preventDefault())},this.onMouseUpWindow=function(g){!g.defaultPrevented&&h.enabled&&p&&p.enabled&&g.target!==a&&p.onMouseUp(g)},this.onMouseOver=function(g){!g.defaultPrevented&&h.enabled&&p&&p.enabled&&p.setCanvasOver(g)},this.onMouseOut=function(g){!g.defaultPrevented&&h.enabled&&p&&p.enabled&&p.setCanvasOut(g)},this.onMouseWheel=function(g){!g.defaultPrevented&&h.enabled&&p&&p.enabled&&p.onMouseWheel(g),h.preventDefaultWheel&&g.target===a&&g.preventDefault()};var v={passive:!0};if(n.addEventListener("mousemove",this.onMouseMove),n.addEventListener("mousedown",this.onMouseDown),n.addEventListener("mouseup",this.onMouseUp),n.addEventListener("mouseover",this.onMouseOver,v),n.addEventListener("mouseout",this.onMouseOut,v),this.preventDefaultWheel?n.addEventListener("wheel",this.onMouseWheel,{passive:!1}):n.addEventListener("wheel",this.onMouseWheel,v),window&&p.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,v),window.top.addEventListener("mouseup",this.onMouseUpWindow,v)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,v),window.addEventListener("mouseup",this.onMouseUpWindow,v),this.isTop=!1}x.pointerLock&&(this.pointerLockChange=function(g){var m=h.target;h.locked=document.pointerLockElement===m||document.mozPointerLockElement===m||document.webkitPointerLockElement===m,p.onPointerLockChange(g)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var n=this.target;n.removeEventListener("mousemove",this.onMouseMove),n.removeEventListener("mousedown",this.onMouseDown),n.removeEventListener("mouseup",this.onMouseUp),n.removeEventListener("mouseover",this.onMouseOver),n.removeEventListener("mouseout",this.onMouseOut),window&&(n=this.isTop?window.top:window,n.removeEventListener("mousedown",this.onMouseDownWindow),n.removeEventListener("mouseup",this.onMouseUpWindow)),x.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});r.exports=o},11343:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={MouseManager:i(7905)}},37579:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(33963),f=i(72283),u=new d({initialize:function(n){this.manager=n,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=f,this.onTouchStartWindow=f,this.onTouchMove=f,this.onTouchEnd=f,this.onTouchEndWindow=f,this.onTouchCancel=f,this.onTouchCancelWindow=f,this.isTop=!0,n.events.once(x.MANAGER_BOOT,this.boot,this)},boot:function(){var o=this.manager.config;this.enabled=o.inputTouch,this.target=o.inputTouchEventTarget,this.capture=o.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,o.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(o){return o.preventDefault(),!1}),this},startListeners:function(){var o=this.target;if(o){var n=this,h=this.manager,p=h.canvas,a=window&&window.focus&&h.game.config.autoFocus;this.onTouchMove=function(m){!m.defaultPrevented&&n.enabled&&h&&h.enabled&&(h.onTouchMove(m),n.capture&&m.cancelable&&m.preventDefault())},this.onTouchStart=function(m){a&&window.focus(),!m.defaultPrevented&&n.enabled&&h&&h.enabled&&(h.onTouchStart(m),n.capture&&m.cancelable&&m.target===p&&m.preventDefault())},this.onTouchStartWindow=function(m){!m.defaultPrevented&&n.enabled&&h&&h.enabled&&m.target!==p&&h.onTouchStart(m)},this.onTouchEnd=function(m){!m.defaultPrevented&&n.enabled&&h&&h.enabled&&(h.onTouchEnd(m),n.capture&&m.cancelable&&m.target===p&&m.preventDefault())},this.onTouchEndWindow=function(m){!m.defaultPrevented&&n.enabled&&h&&h.enabled&&m.target!==p&&h.onTouchEnd(m)},this.onTouchCancel=function(m){!m.defaultPrevented&&n.enabled&&h&&h.enabled&&(h.onTouchCancel(m),n.capture&&m.preventDefault())},this.onTouchCancelWindow=function(m){!m.defaultPrevented&&n.enabled&&h&&h.enabled&&h.onTouchCancel(m)};var c=this.capture,v={passive:!0},g={passive:!1};if(o.addEventListener("touchstart",this.onTouchStart,c?g:v),o.addEventListener("touchmove",this.onTouchMove,c?g:v),o.addEventListener("touchend",this.onTouchEnd,c?g:v),o.addEventListener("touchcancel",this.onTouchCancel,c?g:v),window&&h.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,g),window.top.addEventListener("touchend",this.onTouchEndWindow,g),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,g)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,g),window.addEventListener("touchend",this.onTouchEndWindow,g),window.addEventListener("touchcancel",this.onTouchCancelWindow,g),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var o=this.target;o.removeEventListener("touchstart",this.onTouchStart),o.removeEventListener("touchmove",this.onTouchMove),o.removeEventListener("touchend",this.onTouchEnd),o.removeEventListener("touchcancel",this.onTouchCancel),window&&(o=this.isTop?window.top:window,o.removeEventListener("touchstart",this.onTouchStartWindow),o.removeEventListener("touchend",this.onTouchEndWindow),o.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});r.exports=u},77423:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={TouchManager:i(37579)}},98035:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12117),f=i(683),u=i(72632),o=i(30750),n=i(43531),h=i(88490),p=i(33868),a=new d({initialize:function(v,g){if(this.loader=v,this.cache=u(g,"cache",!1),this.type=u(g,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=u(g,"key",!1);var m=this.key;if(v.prefix&&v.prefix!==""&&(this.key=v.prefix+m),!this.key)throw new Error("Invalid File key: "+this.key);var y=u(g,"url");y===void 0?y=v.path+m+"."+u(g,"extension",""):typeof y=="string"&&!y.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(y=v.path+y),this.url=y,this.src="",this.xhrSettings=p(u(g,"responseType",void 0)),u(g,"xhrSettings",!1)&&(this.xhrSettings=n(this.xhrSettings,u(g,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?x.FILE_POPULATED:x.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=u(g,"config",{}),this.multiFile,this.linkFile},setLink:function(c){this.linkFile=c,c.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){this.state===x.FILE_POPULATED?this.loader.nextFile(this,!0):(this.state=x.FILE_LOADING,this.src=o(this,this.loader.baseURL),this.src.indexOf("data:")===0?console.warn("Local data URIs are not supported: "+this.key):this.xhrLoader=h(this,this.loader.xhr))},onLoad:function(c,v){var g=c.responseURL&&this.loader.localSchemes.some(function(P){return c.responseURL.indexOf(P)===0}),m=g&&v.target.status===0,y=!(v.target&&v.target.status!==200)||m;c.readyState===4&&c.status>=400&&c.status<=599&&(y=!1),this.state=x.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,y)},onError:function(){this.resetXHR(),this.loader.nextFile(this,!1)},onProgress:function(c){c.lengthComputable&&(this.bytesLoaded=c.loaded,this.bytesTotal=c.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=x.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=x.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=x.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(c){if(this.state!==x.FILE_PENDING_DESTROY){c===void 0&&(c=this.data);var v=this.key,g=this.type;this.loader.emit(f.FILE_COMPLETE,v,g,c),this.loader.emit(f.FILE_KEY_COMPLETE+g+"-"+v,v,g,c),this.loader.flagForRemoval(this),this.state=x.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});a.createObjectURL=function(c,v,g){if(typeof URL=="function")c.src=URL.createObjectURL(v);else{var m=new FileReader;m.onload=function(){c.removeAttribute("crossOrigin"),c.src="data:"+(v.type||g)+";base64,"+m.result.split(",")[1]},m.onerror=c.onerror,m.readAsDataURL(v)}},a.revokeObjectURL=function(c){typeof URL=="function"&&URL.revokeObjectURL(c.src)},r.exports=a},76846:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},i={install:function(d){for(var x in T)d[x]=T[x]},register:function(d,x){T[d]=x},destroy:function(){T={}}};r.exports=i},30750:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return i.url?i.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?i.url:d+i.url:!1};r.exports=T},67285:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12117),f=i(58403),u=i(6659),o=i(683),n=i(76846),h=i(72632),p=i(10850),a=i(91963),c=i(7599),v=i(33868),g=new d({Extends:u,initialize:function(y){u.call(this);var P=y.sys.game.config,M=y.sys.settings.loader;this.scene=y,this.systems=y.sys,this.cacheManager=y.sys.cache,this.textureManager=y.sys.textures,this.sceneManager=y.sys.game.scene,n.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(h(M,"baseURL",P.loaderBaseURL)),this.setPath(h(M,"path",P.loaderPath)),this.setPrefix(h(M,"prefix",P.loaderPrefix)),this.maxParallelDownloads=h(M,"maxParallelDownloads",P.loaderMaxParallelDownloads),this.xhr=v(h(M,"responseType",P.loaderResponseType),h(M,"async",P.loaderAsync),h(M,"user",P.loaderUser),h(M,"password",P.loaderPassword),h(M,"timeout",P.loaderTimeout),h(M,"withCredentials",P.loaderWithCredentials)),this.crossOrigin=h(M,"crossOrigin",P.loaderCrossOrigin),this.imageLoadType=h(M,"imageLoadType",P.loaderImageLoadType),this.localSchemes=h(M,"localScheme",P.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new f,this.inflight=new f,this.queue=new f,this._deleteQueue=new f,this.totalFailed=0,this.totalComplete=0,this.state=x.LOADER_IDLE,this.multiKeyIndex=0,y.sys.events.once(c.BOOT,this.boot,this),y.sys.events.on(c.START,this.pluginStart,this)},boot:function(){this.systems.events.once(c.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(c.SHUTDOWN,this.shutdown,this)},setBaseURL:function(m){return m===void 0&&(m=""),m!==""&&m.substr(-1)!=="/"&&(m=m.concat("/")),this.baseURL=m,this},setPath:function(m){return m===void 0&&(m=""),m!==""&&m.substr(-1)!=="/"&&(m=m.concat("/")),this.path=m,this},setPrefix:function(m){return m===void 0&&(m=""),this.prefix=m,this},setCORS:function(m){return this.crossOrigin=m,this},addFile:function(m){Array.isArray(m)||(m=[m]);for(var y=0;y<m.length;y++){var P=m[y];this.keyExists(P)||(this.list.set(P),this.emit(o.ADD,P.key,P.type,this,P),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(m){var y=m.hasCacheConflict();return y||this.list.iterate(function(P){if(P.type===m.type&&P.key===m.key)return y=!0,!1}),!y&&this.isLoading()&&(this.inflight.iterate(function(P){if(P.type===m.type&&P.key===m.key)return y=!0,!1}),this.queue.iterate(function(P){if(P.type===m.type&&P.key===m.key)return y=!0,!1})),y},addPack:function(m,y){if(typeof y=="string"){var P=p(m,y);P&&(m={packKey:P})}var M=0,E=this.baseURL,w=this.path,R=this.prefix;for(var O in m)if(Object.prototype.hasOwnProperty.call(m,O)){var A=m[O],F=h(A,"baseURL",E),L=h(A,"path",w),I=h(A,"prefix",R),B=h(A,"files",null),b=h(A,"defaultType","void");if(Array.isArray(B)){this.setBaseURL(F),this.setPath(L),this.setPrefix(I);for(var k=0;k<B.length;k++){var U=B[k],Y=U.hasOwnProperty("type")?U.type:b;this[Y]&&(this[Y](U),M++)}}}return this.setBaseURL(E),this.setPath(w),this.setPrefix(R),M>0},isLoading:function(){return this.state===x.LOADER_LOADING||this.state===x.LOADER_PROCESSING},isReady:function(){return this.state===x.LOADER_IDLE||this.state===x.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(o.START,this),this.list.size===0?this.loadComplete():(this.state=x.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(c.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(o.PROGRESS,this.progress)},update:function(){this.state===x.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(m){if((m.state===x.FILE_POPULATED||m.state===x.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(m),this.list.delete(m),m.crossOrigin||(m.crossOrigin=this.crossOrigin),m.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(m,y){this.inflight&&(this.inflight.delete(m),this.updateProgress(),y?(this.totalComplete++,this.queue.set(m),this.emit(o.FILE_LOAD,m),m.onProcess()):(this.totalFailed++,this._deleteQueue.set(m),this.emit(o.FILE_LOAD_ERROR,m),this.fileProcessComplete(m)))},fileProcessComplete:function(m){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(m.state===x.FILE_ERRORED?m.multiFile&&m.multiFile.onFileFailed(m):m.state===x.FILE_COMPLETE&&(m.multiFile?m.multiFile.isReadyToProcess()&&(m.multiFile.addToCache(),m.multiFile.pendingDestroy()):(m.addToCache(),m.pendingDestroy())),this.queue.delete(m),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(o.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=x.LOADER_COMPLETE,this.systems.events.off(c.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(o.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(m){this._deleteQueue.set(m)},saveJSON:function(m,y){return this.save(JSON.stringify(m),y)},save:function(m,y,P){y===void 0&&(y="file.json"),P===void 0&&(P="application/json");var M=new Blob([m],{type:P}),E=URL.createObjectURL(M),w=document.createElement("a");return w.download=y,w.textContent="Download "+y,w.href=E,w.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var m=this.systems.game.config,y=this.systems.settings.loader;this.setBaseURL(h(y,"baseURL",m.loaderBaseURL)),this.setPath(h(y,"path",m.loaderPath)),this.setPrefix(h(y,"prefix",m.loaderPrefix)),this.state=x.LOADER_IDLE},shutdown:function(){this.reset(),this.state=x.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=x.LOADER_DESTROYED,this.systems.events.off(c.UPDATE,this.update,this),this.systems.events.off(c.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});a.register("Loader",g,"load"),r.exports=g},43531:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(98611),x=i(33868),f=function(u,o){var n=u===void 0?x():d({},u);if(o)for(var h in o)o[h]!==void 0&&(n[h]=o[h]);return n};r.exports=f},45176:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12117),f=i(683),u=new d({initialize:function(n,h,p,a){var c=[];a.forEach(function(m){m&&c.push(m)}),this.loader=n,this.type=h,this.key=p;var v=this.key;n.prefix&&n.prefix!==""&&(this.key=n.prefix+v),this.multiKeyIndex=n.multiKeyIndex++,this.files=c,this.state=x.FILE_PENDING,this.complete=!1,this.pending=c.length,this.failed=0,this.config={},this.baseURL=n.baseURL,this.path=n.path,this.prefix=n.prefix;for(var g=0;g<c.length;g++)c[g].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(o){return this.files.push(o),o.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(o){var n=this.files.indexOf(o);n!==-1&&this.pending--},onFileFailed:function(o){var n=this.files.indexOf(o);n!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,o.type,o.key))},pendingDestroy:function(){if(this.state!==x.FILE_PENDING_DESTROY){var o=this.key,n=this.type;this.loader.emit(f.FILE_COMPLETE,o,n),this.loader.emit(f.FILE_KEY_COMPLETE+n+"-"+o,o,n),this.loader.flagForRemoval(this);for(var h=0;h<this.files.length;h++)this.files[h].pendingDestroy();this.state=x.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});r.exports=u},88490:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(43531),x=function(f,u){var o=d(u,f.xhrSettings),n=new XMLHttpRequest;if(n.open("GET",f.src,o.async,o.user,o.password),n.responseType=f.xhrSettings.responseType,n.timeout=o.timeout,o.headers)for(var h in o.headers)n.setRequestHeader(h,o.headers[h]);return o.header&&o.headerValue&&n.setRequestHeader(o.header,o.headerValue),o.requestedWith&&n.setRequestHeader("X-Requested-With",o.requestedWith),o.overrideMimeType&&n.overrideMimeType(o.overrideMimeType),o.withCredentials&&(n.withCredentials=!0),n.onload=f.onLoad.bind(f,n),n.onerror=f.onError.bind(f,n),n.onprogress=f.onProgress.bind(f),n.send(),n};r.exports=x},33868:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f,u,o){return i===void 0&&(i=""),d===void 0&&(d=!0),x===void 0&&(x=""),f===void 0&&(f=""),u===void 0&&(u=0),o===void 0&&(o=!1),{responseType:i,async:d,user:x,password:f,timeout:u,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:o}};r.exports=T},12117:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};r.exports=T},7398:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addfile"},52187:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},36627:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="filecomplete"},81925:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="filecomplete-"},29774:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loaderror"},20943:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="load"},74693:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="fileprogress"},71176:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postprocess"},88984:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="progress"},72753:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},683:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD:i(7398),COMPLETE:i(52187),FILE_COMPLETE:i(36627),FILE_KEY_COMPLETE:i(81925),FILE_LOAD_ERROR:i(29774),FILE_LOAD:i(20943),FILE_PROGRESS:i(74693),POST_PROCESS:i(71176),PROGRESS:i(88984),START:i(72753)}},46468:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(76846),f=i(70806),u=i(683),o=new d({Extends:f,initialize:function(h,p,a,c,v){f.call(this,h,p,a,c,v),this.type="animationJSON"},onProcess:function(){this.loader.once(u.POST_PROCESS,this.onLoadComplete,this),f.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});x.register("animation",function(n,h,p,a){if(Array.isArray(n))for(var c=0;c<n.length;c++)this.addFile(new o(this,n[c]));else this.addFile(new o(this,n,h,a,p));return this}),r.exports=o},31648:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(76846),f=i(72632),u=i(42927),o=i(42911),n=i(70806),h=i(45176),p=new d({Extends:h,initialize:function(c,v,g,m,y,P){var M,E;if(o(v)){var w=v;v=f(w,"key"),M=new u(c,{key:v,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),E=new n(c,{key:v,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","json"),xhrSettings:f(w,"atlasXhrSettings")})}else M=new u(c,v,g,y),E=new n(c,v,m,P);M.linkFile?h.call(this,c,"atlasjson",v,[M,E,M.linkFile]):h.call(this,c,"atlasjson",v,[M,E])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],c=this.files[1],v=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(a.key,a.data,c.data,v),c.addToCache(),this.complete=!0}}});x.register("aseprite",function(a,c,v,g,m){var y;if(Array.isArray(a))for(var P=0;P<a.length;P++)y=new p(this,a[P]),this.addFile(y.files);else y=new p(this,a,c,v,g,m),this.addFile(y.files);return this}),r.exports=p},73152:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(76846),f=i(72632),u=i(42927),o=i(42911),n=i(70806),h=i(45176),p=new d({Extends:h,initialize:function(c,v,g,m,y,P){var M,E;if(o(v)){var w=v;v=f(w,"key"),M=new u(c,{key:v,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),E=new n(c,{key:v,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","json"),xhrSettings:f(w,"atlasXhrSettings")})}else M=new u(c,v,g,y),E=new n(c,v,m,P);M.linkFile?h.call(this,c,"atlasjson",v,[M,E,M.linkFile]):h.call(this,c,"atlasjson",v,[M,E])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],c=this.files[1],v=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(a.key,a.data,c.data,v),this.complete=!0}}});x.register("atlas",function(a,c,v,g,m){var y;if(Array.isArray(a))for(var P=0;P<a.length;P++)y=new p(this,a[P]),this.addFile(y.files);else y=new p(this,a,c,v,g,m),this.addFile(y.files);return this}),r.exports=p},24616:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(76846),f=i(72632),u=i(42927),o=i(42911),n=i(45176),h=i(15297),p=new d({Extends:n,initialize:function(c,v,g,m,y,P){var M,E;if(o(v)){var w=v;v=f(w,"key"),M=new u(c,{key:v,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),E=new h(c,{key:v,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","xml"),xhrSettings:f(w,"atlasXhrSettings")})}else M=new u(c,v,g,y),E=new h(c,v,m,P);M.linkFile?n.call(this,c,"atlasxml",v,[M,E,M.linkFile]):n.call(this,c,"atlasxml",v,[M,E])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],c=this.files[1],v=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(a.key,a.data,c.data,v),this.complete=!0}}});x.register("atlasXML",function(a,c,v,g,m){var y;if(Array.isArray(a))for(var P=0;P<a.length;P++)y=new p(this,a[P]),this.addFile(y.files);else y=new p(this,a,c,v,g,m),this.addFile(y.files);return this}),r.exports=p},67448:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12117),f=i(98035),u=i(76846),o=i(72632),n=i(30929),h=i(42911),p=new d({Extends:f,initialize:function(c,v,g,m,y){if(h(v)){var P=v;v=o(P,"key"),m=o(P,"xhrSettings"),y=o(P,"context",y)}var M={type:"audio",cache:c.cacheManager.audio,extension:g.type,responseType:"arraybuffer",key:v,url:g.url,xhrSettings:m,config:{context:y}};f.call(this,c,M)},onProcess:function(){this.state=x.FILE_PROCESSING;var a=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(c){a.data=c,a.onProcessComplete()},function(c){console.error("Error decoding audio: "+a.key+" - ",c?c.message:null),a.onProcessError()}),this.config.context=null}});p.create=function(a,c,v,g,m){var y=a.systems.game,P=y.config.audio,M=y.device.audio;h(c)&&(v=o(c,"url",[]),g=o(c,"config",{}));var E=p.getAudioURL(y,v);return E?M.webAudio&&!P.disableWebAudio?new p(a,c,E,m,y.sound.context):new n(a,c,E,g):(console.warn('No audio URLs for "%s" matched this device',c),null)},p.getAudioURL=function(a,c){Array.isArray(c)||(c=[c]);for(var v=0;v<c.length;v++){var g=o(c[v],"url",c[v]);if(g.indexOf("blob:")===0||g.indexOf("data:")===0)return{url:g,type:""};var m=g.match(/\.([a-zA-Z0-9]+)($|\?)/);if(m=o(c[v],"type",m?m[1]:"").toLowerCase(),a.device.audio[m])return{url:g,type:m}}return null},u.register("audio",function(a,c,v,g){var m=this.systems.game,y=m.config.audio,P=m.device.audio;if(y.noAudio||!P.webAudio&&!P.audioData)return this;var M;if(Array.isArray(a))for(var E=0;E<a.length;E++)M=p.create(this,a[E]),M&&this.addFile(M);else M=p.create(this,a,c,v,g),M&&this.addFile(M);return this}),r.exports=p},66109:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(67448),x=i(56694),f=i(76846),u=i(72632),o=i(42911),n=i(70806),h=i(45176),p=new x({Extends:h,initialize:function(c,v,g,m,y,P,M){if(o(v)){var E=v;v=u(E,"key"),g=u(E,"jsonURL"),m=u(E,"audioURL"),y=u(E,"audioConfig"),P=u(E,"audioXhrSettings"),M=u(E,"jsonXhrSettings")}var w;if(!m)w=new n(c,v,g,M),h.call(this,c,"audiosprite",v,[w]),this.config.resourceLoad=!0,this.config.audioConfig=y,this.config.audioXhrSettings=P;else{var R=d.create(c,v,m,y,P);R&&(w=new n(c,v,g,M),h.call(this,c,"audiosprite",v,[R,w]),this.config.resourceLoad=!1)}},onFileComplete:function(a){var c=this.files.indexOf(a);if(c!==-1&&(this.pending--,this.config.resourceLoad&&a.type==="json"&&a.data.hasOwnProperty("resources"))){var v=a.data.resources,g=u(this.config,"audioConfig"),m=u(this.config,"audioXhrSettings"),y=d.create(this.loader,a.key,v,g,m);y&&(this.addToMultiFile(y),this.loader.addFile(y))}},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],c=this.files[1];a.addToCache(),c.addToCache(),this.complete=!0}}});f.register("audioSprite",function(a,c,v,g,m,y){var P=this.systems.game,M=P.config.audio,E=P.device.audio;if(M&&M.noAudio||!E.webAudio&&!E.audioData)return this;var w;if(Array.isArray(a))for(var R=0;R<a.length;R++)w=new p(this,a[R]),w.files&&this.addFile(w.files);else w=new p(this,a,c,v,g,m,y),w.files&&this.addFile(w.files);return this})},40612:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12117),f=i(98035),u=i(76846),o=i(72632),n=i(42911),h=new d({Extends:f,initialize:function(a,c,v,g,m){var y="bin";if(n(c)){var P=c;c=o(P,"key"),v=o(P,"url"),g=o(P,"xhrSettings"),y=o(P,"extension",y),m=o(P,"dataType",m)}var M={type:"binary",cache:a.cacheManager.binary,extension:y,responseType:"arraybuffer",key:c,url:v,xhrSettings:g,config:{dataType:m}};f.call(this,a,M)},onProcess:function(){this.state=x.FILE_PROCESSING;var p=this.config.dataType;this.data=p?new p(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});u.register("binary",function(p,a,c,v){if(Array.isArray(p))for(var g=0;g<p.length;g++)this.addFile(new h(this,p[g]));else this.addFile(new h(this,p,a,v,c));return this}),r.exports=h},54565:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(76846),f=i(72632),u=i(42927),o=i(42911),n=i(45176),h=i(31476),p=i(15297),a=new d({Extends:n,initialize:function(v,g,m,y,P,M){var E,w;if(o(g)){var R=g;g=f(R,"key"),E=new u(v,{key:g,url:f(R,"textureURL"),extension:f(R,"textureExtension","png"),normalMap:f(R,"normalMap"),xhrSettings:f(R,"textureXhrSettings")}),w=new p(v,{key:g,url:f(R,"fontDataURL"),extension:f(R,"fontDataExtension","xml"),xhrSettings:f(R,"fontDataXhrSettings")})}else E=new u(v,g,m,P),w=new p(v,g,y,M);E.linkFile?n.call(this,v,"bitmapfont",g,[E,w,E.linkFile]):n.call(this,v,"bitmapfont",g,[E,w])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],v=this.files[1];c.addToCache();var g=c.cache.get(c.key),m=h(v.data,c.cache.getFrame(c.key),0,0,g);this.loader.cacheManager.bitmapFont.add(c.key,{data:m,texture:c.key,frame:null}),this.complete=!0}}});x.register("bitmapFont",function(c,v,g,m,y){var P;if(Array.isArray(c))for(var M=0;M<c.length;M++)P=new a(this,c[M]),this.addFile(P.files);else P=new a(this,c,v,g,m,y),this.addFile(P.files);return this}),r.exports=a},99898:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12117),f=i(98035),u=i(76846),o=i(72632),n=i(42911),h=new d({Extends:f,initialize:function(a,c,v,g){var m="css";if(n(c)){var y=c;c=o(y,"key"),v=o(y,"url"),g=o(y,"xhrSettings"),m=o(y,"extension",m)}var P={type:"script",cache:!1,extension:m,responseType:"text",key:c,url:v,xhrSettings:g};f.call(this,a,P)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});u.register("css",function(p,a,c){if(Array.isArray(p))for(var v=0;v<p.length;v++)this.addFile(new h(this,p[v]));else this.addFile(new h(this,p,a,c));return this}),r.exports=h},47375:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(73152),x=i(40612),f=i(56694),u=i(76846),o=i(72632),n=i(42927),h=i(42911),p=i(70806),a=i(67409),c=i(30657),v=i(80802),g=i(45176),m=i(24904),y=new f({Extends:g,initialize:function(M,E,w,R){if(w.multiAtlasURL){var O=new p(M,{key:E,url:w.multiAtlasURL,xhrSettings:R,config:w});g.call(this,M,"texture",E,[O])}else{var A=w.textureURL.substr(w.textureURL.length-3);w.type||(w.type=A.toLowerCase()==="ktx"?"KTX":"PVR");var F=new x(M,{key:E,url:w.textureURL,extension:A,xhrSettings:R,config:w});if(w.atlasURL){var L=new p(M,{key:E,url:w.atlasURL,xhrSettings:R,config:w});g.call(this,M,"texture",E,[F,L])}else g.call(this,M,"texture",E,[F])}this.config=w},onFileComplete:function(P){var M=this.files.indexOf(P);if(M!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(P.type==="json"&&P.data.hasOwnProperty("textures")){var E=P.data.textures,w=this.config,R=this.loader,O=R.baseURL,A=R.path,F=R.prefix,L=o(w,"multiBaseURL",this.baseURL),I=o(w,"multiPath",this.path),B=o(w,"prefix",this.prefix),b=o(w,"textureXhrSettings");L&&R.setBaseURL(L),I&&R.setPath(I),B&&R.setPrefix(B);for(var k=0;k<E.length;k++){var U=E[k].image,Y="CMA"+this.multiKeyIndex+"_"+U,H=new x(R,Y,U,b);if(this.addToMultiFile(H),R.addFile(H),E[k].normalMap){var z=new x(R,Y,E[k].normalMap,b);z.type="normalMap",H.setLink(z),this.addToMultiFile(z),R.addFile(z)}}R.setBaseURL(O),R.setPath(A),R.setPrefix(F)}}},addToCache:function(){if(this.isReadyToProcess()){var P=this.config;if(P.multiAtlasURL)this.addMultiToCache();else{var M=this.loader.systems.renderer,E=this.loader.textureManager,w,R=this.files[0],O=this.files[1];if(P.type==="PVR"?w=m(R.data):P.type==="KTX"&&(w=a(R.data)),w&&M.supportsCompressedTexture(P.format,w.internalFormat)){w.format=M.getCompressedTextureName(P.format,w.internalFormat);var A=O&&O.data?O.data:null;E.addCompressedTexture(R.key,w,A)}}this.complete=!0}},addMultiToCache:function(){for(var P=this.config,M=this.files[0],E=[],w=[],R=[],O=this.loader.systems.renderer,A=this.loader.textureManager,F,L=1;L<this.files.length;L++){var I=this.files[L];if(I.type!=="normalMap")for(var B=I.key.indexOf("_"),b=I.key.substr(B+1),k=I.data,U=0;U<M.data.textures.length;U++){var Y=M.data.textures[U];if(Y.image===b){P.type==="PVR"?F=m(k):P.type==="KTX"&&(F=a(k)),F&&O.supportsCompressedTexture(P.format,F.internalFormat)&&(F.format=O.getCompressedTextureName(P.format,F.internalFormat),w.push(F),E.push(Y),I.linkFile&&R.push(I.linkFile.data));break}}}R.length===0&&(R=void 0),A.addAtlasJSONArray(this.key,w,E,R),this.complete=!0}});u.register("texture",function(P,M,E){var w=this.systems.renderer,R=function(A,F,L,I){var B={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(h(F)){var b=F;F=o(b,"key"),L=o(b,"url"),I=o(b,"xhrSettings")}var k=!1;for(var U in L)if(w.supportsCompressedTexture(U)){var Y=L[U];typeof Y=="string"?B.textureURL=Y:B=c(Y,B),B.format=U.toUpperCase(),k=!0;break}if(!k)console.warn("No supported compressed texture format or IMG fallback",F);else if(B.format==="IMG"){var H,z;B.multiAtlasURL?(z=new v(A,F,B.multiAtlasURL,B.multiPath,B.multiBaseURL,I),H=z.files):B.atlasURL?(z=new d(A,F,B.textureURL,B.atlasURL,I),H=z.files):H=new n(A,F,B.textureURL,I),A.addFile(H)}else{var V=new y(A,F,B,I);A.addFile(V.files)}};if(Array.isArray(P))for(var O=0;O<P.length;O++)R(this,P[O]);else R(this,P,M,E);return this}),r.exports=y},46568:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12117),f=i(98035),u=i(76846),o=i(72632),n=i(42911),h=i(31053),p=new d({Extends:f,initialize:function(c,v,g,m,y){var P="glsl";if(n(v)){var M=v;v=o(M,"key"),g=o(M,"url"),m=o(M,"shaderType","fragment"),y=o(M,"xhrSettings"),P=o(M,"extension",P)}else m===void 0&&(m="fragment");var E={type:"glsl",cache:c.cacheManager.shader,extension:P,responseType:"text",key:v,url:g,config:{shaderType:m},xhrSettings:y};f.call(this,c,E)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var a=this.data.split(`
`),c=this.extractBlock(a,0);if(c)for(;c;){var v=this.getShaderName(c.header),g=this.getShaderType(c.header),m=this.getShaderUniforms(c.header),y=c.shader;if(this.cache.has(v)){var P=this.cache.get(v);g==="fragment"?P.fragmentSrc=y:P.vertexSrc=y,P.uniforms||(P.uniforms=m)}else g==="fragment"?this.cache.add(v,new h(v,y,"",m)):this.cache.add(v,new h(v,"",y,m));c=this.extractBlock(a,c.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new h(this.key,this.data)):this.cache.add(this.key,new h(this.key,"",this.data))},getShaderName:function(a){for(var c=0;c<a.length;c++){var v=a[c].trim();if(v.substring(0,5)==="name:")return v.substring(5).trim()}return this.key},getShaderType:function(a){for(var c=0;c<a.length;c++){var v=a[c].trim();if(v.substring(0,5)==="type:")return v.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(a){for(var c={},v=0;v<a.length;v++){var g=a[v].trim();if(g.substring(0,8)==="uniform."){var m=g.indexOf(":");if(m){var y=g.substring(8,m);try{c[y]=JSON.parse(g.substring(m+1))}catch{console.warn("Invalid uniform JSON: "+y)}}}}return c},extractBlock:function(a,c){for(var v=-1,g=-1,m=-1,y=!1,P=!1,M=[],E=[],w=c;w<a.length;w++){var R=a[w].trim();if(R==="---")if(v===-1)v=w,y=!0;else if(y)g=w,y=!1,P=!0;else{P=!1;break}else y?M.push(R):P&&(E.push(R),m=w)}return!y&&g!==-1?{header:M,shader:E.join(`
`),offset:m}:null}});u.register("glsl",function(a,c,v,g){if(Array.isArray(a))for(var m=0;m<a.length;m++)this.addFile(new p(this,a[m]));else this.addFile(new p(this,a,c,v,g));return this}),r.exports=p},30929:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(683),f=i(98035),u=i(72632),o=i(30750),n=i(42911),h=new d({Extends:f,initialize:function(a,c,v,g){if(n(c)){var m=c;c=u(m,"key"),g=u(m,"config",g)}var y={type:"audio",cache:a.cacheManager.audio,extension:v.type,key:c,url:v.url,config:g};f.call(this,a,y),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var p=0;p<this.data.length;p++){var a=this.data[p];a.oncanplaythrough=null,a.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(p){var a=p.target;a.oncanplaythrough=null,a.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(x.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var p=this.config&&this.config.instances||1;this.filesTotal=p,this.filesLoaded=0,this.percentComplete=0;for(var a=0;a<p;a++){var c=new Audio;c.dataset||(c.dataset={}),c.dataset.name=this.key+("0"+a).slice(-2),c.dataset.used="false",this.locked?c.dataset.locked="true":(c.dataset.locked="false",c.preload="auto",c.oncanplaythrough=this.onProgress.bind(this),c.onerror=this.onError.bind(this)),this.data.push(c)}for(a=0;a<this.data.length;a++)c=this.data[a],c.src=o(this,this.loader.baseURL),this.locked||c.load();this.locked&&setTimeout(this.onLoad.bind(this))}});r.exports=h},77459:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12117),f=i(98035),u=i(76846),o=i(72632),n=i(42911),h=new d({Extends:f,initialize:function(a,c,v,g){var m="html";if(n(c)){var y=c;c=o(y,"key"),v=o(y,"url"),g=o(y,"xhrSettings"),m=o(y,"extension",m)}var P={type:"text",cache:a.cacheManager.html,extension:m,responseType:"text",key:c,url:v,xhrSettings:g};f.call(this,a,P)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});u.register("html",function(p,a,c){if(Array.isArray(p))for(var v=0;v<p.length;v++)this.addFile(new h(this,p[v]));else this.addFile(new h(this,p,a,c));return this}),r.exports=h},9755:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12117),f=i(98035),u=i(76846),o=i(72632),n=i(42911),h=new d({Extends:f,initialize:function(a,c,v,g,m,y){g===void 0&&(g=512),m===void 0&&(m=512);var P="html";if(n(c)){var M=c;c=o(M,"key"),v=o(M,"url"),y=o(M,"xhrSettings"),P=o(M,"extension",P),g=o(M,"width",g),m=o(M,"height",m)}var E={type:"html",cache:a.textureManager,extension:P,responseType:"text",key:c,url:v,xhrSettings:y,config:{width:g,height:m}};f.call(this,a,E)},onProcess:function(){this.state=x.FILE_PROCESSING;var p=this.config.width,a=this.config.height,c=[];c.push('<svg width="'+p+'px" height="'+a+'px" viewBox="0 0 '+p+" "+a+'" xmlns="http://www.w3.org/2000/svg">'),c.push('<foreignObject width="100%" height="100%">'),c.push('<body xmlns="http://www.w3.org/1999/xhtml">'),c.push(this.xhrLoader.responseText),c.push("</body>"),c.push("</foreignObject>"),c.push("</svg>");var v=[c.join(`
`)],g=this;try{var m=new window.Blob(v,{type:"image/svg+xml;charset=utf-8"})}catch{g.state=x.FILE_ERRORED,g.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){f.revokeObjectURL(g.data),g.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(g.data),g.onProcessError()},f.createObjectURL(this.data,m,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});u.register("htmlTexture",function(p,a,c,v,g){if(Array.isArray(p))for(var m=0;m<p.length;m++)this.addFile(new h(this,p[m]));else this.addFile(new h(this,p,a,c,v,g));return this}),r.exports=h},42927:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12117),f=i(98035),u=i(76846),o=i(72632),n=i(42911),h=i(30750),p=new d({Extends:f,initialize:function a(c,v,g,m,y){var P="png",M;if(n(v)){var E=v;v=o(E,"key"),g=o(E,"url"),M=o(E,"normalMap"),m=o(E,"xhrSettings"),P=o(E,"extension",P),y=o(E,"frameConfig")}Array.isArray(g)&&(M=g[1],g=g[0]);var w={type:"image",cache:c.textureManager,extension:P,responseType:"blob",key:v,url:g,xhrSettings:m,config:y};if(f.call(this,c,w),M){var R=new a(c,this.key,M,m,y);R.type="normalMap",this.setLink(R),c.addFile(R)}this.useImageElementLoad=c.imageLoadType==="HTMLImageElement",this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var a=this;this.data.onload=function(){f.revokeObjectURL(a.data),a.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(a.data),a.onProcessError()},f.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var a=this.state;this.state=x.FILE_PROCESSING,a===x.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){if(this.state=x.FILE_LOADING,this.src=h(this,this.loader.baseURL),this.src.indexOf("data:")===0)console.warn("Local data URIs are not supported: "+this.key);else{this.data=new Image,this.data.crossOrigin=this.crossOrigin;var a=this;this.data.onload=function(){a.state=x.FILE_LOADED,a.loader.nextFile(a,!0)},this.data.onerror=function(){a.loader.nextFile(a,!1)},this.data.src=this.src}},addToCache:function(){var a=this.linkFile;a?a.state>=x.FILE_COMPLETE&&(a.type==="spritesheet"?a.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,a.data,this.data):this.cache.addImage(this.key,this.data,a.data)):this.cache.addImage(this.key,this.data)}});u.register("image",function(a,c,v){if(Array.isArray(a))for(var g=0;g<a.length;g++)this.addFile(new p(this,a[g]));else this.addFile(new p(this,a,c,v));return this}),r.exports=p},70806:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12117),f=i(98035),u=i(76846),o=i(72632),n=i(10850),h=i(42911),p=new d({Extends:f,initialize:function(c,v,g,m,y){var P="json";if(h(v)){var M=v;v=o(M,"key"),g=o(M,"url"),m=o(M,"xhrSettings"),P=o(M,"extension",P),y=o(M,"dataKey",y)}var E={type:"json",cache:c.cacheManager.json,extension:P,responseType:"text",key:v,url:g,xhrSettings:m,config:y};f.call(this,c,E),h(g)&&(y?this.data=n(g,y):this.data=g,this.state=x.FILE_POPULATED)},onProcess:function(){if(this.state!==x.FILE_POPULATED){this.state=x.FILE_PROCESSING;try{var a=JSON.parse(this.xhrLoader.responseText)}catch(v){throw this.onProcessError(),v}var c=this.config;typeof c=="string"?this.data=n(a,c,a):this.data=a}this.onProcessComplete()}});u.register("json",function(a,c,v,g){if(Array.isArray(a))for(var m=0;m<a.length;m++)this.addFile(new p(this,a[m]));else this.addFile(new p(this,a,c,g,v));return this}),r.exports=p},80802:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(76846),f=i(72632),u=i(42927),o=i(42911),n=i(70806),h=i(45176),p=new d({Extends:h,initialize:function(c,v,g,m,y,P,M){if(o(v)){var E=v;v=f(E,"key"),f(E,"url",!1)?g=f(E,"url"):g=f(E,"atlasURL"),P=f(E,"xhrSettings"),m=f(E,"path"),y=f(E,"baseURL"),M=f(E,"textureXhrSettings")}var w=new n(c,v,g,P);h.call(this,c,"multiatlas",v,[w]),this.config.path=m,this.config.baseURL=y,this.config.textureXhrSettings=M},onFileComplete:function(a){var c=this.files.indexOf(a);if(c!==-1&&(this.pending--,a.type==="json"&&a.data.hasOwnProperty("textures"))){var v=a.data.textures,g=this.config,m=this.loader,y=m.baseURL,P=m.path,M=m.prefix,E=f(g,"baseURL",this.baseURL),w=f(g,"path",this.path),R=f(g,"prefix",this.prefix),O=f(g,"textureXhrSettings");m.setBaseURL(E),m.setPath(w),m.setPrefix(R);for(var A=0;A<v.length;A++){var F=v[A].image,L="MA"+this.multiKeyIndex+"_"+F,I=new u(m,L,F,O);if(this.addToMultiFile(I),m.addFile(I),v[A].normalMap){var B=new u(m,L,v[A].normalMap,O);B.type="normalMap",I.setLink(B),this.addToMultiFile(B),m.addFile(B)}}m.setBaseURL(y),m.setPath(P),m.setPrefix(M)}},addToCache:function(){if(this.isReadyToProcess()){for(var a=this.files[0],c=[],v=[],g=[],m=1;m<this.files.length;m++){var y=this.files[m];if(y.type!=="normalMap")for(var P=y.key.indexOf("_"),M=y.key.substr(P+1),E=y.data,w=0;w<a.data.textures.length;w++){var R=a.data.textures[w];if(R.image===M){v.push(E),c.push(R),y.linkFile&&g.push(y.linkFile.data);break}}}g.length===0&&(g=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,v,c,g),this.complete=!0}}});x.register("multiatlas",function(a,c,v,g,m){var y;if(Array.isArray(a))for(var P=0;P<a.length;P++)y=new p(this,a[P]),this.addFile(y.files);else y=new p(this,a,c,v,g,m),this.addFile(y.files);return this}),r.exports=p},39034:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(76846),f=i(72632),u=i(42911),o=i(45176),n=i(55188),h=new d({Extends:o,initialize:function(a,c,v,g){var m="js",y=[];if(u(c)){var P=c;c=f(P,"key"),v=f(P,"url"),g=f(P,"xhrSettings"),m=f(P,"extension",m)}Array.isArray(v)||(v=[v]);for(var M=0;M<v.length;M++){var E=new n(a,{key:c+"_"+M.toString(),url:v[M],extension:m,xhrSettings:g});E.onProcess=function(){this.onProcessComplete()},y.push(E)}o.call(this,a,"scripts",c,y)},addToCache:function(){if(this.isReadyToProcess()){for(var p=0;p<this.files.length;p++){var a=this.files[p];a.data=document.createElement("script"),a.data.language="javascript",a.data.type="text/javascript",a.data.defer=!1,a.data.text=a.xhrLoader.responseText,document.head.appendChild(a.data)}this.complete=!0}}});x.register("scripts",function(p,a,c){var v;if(Array.isArray(p))for(var g=0;g<p.length;g++)v=new h(this,p[g]),this.addFile(v.files);else v=new h(this,p,a,c),this.addFile(v.files);return this}),r.exports=h},85527:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(76846),f=i(72632),u=i(42911),o=i(45176),n=i(27291),h=i(76799),p=i(86897),a=new d({Extends:o,initialize:function(v,g,m,y,P,M){var E,w,R=v.cacheManager.obj;if(u(g)){var O=g;g=f(O,"key"),E=new p(v,{key:g,type:"obj",cache:R,url:f(O,"url"),extension:f(O,"extension","obj"),xhrSettings:f(O,"xhrSettings"),config:{flipUV:f(O,"flipUV",P)}}),y=f(O,"matURL"),y&&(w=new p(v,{key:g,type:"mat",cache:R,url:y,extension:f(O,"matExtension","mat"),xhrSettings:f(O,"xhrSettings")}))}else E=new p(v,{key:g,url:m,type:"obj",cache:R,extension:"obj",xhrSettings:M,config:{flipUV:P}}),y&&(w=new p(v,{key:g,url:y,type:"mat",cache:R,extension:"mat",xhrSettings:M}));o.call(this,v,"obj",g,[E,w])},addToCache:function(){if(this.isReadyToProcess()){var c=this.files[0],v=this.files[1],g=n(c.data,c.config.flipUV);v&&(g.materials=h(v.data)),c.cache.add(c.key,g),this.complete=!0}}});x.register("obj",function(c,v,g,m,y){var P;if(Array.isArray(c))for(var M=0;M<c.length;M++)P=new a(this,c[M]),this.addFile(P.files);else P=new a(this,c,v,g,m,y),this.addFile(P.files);return this}),r.exports=a},3616:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12117),f=i(76846),u=i(70806),o=new d({Extends:u,initialize:function(h,p,a,c,v){u.call(this,h,p,a,c,v),this.type="packfile"},onProcess:function(){if(this.state!==x.FILE_POPULATED&&(this.state=x.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var n={};n[this.config]=this.data,this.data=n}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});f.register("pack",function(n,h,p,a){if(Array.isArray(n))for(var c=0;c<n.length;c++)this.addFile(new o(this,n[c]));else this.addFile(new o(this,n,h,a,p));return this}),r.exports=o},12217:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12117),f=i(98035),u=i(76846),o=i(72632),n=i(42911),h=new d({Extends:f,initialize:function(a,c,v,g,m,y){var P="js";if(n(c)){var M=c;c=o(M,"key"),v=o(M,"url"),y=o(M,"xhrSettings"),P=o(M,"extension",P),g=o(M,"start"),m=o(M,"mapping")}var E={type:"plugin",cache:!1,extension:P,responseType:"text",key:c,url:v,xhrSettings:y,config:{start:g,mapping:m}};f.call(this,a,E),typeof v=="function"&&(this.data=v,this.state=x.FILE_POPULATED)},onProcess:function(){var p=this.loader.systems.plugins,a=this.config,c=o(a,"start",!1),v=o(a,"mapping",null);if(this.state===x.FILE_POPULATED)p.install(this.key,this.data,c,v);else{this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var g=p.install(this.key,window[this.key],c,v);(c||v)&&(this.loader.systems[v]=g,this.loader.scene[v]=g)}this.onProcessComplete()}});u.register("plugin",function(p,a,c,v,g){if(Array.isArray(p))for(var m=0;m<p.length;m++)this.addFile(new h(this,p[m]));else this.addFile(new h(this,p,a,c,v,g));return this}),r.exports=h},4474:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12117),f=i(98035),u=i(76846),o=i(72632),n=i(42911),h=new d({Extends:f,initialize:function(a,c,v,g,m){var y="svg";if(n(c)){var P=c;c=o(P,"key"),v=o(P,"url"),g=o(P,"svgConfig",{}),m=o(P,"xhrSettings"),y=o(P,"extension",y)}var M={type:"svg",cache:a.textureManager,extension:y,responseType:"text",key:c,url:v,xhrSettings:m,config:{width:o(g,"width"),height:o(g,"height"),scale:o(g,"scale")}};f.call(this,a,M)},onProcess:function(){this.state=x.FILE_PROCESSING;var p=this.xhrLoader.responseText,a=[p],c=this.config.width,v=this.config.height,g=this.config.scale;t:if(c&&v||g){var m=null,y=new DOMParser;m=y.parseFromString(p,"text/xml");var P=m.getElementsByTagName("svg")[0],M=P.hasAttribute("viewBox"),E=parseFloat(P.getAttribute("width")),w=parseFloat(P.getAttribute("height"));if(!M&&E&&w)P.setAttribute("viewBox","0  0 "+E+" "+w);else if(M&&!E&&!w){var R=P.getAttribute("viewBox").split(/\s+|,/);E=R[2],w=R[3]}if(g)if(E&&w)c=E*g,v=w*g;else break t;P.setAttribute("width",c.toString()+"px"),P.setAttribute("height",v.toString()+"px"),a=[new XMLSerializer().serializeToString(P)]}try{var O=new window.Blob(a,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var A=this,F=!1;this.data.onload=function(){F||f.revokeObjectURL(A.data),A.onProcessComplete()},this.data.onerror=function(){F?A.onProcessError():(F=!0,f.revokeObjectURL(A.data),A.data.src="data:image/svg+xml,"+encodeURIComponent(a.join("")))},f.createObjectURL(this.data,O,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});u.register("svg",function(p,a,c,v){if(Array.isArray(p))for(var g=0;g<p.length;g++)this.addFile(new h(this,p[g]));else this.addFile(new h(this,p,a,c,v));return this}),r.exports=h},95171:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12117),f=i(98035),u=i(76846),o=i(72632),n=i(42911),h=new d({Extends:f,initialize:function(a,c,v,g){var m="js";if(n(c)){var y=c;c=o(y,"key"),v=o(y,"url"),g=o(y,"xhrSettings"),m=o(y,"extension",m)}var P={type:"text",extension:m,responseType:"text",key:c,url:v,xhrSettings:g};f.call(this,a,P)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var p=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),a=eval;this.loader.sceneManager.add(this.key,a(p)),this.complete=!0}});u.register("sceneFile",function(p,a,c){if(Array.isArray(p))for(var v=0;v<p.length;v++)this.addFile(new h(this,p[v]));else this.addFile(new h(this,p,a,c));return this}),r.exports=h},82458:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12117),f=i(98035),u=i(76846),o=i(72632),n=i(42911),h=new d({Extends:f,initialize:function(a,c,v,g,m,y){var P="js";if(n(c)){var M=c;c=o(M,"key"),v=o(M,"url"),y=o(M,"xhrSettings"),P=o(M,"extension",P),g=o(M,"systemKey"),m=o(M,"sceneKey")}var E={type:"scenePlugin",cache:!1,extension:P,responseType:"text",key:c,url:v,xhrSettings:y,config:{systemKey:g,sceneKey:m}};f.call(this,a,E),typeof v=="function"&&(this.data=v,this.state=x.FILE_POPULATED)},onProcess:function(){var p=this.loader.systems.plugins,a=this.config,c=this.key,v=o(a,"systemKey",c),g=o(a,"sceneKey",c);this.state===x.FILE_POPULATED?p.installScenePlugin(v,this.data,g,this.loader.scene,!0):(this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),p.installScenePlugin(v,window[this.key],g,this.loader.scene,!0)),this.onProcessComplete()}});u.register("scenePlugin",function(p,a,c,v,g){if(Array.isArray(p))for(var m=0;m<p.length;m++)this.addFile(new h(this,p[m]));else this.addFile(new h(this,p,a,c,v,g));return this}),r.exports=h},55188:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12117),f=i(98035),u=i(76846),o=i(72632),n=i(42911),h=new d({Extends:f,initialize:function(a,c,v,g,m){var y="js";if(n(c)){var P=c;c=o(P,"key"),v=o(P,"url"),g=o(P,"type","script"),m=o(P,"xhrSettings"),y=o(P,"extension",y)}else g===void 0&&(g="script");var M={type:g,cache:!1,extension:y,responseType:"text",key:c,url:v,xhrSettings:m};f.call(this,a,M)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});u.register("script",function(p,a,c,v){if(Array.isArray(p))for(var g=0;g<p.length;g++)this.addFile(new h(this,p[g]));else this.addFile(new h(this,p,a,c,v));return this}),r.exports=h},33536:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12117),f=i(76846),u=i(42927),o=new d({Extends:u,initialize:function(h,p,a,c,v){u.call(this,h,p,a,v,c),this.type="spritesheet"},addToCache:function(){var n=this.linkFile;n?n.state>=x.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,n.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,n.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});f.register("spritesheet",function(n,h,p,a){if(Array.isArray(n))for(var c=0;c<n.length;c++)this.addFile(new o(this,n[c]));else this.addFile(new o(this,n,h,p,a));return this}),r.exports=o},86897:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12117),f=i(98035),u=i(76846),o=i(72632),n=i(42911),h=new d({Extends:f,initialize:function(a,c,v,g){var m="text",y="txt",P=a.cacheManager.text;if(n(c)){var M=c;c=o(M,"key"),v=o(M,"url"),g=o(M,"xhrSettings"),y=o(M,"extension",y),m=o(M,"type",m),P=o(M,"cache",P)}var E={type:m,cache:P,extension:y,responseType:"text",key:c,url:v,xhrSettings:g};f.call(this,a,E)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});u.register("text",function(p,a,c){if(Array.isArray(p))for(var v=0;v<p.length;v++)this.addFile(new h(this,p[v]));else this.addFile(new h(this,p,a,c));return this}),r.exports=h},58673:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12117),f=i(98035),u=i(76846),o=i(72632),n=i(42911),h=i(93560),p=new d({Extends:f,initialize:function(c,v,g,m){var y="csv";if(n(v)){var P=v;v=o(P,"key"),g=o(P,"url"),m=o(P,"xhrSettings"),y=o(P,"extension",y)}var M={type:"tilemapCSV",cache:c.cacheManager.tilemap,extension:y,responseType:"text",key:v,url:g,xhrSettings:m};f.call(this,c,M),this.tilemapFormat=h.CSV},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var a={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,a)}});u.register("tilemapCSV",function(a,c,v){if(Array.isArray(a))for(var g=0;g<a.length;g++)this.addFile(new p(this,a[g]));else this.addFile(new p(this,a,c,v));return this}),r.exports=p},98896:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(76846),f=i(70806),u=i(93560),o=new d({Extends:f,initialize:function(h,p,a,c){f.call(this,h,p,a,c),this.type="tilemapJSON",this.cache=h.cacheManager.tilemap},addToCache:function(){var n={format:u.WELTMEISTER,data:this.data};this.cache.add(this.key,n)}});x.register("tilemapImpact",function(n,h,p){if(Array.isArray(n))for(var a=0;a<n.length;a++)this.addFile(new o(this,n[a]));else this.addFile(new o(this,n,h,p));return this}),r.exports=o},50563:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(76846),f=i(70806),u=i(93560),o=new d({Extends:f,initialize:function(h,p,a,c){f.call(this,h,p,a,c),this.type="tilemapJSON",this.cache=h.cacheManager.tilemap},addToCache:function(){var n={format:u.TILED_JSON,data:this.data};this.cache.add(this.key,n)}});x.register("tilemapTiledJSON",function(n,h,p){if(Array.isArray(n))for(var a=0;a<n.length;a++)this.addFile(new o(this,n[a]));else this.addFile(new o(this,n,h,p));return this}),r.exports=o},82857:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(76846),f=i(72632),u=i(42927),o=i(42911),n=i(45176),h=i(86897),p=new d({Extends:n,initialize:function(c,v,g,m,y,P){var M,E;if(o(v)){var w=v;v=f(w,"key"),M=new u(c,{key:v,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),E=new h(c,{key:v,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","txt"),xhrSettings:f(w,"atlasXhrSettings")})}else M=new u(c,v,g,y),E=new h(c,v,m,P);M.linkFile?n.call(this,c,"unityatlas",v,[M,E,M.linkFile]):n.call(this,c,"unityatlas",v,[M,E])},addToCache:function(){if(this.isReadyToProcess()){var a=this.files[0],c=this.files[1],v=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(a.key,a.data,c.data,v),this.complete=!0}}});x.register("unityAtlas",function(a,c,v,g,m){var y;if(Array.isArray(a))for(var P=0;P<a.length;P++)y=new p(this,a[P]),this.addFile(y.files);else y=new p(this,a,c,v,g,m),this.addFile(y.files);return this}),r.exports=p},22833:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12117),f=i(98035),u=i(76846),o=i(30750),n=i(72632),h=i(42911),p=new d({Extends:f,initialize:function(c,v,g,m){if(m===void 0&&(m=!1),h(v)){var y=v;v=n(y,"key"),g=n(y,"url",[]),m=n(y,"noAudio",!1)}var P=c.systems.game.device.video.getVideoURL(g);P||console.warn("VideoFile: No supported format for "+v);var M={type:"video",cache:c.cacheManager.video,extension:P.type,key:v,url:P.url,config:{noAudio:m}};f.call(this,c,M)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=o(this,this.loader.baseURL),this.state=x.FILE_LOADED,this.loader.nextFile(this,!0)}});u.register("video",function(a,c,v){if(Array.isArray(a))for(var g=0;g<a.length;g++)this.addFile(new p(this,a[g]));else this.addFile(new p(this,a,c,v));return this}),r.exports=p},15297:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12117),f=i(98035),u=i(76846),o=i(72632),n=i(42911),h=i(89200),p=new d({Extends:f,initialize:function(c,v,g,m){var y="xml";if(n(v)){var P=v;v=o(P,"key"),g=o(P,"url"),m=o(P,"xhrSettings"),y=o(P,"extension",y)}var M={type:"xml",cache:c.cacheManager.xml,extension:y,responseType:"text",key:v,url:g,xhrSettings:m};f.call(this,c,M)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=h(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});u.register("xml",function(a,c,v){if(Array.isArray(a))for(var g=0;g<a.length;g++)this.addFile(new p(this,a[g]));else this.addFile(new p(this,a,c,v));return this}),r.exports=p},34034:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AnimationJSONFile:i(46468),AsepriteFile:i(31648),AtlasJSONFile:i(73152),AtlasXMLFile:i(24616),AudioFile:i(67448),AudioSpriteFile:i(66109),BinaryFile:i(40612),BitmapFontFile:i(54565),CompressedTextureFile:i(47375),CSSFile:i(99898),GLSLFile:i(46568),HTML5AudioFile:i(30929),HTMLFile:i(77459),HTMLTextureFile:i(9755),ImageFile:i(42927),JSONFile:i(70806),MultiAtlasFile:i(80802),MultiScriptFile:i(39034),OBJFile:i(85527),PackFile:i(3616),PluginFile:i(12217),SceneFile:i(95171),ScenePluginFile:i(82458),ScriptFile:i(55188),SpriteSheetFile:i(33536),SVGFile:i(4474),TextFile:i(86897),TilemapCSVFile:i(58673),TilemapImpactFile:i(98896),TilemapJSONFile:i(50563),UnityAtlasFile:i(82857),VideoFile:i(22833),XMLFile:i(15297)}},95695:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(12117),x=i(98611),f={Events:i(683),FileTypes:i(34034),File:i(98035),FileTypesManager:i(76846),GetURL:i(30750),LoaderPlugin:i(67285),MergeXHRSettings:i(43531),MultiFile:i(45176),XHRLoader:i(88490),XHRSettings:i(33868)};f=x(!1,f,d),r.exports=f},26042:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){for(var d=0,x=0;x<i.length;x++)d+=+i[x];return d/i.length};r.exports=T},22824:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(8034),x=function(f,u){return d(f)/d(u)/d(f-u)};r.exports=x},17489:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return Math.floor(Math.random()*(d-i+1)+i)};r.exports=T},14976:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f,u){var o=(f-d)*.5,n=(u-x)*.5,h=i*i,p=i*h;return(2*x-2*f+o+n)*p+(-3*x+3*f-2*o-n)*h+o*i+x};r.exports=T},89129:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){d===void 0&&(d=0),x===void 0&&(x=10);var f=Math.pow(x,-d);return Math.ceil(i*f)/f};r.exports=T},82897:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return Math.max(d,Math.min(x,i))};r.exports=T},75606:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(83392),x=function(f){return f*d.DEG_TO_RAD};r.exports=x},767:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return Math.abs(i-d)};r.exports=T},9849:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(82897),x=i(56694),f=i(16650),u=i(72283),o=new f,n=new x({initialize:function h(p,a,c,v){p===void 0&&(p=0),a===void 0&&(a=0),c===void 0&&(c=0),v===void 0&&(v=h.DefaultOrder),this._x=p,this._y=a,this._z=c,this._order=v,this.onChangeCallback=u},x:{get:function(){return this._x},set:function(h){this._x=h,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(h){this._y=h,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(h){this._z=h,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(h){this._order=h,this.onChangeCallback(this)}},set:function(h,p,a,c){return c===void 0&&(c=this._order),this._x=h,this._y=p,this._z=a,this._order=c,this.onChangeCallback(this),this},copy:function(h){return this.set(h.x,h.y,h.z,h.order)},setFromQuaternion:function(h,p,a){return p===void 0&&(p=this._order),a===void 0&&(a=!1),o.fromQuat(h),this.setFromRotationMatrix(o,p,a)},setFromRotationMatrix:function(h,p,a){p===void 0&&(p=this._order),a===void 0&&(a=!1);var c=h.val,v=c[0],g=c[4],m=c[8],y=c[1],P=c[5],M=c[9],E=c[2],w=c[6],R=c[10],O=0,A=0,F=0,L=.99999;switch(p){case"XYZ":{A=Math.asin(d(m,-1,1)),Math.abs(m)<L?(O=Math.atan2(-M,R),F=Math.atan2(-g,v)):O=Math.atan2(w,P);break}case"YXZ":{O=Math.asin(-d(M,-1,1)),Math.abs(M)<L?(A=Math.atan2(m,R),F=Math.atan2(y,P)):A=Math.atan2(-E,v);break}case"ZXY":{O=Math.asin(d(w,-1,1)),Math.abs(w)<L?(A=Math.atan2(-E,R),F=Math.atan2(-g,P)):F=Math.atan2(y,v);break}case"ZYX":{A=Math.asin(-d(E,-1,1)),Math.abs(E)<L?(O=Math.atan2(w,R),F=Math.atan2(y,v)):F=Math.atan2(-g,P);break}case"YZX":{F=Math.asin(d(y,-1,1)),Math.abs(y)<L?(O=Math.atan2(-M,P),A=Math.atan2(-E,v)):A=Math.atan2(m,R);break}case"XZY":{F=Math.asin(-d(g,-1,1)),Math.abs(g)<L?(O=Math.atan2(w,P),A=Math.atan2(m,v)):O=Math.atan2(-M,R);break}}return this._x=O,this._y=A,this._z=F,this._order=p,a&&this.onChangeCallback(this),this}});n.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],n.DefaultOrder="XYZ",r.exports=n},8034:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){if(i===0)return 1;for(var d=i;--i;)d*=i;return d};r.exports=T},61616:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return Math.random()*(d-i)+i};r.exports=T},60679:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){d===void 0&&(d=0),x===void 0&&(x=10);var f=Math.pow(x,-d);return Math.floor(i*f)/f};r.exports=T},91806:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(82897),x=function(f,u,o){return f=d(f,0,1),(o-u)*f+u};r.exports=x},79366:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return i/d/1e3};r.exports=T},43776:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i==parseFloat(i)?!(i%2):void 0};r.exports=T},58442:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i===parseFloat(i)?!(i%2):void 0};r.exports=T},42798:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return(d-i)*x+i};r.exports=T},61072:r=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return x===void 0&&(x=0),i.clone().lerp(d,x)};r.exports=T},5341:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=new d({initialize:function(u){this.val=new Float32Array(9),u?this.copy(u):this.identity()},clone:function(){return new x(this)},set:function(f){return this.copy(f)},copy:function(f){var u=this.val,o=f.val;return u[0]=o[0],u[1]=o[1],u[2]=o[2],u[3]=o[3],u[4]=o[4],u[5]=o[5],u[6]=o[6],u[7]=o[7],u[8]=o[8],this},fromMat4:function(f){var u=f.val,o=this.val;return o[0]=u[0],o[1]=u[1],o[2]=u[2],o[3]=u[4],o[4]=u[5],o[5]=u[6],o[6]=u[8],o[7]=u[9],o[8]=u[10],this},fromArray:function(f){var u=this.val;return u[0]=f[0],u[1]=f[1],u[2]=f[2],u[3]=f[3],u[4]=f[4],u[5]=f[5],u[6]=f[6],u[7]=f[7],u[8]=f[8],this},identity:function(){var f=this.val;return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=0,f[7]=0,f[8]=1,this},transpose:function(){var f=this.val,u=f[1],o=f[2],n=f[5];return f[1]=f[3],f[2]=f[6],f[3]=u,f[5]=f[7],f[6]=o,f[7]=n,this},invert:function(){var f=this.val,u=f[0],o=f[1],n=f[2],h=f[3],p=f[4],a=f[5],c=f[6],v=f[7],g=f[8],m=g*p-a*v,y=-g*h+a*c,P=v*h-p*c,M=u*m+o*y+n*P;return M?(M=1/M,f[0]=m*M,f[1]=(-g*o+n*v)*M,f[2]=(a*o-n*p)*M,f[3]=y*M,f[4]=(g*u-n*c)*M,f[5]=(-a*u+n*h)*M,f[6]=P*M,f[7]=(-v*u+o*c)*M,f[8]=(p*u-o*h)*M,this):null},adjoint:function(){var f=this.val,u=f[0],o=f[1],n=f[2],h=f[3],p=f[4],a=f[5],c=f[6],v=f[7],g=f[8];return f[0]=p*g-a*v,f[1]=n*v-o*g,f[2]=o*a-n*p,f[3]=a*c-h*g,f[4]=u*g-n*c,f[5]=n*h-u*a,f[6]=h*v-p*c,f[7]=o*c-u*v,f[8]=u*p-o*h,this},determinant:function(){var f=this.val,u=f[0],o=f[1],n=f[2],h=f[3],p=f[4],a=f[5],c=f[6],v=f[7],g=f[8];return u*(g*p-a*v)+o*(-g*h+a*c)+n*(v*h-p*c)},multiply:function(f){var u=this.val,o=u[0],n=u[1],h=u[2],p=u[3],a=u[4],c=u[5],v=u[6],g=u[7],m=u[8],y=f.val,P=y[0],M=y[1],E=y[2],w=y[3],R=y[4],O=y[5],A=y[6],F=y[7],L=y[8];return u[0]=P*o+M*p+E*v,u[1]=P*n+M*a+E*g,u[2]=P*h+M*c+E*m,u[3]=w*o+R*p+O*v,u[4]=w*n+R*a+O*g,u[5]=w*h+R*c+O*m,u[6]=A*o+F*p+L*v,u[7]=A*n+F*a+L*g,u[8]=A*h+F*c+L*m,this},translate:function(f){var u=this.val,o=f.x,n=f.y;return u[6]=o*u[0]+n*u[3]+u[6],u[7]=o*u[1]+n*u[4]+u[7],u[8]=o*u[2]+n*u[5]+u[8],this},rotate:function(f){var u=this.val,o=u[0],n=u[1],h=u[2],p=u[3],a=u[4],c=u[5],v=Math.sin(f),g=Math.cos(f);return u[0]=g*o+v*p,u[1]=g*n+v*a,u[2]=g*h+v*c,u[3]=g*p-v*o,u[4]=g*a-v*n,u[5]=g*c-v*h,this},scale:function(f){var u=this.val,o=f.x,n=f.y;return u[0]=o*u[0],u[1]=o*u[1],u[2]=o*u[2],u[3]=n*u[3],u[4]=n*u[4],u[5]=n*u[5],this},fromQuat:function(f){var u=f.x,o=f.y,n=f.z,h=f.w,p=u+u,a=o+o,c=n+n,v=u*p,g=u*a,m=u*c,y=o*a,P=o*c,M=n*c,E=h*p,w=h*a,R=h*c,O=this.val;return O[0]=1-(y+M),O[3]=g+R,O[6]=m-w,O[1]=g-R,O[4]=1-(v+M),O[7]=P+E,O[2]=m+w,O[5]=P-E,O[8]=1-(v+y),this},normalFromMat4:function(f){var u=f.val,o=this.val,n=u[0],h=u[1],p=u[2],a=u[3],c=u[4],v=u[5],g=u[6],m=u[7],y=u[8],P=u[9],M=u[10],E=u[11],w=u[12],R=u[13],O=u[14],A=u[15],F=n*v-h*c,L=n*g-p*c,I=n*m-a*c,B=h*g-p*v,b=h*m-a*v,k=p*m-a*g,U=y*R-P*w,Y=y*O-M*w,H=y*A-E*w,z=P*O-M*R,V=P*A-E*R,D=M*A-E*O,G=F*D-L*V+I*z+B*H-b*Y+k*U;return G?(G=1/G,o[0]=(v*D-g*V+m*z)*G,o[1]=(g*H-c*D-m*Y)*G,o[2]=(c*V-v*H+m*U)*G,o[3]=(p*V-h*D-a*z)*G,o[4]=(n*D-p*H+a*Y)*G,o[5]=(h*H-n*V-a*U)*G,o[6]=(R*k-O*b+A*B)*G,o[7]=(O*I-w*k-A*L)*G,o[8]=(w*b-R*I+A*F)*G,this):null}});r.exports=x},16650:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(70015),f=1e-6,u=new d({initialize:function(v){this.val=new Float32Array(16),v?this.copy(v):this.identity()},clone:function(){return new u(this)},set:function(c){return this.copy(c)},setValues:function(c,v,g,m,y,P,M,E,w,R,O,A,F,L,I,B){var b=this.val;return b[0]=c,b[1]=v,b[2]=g,b[3]=m,b[4]=y,b[5]=P,b[6]=M,b[7]=E,b[8]=w,b[9]=R,b[10]=O,b[11]=A,b[12]=F,b[13]=L,b[14]=I,b[15]=B,this},copy:function(c){var v=c.val;return this.setValues(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15])},fromArray:function(c){return this.setValues(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(c,v,g){var m=o.fromQuat(g),y=m.val,P=v.x,M=v.y,E=v.z;return this.setValues(y[0]*P,y[1]*P,y[2]*P,0,y[4]*M,y[5]*M,y[6]*M,0,y[8]*E,y[9]*E,y[10]*E,0,c.x,c.y,c.z,1)},xyz:function(c,v,g){this.identity();var m=this.val;return m[12]=c,m[13]=v,m[14]=g,this},scaling:function(c,v,g){this.zero();var m=this.val;return m[0]=c,m[5]=v,m[10]=g,m[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var c=this.val,v=c[1],g=c[2],m=c[3],y=c[6],P=c[7],M=c[11];return c[1]=c[4],c[2]=c[8],c[3]=c[12],c[4]=v,c[6]=c[9],c[7]=c[13],c[8]=g,c[9]=y,c[11]=c[14],c[12]=m,c[13]=P,c[14]=M,this},getInverse:function(c){return this.copy(c),this.invert()},invert:function(){var c=this.val,v=c[0],g=c[1],m=c[2],y=c[3],P=c[4],M=c[5],E=c[6],w=c[7],R=c[8],O=c[9],A=c[10],F=c[11],L=c[12],I=c[13],B=c[14],b=c[15],k=v*M-g*P,U=v*E-m*P,Y=v*w-y*P,H=g*E-m*M,z=g*w-y*M,V=m*w-y*E,D=R*I-O*L,G=R*B-A*L,N=R*b-F*L,X=O*B-A*I,W=O*b-F*I,$=A*b-F*B,K=k*$-U*W+Y*X+H*N-z*G+V*D;return K?(K=1/K,this.setValues((M*$-E*W+w*X)*K,(m*W-g*$-y*X)*K,(I*V-B*z+b*H)*K,(A*z-O*V-F*H)*K,(E*N-P*$-w*G)*K,(v*$-m*N+y*G)*K,(B*Y-L*V-b*U)*K,(R*V-A*Y+F*U)*K,(P*W-M*N+w*D)*K,(g*N-v*W-y*D)*K,(L*z-I*Y+b*k)*K,(O*Y-R*z-F*k)*K,(M*G-P*X-E*D)*K,(v*X-g*G+m*D)*K,(I*U-L*H-B*k)*K,(R*H-O*U+A*k)*K)):this},adjoint:function(){var c=this.val,v=c[0],g=c[1],m=c[2],y=c[3],P=c[4],M=c[5],E=c[6],w=c[7],R=c[8],O=c[9],A=c[10],F=c[11],L=c[12],I=c[13],B=c[14],b=c[15];return this.setValues(M*(A*b-F*B)-O*(E*b-w*B)+I*(E*F-w*A),-(g*(A*b-F*B)-O*(m*b-y*B)+I*(m*F-y*A)),g*(E*b-w*B)-M*(m*b-y*B)+I*(m*w-y*E),-(g*(E*F-w*A)-M*(m*F-y*A)+O*(m*w-y*E)),-(P*(A*b-F*B)-R*(E*b-w*B)+L*(E*F-w*A)),v*(A*b-F*B)-R*(m*b-y*B)+L*(m*F-y*A),-(v*(E*b-w*B)-P*(m*b-y*B)+L*(m*w-y*E)),v*(E*F-w*A)-P*(m*F-y*A)+R*(m*w-y*E),P*(O*b-F*I)-R*(M*b-w*I)+L*(M*F-w*O),-(v*(O*b-F*I)-R*(g*b-y*I)+L*(g*F-y*O)),v*(M*b-w*I)-P*(g*b-y*I)+L*(g*w-y*M),-(v*(M*F-w*O)-P*(g*F-y*O)+R*(g*w-y*M)),-(P*(O*B-A*I)-R*(M*B-E*I)+L*(M*A-E*O)),v*(O*B-A*I)-R*(g*B-m*I)+L*(g*A-m*O),-(v*(M*B-E*I)-P*(g*B-m*I)+L*(g*E-m*M)),v*(M*A-E*O)-P*(g*A-m*O)+R*(g*E-m*M))},determinant:function(){var c=this.val,v=c[0],g=c[1],m=c[2],y=c[3],P=c[4],M=c[5],E=c[6],w=c[7],R=c[8],O=c[9],A=c[10],F=c[11],L=c[12],I=c[13],B=c[14],b=c[15],k=v*M-g*P,U=v*E-m*P,Y=v*w-y*P,H=g*E-m*M,z=g*w-y*M,V=m*w-y*E,D=R*I-O*L,G=R*B-A*L,N=R*b-F*L,X=O*B-A*I,W=O*b-F*I,$=A*b-F*B;return k*$-U*W+Y*X+H*N-z*G+V*D},multiply:function(c){var v=this.val,g=v[0],m=v[1],y=v[2],P=v[3],M=v[4],E=v[5],w=v[6],R=v[7],O=v[8],A=v[9],F=v[10],L=v[11],I=v[12],B=v[13],b=v[14],k=v[15],U=c.val,Y=U[0],H=U[1],z=U[2],V=U[3];return v[0]=Y*g+H*M+z*O+V*I,v[1]=Y*m+H*E+z*A+V*B,v[2]=Y*y+H*w+z*F+V*b,v[3]=Y*P+H*R+z*L+V*k,Y=U[4],H=U[5],z=U[6],V=U[7],v[4]=Y*g+H*M+z*O+V*I,v[5]=Y*m+H*E+z*A+V*B,v[6]=Y*y+H*w+z*F+V*b,v[7]=Y*P+H*R+z*L+V*k,Y=U[8],H=U[9],z=U[10],V=U[11],v[8]=Y*g+H*M+z*O+V*I,v[9]=Y*m+H*E+z*A+V*B,v[10]=Y*y+H*w+z*F+V*b,v[11]=Y*P+H*R+z*L+V*k,Y=U[12],H=U[13],z=U[14],V=U[15],v[12]=Y*g+H*M+z*O+V*I,v[13]=Y*m+H*E+z*A+V*B,v[14]=Y*y+H*w+z*F+V*b,v[15]=Y*P+H*R+z*L+V*k,this},multiplyLocal:function(c){var v=this.val,g=c.val;return this.setValues(v[0]*g[0]+v[1]*g[4]+v[2]*g[8]+v[3]*g[12],v[0]*g[1]+v[1]*g[5]+v[2]*g[9]+v[3]*g[13],v[0]*g[2]+v[1]*g[6]+v[2]*g[10]+v[3]*g[14],v[0]*g[3]+v[1]*g[7]+v[2]*g[11]+v[3]*g[15],v[4]*g[0]+v[5]*g[4]+v[6]*g[8]+v[7]*g[12],v[4]*g[1]+v[5]*g[5]+v[6]*g[9]+v[7]*g[13],v[4]*g[2]+v[5]*g[6]+v[6]*g[10]+v[7]*g[14],v[4]*g[3]+v[5]*g[7]+v[6]*g[11]+v[7]*g[15],v[8]*g[0]+v[9]*g[4]+v[10]*g[8]+v[11]*g[12],v[8]*g[1]+v[9]*g[5]+v[10]*g[9]+v[11]*g[13],v[8]*g[2]+v[9]*g[6]+v[10]*g[10]+v[11]*g[14],v[8]*g[3]+v[9]*g[7]+v[10]*g[11]+v[11]*g[15],v[12]*g[0]+v[13]*g[4]+v[14]*g[8]+v[15]*g[12],v[12]*g[1]+v[13]*g[5]+v[14]*g[9]+v[15]*g[13],v[12]*g[2]+v[13]*g[6]+v[14]*g[10]+v[15]*g[14],v[12]*g[3]+v[13]*g[7]+v[14]*g[11]+v[15]*g[15])},premultiply:function(c){return this.multiplyMatrices(c,this)},multiplyMatrices:function(c,v){var g=c.val,m=v.val,y=g[0],P=g[4],M=g[8],E=g[12],w=g[1],R=g[5],O=g[9],A=g[13],F=g[2],L=g[6],I=g[10],B=g[14],b=g[3],k=g[7],U=g[11],Y=g[15],H=m[0],z=m[4],V=m[8],D=m[12],G=m[1],N=m[5],X=m[9],W=m[13],$=m[2],K=m[6],j=m[10],Z=m[14],J=m[3],Q=m[7],_=m[11],q=m[15];return this.setValues(y*H+P*G+M*$+E*J,w*H+R*G+O*$+A*J,F*H+L*G+I*$+B*J,b*H+k*G+U*$+Y*J,y*z+P*N+M*K+E*Q,w*z+R*N+O*K+A*Q,F*z+L*N+I*K+B*Q,b*z+k*N+U*K+Y*Q,y*V+P*X+M*j+E*_,w*V+R*X+O*j+A*_,F*V+L*X+I*j+B*_,b*V+k*X+U*j+Y*_,y*D+P*W+M*Z+E*q,w*D+R*W+O*Z+A*q,F*D+L*W+I*Z+B*q,b*D+k*W+U*Z+Y*q)},translate:function(c){return this.translateXYZ(c.x,c.y,c.z)},translateXYZ:function(c,v,g){var m=this.val;return m[12]=m[0]*c+m[4]*v+m[8]*g+m[12],m[13]=m[1]*c+m[5]*v+m[9]*g+m[13],m[14]=m[2]*c+m[6]*v+m[10]*g+m[14],m[15]=m[3]*c+m[7]*v+m[11]*g+m[15],this},scale:function(c){return this.scaleXYZ(c.x,c.y,c.z)},scaleXYZ:function(c,v,g){var m=this.val;return m[0]=m[0]*c,m[1]=m[1]*c,m[2]=m[2]*c,m[3]=m[3]*c,m[4]=m[4]*v,m[5]=m[5]*v,m[6]=m[6]*v,m[7]=m[7]*v,m[8]=m[8]*g,m[9]=m[9]*g,m[10]=m[10]*g,m[11]=m[11]*g,this},makeRotationAxis:function(c,v){var g=Math.cos(v),m=Math.sin(v),y=1-g,P=c.x,M=c.y,E=c.z,w=y*P,R=y*M;return this.setValues(w*P+g,w*M-m*E,w*E+m*M,0,w*M+m*E,R*M+g,R*E-m*P,0,w*E-m*M,R*E+m*P,y*E*E+g,0,0,0,0,1)},rotate:function(c,v){var g=this.val,m=v.x,y=v.y,P=v.z,M=Math.sqrt(m*m+y*y+P*P);if(Math.abs(M)<f)return this;M=1/M,m*=M,y*=M,P*=M;var E=Math.sin(c),w=Math.cos(c),R=1-w,O=g[0],A=g[1],F=g[2],L=g[3],I=g[4],B=g[5],b=g[6],k=g[7],U=g[8],Y=g[9],H=g[10],z=g[11],V=g[12],D=g[13],G=g[14],N=g[15],X=m*m*R+w,W=y*m*R+P*E,$=P*m*R-y*E,K=m*y*R-P*E,j=y*y*R+w,Z=P*y*R+m*E,J=m*P*R+y*E,Q=y*P*R-m*E,_=P*P*R+w;return this.setValues(O*X+I*W+U*$,A*X+B*W+Y*$,F*X+b*W+H*$,L*X+k*W+z*$,O*K+I*j+U*Z,A*K+B*j+Y*Z,F*K+b*j+H*Z,L*K+k*j+z*Z,O*J+I*Q+U*_,A*J+B*Q+Y*_,F*J+b*Q+H*_,L*J+k*Q+z*_,V,D,G,N)},rotateX:function(c){var v=this.val,g=Math.sin(c),m=Math.cos(c),y=v[4],P=v[5],M=v[6],E=v[7],w=v[8],R=v[9],O=v[10],A=v[11];return v[4]=y*m+w*g,v[5]=P*m+R*g,v[6]=M*m+O*g,v[7]=E*m+A*g,v[8]=w*m-y*g,v[9]=R*m-P*g,v[10]=O*m-M*g,v[11]=A*m-E*g,this},rotateY:function(c){var v=this.val,g=Math.sin(c),m=Math.cos(c),y=v[0],P=v[1],M=v[2],E=v[3],w=v[8],R=v[9],O=v[10],A=v[11];return v[0]=y*m-w*g,v[1]=P*m-R*g,v[2]=M*m-O*g,v[3]=E*m-A*g,v[8]=y*g+w*m,v[9]=P*g+R*m,v[10]=M*g+O*m,v[11]=E*g+A*m,this},rotateZ:function(c){var v=this.val,g=Math.sin(c),m=Math.cos(c),y=v[0],P=v[1],M=v[2],E=v[3],w=v[4],R=v[5],O=v[6],A=v[7];return v[0]=y*m+w*g,v[1]=P*m+R*g,v[2]=M*m+O*g,v[3]=E*m+A*g,v[4]=w*m-y*g,v[5]=R*m-P*g,v[6]=O*m-M*g,v[7]=A*m-E*g,this},fromRotationTranslation:function(c,v){var g=c.x,m=c.y,y=c.z,P=c.w,M=g+g,E=m+m,w=y+y,R=g*M,O=g*E,A=g*w,F=m*E,L=m*w,I=y*w,B=P*M,b=P*E,k=P*w;return this.setValues(1-(F+I),O+k,A-b,0,O-k,1-(R+I),L+B,0,A+b,L-B,1-(R+F),0,v.x,v.y,v.z,1)},fromQuat:function(c){var v=c.x,g=c.y,m=c.z,y=c.w,P=v+v,M=g+g,E=m+m,w=v*P,R=v*M,O=v*E,A=g*M,F=g*E,L=m*E,I=y*P,B=y*M,b=y*E;return this.setValues(1-(A+L),R+b,O-B,0,R-b,1-(w+L),F+I,0,O+B,F-I,1-(w+A),0,0,0,0,1)},frustum:function(c,v,g,m,y,P){var M=1/(v-c),E=1/(m-g),w=1/(y-P);return this.setValues(y*2*M,0,0,0,0,y*2*E,0,0,(v+c)*M,(m+g)*E,(P+y)*w,-1,0,0,P*y*2*w,0)},perspective:function(c,v,g,m){var y=1/Math.tan(c/2),P=1/(g-m);return this.setValues(y/v,0,0,0,0,y,0,0,0,0,(m+g)*P,-1,0,0,2*m*g*P,0)},perspectiveLH:function(c,v,g,m){return this.setValues(2*g/c,0,0,0,0,2*g/v,0,0,0,0,-m/(g-m),1,0,0,g*m/(g-m),0)},ortho:function(c,v,g,m,y,P){var M=c-v,E=g-m,w=y-P;return M=M===0?M:1/M,E=E===0?E:1/E,w=w===0?w:1/w,this.setValues(-2*M,0,0,0,0,-2*E,0,0,0,0,2*w,0,(c+v)*M,(m+g)*E,(P+y)*w,1)},lookAtRH:function(c,v,g){var m=this.val;return a.subVectors(c,v),a.getLengthSquared()===0&&(a.z=1),a.normalize(),h.crossVectors(g,a),h.getLengthSquared()===0&&(Math.abs(g.z)===1?a.x+=1e-4:a.z+=1e-4,a.normalize(),h.crossVectors(g,a)),h.normalize(),p.crossVectors(a,h),m[0]=h.x,m[1]=h.y,m[2]=h.z,m[4]=p.x,m[5]=p.y,m[6]=p.z,m[8]=a.x,m[9]=a.y,m[10]=a.z,this},lookAt:function(c,v,g){var m=c.x,y=c.y,P=c.z,M=g.x,E=g.y,w=g.z,R=v.x,O=v.y,A=v.z;if(Math.abs(m-R)<f&&Math.abs(y-O)<f&&Math.abs(P-A)<f)return this.identity();var F=m-R,L=y-O,I=P-A,B=1/Math.sqrt(F*F+L*L+I*I);F*=B,L*=B,I*=B;var b=E*I-w*L,k=w*F-M*I,U=M*L-E*F;B=Math.sqrt(b*b+k*k+U*U),B?(B=1/B,b*=B,k*=B,U*=B):(b=0,k=0,U=0);var Y=L*U-I*k,H=I*b-F*U,z=F*k-L*b;return B=Math.sqrt(Y*Y+H*H+z*z),B?(B=1/B,Y*=B,H*=B,z*=B):(Y=0,H=0,z=0),this.setValues(b,Y,F,0,k,H,L,0,U,z,I,0,-(b*m+k*y+U*P),-(Y*m+H*y+z*P),-(F*m+L*y+I*P),1)},yawPitchRoll:function(c,v,g){this.zero(),o.zero(),n.zero();var m=this.val,y=o.val,P=n.val,M=Math.sin(g),E=Math.cos(g);return m[10]=1,m[15]=1,m[0]=E,m[1]=M,m[4]=-M,m[5]=E,M=Math.sin(v),E=Math.cos(v),y[0]=1,y[15]=1,y[5]=E,y[10]=E,y[9]=-M,y[6]=M,M=Math.sin(c),E=Math.cos(c),P[5]=1,P[15]=1,P[0]=E,P[2]=-M,P[8]=M,P[10]=E,this.multiplyLocal(o),this.multiplyLocal(n),this},setWorldMatrix:function(c,v,g,m,y){return this.yawPitchRoll(c.y,c.x,c.z),o.scaling(g.x,g.y,g.z),n.xyz(v.x,v.y,v.z),this.multiplyLocal(o),this.multiplyLocal(n),m&&this.multiplyLocal(m),y&&this.multiplyLocal(y),this},multiplyToMat4:function(c,v){var g=this.val,m=c.val,y=g[0],P=g[1],M=g[2],E=g[3],w=g[4],R=g[5],O=g[6],A=g[7],F=g[8],L=g[9],I=g[10],B=g[11],b=g[12],k=g[13],U=g[14],Y=g[15],H=m[0],z=m[1],V=m[2],D=m[3],G=m[4],N=m[5],X=m[6],W=m[7],$=m[8],K=m[9],j=m[10],Z=m[11],J=m[12],Q=m[13],_=m[14],q=m[15];return v.setValues(H*y+z*w+V*F+D*b,z*P+z*R+V*L+D*k,V*M+z*O+V*I+D*U,D*E+z*A+V*B+D*Y,G*y+N*w+X*F+W*b,G*P+N*R+X*L+W*k,G*M+N*O+X*I+W*U,G*E+N*A+X*B+W*Y,$*y+K*w+j*F+Z*b,$*P+K*R+j*L+Z*k,$*M+K*O+j*I+Z*U,$*E+K*A+j*B+Z*Y,J*y+Q*w+_*F+q*b,J*P+Q*R+_*L+q*k,J*M+Q*O+_*I+q*U,J*E+Q*A+_*B+q*Y)},fromRotationXYTranslation:function(c,v,g){var m=v.x,y=v.y,P=v.z,M=Math.sin(c.x),E=Math.cos(c.x),w=Math.sin(c.y),R=Math.cos(c.y),O=m,A=y,F=P,L=-M,I=0-L*w,B=0-E*w,b=L*R,k=E*R;return g||(O=R*m+w*P,A=I*m+E*y+b*P,F=B*m+M*y+k*P),this.setValues(R,I,B,0,0,E,M,0,w,b,k,0,O,A,F,1)},getMaxScaleOnAxis:function(){var c=this.val,v=c[0]*c[0]+c[1]*c[1]+c[2]*c[2],g=c[4]*c[4]+c[5]*c[5]+c[6]*c[6],m=c[8]*c[8]+c[9]*c[9]+c[10]*c[10];return Math.sqrt(Math.max(v,g,m))}}),o=new u,n=new u,h=new x,p=new x,a=new x;r.exports=u},69635:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return Math.min(i+d,x)};r.exports=T},37394:r=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var d=i.length;if(d===0)return 0;i.sort(function(f,u){return f-u});var x=Math.floor(d/2);return d%2===0?(i[x]+i[x-1])/2:i[x]};r.exports=T},17259:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return Math.max(i-d,x)};r.exports=T},61820:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){x===void 0&&(x=d+1);var u=(i-d)/(x-d);return u>1?f!==void 0?(u=(f-i)/(f-x),u<0&&(u=0)):u=1:u<0&&(u=0),u};r.exports=T},75003:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(5341),f=i(72283),u=i(70015),o=1e-6,n=new Int8Array([1,2,0]),h=new Float32Array([0,0,0]),p=new u(1,0,0),a=new u(0,1,0),c=new u,v=new x,g=new d({initialize:function(y,P,M,E){this.onChangeCallback=f,this.set(y,P,M,E)},x:{get:function(){return this._x},set:function(m){this._x=m,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(m){this._y=m,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(m){this._z=m,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(m){this._w=m,this.onChangeCallback(this)}},copy:function(m){return this.set(m)},set:function(m,y,P,M,E){return E===void 0&&(E=!0),typeof m=="object"?(this._x=m.x||0,this._y=m.y||0,this._z=m.z||0,this._w=m.w||0):(this._x=m||0,this._y=y||0,this._z=P||0,this._w=M||0),E&&this.onChangeCallback(this),this},add:function(m){return this._x+=m.x,this._y+=m.y,this._z+=m.z,this._w+=m.w,this.onChangeCallback(this),this},subtract:function(m){return this._x-=m.x,this._y-=m.y,this._z-=m.z,this._w-=m.w,this.onChangeCallback(this),this},scale:function(m){return this._x*=m,this._y*=m,this._z*=m,this._w*=m,this.onChangeCallback(this),this},length:function(){var m=this.x,y=this.y,P=this.z,M=this.w;return Math.sqrt(m*m+y*y+P*P+M*M)},lengthSq:function(){var m=this.x,y=this.y,P=this.z,M=this.w;return m*m+y*y+P*P+M*M},normalize:function(){var m=this.x,y=this.y,P=this.z,M=this.w,E=m*m+y*y+P*P+M*M;return E>0&&(E=1/Math.sqrt(E),this._x=m*E,this._y=y*E,this._z=P*E,this._w=M*E),this.onChangeCallback(this),this},dot:function(m){return this.x*m.x+this.y*m.y+this.z*m.z+this.w*m.w},lerp:function(m,y){y===void 0&&(y=0);var P=this.x,M=this.y,E=this.z,w=this.w;return this.set(P+y*(m.x-P),M+y*(m.y-M),E+y*(m.z-E),w+y*(m.w-w))},rotationTo:function(m,y){var P=m.x*y.x+m.y*y.y+m.z*y.z;return P<-.999999?(c.copy(p).cross(m).length()<o&&c.copy(a).cross(m),c.normalize(),this.setAxisAngle(c,Math.PI)):P>.999999?this.set(0,0,0,1):(c.copy(m).cross(y),this._x=c.x,this._y=c.y,this._z=c.z,this._w=1+P,this.normalize())},setAxes:function(m,y,P){var M=v.val;return M[0]=y.x,M[3]=y.y,M[6]=y.z,M[1]=P.x,M[4]=P.y,M[7]=P.z,M[2]=-m.x,M[5]=-m.y,M[8]=-m.z,this.fromMat3(v).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(m,y){y=y*.5;var P=Math.sin(y);return this.set(P*m.x,P*m.y,P*m.z,Math.cos(y))},multiply:function(m){var y=this.x,P=this.y,M=this.z,E=this.w,w=m.x,R=m.y,O=m.z,A=m.w;return this.set(y*A+E*w+P*O-M*R,P*A+E*R+M*w-y*O,M*A+E*O+y*R-P*w,E*A-y*w-P*R-M*O)},slerp:function(m,y){var P=this.x,M=this.y,E=this.z,w=this.w,R=m.x,O=m.y,A=m.z,F=m.w,L=P*R+M*O+E*A+w*F;L<0&&(L=-L,R=-R,O=-O,A=-A,F=-F);var I=1-y,B=y;if(1-L>o){var b=Math.acos(L),k=Math.sin(b);I=Math.sin((1-y)*b)/k,B=Math.sin(y*b)/k}return this.set(I*P+B*R,I*M+B*O,I*E+B*A,I*w+B*F)},invert:function(){var m=this.x,y=this.y,P=this.z,M=this.w,E=m*m+y*y+P*P+M*M,w=E?1/E:0;return this.set(-m*w,-y*w,-P*w,M*w)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(m){m*=.5;var y=this.x,P=this.y,M=this.z,E=this.w,w=Math.sin(m),R=Math.cos(m);return this.set(y*R+E*w,P*R+M*w,M*R-P*w,E*R-y*w)},rotateY:function(m){m*=.5;var y=this.x,P=this.y,M=this.z,E=this.w,w=Math.sin(m),R=Math.cos(m);return this.set(y*R-M*w,P*R+E*w,M*R+y*w,E*R-P*w)},rotateZ:function(m){m*=.5;var y=this.x,P=this.y,M=this.z,E=this.w,w=Math.sin(m),R=Math.cos(m);return this.set(y*R+P*w,P*R-y*w,M*R+E*w,E*R-M*w)},calculateW:function(){var m=this.x,y=this.y,P=this.z;return this.w=-Math.sqrt(1-m*m-y*y-P*P),this},setFromEuler:function(m,y){var P=m.x/2,M=m.y/2,E=m.z/2,w=Math.cos(P),R=Math.cos(M),O=Math.cos(E),A=Math.sin(P),F=Math.sin(M),L=Math.sin(E);switch(m.order){case"XYZ":{this.set(A*R*O+w*F*L,w*F*O-A*R*L,w*R*L+A*F*O,w*R*O-A*F*L,y);break}case"YXZ":{this.set(A*R*O+w*F*L,w*F*O-A*R*L,w*R*L-A*F*O,w*R*O+A*F*L,y);break}case"ZXY":{this.set(A*R*O-w*F*L,w*F*O+A*R*L,w*R*L+A*F*O,w*R*O-A*F*L,y);break}case"ZYX":{this.set(A*R*O-w*F*L,w*F*O+A*R*L,w*R*L-A*F*O,w*R*O+A*F*L,y);break}case"YZX":{this.set(A*R*O+w*F*L,w*F*O+A*R*L,w*R*L-A*F*O,w*R*O-A*F*L,y);break}case"XZY":{this.set(A*R*O-w*F*L,w*F*O-A*R*L,w*R*L+A*F*O,w*R*O+A*F*L,y);break}}return this},setFromRotationMatrix:function(m){var y=m.val,P=y[0],M=y[4],E=y[8],w=y[1],R=y[5],O=y[9],A=y[2],F=y[6],L=y[10],I=P+R+L,B;return I>0?(B=.5/Math.sqrt(I+1),this.set((F-O)*B,(E-A)*B,(w-M)*B,.25/B)):P>R&&P>L?(B=2*Math.sqrt(1+P-R-L),this.set(.25*B,(M+w)/B,(E+A)/B,(F-O)/B)):R>L?(B=2*Math.sqrt(1+R-P-L),this.set((M+w)/B,.25*B,(O+F)/B,(E-A)/B)):(B=2*Math.sqrt(1+L-P-R),this.set((E+A)/B,(O+F)/B,.25*B,(w-M)/B)),this},fromMat3:function(m){var y=m.val,P=y[0]+y[4]+y[8],M;if(P>0)M=Math.sqrt(P+1),this.w=.5*M,M=.5/M,this._x=(y[7]-y[5])*M,this._y=(y[2]-y[6])*M,this._z=(y[3]-y[1])*M;else{var E=0;y[4]>y[0]&&(E=1),y[8]>y[E*3+E]&&(E=2);var w=n[E],R=n[w];M=Math.sqrt(y[E*3+E]-y[w*3+w]-y[R*3+R]+1),h[E]=.5*M,M=.5/M,h[w]=(y[w*3+E]+y[E*3+w])*M,h[R]=(y[R*3+E]+y[E*3+R])*M,this._x=h[0],this._y=h[1],this._z=h[2],this._w=(y[R*3+w]-y[w*3+R])*M}return this.onChangeCallback(this),this}});r.exports=g},23701:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(83392),x=function(f){return f*d.RAD_TO_DEG};r.exports=x},16906:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){d===void 0&&(d=1);var x=Math.random()*2*Math.PI;return i.x=Math.cos(x)*d,i.y=Math.sin(x)*d,i};r.exports=T},52417:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){d===void 0&&(d=1);var x=Math.random()*2*Math.PI,f=Math.random()*2-1,u=Math.sqrt(1-f*f)*d;return i.x=Math.cos(x)*u,i.y=Math.sin(x)*u,i.z=f*d,i};r.exports=T},17915:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return d===void 0&&(d=1),i.x=(Math.random()*2-1)*d,i.y=(Math.random()*2-1)*d,i.z=(Math.random()*2-1)*d,i.w=(Math.random()*2-1)*d,i};r.exports=T},52257:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){var x=i.x,f=i.y;return i.x=x*Math.cos(d)-f*Math.sin(d),i.y=x*Math.sin(d)+f*Math.cos(d),i};r.exports=T},2386:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){var u=Math.cos(f),o=Math.sin(f),n=i.x-d,h=i.y-x;return i.x=n*u-h*o+d,i.y=n*o+h*u+x,i};r.exports=T},72395:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f,u){var o=f+Math.atan2(i.y-x,i.x-d);return i.x=d+u*Math.cos(o),i.y=x+u*Math.sin(o),i};r.exports=T},41061:r=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f,u){return i.x=d+u*Math.cos(f),i.y=x+u*Math.sin(f),i};r.exports=T},93709:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(70015),x=i(16650),f=i(75003),u=new x,o=new f,n=new d,h=function(p,a,c){return o.setAxisAngle(a,c),u.fromRotationTranslation(o,n.set(0,0,0)),p.transformMat4(u)};r.exports=h},67233:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i>0?Math.ceil(i):Math.floor(i)};r.exports=T},64333:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){d===void 0&&(d=0),x===void 0&&(x=10);var f=Math.pow(x,-d);return Math.round(i*f)/f};r.exports=T},59533:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){d===void 0&&(d=1),x===void 0&&(x=1),f===void 0&&(f=1),f*=Math.PI/i;for(var u=[],o=[],n=0;n<i;n++)x-=d*f,d+=x*f,u[n]=x,o[n]=d;return{sin:o,cos:u,length:i}};r.exports=T},5514:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return i<=d?0:i>=x?1:(i=(i-d)/(x-d),i*i*(3-2*i))};r.exports=T},87736:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return i=Math.max(0,Math.min(1,(i-d)/(x-d))),i*i*i*(i*(i*6-15)+10)};r.exports=T},55805:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(93736),x=function(f,u,o,n){n===void 0&&(n=new d);var h=0,p=0,a=u*o;return f>0&&f<=a&&(f>u-1?(p=Math.floor(f/u),h=f-p*u):h=f),n.set(h,p)};r.exports=x},64462:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(93736),x=function(f,u,o,n,h,p,a,c){c===void 0&&(c=new d);var v=Math.sin(h),g=Math.cos(h),m=g*p,y=v*p,P=-v*a,M=g*a,E=1/(m*M+P*-y);return c.x=M*E*f+-P*E*u+(n*P-o*M)*E,c.y=m*E*u+-y*E*f+(-n*m+o*y)*E,c};r.exports=x},93736:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(88456),f=new d({initialize:function(o,n){this.x=0,this.y=0,typeof o=="object"?(this.x=o.x||0,this.y=o.y||0):(n===void 0&&(n=o),this.x=o||0,this.y=n||0)},clone:function(){return new f(this.x,this.y)},copy:function(u){return this.x=u.x||0,this.y=u.y||0,this},setFromObject:function(u){return this.x=u.x||0,this.y=u.y||0,this},set:function(u,o){return o===void 0&&(o=u),this.x=u,this.y=o,this},setTo:function(u,o){return this.set(u,o)},setToPolar:function(u,o){return o==null&&(o=1),this.x=Math.cos(u)*o,this.y=Math.sin(u)*o,this},equals:function(u){return this.x===u.x&&this.y===u.y},fuzzyEquals:function(u,o){return x(this.x,u.x,o)&&x(this.y,u.y,o)},angle:function(){var u=Math.atan2(this.y,this.x);return u<0&&(u+=2*Math.PI),u},setAngle:function(u){return this.setToPolar(u,this.length())},add:function(u){return this.x+=u.x,this.y+=u.y,this},subtract:function(u){return this.x-=u.x,this.y-=u.y,this},multiply:function(u){return this.x*=u.x,this.y*=u.y,this},scale:function(u){return isFinite(u)?(this.x*=u,this.y*=u):(this.x=0,this.y=0),this},divide:function(u){return this.x/=u.x,this.y/=u.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(u){var o=u.x-this.x,n=u.y-this.y;return Math.sqrt(o*o+n*n)},distanceSq:function(u){var o=u.x-this.x,n=u.y-this.y;return o*o+n*n},length:function(){var u=this.x,o=this.y;return Math.sqrt(u*u+o*o)},setLength:function(u){return this.normalize().scale(u)},lengthSq:function(){var u=this.x,o=this.y;return u*u+o*o},normalize:function(){var u=this.x,o=this.y,n=u*u+o*o;return n>0&&(n=1/Math.sqrt(n),this.x=u*n,this.y=o*n),this},normalizeRightHand:function(){var u=this.x;return this.x=this.y*-1,this.y=u,this},normalizeLeftHand:function(){var u=this.x;return this.x=this.y,this.y=u*-1,this},dot:function(u){return this.x*u.x+this.y*u.y},cross:function(u){return this.x*u.y-this.y*u.x},lerp:function(u,o){o===void 0&&(o=0);var n=this.x,h=this.y;return this.x=n+o*(u.x-n),this.y=h+o*(u.y-h),this},transformMat3:function(u){var o=this.x,n=this.y,h=u.val;return this.x=h[0]*o+h[3]*n+h[6],this.y=h[1]*o+h[4]*n+h[7],this},transformMat4:function(u){var o=this.x,n=this.y,h=u.val;return this.x=h[0]*o+h[4]*n+h[12],this.y=h[1]*o+h[5]*n+h[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(u){var o=this.length();return o&&o>u&&this.scale(u/o),this},reflect:function(u){return u=u.clone().normalize(),this.subtract(u.scale(2*this.dot(u)))},mirror:function(u){return this.reflect(u).negate()},rotate:function(u){var o=Math.cos(u),n=Math.sin(u);return this.set(o*this.x-n*this.y,n*this.x+o*this.y)},project:function(u){var o=this.dot(u)/u.dot(u);return this.copy(u).scale(o)}});f.ZERO=new f,f.RIGHT=new f(1,0),f.LEFT=new f(-1,0),f.UP=new f(0,-1),f.DOWN=new f(0,1),f.ONE=new f(1,1),r.exports=f},70015:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=new d({initialize:function(u,o,n){this.x=0,this.y=0,this.z=0,typeof u=="object"?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0):(this.x=u||0,this.y=o||0,this.z=n||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(f){return this.x=Math.min(this.x,f.x),this.y=Math.min(this.y,f.y),this.z=Math.min(this.z,f.z),this},max:function(f){return this.x=Math.max(this.x,f.x),this.y=Math.max(this.y,f.y),this.z=Math.max(this.z,f.z),this},clone:function(){return new x(this.x,this.y,this.z)},addVectors:function(f,u){return this.x=f.x+u.x,this.y=f.y+u.y,this.z=f.z+u.z,this},crossVectors:function(f,u){var o=f.x,n=f.y,h=f.z,p=u.x,a=u.y,c=u.z;return this.x=n*c-h*a,this.y=h*p-o*c,this.z=o*a-n*p,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this},set:function(f,u,o){return typeof f=="object"?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0):(this.x=f||0,this.y=u||0,this.z=o||0),this},setFromMatrixPosition:function(f){return this.fromArray(f.val,12)},setFromMatrixColumn:function(f,u){return this.fromArray(f.val,u*4)},fromArray:function(f,u){return u===void 0&&(u=0),this.x=f[u],this.y=f[u+1],this.z=f[u+2],this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this},addScalar:function(f){return this.x+=f,this.y+=f,this.z+=f,this},addScale:function(f,u){return this.x+=f.x*u,this.y+=f.y*u,this.z+=f.z*u||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this},scale:function(f){return isFinite(f)?(this.x*=f,this.y*=f,this.z*=f):(this.x=0,this.y=0,this.z=0),this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(f){var u=f.x-this.x,o=f.y-this.y,n=f.z-this.z||0;return Math.sqrt(u*u+o*o+n*n)},distanceSq:function(f){var u=f.x-this.x,o=f.y-this.y,n=f.z-this.z||0;return u*u+o*o+n*n},length:function(){var f=this.x,u=this.y,o=this.z;return Math.sqrt(f*f+u*u+o*o)},lengthSq:function(){var f=this.x,u=this.y,o=this.z;return f*f+u*u+o*o},normalize:function(){var f=this.x,u=this.y,o=this.z,n=f*f+u*u+o*o;return n>0&&(n=1/Math.sqrt(n),this.x=f*n,this.y=u*n,this.z=o*n),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z},cross:function(f){var u=this.x,o=this.y,n=this.z,h=f.x,p=f.y,a=f.z;return this.x=o*a-n*p,this.y=n*h-u*a,this.z=u*p-o*h,this},lerp:function(f,u){u===void 0&&(u=0);var o=this.x,n=this.y,h=this.z;return this.x=o+u*(f.x-o),this.y=n+u*(f.y-n),this.z=h+u*(f.z-h),this},applyMatrix3:function(f){var u=this.x,o=this.y,n=this.z,h=f.val;return this.x=h[0]*u+h[3]*o+h[6]*n,this.y=h[1]*u+h[4]*o+h[7]*n,this.z=h[2]*u+h[5]*o+h[8]*n,this},applyMatrix4:function(f){var u=this.x,o=this.y,n=this.z,h=f.val,p=1/(h[3]*u+h[7]*o+h[11]*n+h[15]);return this.x=(h[0]*u+h[4]*o+h[8]*n+h[12])*p,this.y=(h[1]*u+h[5]*o+h[9]*n+h[13])*p,this.z=(h[2]*u+h[6]*o+h[10]*n+h[14])*p,this},transformMat3:function(f){var u=this.x,o=this.y,n=this.z,h=f.val;return this.x=u*h[0]+o*h[3]+n*h[6],this.y=u*h[1]+o*h[4]+n*h[7],this.z=u*h[2]+o*h[5]+n*h[8],this},transformMat4:function(f){var u=this.x,o=this.y,n=this.z,h=f.val;return this.x=h[0]*u+h[4]*o+h[8]*n+h[12],this.y=h[1]*u+h[5]*o+h[9]*n+h[13],this.z=h[2]*u+h[6]*o+h[10]*n+h[14],this},transformCoordinates:function(f){var u=this.x,o=this.y,n=this.z,h=f.val,p=u*h[0]+o*h[4]+n*h[8]+h[12],a=u*h[1]+o*h[5]+n*h[9]+h[13],c=u*h[2]+o*h[6]+n*h[10]+h[14],v=u*h[3]+o*h[7]+n*h[11]+h[15];return this.x=p/v,this.y=a/v,this.z=c/v,this},transformQuat:function(f){var u=this.x,o=this.y,n=this.z,h=f.x,p=f.y,a=f.z,c=f.w,v=c*u+p*n-a*o,g=c*o+a*u-h*n,m=c*n+h*o-p*u,y=-h*u-p*o-a*n;return this.x=v*c+y*-h+g*-a-m*-p,this.y=g*c+y*-p+m*-h-v*-a,this.z=m*c+y*-a+v*-p-g*-h,this},project:function(f){var u=this.x,o=this.y,n=this.z,h=f.val,p=h[0],a=h[1],c=h[2],v=h[3],g=h[4],m=h[5],y=h[6],P=h[7],M=h[8],E=h[9],w=h[10],R=h[11],O=h[12],A=h[13],F=h[14],L=h[15],I=1/(u*v+o*P+n*R+L);return this.x=(u*p+o*g+n*M+O)*I,this.y=(u*a+o*m+n*E+A)*I,this.z=(u*c+o*y+n*w+F)*I,this},projectViewMatrix:function(f,u){return this.applyMatrix4(f).applyMatrix4(u)},unprojectViewMatrix:function(f,u){return this.applyMatrix4(f).applyMatrix4(u)},unproject:function(f,u){var o=f.x,n=f.y,h=f.z,p=f.w,a=this.x-o,c=p-this.y-1-n,v=this.z;return this.x=2*a/h-1,this.y=2*c/p-1,this.z=2*v-1,this.project(u)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});x.ZERO=new x,x.RIGHT=new x(1,0,0),x.LEFT=new x(-1,0,0),x.UP=new x(0,-1,0),x.DOWN=new x(0,1,0),x.FORWARD=new x(0,0,1),x.BACK=new x(0,0,-1),x.ONE=new x(1,1,1),r.exports=x},51729:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=new d({initialize:function(u,o,n,h){this.x=0,this.y=0,this.z=0,this.w=0,typeof u=="object"?(this.x=u.x||0,this.y=u.y||0,this.z=u.z||0,this.w=u.w||0):(this.x=u||0,this.y=o||0,this.z=n||0,this.w=h||0)},clone:function(){return new x(this.x,this.y,this.z,this.w)},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this.w=f.w||0,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z&&this.w===f.w},set:function(f,u,o,n){return typeof f=="object"?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0,this.w=f.w||0):(this.x=f||0,this.y=u||0,this.z=o||0,this.w=n||0),this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this.w+=f.w||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this.w-=f.w||0,this},scale:function(f){return this.x*=f,this.y*=f,this.z*=f,this.w*=f,this},length:function(){var f=this.x,u=this.y,o=this.z,n=this.w;return Math.sqrt(f*f+u*u+o*o+n*n)},lengthSq:function(){var f=this.x,u=this.y,o=this.z,n=this.w;return f*f+u*u+o*o+n*n},normalize:function(){var f=this.x,u=this.y,o=this.z,n=this.w,h=f*f+u*u+o*o+n*n;return h>0&&(h=1/Math.sqrt(h),this.x=f*h,this.y=u*h,this.z=o*h,this.w=n*h),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z+this.w*f.w},lerp:function(f,u){u===void 0&&(u=0);var o=this.x,n=this.y,h=this.z,p=this.w;return this.x=o+u*(f.x-o),this.y=n+u*(f.y-n),this.z=h+u*(f.z-h),this.w=p+u*(f.w-p),this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this.w*=f.w||1,this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this.w/=f.w||1,this},distance:function(f){var u=f.x-this.x,o=f.y-this.y,n=f.z-this.z||0,h=f.w-this.w||0;return Math.sqrt(u*u+o*o+n*n+h*h)},distanceSq:function(f){var u=f.x-this.x,o=f.y-this.y,n=f.z-this.z||0,h=f.w-this.w||0;return u*u+o*o+n*n+h*h},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(f){var u=this.x,o=this.y,n=this.z,h=this.w,p=f.val;return this.x=p[0]*u+p[4]*o+p[8]*n+p[12]*h,this.y=p[1]*u+p[5]*o+p[9]*n+p[13]*h,this.z=p[2]*u+p[6]*o+p[10]*n+p[14]*h,this.w=p[3]*u+p[7]*o+p[11]*n+p[15]*h,this},transformQuat:function(f){var u=this.x,o=this.y,n=this.z,h=f.x,p=f.y,a=f.z,c=f.w,v=c*u+p*n-a*o,g=c*o+a*u-h*n,m=c*n+h*o-p*u,y=-h*u-p*o-a*n;return this.x=v*c+y*-h+g*-a-m*-p,this.y=g*c+y*-p+m*-h-v*-a,this.z=m*c+y*-a+v*-p-g*-h,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});x.prototype.sub=x.prototype.subtract,x.prototype.mul=x.prototype.multiply,x.prototype.div=x.prototype.divide,x.prototype.dist=x.prototype.distance,x.prototype.distSq=x.prototype.distanceSq,x.prototype.len=x.prototype.length,x.prototype.lenSq=x.prototype.lengthSq,r.exports=x},9557:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return Math.abs(i-d)<=x};r.exports=T},1071:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){var f=x-d;return d+((i-d)%f+f)%f};r.exports=T},90447:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){return Math.atan2(f-d,x-i)};r.exports=T},94240:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return Math.atan2(d.y-i.y,d.x-i.x)};r.exports=T},84066:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return Math.atan2(d.x-i.x,d.y-i.y)};r.exports=T},9678:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){return Math.atan2(x-i,f-d)};r.exports=T},76861:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(83392),x=function(f){return f>Math.PI&&(f-=d.PI2),Math.abs(((f+d.TAU)%d.PI2-d.PI2)%d.PI2)};r.exports=x},37570:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i=i%(2*Math.PI),i>=0?i:i+2*Math.PI};r.exports=T},87597:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61616),x=function(){return d(-Math.PI,Math.PI)};r.exports=x},74493:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       @samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61616),x=function(){return d(-180,180)};r.exports=x},19049:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(37570),x=function(f){return d(f+Math.PI)};r.exports=x},90612:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(83392),x=function(f,u,o){return o===void 0&&(o=.05),f===u||(Math.abs(u-f)<=o||Math.abs(u-f)>=d.PI2-o?f=u:(Math.abs(u-f)>Math.PI&&(u<f?u+=d.PI2:u-=d.PI2),u>f?f+=o:u<f&&(f-=o))),f};r.exports=x},93954:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){var x=d-i;if(x===0)return 0;var f=Math.floor((x- -180)/360);return x-f*360};r.exports=T},35786:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(1071),x=function(f){return d(f,-Math.PI,Math.PI)};r.exports=x},62138:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(1071),x=function(f){return d(f,-180,180)};r.exports=x},22153:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Between:i(90447),BetweenPoints:i(94240),BetweenPointsY:i(84066),BetweenY:i(9678),CounterClockwise:i(76861),Normalize:i(37570),Random:i(87597),RandomDegrees:i(74493),Reverse:i(19049),RotateTo:i(90612),ShortestBetween:i(93954),Wrap:i(35786),WrapDegrees:i(62138)}},83392:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};r.exports=T},53996:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){var u=i-x,o=d-f;return Math.sqrt(u*u+o*o)};r.exports=T},92951:r=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){var x=i.x-d.x,f=i.y-d.y;return Math.sqrt(x*x+f*f)};r.exports=T},12161:r=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){var x=i.x-d.x,f=i.y-d.y;return x*x+f*f};r.exports=T},38057:r=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){return Math.max(Math.abs(i-x),Math.abs(d-f))};r.exports=T},33297:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f,u){return u===void 0&&(u=2),Math.sqrt(Math.pow(x-i,u)+Math.pow(f-d,u))};r.exports=T},90366:r=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){return Math.abs(i-x)+Math.abs(d-f)};r.exports=T},35032:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){var u=i-x,o=d-f;return u*u+o*o};r.exports=T},10130:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Between:i(53996),BetweenPoints:i(92951),BetweenPointsSquared:i(12161),Chebyshev:i(38057),Power:i(33297),Snake:i(90366),Squared:i(35032)}},35060:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(25265),x=i(57428),f=i(73214),u=i(71778),o=i(36468),n=i(88258),h=i(52910),p=i(67799),a=i(74083),c=i(92284),v=i(28035),g=i(8754);r.exports={Power0:h,Power1:p.Out,Power2:u.Out,Power3:a.Out,Power4:c.Out,Linear:h,Quad:p.Out,Cubic:u.Out,Quart:a.Out,Quint:c.Out,Sine:v.Out,Expo:n.Out,Circ:f.Out,Elastic:o.Out,Back:d.Out,Bounce:x.Out,Stepped:g,"Quad.easeIn":p.In,"Cubic.easeIn":u.In,"Quart.easeIn":a.In,"Quint.easeIn":c.In,"Sine.easeIn":v.In,"Expo.easeIn":n.In,"Circ.easeIn":f.In,"Elastic.easeIn":o.In,"Back.easeIn":d.In,"Bounce.easeIn":x.In,"Quad.easeOut":p.Out,"Cubic.easeOut":u.Out,"Quart.easeOut":a.Out,"Quint.easeOut":c.Out,"Sine.easeOut":v.Out,"Expo.easeOut":n.Out,"Circ.easeOut":f.Out,"Elastic.easeOut":o.Out,"Back.easeOut":d.Out,"Bounce.easeOut":x.Out,"Quad.easeInOut":p.InOut,"Cubic.easeInOut":u.InOut,"Quart.easeInOut":a.InOut,"Quint.easeInOut":c.InOut,"Sine.easeInOut":v.InOut,"Expo.easeInOut":n.InOut,"Circ.easeInOut":f.InOut,"Elastic.easeInOut":o.InOut,"Back.easeInOut":d.InOut,"Bounce.easeInOut":x.InOut}},25860:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return d===void 0&&(d=1.70158),i*i*((d+1)*i-d)};r.exports=T},45264:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){d===void 0&&(d=1.70158);var x=d*1.525;return(i*=2)<1?.5*(i*i*((x+1)*i-x)):.5*((i-=2)*i*((x+1)*i+x)+2)};r.exports=T},36699:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return d===void 0&&(d=1.70158),--i*i*((d+1)*i+d)+1};r.exports=T},25265:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(25860),Out:i(36699),InOut:i(45264)}},62191:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i=1-i,i<.36363636363636365?1-7.5625*i*i:i<.7272727272727273?1-(7.5625*(i-=.5454545454545454)*i+.75):i<.9090909090909091?1-(7.5625*(i-=.8181818181818182)*i+.9375):1-(7.5625*(i-=.9545454545454546)*i+.984375)};r.exports=T},24799:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var d=!1;return i<.5?(i=1-i*2,d=!0):i=i*2-1,i<.36363636363636365?i=7.5625*i*i:i<.7272727272727273?i=7.5625*(i-=.5454545454545454)*i+.75:i<.9090909090909091?i=7.5625*(i-=.8181818181818182)*i+.9375:i=7.5625*(i-=.9545454545454546)*i+.984375,d?(1-i)*.5:i*.5+.5};r.exports=T},60819:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i<.36363636363636365?7.5625*i*i:i<.7272727272727273?7.5625*(i-=.5454545454545454)*i+.75:i<.9090909090909091?7.5625*(i-=.8181818181818182)*i+.9375:7.5625*(i-=.9545454545454546)*i+.984375};r.exports=T},57428:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(62191),Out:i(60819),InOut:i(24799)}},86855:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return 1-Math.sqrt(1-i*i)};r.exports=T},7280:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return(i*=2)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1)};r.exports=T},18058:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return Math.sqrt(1- --i*i)};r.exports=T},73214:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(86855),Out:i(18058),InOut:i(7280)}},91532:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i*i*i};r.exports=T},63180:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return(i*=2)<1?.5*i*i*i:.5*((i-=2)*i*i+2)};r.exports=T},16518:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return--i*i*i+1};r.exports=T},71778:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(91532),Out:i(16518),InOut:i(63180)}},24729:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){if(d===void 0&&(d=.1),x===void 0&&(x=.1),i===0)return 0;if(i===1)return 1;var f=x/4;return d<1?d=1:f=x*Math.asin(1/d)/(2*Math.PI),-(d*Math.pow(2,10*(i-=1))*Math.sin((i-f)*(2*Math.PI)/x))};r.exports=T},50325:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){if(d===void 0&&(d=.1),x===void 0&&(x=.1),i===0)return 0;if(i===1)return 1;var f=x/4;return d<1?d=1:f=x*Math.asin(1/d)/(2*Math.PI),(i*=2)<1?-.5*(d*Math.pow(2,10*(i-=1))*Math.sin((i-f)*(2*Math.PI)/x)):d*Math.pow(2,-10*(i-=1))*Math.sin((i-f)*(2*Math.PI)/x)*.5+1};r.exports=T},84074:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){if(d===void 0&&(d=.1),x===void 0&&(x=.1),i===0)return 0;if(i===1)return 1;var f=x/4;return d<1?d=1:f=x*Math.asin(1/d)/(2*Math.PI),d*Math.pow(2,-10*i)*Math.sin((i-f)*(2*Math.PI)/x)+1};r.exports=T},36468:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(24729),Out:i(84074),InOut:i(50325)}},95638:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return Math.pow(2,10*(i-1))-.001};r.exports=T},10357:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return(i*=2)<1?.5*Math.pow(2,10*(i-1)):.5*(2-Math.pow(2,-10*(i-1)))};r.exports=T},14894:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return 1-Math.pow(2,-10*i)};r.exports=T},88258:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(95638),Out:i(14894),InOut:i(10357)}},33063:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Back:i(25265),Bounce:i(57428),Circular:i(73214),Cubic:i(71778),Elastic:i(36468),Expo:i(88258),Linear:i(52910),Quadratic:i(67799),Quartic:i(74083),Quintic:i(92284),Sine:i(28035),Stepped:i(8754)}},43927:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i};r.exports=T},52910:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=i(43927)},77471:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i*i};r.exports=T},83863:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return(i*=2)<1?.5*i*i:-.5*(--i*(i-2)-1)};r.exports=T},44383:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i*(2-i)};r.exports=T},67799:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(77471),Out:i(44383),InOut:i(83863)}},48311:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i*i*i*i};r.exports=T},55248:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return(i*=2)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2)};r.exports=T},23135:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return 1- --i*i*i*i};r.exports=T},74083:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(48311),Out:i(23135),InOut:i(55248)}},7313:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i*i*i*i*i};r.exports=T},98759:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return(i*=2)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2)};r.exports=T},26670:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return--i*i*i*i*i+1};r.exports=T},92284:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(7313),Out:i(26670),InOut:i(98759)}},52929:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i===0?0:i===1?1:1-Math.cos(i*Math.PI/2)};r.exports=T},66333:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i===0?0:i===1?1:.5*(1-Math.cos(Math.PI*i))};r.exports=T},37255:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i===0?0:i===1?1:Math.sin(i*Math.PI/2)};r.exports=T},28035:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(52929),Out:i(37255),InOut:i(66333)}},52770:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return d===void 0&&(d=1),i<=0?0:i>=1?1:((d*i|0)+1)*(1/d)};r.exports=T},8754:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=i(52770)},17247:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return d===void 0&&(d=1e-4),Math.ceil(i-d)};r.exports=T},88456:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return x===void 0&&(x=1e-4),Math.abs(i-d)<x};r.exports=T},61824:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return d===void 0&&(d=1e-4),Math.floor(i+d)};r.exports=T},41935:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return x===void 0&&(x=1e-4),i>d-x};r.exports=T},54726:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return x===void 0&&(x=1e-4),i<d+x};r.exports=T},52778:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Ceil:i(17247),Equal:i(88456),Floor:i(61824),GreaterThan:i(41935),LessThan:i(54726)}},5923:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(83392),x=i(98611),f={Angle:i(22153),Distance:i(10130),Easing:i(33063),Fuzzy:i(52778),Interpolation:i(48528),Pow2:i(73773),Snap:i(23679),RandomDataGenerator:i(81429),Average:i(26042),Bernstein:i(22824),Between:i(17489),CatmullRom:i(14976),CeilTo:i(89129),Clamp:i(82897),DegToRad:i(75606),Difference:i(767),Euler:i(9849),Factorial:i(8034),FloatBetween:i(61616),FloorTo:i(60679),FromPercent:i(91806),GetSpeed:i(79366),IsEven:i(43776),IsEvenStrict:i(58442),Linear:i(42798),LinearXY:i(61072),MaxAdd:i(69635),Median:i(37394),MinSub:i(17259),Percent:i(61820),RadToDeg:i(23701),RandomXY:i(16906),RandomXYZ:i(52417),RandomXYZW:i(17915),Rotate:i(52257),RotateAround:i(2386),RotateAroundDistance:i(72395),RotateTo:i(41061),RoundAwayFromZero:i(67233),RoundTo:i(64333),SinCosTableGenerator:i(59533),SmootherStep:i(87736),SmoothStep:i(5514),ToXY:i(55805),TransformXY:i(64462),Within:i(9557),Wrap:i(1071),Vector2:i(93736),Vector3:i(70015),Vector4:i(51729),Matrix3:i(5341),Matrix4:i(16650),Quaternion:i(75003),RotateVec3:i(93709)};f=x(!1,f,d),r.exports=f},63210:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(22824),x=function(f,u){for(var o=0,n=f.length-1,h=0;h<=n;h++)o+=Math.pow(1-u,n-h)*Math.pow(u,h)*f[h]*d(n,h);return o};r.exports=x},88332:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(14976),x=function(f,u){var o=f.length-1,n=o*u,h=Math.floor(n);return f[0]===f[o]?(u<0&&(h=Math.floor(n=o*(1+u))),d(n-h,f[(h-1+o)%o],f[h],f[(h+1)%o],f[(h+2)%o])):u<0?f[0]-(d(-n,f[0],f[0],f[1],f[1])-f[0]):u>1?f[o]-(d(n-o,f[o],f[o],f[o-1],f[o-1])-f[o]):d(n-h,f[h?h-1:0],f[h],f[o<h+1?o:h+1],f[o<h+2?o:h+2])};r.exports=x},34631:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(u,o){var n=1-u;return n*n*n*o}function i(u,o){var n=1-u;return 3*n*n*u*o}function d(u,o){return 3*(1-u)*u*u*o}function x(u,o){return u*u*u*o}var f=function(u,o,n,h,p){return T(u,o)+i(u,n)+d(u,h)+x(u,p)};r.exports=f},47614:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(42798),x=function(f,u){var o=f.length-1,n=o*u,h=Math.floor(n);return u<0?d(f[0],f[1],n):u>1?d(f[o],f[o-1],o-n):d(f[h],f[h+1>o?o:h+1],n-h)};r.exports=x},16252:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(f,u){var o=1-f;return o*o*u}function i(f,u){return 2*(1-f)*f*u}function d(f,u){return f*f*u}var x=function(f,u,o,n){return T(f,u)+i(f,o)+d(f,n)};r.exports=x},44521:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(5514),x=function(f,u,o){return u+(o-u)*d(f,0,1)};r.exports=x},45507:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(87736),x=function(f,u,o){return u+(o-u)*d(f,0,1)};r.exports=x},48528:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Bezier:i(63210),CatmullRom:i(88332),CubicBezier:i(34631),Linear:i(47614),QuadraticBezier:i(16252),SmoothStep:i(44521),SmootherStep:i(45507)}},3504:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var d=Math.log(i)/.6931471805599453;return 1<<Math.ceil(d)};r.exports=T},28621:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return i>0&&(i&i-1)===0&&d>0&&(d&d-1)===0};r.exports=T},2018:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i>0&&(i&i-1)===0};r.exports=T},73773:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={GetNext:i(3504),IsSize:i(28621),IsValue:i(2018)}},81429:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=new d({initialize:function(u){u===void 0&&(u=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],u&&this.init(u)},rnd:function(){var f=2091639*this.s0+this.c*23283064365386963e-26;return this.c=f|0,this.s0=this.s1,this.s1=this.s2,this.s2=f-this.c,this.s2},hash:function(f){var u,o=this.n;f=f.toString();for(var n=0;n<f.length;n++)o+=f.charCodeAt(n),u=.02519603282416938*o,o=u>>>0,u-=o,u*=o,o=u>>>0,u-=o,o+=u*4294967296;return this.n=o,(o>>>0)*23283064365386963e-26},init:function(f){typeof f=="string"?this.state(f):this.sow(f)},sow:function(f){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!f)for(var u=0;u<f.length&&f[u]!=null;u++){var o=f[u];this.s0-=this.hash(o),this.s0+=~~(this.s0<0),this.s1-=this.hash(o),this.s1+=~~(this.s1<0),this.s2-=this.hash(o),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(f,u){return Math.floor(this.realInRange(0,u-f+1)+f)},between:function(f,u){return Math.floor(this.realInRange(0,u-f+1)+f)},realInRange:function(f,u){return this.frac()*(u-f)+f},normal:function(){return 1-2*this.frac()},uuid:function(){var f="",u="";for(u=f="";f++<36;u+=~f%5|f*3&4?(f^15?8^this.frac()*(f^20?16:4):4).toString(16):"-");return u},pick:function(f){return f[this.integerInRange(0,f.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(f){return f[~~(Math.pow(this.frac(),2)*f.length+.5)]},timestamp:function(f,u){return this.realInRange(f||9466848e5,u||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(f){return typeof f=="string"&&f.match(/^!rnd/)&&(f=f.split(","),this.c=parseFloat(f[1]),this.s0=parseFloat(f[2]),this.s1=parseFloat(f[3]),this.s2=parseFloat(f[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(f){for(var u=f.length-1,o=u;o>0;o--){var n=Math.floor(this.frac()*(o+1)),h=f[n];f[n]=f[o],f[o]=h}return f}});r.exports=x},82127:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){return x===void 0&&(x=0),d===0?i:(i-=x,i=d*Math.ceil(i/d),f?(x+i)/d:x+i)};r.exports=T},84314:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){return x===void 0&&(x=0),d===0?i:(i-=x,i=d*Math.floor(i/d),f?(x+i)/d:x+i)};r.exports=T},88462:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){return x===void 0&&(x=0),d===0?i:(i-=x,i=d*Math.round(i/d),f?(x+i)/d:x+i)};r.exports=T},23679:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Ceil:i(82127),Floor:i(84314),To:i(88462)}},92491:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i(75205);var d=i(86459),x=i(98611),f={Actions:i(83979),Animations:i(13517),BlendModes:i(95723),Cache:i(45820),Cameras:i(44143),Core:i(80293),Class:i(56694),Create:i(84106),Curves:i(73962),Data:i(1999),Display:i(24816),DOM:i(3590),Events:i(95146),FX:i(96910),Game:i(15213),GameObjects:i(48013),Geom:i(84068),Input:i(20873),Loader:i(95695),Math:i(5923),Physics:i(53954),Plugins:i(45615),Renderer:i(42069),Scale:i(86754),ScaleModes:i(27394),Scene:i(87157),Scenes:i(20436),Structs:i(20010),Textures:i(87499),Tilemaps:i(52678),Time:i(97121),Tweens:i(75193),Utils:i(22178)};f.Sound=i(56751),f=x(!1,f,d),r.exports=f,i.g.Phaser=f},62832:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(7864),f=i(1539),u=new d({Extends:f,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Collision,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(n,h,p,a,c){f.call(this,n,h,p,a,c),this.body=null}});r.exports=u},66150:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(75606),f=i(53996),u=i(35032),o=i(99523),n=i(72632),h=i(30657),p=i(2732),a=i(15147),c=i(91963),v=i(7599),g=i(93736),m=i(85233),y=new d({initialize:function(M){this.scene=M,this.systems=M.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,M.sys.events.once(v.BOOT,this.boot,this),M.sys.events.on(v.START,this.start,this)},boot:function(){this.world=new m(this.scene,this.config),this.add=new o(this.world),this.systems.events.once(v.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new m(this.scene,this.config),this.add=new o(this.world));var P=this.systems.events;n(this.config,"customUpdate",!1)||P.on(v.UPDATE,this.world.update,this.world),P.on(v.POST_UPDATE,this.world.postUpdate,this.world),P.once(v.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(v.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(v.UPDATE,this.world.update,this.world)},getConfig:function(){var P=this.systems.game.config.physics,M=this.systems.settings.physics,E=h(n(M,"arcade",{}),n(P,"arcade",{}));return E},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(P,M,E,w,R){return E===void 0&&(E=null),w===void 0&&(w=null),R===void 0&&(R=E),this.world.collideObjects(P,M,E,w,R,!0)},collide:function(P,M,E,w,R){return E===void 0&&(E=null),w===void 0&&(w=null),R===void 0&&(R=E),this.world.collideObjects(P,M,E,w,R,!1)},collideTiles:function(P,M,E,w,R){return this.world.collideTiles(P,M,E,w,R)},overlapTiles:function(P,M,E,w,R){return this.world.overlapTiles(P,M,E,w,R)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(P,M,E,w,R,O){w===void 0&&(w=60);var A=Math.atan2(E-P.y,M-P.x);return P.body.acceleration.setToPolar(A,w),R!==void 0&&O!==void 0&&P.body.maxVelocity.set(R,O),A},accelerateToObject:function(P,M,E,w,R){return this.accelerateTo(P,M.x,M.y,E,w,R)},closest:function(P,M){M||(M=this.world.bodies.entries);for(var E=Number.MAX_VALUE,w=null,R=P.x,O=P.y,A=M.length,F=0;F<A;F++){var L=M[F],I=L.body||L;if(!(P===L||P===I||P===I.gameObject||P===I.center)){var B=u(R,O,I.center.x,I.center.y);B<E&&(w=L,E=B)}}return w},furthest:function(P,M){M||(M=this.world.bodies.entries);for(var E=-1,w=null,R=P.x,O=P.y,A=M.length,F=0;F<A;F++){var L=M[F],I=L.body||L;if(!(P===L||P===I||P===I.gameObject||P===I.center)){var B=u(R,O,I.center.x,I.center.y);B>E&&(w=L,E=B)}}return w},moveTo:function(P,M,E,w,R){w===void 0&&(w=60),R===void 0&&(R=0);var O=Math.atan2(E-P.y,M-P.x);return R>0&&(w=f(P.x,P.y,M,E)/(R/1e3)),P.body.velocity.setToPolar(O,w),O},moveToObject:function(P,M,E,w){return this.moveTo(P,M.x,M.y,E,w)},velocityFromAngle:function(P,M,E){return M===void 0&&(M=60),E===void 0&&(E=new g),E.setToPolar(x(P),M)},velocityFromRotation:function(P,M,E){return M===void 0&&(M=60),E===void 0&&(E=new g),E.setToPolar(P,M)},overlapRect:function(P,M,E,w,R,O){return a(this.world,P,M,E,w,R,O)},overlapCirc:function(P,M,E,w,R){return p(this.world,P,M,E,w,R)},shutdown:function(){if(this.world){var P=this.systems.events;P.off(v.UPDATE,this.world.update,this.world),P.off(v.POST_UPDATE,this.world.postUpdate,this.world),P.off(v.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(v.START,this.start,this),this.scene=null,this.systems=null}});c.register("ArcadePhysics",y,"arcadePhysics"),r.exports=y},25084:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(7864),f=i(13747),u=new d({Extends:f,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Collision,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(n,h,p,a,c){f.call(this,n,h,p,a,c),this.body=null}});r.exports=u},97602:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(95239),f=i(47401),u=i(27037),o=i(23701),n=i(74118),h=i(94287),p=i(15084),a=i(93736),c=new d({Mixins:[x],initialize:function(g,m){var y=64,P=64,M={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},E=m!==void 0;E&&m.displayWidth&&(y=m.displayWidth,P=m.displayHeight),E||(m=M),this.world=g,this.gameObject=E?m:void 0,this.isBody=!0,this.transform={x:m.x,y:m.y,rotation:m.angle,scaleX:m.scaleX,scaleY:m.scaleY,displayOriginX:m.displayOriginX,displayOriginY:m.displayOriginY},this.debugShowBody=g.defaults.debugShowBody,this.debugShowVelocity=g.defaults.debugShowVelocity,this.debugBodyColor=g.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new a,this.position=new a(m.x-m.scaleX*m.displayOriginX,m.y-m.scaleY*m.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=m.angle,this.preRotation=m.angle,this.width=y,this.height=P,this.sourceWidth=y,this.sourceHeight=P,m.frame&&(this.sourceWidth=m.frame.realWidth,this.sourceHeight=m.frame.realHeight),this.halfWidth=Math.abs(y/2),this.halfHeight=Math.abs(P/2),this.center=new a(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new a,this.newVelocity=new a,this.deltaMax=new a,this.acceleration=new a,this.allowDrag=!0,this.drag=new a,this.allowGravity=!0,this.gravity=new a,this.bounce=new a,this.worldBounce=null,this.customBoundsRectangle=g.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new a(1e4,1e4),this.maxSpeed=-1,this.friction=new a(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=f.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new a(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=p(!1),this.touching=p(!0),this.wasTouching=p(!0),this.blocked=p(!0),this.syncBounds=!1,this.physicsType=f.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=m.scaleX,this._sy=m.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new n,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var v=this.gameObject,g=this.transform;if(v.parentContainer){var m=v.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);g.x=m.tx,g.y=m.ty,g.rotation=o(m.rotation),g.scaleX=m.scaleX,g.scaleY=m.scaleY,g.displayOriginX=v.displayOriginX,g.displayOriginY=v.displayOriginY}else g.x=v.x,g.y=v.y,g.rotation=v.angle,g.scaleX=v.scaleX,g.scaleY=v.scaleY,g.displayOriginX=v.displayOriginX,g.displayOriginY=v.displayOriginY;var y=!1;if(this.syncBounds){var P=v.getBounds(this._bounds);this.width=P.width,this.height=P.height,y=!0}else{var M=Math.abs(g.scaleX),E=Math.abs(g.scaleY);(this._sx!==M||this._sy!==E)&&(this.width=this.sourceWidth*M,this.height=this.sourceHeight*E,this._sx=M,this._sy=E,y=!0)}y&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var v=this.transform;this.position.x=v.x+v.scaleX*(this.offset.x-v.displayOriginX),this.position.y=v.y+v.scaleY*(this.offset.y-v.displayOriginY),this.updateCenter()},resetFlags:function(v){v===void 0&&(v=!1);var g=this.wasTouching,m=this.touching,y=this.blocked;v?p(!0,g):(g.none=m.none,g.up=m.up,g.down=m.down,g.left=m.left,g.right=m.right),p(!0,m),p(!0,y),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(v,g){if(v&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var m=this.position;this.prev.x=m.x,this.prev.y=m.y,this.prevFrame.x=m.x,this.prevFrame.y=m.y}v&&this.update(g)},update:function(v){var g=this.prev,m=this.position,y=this.velocity;if(g.set(m.x,m.y),!this.moves){this._dx=m.x-g.x,this._dy=m.y-g.y;return}if(this.directControl){var P=this.autoFrame;y.set((m.x-P.x)/v,(m.y-P.y)/v),this.world.updateMotion(this,v),this._dx=m.x-P.x,this._dy=m.y-P.y}else this.world.updateMotion(this,v),this.newVelocity.set(y.x*v,y.y*v),m.add(this.newVelocity),this._dx=m.x-g.x,this._dy=m.y-g.y;var M=y.x,E=y.y;if(this.updateCenter(),this.angle=Math.atan2(E,M),this.speed=Math.sqrt(M*M+E*E),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var w=this.blocked;this.world.emit(u.WORLD_BOUNDS,this,w.up,w.down,w.left,w.right)}},postUpdate:function(){var v=this.position,g=v.x-this.prevFrame.x,m=v.y-this.prevFrame.y,y=this.gameObject;if(this.moves){var P=this.deltaMax.x,M=this.deltaMax.y;P!==0&&g!==0&&(g<0&&g<-P?g=-P:g>0&&g>P&&(g=P)),M!==0&&m!==0&&(m<0&&m<-M?m=-M:m>0&&m>M&&(m=M)),y&&(y.x+=g,y.y+=m)}g<0?this.facing=f.FACING_LEFT:g>0&&(this.facing=f.FACING_RIGHT),m<0?this.facing=f.FACING_UP:m>0&&(this.facing=f.FACING_DOWN),this.allowRotation&&y&&(y.angle+=this.deltaZ()),this._tx=g,this._ty=m,this.autoFrame.set(v.x,v.y)},setBoundsRectangle:function(v){return this.customBoundsRectangle=v||this.world.bounds,this},checkWorldBounds:function(){var v=this.position,g=this.velocity,m=this.blocked,y=this.customBoundsRectangle,P=this.world.checkCollision,M=this.worldBounce?-this.worldBounce.x:-this.bounce.x,E=this.worldBounce?-this.worldBounce.y:-this.bounce.y,w=!1;return v.x<y.x&&P.left?(v.x=y.x,g.x*=M,m.left=!0,w=!0):this.right>y.right&&P.right&&(v.x=y.right-this.width,g.x*=M,m.right=!0,w=!0),v.y<y.y&&P.up?(v.y=y.y,g.y*=E,m.up=!0,w=!0):this.bottom>y.bottom&&P.down&&(v.y=y.bottom-this.height,g.y*=E,m.down=!0,w=!0),w&&(this.blocked.none=!1,this.updateCenter()),w},setOffset:function(v,g){return g===void 0&&(g=v),this.offset.set(v,g),this},setGameObject:function(v,g){return g===void 0&&(g=!0),this.world.remove(this),this.gameObject&&this.gameObject.body&&(this.gameObject.body=null),this.gameObject=v,v.body&&(v.body=this),this.setSize(),this.world.add(this),this.enable=g,this},setSize:function(v,g,m){m===void 0&&(m=!0);var y=this.gameObject;if(y&&(!v&&y.frame&&(v=y.frame.realWidth),!g&&y.frame&&(g=y.frame.realHeight)),this.sourceWidth=v,this.sourceHeight=g,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),m&&y&&y.getCenter){var P=(y.width-v)/2,M=(y.height-g)/2;this.offset.set(P,M)}return this.isCircle=!1,this.radius=0,this},setCircle:function(v,g,m){return g===void 0&&(g=this.offset.x),m===void 0&&(m=this.offset.y),v>0?(this.isCircle=!0,this.radius=v,this.sourceWidth=v*2,this.sourceHeight=v*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(g,m),this.updateCenter()):this.isCircle=!1,this},reset:function(v,g){this.stop();var m=this.gameObject;m&&(m.setPosition(v,g),this.rotation=m.angle,this.preRotation=m.angle);var y=this.position;m&&m.getTopLeft?m.getTopLeft(y):y.set(v,g),this.prev.copy(y),this.prevFrame.copy(y),this.autoFrame.copy(y),m&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(v){return v.x=this.x,v.y=this.y,v.right=this.right,v.bottom=this.bottom,v},hitTest:function(v,g){if(!this.isCircle)return h(this,v,g);if(this.radius>0&&v>=this.left&&v<=this.right&&g>=this.top&&g<=this.bottom){var m=(this.center.x-v)*(this.center.x-v),y=(this.center.y-g)*(this.center.y-g);return m+y<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(v){var g=this.position,m=g.x+this.halfWidth,y=g.y+this.halfHeight;this.debugShowBody&&(v.lineStyle(v.defaultStrokeWidth,this.debugBodyColor),this.isCircle?v.strokeCircle(m,y,this.width/2):(this.checkCollision.up&&v.lineBetween(g.x,g.y,g.x+this.width,g.y),this.checkCollision.right&&v.lineBetween(g.x+this.width,g.y,g.x+this.width,g.y+this.height),this.checkCollision.down&&v.lineBetween(g.x,g.y+this.height,g.x+this.width,g.y+this.height),this.checkCollision.left&&v.lineBetween(g.x,g.y,g.x,g.y+this.height))),this.debugShowVelocity&&(v.lineStyle(v.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),v.lineBetween(m,y,m+this.velocity.x/2,y+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(v){return v===void 0&&(v=!0),this.directControl=v,this},setCollideWorldBounds:function(v,g,m,y){v===void 0&&(v=!0),this.collideWorldBounds=v;var P=g!==void 0,M=m!==void 0;return(P||M)&&(this.worldBounce||(this.worldBounce=new a),P&&(this.worldBounce.x=g),M&&(this.worldBounce.y=m)),y!==void 0&&(this.onWorldBounds=y),this},setVelocity:function(v,g){return this.velocity.set(v,g),v=this.velocity.x,g=this.velocity.y,this.speed=Math.sqrt(v*v+g*g),this},setVelocityX:function(v){return this.setVelocity(v,this.velocity.y)},setVelocityY:function(v){return this.setVelocity(this.velocity.x,v)},setMaxVelocity:function(v,g){return this.maxVelocity.set(v,g),this},setMaxVelocityX:function(v){return this.maxVelocity.x=v,this},setMaxVelocityY:function(v){return this.maxVelocity.y=v,this},setMaxSpeed:function(v){return this.maxSpeed=v,this},setSlideFactor:function(v,g){return this.slideFactor.set(v,g),this},setBounce:function(v,g){return this.bounce.set(v,g),this},setBounceX:function(v){return this.bounce.x=v,this},setBounceY:function(v){return this.bounce.y=v,this},setAcceleration:function(v,g){return this.acceleration.set(v,g),this},setAccelerationX:function(v){return this.acceleration.x=v,this},setAccelerationY:function(v){return this.acceleration.y=v,this},setAllowDrag:function(v){return v===void 0&&(v=!0),this.allowDrag=v,this},setAllowGravity:function(v){return v===void 0&&(v=!0),this.allowGravity=v,this},setAllowRotation:function(v){return v===void 0&&(v=!0),this.allowRotation=v,this},setDrag:function(v,g){return this.drag.set(v,g),this},setDamping:function(v){return this.useDamping=v,this},setDragX:function(v){return this.drag.x=v,this},setDragY:function(v){return this.drag.y=v,this},setGravity:function(v,g){return this.gravity.set(v,g),this},setGravityX:function(v){return this.gravity.x=v,this},setGravityY:function(v){return this.gravity.y=v,this},setFriction:function(v,g){return this.friction.set(v,g),this},setFrictionX:function(v){return this.friction.x=v,this},setFrictionY:function(v){return this.friction.y=v,this},setAngularVelocity:function(v){return this.angularVelocity=v,this},setAngularAcceleration:function(v){return this.angularAcceleration=v,this},setAngularDrag:function(v){return this.angularDrag=v,this},setMass:function(v){return this.mass=v,this},setImmovable:function(v){return v===void 0&&(v=!0),this.immovable=v,this},setEnable:function(v){return v===void 0&&(v=!0),this.enable=v,this},processX:function(v,g,m,y){this.x+=v,this.updateCenter(),g!==null&&(this.velocity.x=g*this.slideFactor.x);var P=this.blocked;m&&(P.left=!0,P.none=!1),y&&(P.right=!0,P.none=!1)},processY:function(v,g,m,y){this.y+=v,this.updateCenter(),g!==null&&(this.velocity.y=g*this.slideFactor.y);var P=this.blocked;m&&(P.up=!0,P.none=!1),y&&(P.down=!0,P.none=!1)},x:{get:function(){return this.position.x},set:function(v){this.position.x=v}},y:{get:function(){return this.position.y},set:function(v){this.position.y=v}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});r.exports=c},3909:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=new d({initialize:function(u,o,n,h,p,a,c){this.world=u,this.name="",this.active=!0,this.overlapOnly=o,this.object1=n,this.object2=h,this.collideCallback=p,this.processCallback=a,this.callbackContext=c},setName:function(f){return this.name=f,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});r.exports=x},99523:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(62832),x=i(25084),f=i(97602),u=i(56694),o=i(47401),n=i(10481),h=i(66634),p=i(46346),a=new u({initialize:function(v){this.world=v,this.scene=v.scene,this.sys=v.scene.sys},collider:function(c,v,g,m,y){return this.world.addCollider(c,v,g,m,y)},overlap:function(c,v,g,m,y){return this.world.addOverlap(c,v,g,m,y)},existing:function(c,v){var g=v?o.STATIC_BODY:o.DYNAMIC_BODY;return this.world.enableBody(c,g),c},staticImage:function(c,v,g,m){var y=new d(this.scene,c,v,g,m);return this.sys.displayList.add(y),this.world.enableBody(y,o.STATIC_BODY),y},image:function(c,v,g,m){var y=new d(this.scene,c,v,g,m);return this.sys.displayList.add(y),this.world.enableBody(y,o.DYNAMIC_BODY),y},staticSprite:function(c,v,g,m){var y=new x(this.scene,c,v,g,m);return this.sys.displayList.add(y),this.sys.updateList.add(y),this.world.enableBody(y,o.STATIC_BODY),y},sprite:function(c,v,g,m){var y=new x(this.scene,c,v,g,m);return this.sys.displayList.add(y),this.sys.updateList.add(y),this.world.enableBody(y,o.DYNAMIC_BODY),y},staticGroup:function(c,v){return this.sys.updateList.add(new p(this.world,this.world.scene,c,v))},group:function(c,v){return this.sys.updateList.add(new n(this.world,this.world.scene,c,v))},body:function(c,v,g,m){var y=new f(this.world);return y.position.set(c,v),g&&m&&y.setSize(g,m),this.world.add(y,o.DYNAMIC_BODY),y},staticBody:function(c,v,g,m){var y=new h(this.world);return y.position.set(c,v),g&&m&&y.setSize(g,m),this.world.add(y,o.STATIC_BODY),y},destroy:function(){this.world=null,this.scene=null,this.sys=null}});r.exports=a},44880:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var d=0;if(!Array.isArray(i))d=i;else for(var x=0;x<i.length;x++)d|=i[x];return d};r.exports=T},75671:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(47401),x=function(f,u,o,n){var h=0,p=f.deltaAbsX()+u.deltaAbsX()+n;return f._dx===0&&u._dx===0?(f.embedded=!0,u.embedded=!0):f._dx>u._dx?(h=f.right-u.x,h>p&&!o||f.checkCollision.right===!1||u.checkCollision.left===!1?h=0:(f.touching.none=!1,f.touching.right=!0,u.touching.none=!1,u.touching.left=!0,u.physicsType===d.STATIC_BODY&&!o&&(f.blocked.none=!1,f.blocked.right=!0),f.physicsType===d.STATIC_BODY&&!o&&(u.blocked.none=!1,u.blocked.left=!0))):f._dx<u._dx&&(h=f.x-u.width-u.x,-h>p&&!o||f.checkCollision.left===!1||u.checkCollision.right===!1?h=0:(f.touching.none=!1,f.touching.left=!0,u.touching.none=!1,u.touching.right=!0,u.physicsType===d.STATIC_BODY&&!o&&(f.blocked.none=!1,f.blocked.left=!0),f.physicsType===d.STATIC_BODY&&!o&&(u.blocked.none=!1,u.blocked.right=!0))),f.overlapX=h,u.overlapX=h,h};r.exports=x},66185:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(47401),x=function(f,u,o,n){var h=0,p=f.deltaAbsY()+u.deltaAbsY()+n;return f._dy===0&&u._dy===0?(f.embedded=!0,u.embedded=!0):f._dy>u._dy?(h=f.bottom-u.y,h>p&&!o||f.checkCollision.down===!1||u.checkCollision.up===!1?h=0:(f.touching.none=!1,f.touching.down=!0,u.touching.none=!1,u.touching.up=!0,u.physicsType===d.STATIC_BODY&&!o&&(f.blocked.none=!1,f.blocked.down=!0),f.physicsType===d.STATIC_BODY&&!o&&(u.blocked.none=!1,u.blocked.up=!0))):f._dy<u._dy&&(h=f.y-u.bottom,-h>p&&!o||f.checkCollision.up===!1||u.checkCollision.down===!1?h=0:(f.touching.none=!1,f.touching.up=!0,u.touching.none=!1,u.touching.down=!0,u.physicsType===d.STATIC_BODY&&!o&&(f.blocked.none=!1,f.blocked.up=!0),f.physicsType===d.STATIC_BODY&&!o&&(u.blocked.none=!1,u.blocked.down=!0))),f.overlapY=h,u.overlapY=h,h};r.exports=x},10481:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(25084),x=i(56694),f=i(95239),u=i(47401),o=i(72632),n=i(59192),h=i(42911),p=new x({Extends:n,Mixins:[f],initialize:function(c,v,g,m){if(!g&&!m)m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(h(g))m=g,g=null,m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(g)&&h(g[0])){var y=this;g.forEach(function(P){P.internalCreateCallback=y.createCallbackHandler,P.internalRemoveCallback=y.removeCallbackHandler,P.classType=o(P,"classType",d)}),m=null}else m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=c,m&&(m.classType=o(m,"classType",d)),this.physicsType=u.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this.defaults={setCollideWorldBounds:o(m,"collideWorldBounds",!1),setBoundsRectangle:o(m,"customBoundsRectangle",null),setAccelerationX:o(m,"accelerationX",0),setAccelerationY:o(m,"accelerationY",0),setAllowDrag:o(m,"allowDrag",!0),setAllowGravity:o(m,"allowGravity",!0),setAllowRotation:o(m,"allowRotation",!0),setDamping:o(m,"useDamping",!1),setBounceX:o(m,"bounceX",0),setBounceY:o(m,"bounceY",0),setDragX:o(m,"dragX",0),setDragY:o(m,"dragY",0),setEnable:o(m,"enable",!0),setGravityX:o(m,"gravityX",0),setGravityY:o(m,"gravityY",0),setFrictionX:o(m,"frictionX",0),setFrictionY:o(m,"frictionY",0),setMaxSpeed:o(m,"maxSpeed",-1),setMaxVelocityX:o(m,"maxVelocityX",1e4),setMaxVelocityY:o(m,"maxVelocityY",1e4),setVelocityX:o(m,"velocityX",0),setVelocityY:o(m,"velocityY",0),setAngularVelocity:o(m,"angularVelocity",0),setAngularAcceleration:o(m,"angularAcceleration",0),setAngularDrag:o(m,"angularDrag",0),setMass:o(m,"mass",1),setImmovable:o(m,"immovable",!1)},n.call(this,v,g,m),this.type="PhysicsGroup"},createCallbackHandler:function(a){a.body||this.world.enableBody(a,u.DYNAMIC_BODY);var c=a.body;for(var v in this.defaults)c[v](this.defaults[v])},removeCallbackHandler:function(a){a.body&&this.world.disableBody(a)},setVelocity:function(a,c,v){v===void 0&&(v=0);for(var g=this.getChildren(),m=0;m<g.length;m++)g[m].body.velocity.set(a+m*v,c+m*v);return this},setVelocityX:function(a,c){c===void 0&&(c=0);for(var v=this.getChildren(),g=0;g<v.length;g++)v[g].body.velocity.x=a+g*c;return this},setVelocityY:function(a,c){c===void 0&&(c=0);for(var v=this.getChildren(),g=0;g<v.length;g++)v[g].body.velocity.y=a+g*c;return this}});r.exports=p},22916:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,i,d,x,f,u,o,n,h,p,a,c,v,g,m,y,P,M=function(F,L,I){T=F,i=L;var B=T.velocity.x,b=i.velocity.x;return d=T.pushable,h=T._dx<0,p=T._dx>0,a=T._dx===0,m=Math.abs(T.right-i.x)<=Math.abs(i.right-T.x),o=b-B*T.bounce.x,x=i.pushable,c=i._dx<0,v=i._dx>0,g=i._dx===0,y=!m,n=B-b*i.bounce.x,P=Math.abs(I),E()},E=function(){return p&&m&&i.blocked.right?(T.processX(-P,o,!1,!0),1):h&&y&&i.blocked.left?(T.processX(P,o,!0),1):v&&y&&T.blocked.right?(i.processX(-P,n,!1,!0),2):c&&m&&T.blocked.left?(i.processX(P,n,!0),2):0},w=function(){var F=T.velocity.x,L=i.velocity.x,I=Math.sqrt(L*L*i.mass/T.mass)*(L>0?1:-1),B=Math.sqrt(F*F*T.mass/i.mass)*(F>0?1:-1),b=(I+B)*.5;return I-=b,B-=b,f=b+I*T.bounce.x,u=b+B*i.bounce.x,h&&y?R(0):c&&m?R(1):p&&m?R(2):v&&y?R(3):!1},R=function(F){if(d&&x)P*=.5,F===0||F===3?(T.processX(P,f),i.processX(-P,u)):(T.processX(-P,f),i.processX(P,u));else if(d&&!x)F===0||F===3?T.processX(P,o,!0):T.processX(-P,o,!1,!0);else if(!d&&x)F===0||F===3?i.processX(-P,n,!1,!0):i.processX(P,n,!0);else{var L=P*.5;F===0?g?(T.processX(P,0,!0),i.processX(0,null,!1,!0)):v?(T.processX(L,0,!0),i.processX(-L,0,!1,!0)):(T.processX(L,i.velocity.x,!0),i.processX(-L,null,!1,!0)):F===1?a?(T.processX(0,null,!1,!0),i.processX(P,0,!0)):p?(T.processX(-L,0,!1,!0),i.processX(L,0,!0)):(T.processX(-L,null,!1,!0),i.processX(L,T.velocity.x,!0)):F===2?g?(T.processX(-P,0,!1,!0),i.processX(0,null,!0)):c?(T.processX(-L,0,!1,!0),i.processX(L,0,!0)):(T.processX(-L,i.velocity.x,!1,!0),i.processX(L,null,!0)):F===3&&(a?(T.processX(0,null,!0),i.processX(-P,0,!1,!0)):h?(T.processX(L,0,!0),i.processX(-L,0,!1,!0)):(T.processX(L,i.velocity.y,!0),i.processX(-L,null,!1,!0)))}return!0},O=function(F){F===1?i.velocity.x=0:m?i.processX(P,n,!0):i.processX(-P,n,!1,!0),T.moves&&(i.y+=(T.y-T.prev.y)*T.friction.y,i._dy=i.y-i.prev.y)},A=function(F){F===2?T.velocity.x=0:y?T.processX(P,o,!0):T.processX(-P,o,!1,!0),i.moves&&(T.y+=(i.y-i.prev.y)*i.friction.y,T._dy=T.y-T.prev.y)};r.exports={BlockCheck:E,Check:w,Set:M,Run:R,RunImmovableBody1:O,RunImmovableBody2:A}},67050:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T,i,d,x,f,u,o,n,h,p,a,c,v,g,m,y,P,M=function(F,L,I){T=F,i=L;var B=T.velocity.y,b=i.velocity.y;return d=T.pushable,h=T._dy<0,p=T._dy>0,a=T._dy===0,m=Math.abs(T.bottom-i.y)<=Math.abs(i.bottom-T.y),o=b-B*T.bounce.y,x=i.pushable,c=i._dy<0,v=i._dy>0,g=i._dy===0,y=!m,n=B-b*i.bounce.y,P=Math.abs(I),E()},E=function(){return p&&m&&i.blocked.down?(T.processY(-P,o,!1,!0),1):h&&y&&i.blocked.up?(T.processY(P,o,!0),1):v&&y&&T.blocked.down?(i.processY(-P,n,!1,!0),2):c&&m&&T.blocked.up?(i.processY(P,n,!0),2):0},w=function(){var F=T.velocity.y,L=i.velocity.y,I=Math.sqrt(L*L*i.mass/T.mass)*(L>0?1:-1),B=Math.sqrt(F*F*T.mass/i.mass)*(F>0?1:-1),b=(I+B)*.5;return I-=b,B-=b,f=b+I*T.bounce.y,u=b+B*i.bounce.y,h&&y?R(0):c&&m?R(1):p&&m?R(2):v&&y?R(3):!1},R=function(F){if(d&&x)P*=.5,F===0||F===3?(T.processY(P,f),i.processY(-P,u)):(T.processY(-P,f),i.processY(P,u));else if(d&&!x)F===0||F===3?T.processY(P,o,!0):T.processY(-P,o,!1,!0);else if(!d&&x)F===0||F===3?i.processY(-P,n,!1,!0):i.processY(P,n,!0);else{var L=P*.5;F===0?g?(T.processY(P,0,!0),i.processY(0,null,!1,!0)):v?(T.processY(L,0,!0),i.processY(-L,0,!1,!0)):(T.processY(L,i.velocity.y,!0),i.processY(-L,null,!1,!0)):F===1?a?(T.processY(0,null,!1,!0),i.processY(P,0,!0)):p?(T.processY(-L,0,!1,!0),i.processY(L,0,!0)):(T.processY(-L,null,!1,!0),i.processY(L,T.velocity.y,!0)):F===2?g?(T.processY(-P,0,!1,!0),i.processY(0,null,!0)):c?(T.processY(-L,0,!1,!0),i.processY(L,0,!0)):(T.processY(-L,i.velocity.y,!1,!0),i.processY(L,null,!0)):F===3&&(a?(T.processY(0,null,!0),i.processY(-P,0,!1,!0)):h?(T.processY(L,0,!0),i.processY(-L,0,!1,!0)):(T.processY(L,i.velocity.y,!0),i.processY(-L,null,!1,!0)))}return!0},O=function(F){F===1?i.velocity.y=0:m?i.processY(P,n,!0):i.processY(-P,n,!1,!0),T.moves&&(i.x+=(T.x-T.prev.x)*T.friction.x,i._dx=i.x-i.prev.x)},A=function(F){F===2?T.velocity.y=0:y?T.processY(P,o,!0):T.processY(-P,o,!1,!0),i.moves&&(T.x+=(i.x-i.prev.x)*i.friction.x,T._dx=T.x-T.prev.x)};r.exports={BlockCheck:E,Check:w,Set:M,Run:R,RunImmovableBody1:O,RunImmovableBody2:A}},61777:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(75671),x=i(22916),f=function(u,o,n,h,p){p===void 0&&(p=d(u,o,n,h));var a=u.immovable,c=o.immovable;if(n||p===0||a&&c||u.customSeparateX||o.customSeparateX)return p!==0||u.embedded&&o.embedded;var v=x.Set(u,o,p);return!a&&!c?v>0?!0:x.Check():(a?x.RunImmovableBody1(v):c&&x.RunImmovableBody2(v),!0)};r.exports=f},25299:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(66185),x=i(67050),f=function(u,o,n,h,p){p===void 0&&(p=d(u,o,n,h));var a=u.immovable,c=o.immovable;if(n||p===0||a&&c||u.customSeparateY||o.customSeparateY)return p!==0||u.embedded&&o.embedded;var v=x.Set(u,o,p);return!a&&!c?v>0?!0:x.Check():(a?x.RunImmovableBody1(v):c&&x.RunImmovableBody2(v),!0)};r.exports=f},15084:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return d===void 0&&(d={}),d.none=i,d.up=!1,d.down=!1,d.left=!1,d.right=!1,i||(d.up=!0,d.down=!0,d.left=!0,d.right=!0),d};r.exports=T},66634:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(65650),x=i(56694),f=i(95239),u=i(47401),o=i(94287),n=i(15084),h=i(93736),p=new x({Mixins:[f],initialize:function(c,v){var g=64,m=64,y={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},P=v!==void 0;P&&v.displayWidth&&(g=v.displayWidth,m=v.displayHeight),P||(v=y),this.world=c,this.gameObject=P?v:void 0,this.isBody=!0,this.debugShowBody=c.defaults.debugShowStaticBody,this.debugBodyColor=c.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new h,this.position=new h(v.x-g*v.originX,v.y-m*v.originY),this.width=g,this.height=m,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new h(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=h.ZERO,this.allowGravity=!1,this.gravity=h.ZERO,this.bounce=h.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=n(!1),this.touching=n(!0),this.wasTouching=n(!0),this.blocked=n(!0),this.physicsType=u.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(a,c){return a&&a!==this.gameObject&&(this.gameObject.body=null,a.body=this,this.gameObject=a),c&&this.updateFromGameObject(),this},updateFromGameObject:function(){this.world.staticTree.remove(this);var a=this.gameObject;return a.getTopLeft(this.position),this.width=a.displayWidth,this.height=a.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(a,c){return c===void 0&&(c=a),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(a,c),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(a,c,v){v===void 0&&(v=!0);var g=this.gameObject;if(g&&g.frame&&(a||(a=g.frame.realWidth),c||(c=g.frame.realHeight)),this.world.staticTree.remove(this),this.width=a,this.height=c,this.halfWidth=Math.floor(a/2),this.halfHeight=Math.floor(c/2),v&&g&&g.getCenter){var m=g.displayWidth/2,y=g.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(m-this.halfWidth,y-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(a,c,v){return c===void 0&&(c=this.offset.x),v===void 0&&(v=this.offset.y),a>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=a,this.width=a*2,this.height=a*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(c,v),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(a,c){var v=this.gameObject;a===void 0&&(a=v.x),c===void 0&&(c=v.y),this.world.staticTree.remove(this),v.setPosition(a,c),v.getTopLeft(this.position),this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(a){return a.x=this.x,a.y=this.y,a.right=this.right,a.bottom=this.bottom,a},hitTest:function(a,c){return this.isCircle?d(this,a,c):o(this,a,c)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(a){var c=this.position,v=c.x+this.halfWidth,g=c.y+this.halfHeight;this.debugShowBody&&(a.lineStyle(a.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?a.strokeCircle(v,g,this.width/2):a.strokeRect(c.x,c.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(a){return a<=0&&(a=.1),this.mass=a,this},x:{get:function(){return this.position.x},set:function(a){this.world.staticTree.remove(this),this.position.x=a,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(a){this.world.staticTree.remove(this),this.position.y=a,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});r.exports=p},46346:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(25084),x=i(56694),f=i(95239),u=i(47401),o=i(72632),n=i(59192),h=i(42911),p=new x({Extends:n,Mixins:[f],initialize:function(c,v,g,m){!g&&!m?m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:d}:h(g)?(m=g,g=null,m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler,m.createMultipleCallback=this.createMultipleCallbackHandler,m.classType=o(m,"classType",d)):Array.isArray(g)&&h(g[0])?(m=g,g=null,m.forEach(function(y){y.internalCreateCallback=this.createCallbackHandler,y.internalRemoveCallback=this.removeCallbackHandler,y.createMultipleCallback=this.createMultipleCallbackHandler,y.classType=o(y,"classType",d)})):m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=c,this.physicsType=u.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,n.call(this,v,g,m),this.type="StaticPhysicsGroup"},createCallbackHandler:function(a){a.body||this.world.enableBody(a,u.STATIC_BODY)},removeCallbackHandler:function(a){a.body&&this.world.disableBody(a)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var a=this.children.entries,c=0;c<a.length;c++)a[c].body.reset();return this}});r.exports=p},85233:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(94240),x=i(97602),f=i(82897),u=i(56694),o=i(3909),n=i(47401),h=i(53996),p=i(92951),a=i(6659),c=i(27037),v=i(88456),g=i(41935),m=i(54726),y=i(75671),P=i(66185),M=i(44662),E=i(10850),w=i(83392),R=i(74623),O=i(25163),A=i(74118),F=i(68687),L=i(27354),I=i(61777),B=i(25299),b=i(58403),k=i(66634),U=i(28808),Y=i(69360),H=i(93736),z=i(1071),V=new u({Extends:a,initialize:function(G,N){a.call(this),this.scene=G,this.bodies=new b,this.staticBodies=new b,this.pendingDestroy=new b,this.colliders=new R,this.gravity=new H(E(N,"gravity.x",0),E(N,"gravity.y",0)),this.bounds=new A(E(N,"x",0),E(N,"y",0),E(N,"width",G.sys.scale.width),E(N,"height",G.sys.scale.height)),this.checkCollision={up:E(N,"checkCollision.up",!0),down:E(N,"checkCollision.down",!0),left:E(N,"checkCollision.left",!0),right:E(N,"checkCollision.right",!0)},this.fps=E(N,"fps",60),this.fixedStep=E(N,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=E(N,"timeScale",1),this.OVERLAP_BIAS=E(N,"overlapBias",4),this.TILE_BIAS=E(N,"tileBias",16),this.forceX=E(N,"forceX",!1),this.isPaused=E(N,"isPaused",!1),this._total=0,this.drawDebug=E(N,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:E(N,"debugShowBody",!0),debugShowStaticBody:E(N,"debugShowStaticBody",!0),debugShowVelocity:E(N,"debugShowVelocity",!0),bodyDebugColor:E(N,"debugBodyColor",16711935),staticBodyDebugColor:E(N,"debugStaticBodyColor",255),velocityDebugColor:E(N,"debugVelocityColor",65280)},this.maxEntries=E(N,"maxEntries",16),this.useTree=E(N,"useTree",!0),this.tree=new F(this.maxEntries),this.staticTree=new F(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new Y,this._tempMatrix2=new Y,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(D,G){G===void 0&&(G=n.DYNAMIC_BODY),Array.isArray(D)||(D=[D]);for(var N=0;N<D.length;N++){var X=D[N];if(X.isParent)for(var W=X.getChildren(),$=0;$<W.length;$++){var K=W[$];K.isParent?this.enable(K,G):this.enableBody(K,G)}else this.enableBody(X,G)}},enableBody:function(D,G){return G===void 0&&(G=n.DYNAMIC_BODY),D.hasTransformComponent&&(D.body||(G===n.DYNAMIC_BODY?D.body=new x(this,D):G===n.STATIC_BODY&&(D.body=new k(this,D))),this.add(D.body)),D},add:function(D){return D.physicsType===n.DYNAMIC_BODY?this.bodies.set(D):D.physicsType===n.STATIC_BODY&&(this.staticBodies.set(D),this.staticTree.insert(D)),D.enable=!0,D},disable:function(D){Array.isArray(D)||(D=[D]);for(var G=0;G<D.length;G++){var N=D[G];if(N.isParent)for(var X=N.getChildren(),W=0;W<X.length;W++){var $=X[W];$.isParent?this.disable($):this.disableBody($.body)}else this.disableBody(N.body)}},disableBody:function(D){this.remove(D),D.enable=!1},remove:function(D){D.physicsType===n.DYNAMIC_BODY?(this.tree.remove(D),this.bodies.delete(D)):D.physicsType===n.STATIC_BODY&&(this.staticBodies.delete(D),this.staticTree.remove(D))},createDebugGraphic:function(){var D=this.scene.sys.add.graphics({x:0,y:0});return D.setDepth(Number.MAX_VALUE),this.debugGraphic=D,this.drawDebug=!0,D},setBounds:function(D,G,N,X,W,$,K,j){return this.bounds.setTo(D,G,N,X),W!==void 0&&this.setBoundsCollision(W,$,K,j),this},setBoundsCollision:function(D,G,N,X){return D===void 0&&(D=!0),G===void 0&&(G=!0),N===void 0&&(N=!0),X===void 0&&(X=!0),this.checkCollision.left=D,this.checkCollision.right=G,this.checkCollision.up=N,this.checkCollision.down=X,this},pause:function(){return this.isPaused=!0,this.emit(c.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(c.RESUME),this},addCollider:function(D,G,N,X,W){N===void 0&&(N=null),X===void 0&&(X=null),W===void 0&&(W=N);var $=new o(this,!1,D,G,N,X,W);return this.colliders.add($),$},addOverlap:function(D,G,N,X,W){N===void 0&&(N=null),X===void 0&&(X=null),W===void 0&&(W=N);var $=new o(this,!0,D,G,N,X,W);return this.colliders.add($),$},removeCollider:function(D){return this.colliders.remove(D),this},setFPS:function(D){return this.fps=D,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(D,G){if(!(this.isPaused||this.bodies.size===0)){var N,X=this._frameTime,W=this._frameTimeMS*this.timeScale;this._elapsed+=G;var $,K=this.bodies.entries,j=this._elapsed>=W;for(this.fixedStep||(X=G*.001,j=!0,this._elapsed=0),N=0;N<K.length;N++)$=K[N],$.enable&&$.preUpdate(j,X);if(j){this._elapsed-=W,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(K));var Z=this.colliders.update();for(N=0;N<Z.length;N++){var J=Z[N];J.active&&J.update()}this.emit(c.WORLD_STEP,X)}for(;this._elapsed>=W;)this._elapsed-=W,this.step(X)}},step:function(D){var G,N,X=this.bodies.entries,W=X.length;for(G=0;G<W;G++)N=X[G],N.enable&&N.update(D);this.useTree&&(this.tree.clear(),this.tree.load(X));var $=this.colliders.update();for(G=0;G<$.length;G++){var K=$[G];K.active&&K.update()}this.emit(c.WORLD_STEP,D),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var D,G,N=this.bodies.entries,X=N.length,W=this.bodies,$=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,D=0;D<X;D++)G=N[D],G.enable&&G.postUpdate();if(this.drawDebug){var K=this.debugGraphic;for(K.clear(),D=0;D<X;D++)G=N[D],G.willDrawDebug()&&G.drawDebug(K);for(N=$.entries,X=N.length,D=0;D<X;D++)G=N[D],G.willDrawDebug()&&G.drawDebug(K)}var j=this.pendingDestroy;if(j.size>0){var Z=this.tree,J=this.staticTree;for(N=j.entries,X=N.length,D=0;D<X;D++)G=N[D],G.physicsType===n.DYNAMIC_BODY?(Z.remove(G),W.delete(G)):G.physicsType===n.STATIC_BODY&&(J.remove(G),$.delete(G)),G.world=void 0,G.gameObject=void 0;j.clear()}},updateMotion:function(D,G){D.allowRotation&&this.computeAngularVelocity(D,G),this.computeVelocity(D,G)},computeAngularVelocity:function(D,G){var N=D.angularVelocity,X=D.angularAcceleration,W=D.angularDrag,$=D.maxAngular;X?N+=X*G:D.allowDrag&&W&&(W*=G,g(N-W,0,.1)?N-=W:m(N+W,0,.1)?N+=W:N=0),N=f(N,-$,$);var K=N-D.angularVelocity;D.angularVelocity+=K,D.rotation+=D.angularVelocity*G},computeVelocity:function(D,G){var N=D.velocity.x,X=D.acceleration.x,W=D.drag.x,$=D.maxVelocity.x,K=D.velocity.y,j=D.acceleration.y,Z=D.drag.y,J=D.maxVelocity.y,Q=D.speed,_=D.maxSpeed,q=D.allowDrag,et=D.useDamping;D.allowGravity&&(N+=(this.gravity.x+D.gravity.x)*G,K+=(this.gravity.y+D.gravity.y)*G),X?N+=X*G:q&&W&&(et?(W=Math.pow(W,G),N*=W,Q=Math.sqrt(N*N+K*K),v(Q,0,.001)&&(N=0)):(W*=G,g(N-W,0,.01)?N-=W:m(N+W,0,.01)?N+=W:N=0)),j?K+=j*G:q&&Z&&(et?(Z=Math.pow(Z,G),K*=Z,Q=Math.sqrt(N*N+K*K),v(Q,0,.001)&&(K=0)):(Z*=G,g(K-Z,0,.01)?K-=Z:m(K+Z,0,.01)?K+=Z:K=0)),N=f(N,-$,$),K=f(K,-J,J),D.velocity.set(N,K),_>-1&&D.velocity.length()>_&&(D.velocity.normalize().scale(_),Q=_),D.speed=Q},separate:function(D,G,N,X,W){var $,K,j=!1,Z=!0;if(!D.enable||!G.enable||D.checkCollision.none||G.checkCollision.none||!this.intersects(D,G)||N&&N.call(X,D.gameObject,G.gameObject)===!1)return j;if(D.isCircle||G.isCircle){var J=this.separateCircle(D,G,W);J.result?(j=!0,Z=!1):($=J.x,K=J.y,Z=!0)}if(Z){var Q=!1,_=!1,q=this.OVERLAP_BIAS;W?(Q=I(D,G,W,q,$),_=B(D,G,W,q,K)):this.forceX||Math.abs(this.gravity.y+D.gravity.y)<Math.abs(this.gravity.x+D.gravity.x)?(Q=I(D,G,W,q,$),this.intersects(D,G)&&(_=B(D,G,W,q,K))):(_=B(D,G,W,q,K),this.intersects(D,G)&&(Q=I(D,G,W,q,$))),j=Q||_}return j&&(W?(D.onOverlap||G.onOverlap)&&this.emit(c.OVERLAP,D.gameObject,G.gameObject,D,G):(D.onCollide||G.onCollide)&&this.emit(c.COLLIDE,D.gameObject,G.gameObject,D,G)),j},separateCircle:function(D,G,N){y(D,G,!1,0),P(D,G,!1,0);var X=D.isCircle,W=G.isCircle,$=D.center,K=G.center,j=D.immovable,Z=G.immovable,J=D.velocity,Q=G.velocity,_=0,q=!0;if(X!==W){q=!1;var et=$.x,ot=$.y,ut=D.halfWidth,lt=G.position.x,tt=G.position.y,at=G.right,rt=G.bottom;W&&(et=K.x,ot=K.y,ut=G.halfWidth,lt=D.position.x,tt=D.position.y,at=D.right,rt=D.bottom),ot<tt?et<lt?_=h(et,ot,lt,tt)-ut:et>at&&(_=h(et,ot,at,tt)-ut):ot>rt&&(et<lt?_=h(et,ot,lt,rt)-ut:et>at&&(_=h(et,ot,at,rt)-ut)),_*=-1}else _=D.halfWidth+G.halfWidth-p($,K);D.overlapR=_,G.overlapR=_;var gt=d($,K),mt=(_+w.EPSILON)*Math.cos(gt),zt=(_+w.EPSILON)*Math.sin(gt),bt={overlap:_,result:!1,x:mt,y:zt};if(N&&(!q||q&&_!==0))return bt.result=!0,bt;if(!q&&_===0||j&&Z||D.customSeparateX||G.customSeparateX)return bt.x=void 0,bt.y=void 0,bt;var Et=!D.pushable&&!G.pushable;if(q){var xt=$.x-K.x,Qt=$.y-K.y,Lt=Math.sqrt(Math.pow(xt,2)+Math.pow(Qt,2)),de=(K.x-$.x)/Lt||0,me=(K.y-$.y)/Lt||0,Qe=2*(J.x*de+J.y*me-Q.x*de-Q.y*me)/(D.mass+G.mass);(j||Z)&&(Qe*=2),j||(J.x=J.x-Qe/D.mass*de,J.y=J.y-Qe/D.mass*me,J.multiply(D.bounce)),Z||(Q.x=Q.x+Qe/G.mass*de,Q.y=Q.y+Qe/G.mass*me,Q.multiply(G.bounce)),!j&&!Z&&(mt*=.5,zt*=.5),j||(D.x-=mt,D.y-=zt,D.updateCenter()),Z||(G.x+=mt,G.y+=zt,G.updateCenter()),bt.result=!0}else!j||D.pushable||Et?(D.x-=mt,D.y-=zt,D.updateCenter()):(!Z||G.pushable||Et)&&(G.x+=mt,G.y+=zt,G.updateCenter()),bt.x=void 0,bt.y=void 0;return bt},intersects:function(D,G){return D===G?!1:!D.isCircle&&!G.isCircle?!(D.right<=G.left||D.bottom<=G.top||D.left>=G.right||D.top>=G.bottom):D.isCircle?G.isCircle?p(D.center,G.center)<=D.halfWidth+G.halfWidth:this.circleBodyIntersects(D,G):this.circleBodyIntersects(G,D)},circleBodyIntersects:function(D,G){var N=f(D.center.x,G.left,G.right),X=f(D.center.y,G.top,G.bottom),W=(D.center.x-N)*(D.center.x-N),$=(D.center.y-X)*(D.center.y-X);return W+$<=D.halfWidth*D.halfWidth},overlap:function(D,G,N,X,W){return N===void 0&&(N=null),X===void 0&&(X=null),W===void 0&&(W=N),this.collideObjects(D,G,N,X,W,!0)},collide:function(D,G,N,X,W){return N===void 0&&(N=null),X===void 0&&(X=null),W===void 0&&(W=N),this.collideObjects(D,G,N,X,W,!1)},collideObjects:function(D,G,N,X,W,$){var K,j;D.isParent&&(D.physicsType===void 0||G===void 0||D===G)&&(D=D.children.entries),G&&G.isParent&&G.physicsType===void 0&&(G=G.children.entries);var Z=Array.isArray(D),J=Array.isArray(G);if(this._total=0,!Z&&!J)this.collideHandler(D,G,N,X,W,$);else if(!Z&&J)for(K=0;K<G.length;K++)this.collideHandler(D,G[K],N,X,W,$);else if(Z&&!J)if(G)for(K=0;K<D.length;K++)this.collideHandler(D[K],G,N,X,W,$);else for(K=0;K<D.length;K++){var Q=D[K];for(j=K+1;j<D.length;j++)K!==j&&this.collideHandler(Q,D[j],N,X,W,$)}else for(K=0;K<D.length;K++)for(j=0;j<G.length;j++)this.collideHandler(D[K],G[j],N,X,W,$);return this._total>0},collideHandler:function(D,G,N,X,W,$){if(G===void 0&&D.isParent)return this.collideGroupVsGroup(D,D,N,X,W,$);if(!D||!G)return!1;if(D.body||D.isBody){if(G.body||G.isBody)return this.collideSpriteVsSprite(D,G,N,X,W,$);if(G.isParent)return this.collideSpriteVsGroup(D,G,N,X,W,$);if(G.isTilemap)return this.collideSpriteVsTilemapLayer(D,G,N,X,W,$)}else if(D.isParent){if(G.body||G.isBody)return this.collideSpriteVsGroup(G,D,N,X,W,$);if(G.isParent)return this.collideGroupVsGroup(D,G,N,X,W,$);if(G.isTilemap)return this.collideGroupVsTilemapLayer(D,G,N,X,W,$)}else if(D.isTilemap){if(G.body||G.isBody)return this.collideSpriteVsTilemapLayer(G,D,N,X,W,$);if(G.isParent)return this.collideGroupVsTilemapLayer(G,D,N,X,W,$)}},canCollide:function(D,G){return D&&G&&(D.collisionMask&G.collisionCategory)!==0&&(G.collisionMask&D.collisionCategory)!==0},collideSpriteVsSprite:function(D,G,N,X,W,$){var K=D.isBody?D:D.body,j=G.isBody?G:G.body;return this.canCollide(K,j)?(this.separate(K,j,X,W,$)&&(N&&N.call(W,D,G),this._total++),!0):!1},collideSpriteVsGroup:function(D,G,N,X,W,$){var K=D.isBody?D:D.body;if(!(G.length===0||!K||!K.enable||K.checkCollision.none||!this.canCollide(K,G))){var j,Z,J;if(this.useTree||G.physicsType===n.STATIC_BODY){var Q=this.treeMinMax;Q.minX=K.left,Q.minY=K.top,Q.maxX=K.right,Q.maxY=K.bottom;var _=G.physicsType===n.DYNAMIC_BODY?this.tree.search(Q):this.staticTree.search(Q);for(Z=_.length,j=0;j<Z;j++)J=_[j],!(K===J||!J.enable||J.checkCollision.none||!G.contains(J.gameObject))&&this.separate(K,J,X,W,$)&&(N&&N.call(W,K.gameObject,J.gameObject),this._total++)}else{var q=G.getChildren(),et=G.children.entries.indexOf(D);for(Z=q.length,j=0;j<Z;j++)J=q[j].body,!(!J||j===et||!J.enable)&&this.separate(K,J,X,W,$)&&(N&&N.call(W,K.gameObject,J.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(D,G,N,X,W,$){if(!this.canCollide(D,G))return!1;var K=D.getChildren();if(K.length===0)return!1;for(var j=!1,Z=0;Z<K.length;Z++)(K[Z].body||K[Z].isBody)&&this.collideSpriteVsTilemapLayer(K[Z],G,N,X,W,$)&&(j=!0);return j},collideTiles:function(D,G,N,X,W){return G.length===0||D.body&&!D.body.enable||D.isBody&&!D.enable?!1:this.collideSpriteVsTilesHandler(D,G,N,X,W,!1,!1)},overlapTiles:function(D,G,N,X,W){return G.length===0||D.body&&!D.body.enable||D.isBody&&!D.enable?!1:this.collideSpriteVsTilesHandler(D,G,N,X,W,!0,!1)},collideSpriteVsTilemapLayer:function(D,G,N,X,W,$){var K=D.isBody?D:D.body;if(!K.enable||K.checkCollision.none||!this.canCollide(K,G))return!1;var j=K.x,Z=K.y,J=K.width,Q=K.height,_=G.layer;if(_.tileWidth>_.baseTileWidth){var q=(_.tileWidth-_.baseTileWidth)*G.scaleX;j-=q,J+=q}if(_.tileHeight>_.baseTileHeight){var et=(_.tileHeight-_.baseTileHeight)*G.scaleY;Q+=et}var ot=$?null:this.tileFilterOptions,ut=M(j,Z,J,Q,ot,G.scene.cameras.main,G.layer);return ut.length===0?!1:this.collideSpriteVsTilesHandler(D,ut,N,X,W,$,!0)},collideSpriteVsTilesHandler:function(D,G,N,X,W,$,K){for(var j=D.isBody?D:D.body,Z,J={left:0,right:0,top:0,bottom:0},Q,_=!1,q=0;q<G.length;q++){Z=G[q],Q=Z.tilemapLayer;var et=Q.tileToWorldXY(Z.x,Z.y);J.left=et.x,J.top=et.y,Z.baseHeight!==Z.height&&(J.top-=(Z.height-Z.baseHeight)*Q.scaleY),J.right=J.left+Z.width*Q.scaleX,J.bottom=J.top+Z.height*Q.scaleY,U(J,j)&&(!X||X.call(W,D,Z))&&O(Z,D)&&($||L(q,j,Z,J,Q,this.TILE_BIAS,K))&&(this._total++,_=!0,N&&N.call(W,D,Z),$&&j.onOverlap?this.emit(c.TILE_OVERLAP,D,Z,j):j.onCollide&&this.emit(c.TILE_COLLIDE,D,Z,j))}return _},collideGroupVsGroup:function(D,G,N,X,W,$){if(!(D.length===0||G.length===0||!this.canCollide(D,G)))for(var K=D.getChildren(),j=0;j<K.length;j++)this.collideSpriteVsGroup(K[j],G,N,X,W,$)},wrap:function(D,G){D.body?this.wrapObject(D,G):D.getChildren?this.wrapArray(D.getChildren(),G):Array.isArray(D)?this.wrapArray(D,G):this.wrapObject(D,G)},wrapArray:function(D,G){for(var N=0;N<D.length;N++)this.wrapObject(D[N],G)},wrapObject:function(D,G){G===void 0&&(G=0),D.x=z(D.x,this.bounds.left-G,this.bounds.right+G),D.y=z(D.y,this.bounds.top-G,this.bounds.bottom+G)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});r.exports=V},5321:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAcceleration:function(i,d){return this.body.acceleration.set(i,d),this},setAccelerationX:function(i){return this.body.acceleration.x=i,this},setAccelerationY:function(i){return this.body.acceleration.y=i,this}};r.exports=T},29257:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setAngularVelocity:function(i){return this.body.angularVelocity=i,this},setAngularAcceleration:function(i){return this.body.angularAcceleration=i,this},setAngularDrag:function(i){return this.body.angularDrag=i,this}};r.exports=T},62122:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:function(i,d){return this.body.bounce.set(i,d),this},setBounceX:function(i){return this.body.bounce.x=i,this},setBounceY:function(i){return this.body.bounce.y=i,this},setCollideWorldBounds:function(i,d,x,f){return this.body.setCollideWorldBounds(i,d,x,f),this}};r.exports=T},95239:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(44880),x={setCollisionCategory:function(f){var u=this.body?this.body:this;return u.collisionCategory=f,this},willCollideWith:function(f){var u=this.body?this.body:this;return(u.collisionMask&f)!==0},addCollidesWith:function(f){var u=this.body?this.body:this;return u.collisionMask=u.collisionMask|f,this},removeCollidesWith:function(f){var u=this.body?this.body:this;return u.collisionMask=u.collisionMask&~f,this},setCollidesWith:function(f){var u=this.body?this.body:this;return u.collisionMask=d(f),this},resetCollisionCategory:function(){var f=this.body?this.body:this;return f.collisionCategory=1,f.collisionMask=1,this}};r.exports=x},99803:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDebug:function(i,d,x){return this.debugShowBody=i,this.debugShowVelocity=d,this.debugBodyColor=x,this},setDebugBodyColor:function(i){return this.body.debugBodyColor=i,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(i){this.body.debugShowBody=i}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(i){this.body.debugShowVelocity=i}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(i){this.body.debugBodyColor=i}}};r.exports=T},87145:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDrag:function(i,d){return this.body.drag.set(i,d),this},setDragX:function(i){return this.body.drag.x=i,this},setDragY:function(i){return this.body.drag.y=i,this},setDamping:function(i){return this.body.useDamping=i,this}};r.exports=T},96174:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setDirectControl:function(i){return this.body.setDirectControl(i),this},enableBody:function(i,d,x,f,u){return i&&this.body.reset(d,x),f&&(this.body.gameObject.active=!0),u&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(i,d){return i===void 0&&(i=!1),d===void 0&&(d=!1),this.body.stop(),this.body.enable=!1,i&&(this.body.gameObject.active=!1),d&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};r.exports=T},51702:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:function(i,d){return this.body.friction.set(i,d),this},setFrictionX:function(i){return this.body.friction.x=i,this},setFrictionY:function(i){return this.body.friction.y=i,this}};r.exports=T},25578:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setGravity:function(i,d){return this.body.gravity.set(i,d),this},setGravityX:function(i){return this.body.gravity.x=i,this},setGravityY:function(i){return this.body.gravity.y=i,this}};r.exports=T},72029:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setImmovable:function(i){return i===void 0&&(i=!0),this.body.immovable=i,this}};r.exports=T},34566:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setMass:function(i){return this.body.mass=i,this}};r.exports=T},2732:(r,T,i)=>{var d=i(15147),x=i(26673),f=i(22184),u=i(26535),o=function(n,h,p,a,c,v){var g=d(n,h-a,p-a,2*a,2*a,c,v);if(g.length===0)return g;for(var m=new x(h,p,a),y=new x,P=[],M=0;M<g.length;M++){var E=g[M];E.isCircle?(y.setTo(E.center.x,E.center.y,E.halfWidth),f(m,y)&&P.push(E)):u(m,E)&&P.push(E)}return P};r.exports=o},15147:r=>{var T=function(i,d,x,f,u,o,n){o===void 0&&(o=!0),n===void 0&&(n=!1);var h=[],p=[],a=i.treeMinMax;if(a.minX=d,a.minY=x,a.maxX=d+f,a.maxY=x+u,n&&(p=i.staticTree.search(a)),o&&i.useTree)h=i.tree.search(a);else if(o){var c=i.bodies,v={position:{x:d,y:x},left:d,top:x,right:d+f,bottom:x+u,isCircle:!1},g=i.intersects;c.iterate(function(m){g(m,v)&&h.push(m)})}return p.concat(h)};r.exports=T},57527:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setPushable:function(i){return i===void 0&&(i=!0),this.body.pushable=i,this}};r.exports=T},77687:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setOffset:function(i,d){return this.body.setOffset(i,d),this},setSize:function(i,d,x){return this.body.setSize(i,d,x),this},setBodySize:function(i,d,x){return this.body.setSize(i,d,x),this},setCircle:function(i,d,x){return this.body.setCircle(i,d,x),this}};r.exports=T},66536:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setVelocity:function(i,d){return this.body.setVelocity(i,d),this},setVelocityX:function(i){return this.body.setVelocityX(i),this},setVelocityY:function(i){return this.body.setVelocityY(i),this},setMaxVelocity:function(i,d){return this.body.maxVelocity.set(i,d),this}};r.exports=T},7864:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Acceleration:i(5321),Angular:i(29257),Bounce:i(62122),Collision:i(95239),Debug:i(99803),Drag:i(87145),Enable:i(96174),Friction:i(51702),Gravity:i(25578),Immovable:i(72029),Mass:i(34566),OverlapCirc:i(2732),OverlapRect:i(15147),Pushable:i(57527),Size:i(77687),Velocity:i(66536)}},47401:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};r.exports=T},22346:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collide"},95092:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="overlap"},15775:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},74142:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},22825:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="tilecollide"},10851:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="tileoverlap"},7543:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="worldbounds"},1487:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="worldstep"},27037:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COLLIDE:i(22346),OVERLAP:i(95092),PAUSE:i(15775),RESUME:i(74142),TILE_COLLIDE:i(22825),TILE_OVERLAP:i(10851),WORLD_BOUNDS:i(7543),WORLD_STEP:i(1487)}},39977:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(47401),x=i(98611),f={ArcadePhysics:i(66150),Body:i(97602),Collider:i(3909),Components:i(7864),Events:i(27037),Factory:i(99523),GetCollidesWith:i(44880),GetOverlapX:i(75671),GetOverlapY:i(66185),SeparateX:i(61777),SeparateY:i(25299),Group:i(10481),Image:i(62832),Sprite:i(25084),StaticBody:i(66634),StaticGroup:i(46346),Tilemap:i(8413),World:i(85233)};f=x(!1,f,d),r.exports=f},25163:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return i.collisionCallback?!i.collisionCallback.call(i.collisionCallbackContext,d,i):i.layer.callbacks[i.index]?!i.layer.callbacks[i.index].callback.call(i.layer.callbacks[i.index].callbackContext,d,i):!0};r.exports=T},98209:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){d<0?(i.blocked.none=!1,i.blocked.left=!0):d>0&&(i.blocked.none=!1,i.blocked.right=!0),i.position.x-=d,i.updateCenter(),i.bounce.x===0?i.velocity.x=0:i.velocity.x=-i.velocity.x*i.bounce.x};r.exports=T},72792:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){d<0?(i.blocked.none=!1,i.blocked.up=!0):d>0&&(i.blocked.none=!1,i.blocked.down=!0),i.position.y-=d,i.updateCenter(),i.bounce.y===0?i.velocity.y=0:i.velocity.y=-i.velocity.y*i.bounce.y};r.exports=T},27354:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(14405),x=i(52926),f=i(28808),u=function(o,n,h,p,a,c,v){var g=p.left,m=p.top,y=p.right,P=p.bottom,M=h.faceLeft||h.faceRight,E=h.faceTop||h.faceBottom;if(v||(M=!0,E=!0),!M&&!E)return!1;var w=0,R=0,O=0,A=1;if(n.deltaAbsX()>n.deltaAbsY()?O=-1:n.deltaAbsX()<n.deltaAbsY()&&(A=-1),n.deltaX()!==0&&n.deltaY()!==0&&M&&E&&(O=Math.min(Math.abs(n.position.x-y),Math.abs(n.right-g)),A=Math.min(Math.abs(n.position.y-P),Math.abs(n.bottom-m))),O<A){if(M&&(w=d(n,h,g,y,c,v),w!==0&&!f(p,n)))return!0;E&&(R=x(n,h,m,P,c,v))}else{if(E&&(R=x(n,h,m,P,c,v),R!==0&&!f(p,n)))return!0;M&&(w=d(n,h,g,y,c,v))}return w!==0||R!==0};r.exports=u},14405:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(98209),x=function(f,u,o,n,h,p){var a=0,c=u.faceLeft,v=u.faceRight,g=u.collideLeft,m=u.collideRight;return p||(c=!0,v=!0,g=!0,m=!0),f.deltaX()<0&&m&&f.checkCollision.left?v&&f.x<n&&(a=f.x-n,a<-h&&(a=0)):f.deltaX()>0&&g&&f.checkCollision.right&&c&&f.right>o&&(a=f.right-o,a>h&&(a=0)),a!==0&&(f.customSeparateX?f.overlapX=a:d(f,a)),a};r.exports=x},52926:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72792),x=function(f,u,o,n,h,p){var a=0,c=u.faceTop,v=u.faceBottom,g=u.collideUp,m=u.collideDown;return p||(c=!0,v=!0,g=!0,m=!0),f.deltaY()<0&&m&&f.checkCollision.up?v&&f.y<n&&(a=f.y-n,a<-h&&(a=0)):f.deltaY()>0&&g&&f.checkCollision.down&&c&&f.bottom>o&&(a=f.bottom-o,a>h&&(a=0)),a!==0&&(f.customSeparateY?f.overlapY=a:d(f,a)),a};r.exports=x},28808:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return!(d.right<=i.left||d.bottom<=i.top||d.position.x>=i.right||d.position.y>=i.bottom)};r.exports=T},8413:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={ProcessTileCallbacks:i(25163),ProcessTileSeparationX:i(98209),ProcessTileSeparationY:i(72792),SeparateTile:i(27354),TileCheckX:i(14405),TileCheckY:i(52926),TileIntersectsBody:i(28808)};r.exports=d},53954:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Arcade:i(39977),Matter:i(45949)}},63568:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(93736),f=new d({initialize:function(){this.boundsCenter=new x,this.centerDiff=new x},parseBody:function(u){if(u=u.hasOwnProperty("body")?u.body:u,!u.hasOwnProperty("bounds")||!u.hasOwnProperty("centerOfMass"))return!1;var o=this.boundsCenter,n=this.centerDiff,h=u.bounds.max.x-u.bounds.min.x,p=u.bounds.max.y-u.bounds.min.y,a=h*u.centerOfMass.x,c=p*u.centerOfMass.y;return o.set(h/2,p/2),n.set(a-o.x,c-o.y),!0},getTopLeft:function(u,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(u)){var h=this.boundsCenter,p=this.centerDiff;return new x(o+h.x+p.x,n+h.y+p.y)}return!1},getTopCenter:function(u,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(u)){var h=this.boundsCenter,p=this.centerDiff;return new x(o+p.x,n+h.y+p.y)}return!1},getTopRight:function(u,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(u)){var h=this.boundsCenter,p=this.centerDiff;return new x(o-(h.x-p.x),n+h.y+p.y)}return!1},getLeftCenter:function(u,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(u)){var h=this.boundsCenter,p=this.centerDiff;return new x(o+h.x+p.x,n+p.y)}return!1},getCenter:function(u,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(u)){var h=this.centerDiff;return new x(o+h.x,n+h.y)}return!1},getRightCenter:function(u,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(u)){var h=this.boundsCenter,p=this.centerDiff;return new x(o-(h.x-p.x),n+p.y)}return!1},getBottomLeft:function(u,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(u)){var h=this.boundsCenter,p=this.centerDiff;return new x(o+h.x+p.x,n-(h.y-p.y))}return!1},getBottomCenter:function(u,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(u)){var h=this.boundsCenter,p=this.centerDiff;return new x(o+p.x,n-(h.y-p.y))}return!1},getBottomRight:function(u,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),this.parseBody(u)){var h=this.boundsCenter,p=this.centerDiff;return new x(o-(h.x-p.x),n-(h.y-p.y))}return!1}});r.exports=f},18171:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(16929);d.Body=i(84125),d.Composite=i(11299),d.World=i(72005),d.Collision=i(63454),d.Detector=i(13657),d.Pairs=i(91327),d.Pair=i(70584),d.Query=i(13390),d.Resolver=i(44272),d.Constraint=i(52838),d.Common=i(68758),d.Engine=i(45775),d.Events=i(39073),d.Sleeping=i(22806),d.Plugin=i(84474),d.Bodies=i(68516),d.Composites=i(56643),d.Axes=i(50658),d.Bounds=i(84091),d.Svg=i(92765),d.Vector=i(10438),d.Vertices=i(39745),d.World.add=d.Composite.add,d.World.remove=d.Composite.remove,d.World.addComposite=d.Composite.addComposite,d.World.addBody=d.Composite.addBody,d.World.addConstraint=d.Composite.addConstraint,d.World.clear=d.Composite.clear,r.exports=d},72653:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(68516),x=i(56694),f=i(56643),u=i(52838),o=i(92765),n=i(3860),h=i(7030),p=i(73658),a=i(84720),c=i(10998),v=i(72829),g=i(88596),m=i(39745),y=new x({initialize:function(M){this.world=M,this.scene=M.scene,this.sys=M.scene.sys},rectangle:function(P,M,E,w,R){var O=d.rectangle(P,M,E,w,R);return this.world.add(O),O},trapezoid:function(P,M,E,w,R,O){var A=d.trapezoid(P,M,E,w,R,O);return this.world.add(A),A},circle:function(P,M,E,w,R){var O=d.circle(P,M,E,w,R);return this.world.add(O),O},polygon:function(P,M,E,w,R){var O=d.polygon(P,M,E,w,R);return this.world.add(O),O},fromVertices:function(P,M,E,w,R,O,A){typeof E=="string"&&(E=m.fromPath(E));var F=d.fromVertices(P,M,E,w,R,O,A);return this.world.add(F),F},fromPhysicsEditor:function(P,M,E,w,R){R===void 0&&(R=!0);var O=c.parseBody(P,M,E,w);return R&&!this.world.has(O)&&this.world.add(O),O},fromSVG:function(P,M,E,w,R,O){w===void 0&&(w=1),R===void 0&&(R={}),O===void 0&&(O=!0);for(var A=E.getElementsByTagName("path"),F=[],L=0;L<A.length;L++){var I=o.pathToVertices(A[L],30);w!==1&&m.scale(I,w,w),F.push(I)}var B=d.fromVertices(P,M,F,R);return O&&this.world.add(B),B},fromJSON:function(P,M,E,w,R){w===void 0&&(w={}),R===void 0&&(R=!0);var O=v.parseBody(P,M,E,w);return O&&R&&this.world.add(O),O},imageStack:function(P,M,E,w,R,O,A,F,L){A===void 0&&(A=0),F===void 0&&(F=0),L===void 0&&(L={});var I=this.world,B=this.sys.displayList;L.addToWorld=!1;var b=f.stack(E,w,R,O,A,F,function(k,U){var Y=new h(I,k,U,P,M,L);return B.add(Y),Y.body});return I.add(b),b},stack:function(P,M,E,w,R,O,A){var F=f.stack(P,M,E,w,R,O,A);return this.world.add(F),F},pyramid:function(P,M,E,w,R,O,A){var F=f.pyramid(P,M,E,w,R,O,A);return this.world.add(F),F},chain:function(P,M,E,w,R,O){return f.chain(P,M,E,w,R,O)},mesh:function(P,M,E,w,R){return f.mesh(P,M,E,w,R)},newtonsCradle:function(P,M,E,w,R){var O=f.newtonsCradle(P,M,E,w,R);return this.world.add(O),O},car:function(P,M,E,w,R){var O=f.car(P,M,E,w,R);return this.world.add(O),O},softBody:function(P,M,E,w,R,O,A,F,L,I){var B=f.softBody(P,M,E,w,R,O,A,F,L,I);return this.world.add(B),B},joint:function(P,M,E,w,R){return this.constraint(P,M,E,w,R)},spring:function(P,M,E,w,R){return this.constraint(P,M,E,w,R)},constraint:function(P,M,E,w,R){w===void 0&&(w=1),R===void 0&&(R={}),R.bodyA=P.type==="body"?P:P.body,R.bodyB=M.type==="body"?M:M.body,isNaN(E)||(R.length=E),R.stiffness=w;var O=u.create(R);return this.world.add(O),O},worldConstraint:function(P,M,E,w){E===void 0&&(E=1),w===void 0&&(w={}),w.bodyB=P.type==="body"?P:P.body,isNaN(M)||(w.length=M),w.stiffness=E;var R=u.create(w);return this.world.add(R),R},mouseSpring:function(P){return this.pointerConstraint(P)},pointerConstraint:function(P){P===void 0&&(P={}),P.hasOwnProperty("render")||(P.render={visible:!1});var M=new g(this.scene,this.world,P);return this.world.add(M.constraint),M},image:function(P,M,E,w,R){var O=new h(this.world,P,M,E,w,R);return this.sys.displayList.add(O),O},tileBody:function(P,M){return new a(this.world,P,M)},sprite:function(P,M,E,w,R){var O=new p(this.world,P,M,E,w,R);return this.sys.displayList.add(O),this.sys.updateList.add(O),O},gameObject:function(P,M,E){return n(this.world,P,M,E)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});r.exports=y},3860:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(74527),x=i(72632),f=i(93736);function u(n){return!!n.get&&typeof n.get=="function"||!!n.set&&typeof n.set=="function"}var o=function(n,h,p,a){p===void 0&&(p={}),a===void 0&&(a=!0);var c=h.x,v=h.y;h.body={temp:!0,position:{x:c,y:v}};var g=[d.Bounce,d.Collision,d.Force,d.Friction,d.Gravity,d.Mass,d.Sensor,d.SetBody,d.Sleep,d.Static,d.Transform,d.Velocity];if(g.forEach(function(y){for(var P in y)u(y[P])?Object.defineProperty(h,P,{get:y[P].get,set:y[P].set}):Object.defineProperty(h,P,{value:y[P]})}),h.world=n,h._tempVec2=new f(c,v),p.hasOwnProperty("type")&&p.type==="body")h.setExistingBody(p,a);else{var m=x(p,"shape",null);m||(m="rectangle"),p.addToWorld=a,h.setBody(m,p)}return h};r.exports=o},7030:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(74527),f=i(89980),u=i(72632),o=i(1539),n=i(58210),h=i(93736),p=new d({Extends:o,Mixins:[x.Bounce,x.Collision,x.Force,x.Friction,x.Gravity,x.Mass,x.Sensor,x.SetBody,x.Sleep,x.Static,x.Transform,x.Velocity,n],initialize:function(c,v,g,m,y,P){f.call(this,c.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(m,y),this.setSizeToFrame(),this.setOrigin(),this.world=c,this._tempVec2=new h(v,g);var M=u(P,"shape",null);M?this.setBody(M,P):this.setRectangle(this.width,this.height,P),this.setPosition(v,g),this.initPipeline(),this.initPostPipeline(!0)}});r.exports=p},50583:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(84093),x=i(50658),f=i(68516),u=i(84125),o=i(63568),n=i(84091),h=i(56694),p=i(63454),a=i(68758),c=i(11299),v=i(56643),g=i(52838),m=i(13657),y=i(53996),P=i(72653),M=i(72632),E=i(10850),w=i(1675),R=i(80391),O=i(16929),A=i(44097),F=i(30657),L=i(70584),I=i(91327),B=i(84474),b=i(91963),k=i(13390),U=i(44272),Y=i(7599),H=i(92765),z=i(10438),V=i(39745),D=i(31468);a.setDecomp(i(81084));var G=new h({initialize:function(X){this.scene=X,this.systems=X.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=u,this.composite=c,this.collision=p,this.detector=m,this.pair=L,this.pairs=I,this.query=k,this.resolver=U,this.constraint=g,this.bodies=f,this.composites=v,this.axes=x,this.bounds=n,this.svg=H,this.vector=z,this.vertices=V,this.verts=V,this._tempVec2=z.create(),E(this.config,"plugins.collisionevents",!0)&&this.enableCollisionEventsPlugin(),E(this.config,"plugins.attractors",!1)&&this.enableAttractorPlugin(),E(this.config,"plugins.wrap",!1)&&this.enableWrapPlugin(),U._restingThresh=E(this.config,"restingThresh",4),U._restingThreshTangent=E(this.config,"restingThreshTangent",6),U._positionDampen=E(this.config,"positionDampen",.9),U._positionWarming=E(this.config,"positionWarming",.8),U._frictionNormalMultiplier=E(this.config,"frictionNormalMultiplier",5),X.sys.events.once(Y.BOOT,this.boot,this),X.sys.events.on(Y.START,this.start,this)},boot:function(){this.world=new D(this.scene,this.config),this.add=new P(this.world),this.bodyBounds=new o,this.systems.events.once(Y.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new D(this.scene,this.config),this.add=new P(this.world));var N=this.systems.events;N.on(Y.UPDATE,this.world.update,this.world),N.on(Y.POST_UPDATE,this.world.postUpdate,this.world),N.once(Y.SHUTDOWN,this.shutdown,this)},getConfig:function(){var N=this.systems.game.config.physics,X=this.systems.settings.physics,W=F(M(X,"matter",{}),M(N,"matter",{}));return W},enableAttractorPlugin:function(){return B.register(w),B.use(O,w),this},enableWrapPlugin:function(){return B.register(A),B.use(O,A),this},enableCollisionEventsPlugin:function(){return B.register(R),B.use(O,R),this},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(N,X){this.world.step(N,X)},containsPoint:function(N,X,W){N=this.getMatterBodies(N);var $=z.create(X,W),K=k.point(N,$);return K.length>0},intersectPoint:function(N,X,W){W=this.getMatterBodies(W);var $=z.create(N,X),K=[],j=k.point(W,$);return j.forEach(function(Z){K.indexOf(Z)===-1&&K.push(Z)}),K},intersectRect:function(N,X,W,$,K,j){K===void 0&&(K=!1),j=this.getMatterBodies(j);var Z={min:{x:N,y:X},max:{x:N+W,y:X+$}},J=[],Q=k.region(j,Z,K);return Q.forEach(function(_){J.indexOf(_)===-1&&J.push(_)}),J},intersectRay:function(N,X,W,$,K,j){K===void 0&&(K=1),j=this.getMatterBodies(j);for(var Z=[],J=k.ray(j,z.create(N,X),z.create(W,$),K),Q=0;Q<J.length;Q++)Z.push(J[Q].body);return Z},intersectBody:function(N,X){X=this.getMatterBodies(X);for(var W=[],$=k.collides(N,X),K=0;K<$.length;K++){var j=$[K];j.bodyA===N?W.push(j.bodyB):W.push(j.bodyA)}return W},overlap:function(N,X,W,$,K){W===void 0&&(W=null),$===void 0&&($=null),K===void 0&&(K=W),Array.isArray(N)||(N=[N]),N=this.getMatterBodies(N),X=this.getMatterBodies(X);for(var j=!1,Z=0;Z<N.length;Z++)for(var J=N[Z],Q=k.collides(J,X),_=0;_<Q.length;_++){var q=Q[_],et=q.bodyA.id===J.id?q.bodyB:q.bodyA;if(!$||$.call(K,J,et,q)){if(j=!0,W)W.call(K,J,et,q);else if(!$)return!0}}return j},setCollisionCategory:function(N,X){return N=this.getMatterBodies(N),N.forEach(function(W){W.collisionFilter.category=X}),this},setCollisionGroup:function(N,X){return N=this.getMatterBodies(N),N.forEach(function(W){W.collisionFilter.group=X}),this},setCollidesWith:function(N,X){N=this.getMatterBodies(N);var W=0;if(!Array.isArray(X))W=X;else for(var $=0;$<X.length;$++)W|=X[$];return N.forEach(function(K){K.collisionFilter.mask=W}),this},getMatterBodies:function(N){if(!N)return this.world.getAllBodies();Array.isArray(N)||(N=[N]);for(var X=[],W=0;W<N.length;W++){var $=N[W].hasOwnProperty("body")?N[W].body:N[W];X.push($)}return X},setVelocity:function(N,X,W){N=this.getMatterBodies(N);var $=this._tempVec2;return $.x=X,$.y=W,N.forEach(function(K){u.setVelocity(K,$)}),this},setVelocityX:function(N,X){N=this.getMatterBodies(N);var W=this._tempVec2;return W.x=X,N.forEach(function($){W.y=$.velocity.y,u.setVelocity($,W)}),this},setVelocityY:function(N,X){N=this.getMatterBodies(N);var W=this._tempVec2;return W.y=X,N.forEach(function($){W.x=$.velocity.x,u.setVelocity($,W)}),this},setAngularVelocity:function(N,X){return N=this.getMatterBodies(N),N.forEach(function(W){u.setAngularVelocity(W,X)}),this},applyForce:function(N,X){N=this.getMatterBodies(N);var W=this._tempVec2;return N.forEach(function($){W.x=$.position.x,W.y=$.position.y,u.applyForce($,W,X)}),this},applyForceFromPosition:function(N,X,W,$){N=this.getMatterBodies(N);var K=this._tempVec2;return N.forEach(function(j){$===void 0&&($=j.angle),K.x=W*Math.cos($),K.y=W*Math.sin($),u.applyForce(j,X,K)}),this},applyForceFromAngle:function(N,X,W){N=this.getMatterBodies(N);var $=this._tempVec2;return N.forEach(function(K){W===void 0&&(W=K.angle),$.x=X*Math.cos(W),$.y=X*Math.sin(W),u.applyForce(K,{x:K.position.x,y:K.position.y},$)}),this},getConstraintLength:function(N){var X=N.pointA.x,W=N.pointA.y,$=N.pointB.x,K=N.pointB.y;return N.bodyA&&(X+=N.bodyA.position.x,W+=N.bodyA.position.y),N.bodyB&&($+=N.bodyB.position.x,K+=N.bodyB.position.y),y(X,W,$,K)},alignBody:function(N,X,W,$){N=N.hasOwnProperty("body")?N.body:N;var K;switch($){case d.TOP_LEFT:case d.LEFT_TOP:K=this.bodyBounds.getTopLeft(N,X,W);break;case d.TOP_CENTER:K=this.bodyBounds.getTopCenter(N,X,W);break;case d.TOP_RIGHT:case d.RIGHT_TOP:K=this.bodyBounds.getTopRight(N,X,W);break;case d.LEFT_CENTER:K=this.bodyBounds.getLeftCenter(N,X,W);break;case d.CENTER:K=this.bodyBounds.getCenter(N,X,W);break;case d.RIGHT_CENTER:K=this.bodyBounds.getRightCenter(N,X,W);break;case d.LEFT_BOTTOM:case d.BOTTOM_LEFT:K=this.bodyBounds.getBottomLeft(N,X,W);break;case d.BOTTOM_CENTER:K=this.bodyBounds.getBottomCenter(N,X,W);break;case d.BOTTOM_RIGHT:case d.RIGHT_BOTTOM:K=this.bodyBounds.getBottomRight(N,X,W);break}return K&&u.setPosition(N,K),this},shutdown:function(){var N=this.systems.events;this.world&&(N.off(Y.UPDATE,this.world.update,this.world),N.off(Y.POST_UPDATE,this.world.postUpdate,this.world)),N.off(Y.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(Y.START,this.start,this),this.scene=null,this.systems=null}});b.register("MatterPhysics",G,"matterPhysics"),r.exports=G},73658:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(16569),x=i(56694),f=i(74527),u=i(89980),o=i(72632),n=i(58210),h=i(13747),p=i(93736),a=new x({Extends:h,Mixins:[f.Bounce,f.Collision,f.Force,f.Friction,f.Gravity,f.Mass,f.Sensor,f.SetBody,f.Sleep,f.Static,f.Transform,f.Velocity,n],initialize:function(v,g,m,y,P,M){u.call(this,v.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new d(this),this.setTexture(y,P),this.setSizeToFrame(),this.setOrigin(),this.world=v,this._tempVec2=new p(g,m);var E=o(M,"shape",null);E?this.setBody(E,M):this.setRectangle(this.width,this.height,M),this.setPosition(g,m),this.initPipeline(),this.initPostPipeline(!0)}});r.exports=a},84720:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(68516),x=i(84125),f=i(56694),u=i(74527),o=i(28699),n=i(6659),h=i(72632),p=i(19256),a=i(39745),c=new f({Extends:n,Mixins:[u.Bounce,u.Collision,u.Friction,u.Gravity,u.Mass,u.Sensor,u.Sleep,u.Static],initialize:function(g,m,y){n.call(this),this.tile=m,this.world=g,m.physics.matterBody&&m.physics.matterBody.destroy(),m.physics.matterBody=this;var P=h(y,"body",null),M=h(y,"addToWorld",!0);if(P)this.setBody(P,M);else{var E=m.getCollisionGroup(),w=h(E,"objects",[]);w.length>0?this.setFromTileCollision(y):this.setFromTileRectangle(y)}if(m.flipX||m.flipY){var R={x:m.getCenterX(),y:m.getCenterY()},O=m.flipX?-1:1,A=m.flipY?-1:1;x.scale(P,O,A,R)}},setFromTileRectangle:function(v){v===void 0&&(v={}),p(v,"isStatic")||(v.isStatic=!0),p(v,"addToWorld")||(v.addToWorld=!0);var g=this.tile.getBounds(),m=g.x+g.width/2,y=g.y+g.height/2,P=d.rectangle(m,y,g.width,g.height,v);return this.setBody(P,v.addToWorld),this},setFromTileCollision:function(v){v===void 0&&(v={}),p(v,"isStatic")||(v.isStatic=!0),p(v,"addToWorld")||(v.addToWorld=!0);for(var g=this.tile.tilemapLayer.scaleX,m=this.tile.tilemapLayer.scaleY,y=this.tile.getLeft(),P=this.tile.getTop(),M=this.tile.getCollisionGroup(),E=h(M,"objects",[]),w=[],R=0;R<E.length;R++){var O=E[R],A=y+O.x*g,F=P+O.y*m,L=O.width*g,I=O.height*m,B=null;if(O.rectangle)B=d.rectangle(A+L/2,F+I/2,L,I,v);else if(O.ellipse)B=d.circle(A+L/2,F+I/2,L/2,v);else if(O.polygon||O.polyline){var b=O.polygon?O.polygon:O.polyline,k=b.map(function(z){return{x:z.x*g,y:z.y*m}}),U=a.create(k),Y=a.centre(U);A+=Y.x,F+=Y.y,B=d.fromVertices(A,F,U,v)}B&&w.push(B)}if(w.length===1)this.setBody(w[0],v.addToWorld);else if(w.length>1){var H=o(v);H.parts=w,this.setBody(x.create(H),H.addToWorld)}return this},setBody:function(v,g){return g===void 0&&(g=!0),this.body&&this.removeBody(),this.body=v,this.body.gameObject=this,g&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});r.exports=c},10998:(r,T,i)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(68516),x=i(84125),f=i(68758),u=i(72632),o=i(39745),n={parseBody:function(h,p,a,c){c===void 0&&(c={});for(var v=u(a,"fixtures",[]),g=[],m=0;m<v.length;m++)for(var y=this.parseFixture(v[m]),P=0;P<y.length;P++)g.push(y[P]);var M=f.clone(a,!0);f.extend(M,c,!0),delete M.fixtures,delete M.type;var E=x.create(M);return x.setParts(E,g),x.setPosition(E,{x:h,y:p}),E},parseFixture:function(h){var p=f.extend({},!1,h);delete p.circle,delete p.vertices;var a;if(h.circle){var c=u(h.circle,"x"),v=u(h.circle,"y"),g=u(h.circle,"radius");a=[d.circle(c,v,g,p)]}else h.vertices&&(a=this.parseVertices(h.vertices,p));return a},parseVertices:function(h,p){p===void 0&&(p={});for(var a=[],c=0;c<h.length;c++)o.clockwiseSort(h[c]),a.push(x.create(f.extend({position:o.centre(h[c]),vertices:h[c]},p)));return d.flagCoincidentParts(a)}};r.exports=n},72829:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(68516),x=i(84125),f={parseBody:function(u,o,n,h){h===void 0&&(h={});var p,a=n.vertices;if(a.length===1)h.vertices=a[0],p=x.create(h),d.flagCoincidentParts(p.parts);else{for(var c=[],v=0;v<a.length;v++){var g=x.create({vertices:a[v]});c.push(g)}d.flagCoincidentParts(c),h.parts=c,p=x.create(h)}return p.label=n.label,x.setPosition(p,{x:u,y:o}),p}};r.exports=f},88596:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(84091),x=i(56694),f=i(11299),u=i(52838),o=i(13657),n=i(35416),h=i(33963),p=i(30657),a=i(22806),c=i(93736),v=i(39745),g=new x({initialize:function(y,P,M){M===void 0&&(M={});var E={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=y,this.world=P,this.camera=null,this.pointer=null,this.active=!0,this.position=new c,this.body=null,this.part=null,this.constraint=u.create(p(M,E)),this.world.on(n.BEFORE_UPDATE,this.update,this),y.sys.input.on(h.POINTER_DOWN,this.onDown,this),y.sys.input.on(h.POINTER_UP,this.onUp,this)},onDown:function(m){this.pointer||(this.pointer=m,this.camera=m.camera)},onUp:function(m){m===this.pointer&&(this.pointer=null)},getBody:function(m){var y=this.position,P=this.constraint;this.camera.getWorldPoint(m.x,m.y,y);for(var M=f.allBodies(this.world.localWorld),E=0;E<M.length;E++){var w=M[E];if(!w.ignorePointer&&d.contains(w.bounds,y)&&o.canCollide(w.collisionFilter,P.collisionFilter)&&this.hitTestBody(w,y))return this.world.emit(n.DRAG_START,w,this.part,this),!0}return!1},hitTestBody:function(m,y){for(var P=this.constraint,M=m.parts.length,E=M>1?1:0,w=E;w<M;w++){var R=m.parts[w];if(v.contains(R.vertices,y))return P.pointA=y,P.pointB={x:y.x-m.position.x,y:y.y-m.position.y},P.bodyB=m,P.angleB=m.angle,a.set(m,!1),this.part=R,this.body=m,!0}return!1},update:function(){var m=this.pointer,y=this.body;if(!this.active||!m){y&&this.stopDrag();return}if(!m.isDown&&y){this.stopDrag();return}else if(m.isDown){if(!y&&!this.getBody(m))return;y=this.body;var P=this.position,M=this.constraint;this.camera.getWorldPoint(m.x,m.y,P),M.pointA.x=P.x,M.pointA.y=P.y,a.set(y,!1),this.world.emit(n.DRAG,y,this)}},stopDrag:function(){var m=this.body,y=this.constraint;y.bodyB=null,y.pointB=null,this.pointer=null,this.body=null,this.part=null,m&&this.world.emit(n.DRAG_END,m,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(n.BEFORE_UPDATE,this.update),this.scene.sys.input.off(h.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(h.POINTER_UP,this.onUp,this)}});r.exports=g},31468:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(68516),x=i(84125),f=i(56694),u=i(68758),o=i(11299),n=i(45775),h=i(6659),p=i(35416),a=i(72632),c=i(10850),v=i(84125),g=i(39073),m=i(84720),y=i(72005),P=i(10438),M=new f({Extends:h,initialize:function(w,R){h.call(this),this.scene=w,this.engine=n.create(R),this.localWorld=this.engine.world;var O=c(R,"gravity",null);O?this.setGravity(O.x,O.y,O.scale):O===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=c(R,"enabled",!0),this.getDelta=c(R,"getDelta",this.update60Hz);var A=a(R,"runner",{}),F=a(A,"fps",!1),L=a(A,"fps",60),I=a(A,"delta",1e3/L),B=a(A,"deltaMin",1e3/L),b=a(A,"deltaMax",1e3/(L*.5));F||(L=1e3/I),this.runner={fps:L,deltaSampleSize:a(A,"deltaSampleSize",60),counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:a(A,"isFixed",!1),delta:I,deltaMin:B,deltaMax:b},this.autoUpdate=c(R,"autoUpdate",!0);var k=c(R,"debug",!1);if(this.drawDebug=typeof k=="object"?!0:k,this.debugGraphic,this.debugConfig={showAxes:a(k,"showAxes",!1),showAngleIndicator:a(k,"showAngleIndicator",!1),angleColor:a(k,"angleColor",15208787),showBroadphase:a(k,"showBroadphase",!1),broadphaseColor:a(k,"broadphaseColor",16757760),showBounds:a(k,"showBounds",!1),boundsColor:a(k,"boundsColor",16777215),showVelocity:a(k,"showVelocity",!1),velocityColor:a(k,"velocityColor",44783),showCollisions:a(k,"showCollisions",!1),collisionColor:a(k,"collisionColor",16094476),showSeparations:a(k,"showSeparations",!1),separationColor:a(k,"separationColor",16753920),showBody:a(k,"showBody",!0),showStaticBody:a(k,"showStaticBody",!0),showInternalEdges:a(k,"showInternalEdges",!1),renderFill:a(k,"renderFill",!1),renderLine:a(k,"renderLine",!0),fillColor:a(k,"fillColor",1075465),fillOpacity:a(k,"fillOpacity",1),lineColor:a(k,"lineColor",2678297),lineOpacity:a(k,"lineOpacity",1),lineThickness:a(k,"lineThickness",1),staticFillColor:a(k,"staticFillColor",857979),staticLineColor:a(k,"staticLineColor",1255396),showSleeping:a(k,"showSleeping",!1),staticBodySleepOpacity:a(k,"staticBodySleepOpacity",.7),sleepFillColor:a(k,"sleepFillColor",4605510),sleepLineColor:a(k,"sleepLineColor",10066585),showSensors:a(k,"showSensors",!0),sensorFillColor:a(k,"sensorFillColor",857979),sensorLineColor:a(k,"sensorLineColor",1255396),showPositions:a(k,"showPositions",!0),positionSize:a(k,"positionSize",4),positionColor:a(k,"positionColor",14697178),showJoint:a(k,"showJoint",!0),jointColor:a(k,"jointColor",14737474),jointLineOpacity:a(k,"jointLineOpacity",1),jointLineThickness:a(k,"jointLineThickness",2),pinSize:a(k,"pinSize",4),pinColor:a(k,"pinColor",4382944),springColor:a(k,"springColor",14697184),anchorColor:a(k,"anchorColor",15724527),anchorSize:a(k,"anchorSize",4),showConvexHulls:a(k,"showConvexHulls",!1),hullColor:a(k,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),a(R,"setBounds",!1)){var U=R.setBounds;if(typeof U=="boolean")this.setBounds();else{var Y=a(U,"x",0),H=a(U,"y",0),z=a(U,"width",w.sys.scale.width),V=a(U,"height",w.sys.scale.height),D=a(U,"thickness",64),G=a(U,"left",!0),N=a(U,"right",!0),X=a(U,"top",!0),W=a(U,"bottom",!0);this.setBounds(Y,H,z,V,D,G,N,X,W)}}},setCompositeRenderStyle:function(E){var w=E.bodies,R=E.constraints,O=E.composites,A,F,L;for(A=0;A<w.length;A++)F=w[A],L=F.render,this.setBodyRenderStyle(F,L.lineColor,L.lineOpacity,L.lineThickness,L.fillColor,L.fillOpacity);for(A=0;A<R.length;A++)F=R[A],L=F.render,this.setConstraintRenderStyle(F,L.lineColor,L.lineOpacity,L.lineThickness,L.pinSize,L.anchorColor,L.anchorSize);for(A=0;A<O.length;A++)F=O[A],this.setCompositeRenderStyle(F);return this},setBodyRenderStyle:function(E,w,R,O,A,F){var L=E.render,I=this.debugConfig;return L?(w==null&&(w=E.isStatic?I.staticLineColor:I.lineColor),R==null&&(R=I.lineOpacity),O==null&&(O=I.lineThickness),A==null&&(A=E.isStatic?I.staticFillColor:I.fillColor),F==null&&(F=I.fillOpacity),w!==!1&&(L.lineColor=w),R!==!1&&(L.lineOpacity=R),O!==!1&&(L.lineThickness=O),A!==!1&&(L.fillColor=A),F!==!1&&(L.fillOpacity=F),this):this},setConstraintRenderStyle:function(E,w,R,O,A,F,L){var I=E.render,B=this.debugConfig;if(!I)return this;if(w==null){var b=I.type;b==="line"?w=B.jointColor:b==="pin"?w=B.pinColor:b==="spring"&&(w=B.springColor)}return R==null&&(R=B.jointLineOpacity),O==null&&(O=B.jointLineThickness),A==null&&(A=B.pinSize),F==null&&(F=B.anchorColor),L==null&&(L=B.anchorSize),w!==!1&&(I.lineColor=w),R!==!1&&(I.lineOpacity=R),O!==!1&&(I.lineThickness=O),A!==!1&&(I.pinSize=A),F!==!1&&(I.anchorColor=F),L!==!1&&(I.anchorSize=L),this},setEventsProxy:function(){var E=this,w=this.engine,R=this.localWorld;this.drawDebug&&(g.on(R,"compositeModified",function(O){E.setCompositeRenderStyle(O)}),g.on(R,"beforeAdd",function(O){for(var A=[].concat(O.object),F=0;F<A.length;F++){var L=A[F],I=L.render;L.type==="body"?E.setBodyRenderStyle(L,I.lineColor,I.lineOpacity,I.lineThickness,I.fillColor,I.fillOpacity):L.type==="composite"?E.setCompositeRenderStyle(L):L.type==="constraint"&&E.setConstraintRenderStyle(L,I.lineColor,I.lineOpacity,I.lineThickness,I.pinSize,I.anchorColor,I.anchorSize)}})),g.on(R,"beforeAdd",function(O){E.emit(p.BEFORE_ADD,O)}),g.on(R,"afterAdd",function(O){E.emit(p.AFTER_ADD,O)}),g.on(R,"beforeRemove",function(O){E.emit(p.BEFORE_REMOVE,O)}),g.on(R,"afterRemove",function(O){E.emit(p.AFTER_REMOVE,O)}),g.on(w,"beforeUpdate",function(O){E.emit(p.BEFORE_UPDATE,O)}),g.on(w,"afterUpdate",function(O){E.emit(p.AFTER_UPDATE,O)}),g.on(w,"collisionStart",function(O){var A=O.pairs,F,L;A.length>0&&(F=A[0].bodyA,L=A[0].bodyB),E.emit(p.COLLISION_START,O,F,L)}),g.on(w,"collisionActive",function(O){var A=O.pairs,F,L;A.length>0&&(F=A[0].bodyA,L=A[0].bodyB),E.emit(p.COLLISION_ACTIVE,O,F,L)}),g.on(w,"collisionEnd",function(O){var A=O.pairs,F,L;A.length>0&&(F=A[0].bodyA,L=A[0].bodyB),E.emit(p.COLLISION_END,O,F,L)})},setBounds:function(E,w,R,O,A,F,L,I,B){return E===void 0&&(E=0),w===void 0&&(w=0),R===void 0&&(R=this.scene.sys.scale.width),O===void 0&&(O=this.scene.sys.scale.height),A===void 0&&(A=64),F===void 0&&(F=!0),L===void 0&&(L=!0),I===void 0&&(I=!0),B===void 0&&(B=!0),this.updateWall(F,"left",E-A,w-A,A,O+A*2),this.updateWall(L,"right",E+R,w-A,A,O+A*2),this.updateWall(I,"top",E,w-A,R,A),this.updateWall(B,"bottom",E,w+O,R,A),this},updateWall:function(E,w,R,O,A,F){var L=this.walls[w];E?(L&&y.remove(this.localWorld,L),R+=A/2,O+=F/2,this.walls[w]=this.create(R,O,A,F,{isStatic:!0,friction:0,frictionStatic:0})):(L&&y.remove(this.localWorld,L),this.walls[w]=null)},createDebugGraphic:function(){var E=this.scene.sys.add.graphics({x:0,y:0});return E.setDepth(Number.MAX_VALUE),this.debugGraphic=E,this.drawDebug=!0,E},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(E,w,R){return E===void 0&&(E=0),w===void 0&&(w=1),R===void 0&&(R=.001),this.localWorld.gravity.x=E,this.localWorld.gravity.y=w,this.localWorld.gravity.scale=R,this},create:function(E,w,R,O,A){var F=d.rectangle(E,w,R,O,A);return y.add(this.localWorld,F),F},add:function(E){return y.add(this.localWorld,E),this},remove:function(E,w){Array.isArray(E)||(E=[E]);for(var R=0;R<E.length;R++){var O=E[R],A=O.body?O.body:O;o.remove(this.localWorld,A,w)}return this},removeConstraint:function(E,w){return o.remove(this.localWorld,E,w),this},convertTilemapLayer:function(E,w){var R=E.layer,O=E.getTilesWithin(0,0,R.width,R.height,{isColliding:!0});return this.convertTiles(O,w),this},convertTiles:function(E,w){if(E.length===0)return this;for(var R=0;R<E.length;R++)new m(this,E[R],w);return this},nextGroup:function(E){return v.nextGroup(E)},nextCategory:function(){return v.nextCategory()},pause:function(){return this.enabled=!1,this.emit(p.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(p.RESUME),this},update:function(E,w){if(!(!this.enabled||!this.autoUpdate)){var R=this.engine,O=this.runner,A=R.timing;O.isFixed?w=this.getDelta(E,w):(w=E-O.timePrev||O.delta,O.timePrev=E,O.deltaHistory.push(w),O.deltaHistory=O.deltaHistory.slice(-O.deltaSampleSize),w=Math.min.apply(null,O.deltaHistory),w=w<O.deltaMin?O.deltaMin:w,w=w>O.deltaMax?O.deltaMax:w,O.delta=w),O.timeScalePrev=A.timeScale,O.frameCounter+=1,E-O.counterTimestamp>=1e3&&(O.fps=O.frameCounter*((E-O.counterTimestamp)/1e3),O.counterTimestamp=E,O.frameCounter=0),n.update(R,w)}},step:function(E){n.update(this.engine,E)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(E){var w=E.hasOwnProperty("body")?E.body:E;return o.get(this.localWorld,w.id,w.type)!==null},getAllBodies:function(){return o.allBodies(this.localWorld)},getAllConstraints:function(){return o.allConstraints(this.localWorld)},getAllComposites:function(){return o.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var E=this.debugConfig,w=this.engine,R=this.debugGraphic,O=o.allBodies(this.localWorld);this.debugGraphic.clear(),E.showBroadphase&&w.broadphase.controller&&this.renderGrid(w.broadphase,R,E.broadphaseColor,.5),E.showBounds&&this.renderBodyBounds(O,R,E.boundsColor,.5),(E.showBody||E.showStaticBody)&&this.renderBodies(O),E.showJoint&&this.renderJoints(),(E.showAxes||E.showAngleIndicator)&&this.renderBodyAxes(O,R,E.showAxes,E.angleColor,.5),E.showVelocity&&this.renderBodyVelocity(O,R,E.velocityColor,1,2),E.showSeparations&&this.renderSeparations(w.pairs.list,R,E.separationColor),E.showCollisions&&this.renderCollisions(w.pairs.list,R,E.collisionColor)}},renderGrid:function(E,w,R,O){w.lineStyle(1,R,O);for(var A=u.keys(E.buckets),F=0;F<A.length;F++){var L=A[F];if(!(E.buckets[L].length<2)){var I=L.split(/C|R/);w.strokeRect(parseInt(I[1],10)*E.bucketWidth,parseInt(I[2],10)*E.bucketHeight,E.bucketWidth,E.bucketHeight)}}return this},renderSeparations:function(E,w,R){w.lineStyle(1,R,1);for(var O=0;O<E.length;O++){var A=E[O];if(A.isActive){var F=A.collision,L=F.bodyA,I=F.bodyB,B=L.position,b=I.position,k=F.penetration,U=!L.isStatic&&!I.isStatic?4:1;I.isStatic&&(U=0),w.lineBetween(b.x,b.y,b.x-k.x*U,b.y-k.y*U),U=!L.isStatic&&!I.isStatic?4:1,L.isStatic&&(U=0),w.lineBetween(B.x,B.y,B.x-k.x*U,B.y-k.y*U)}}return this},renderCollisions:function(E,w,R){w.lineStyle(1,R,.5),w.fillStyle(R,1);var O,A;for(O=0;O<E.length;O++)if(A=E[O],!!A.isActive)for(var F=0;F<A.activeContacts.length;F++){var L=A.activeContacts[F],I=L.vertex;w.fillRect(I.x-2,I.y-2,5,5)}for(O=0;O<E.length;O++)if(A=E[O],!!A.isActive){var B=A.collision,b=A.activeContacts;if(b.length>0){var k=b[0].vertex.x,U=b[0].vertex.y;b.length===2&&(k=(b[0].vertex.x+b[1].vertex.x)/2,U=(b[0].vertex.y+b[1].vertex.y)/2),B.bodyB===B.supports[0].body||B.bodyA.isStatic?w.lineBetween(k-B.normal.x*8,U-B.normal.y*8,k,U):w.lineBetween(k+B.normal.x*8,U+B.normal.y*8,k,U)}}return this},renderBodyBounds:function(E,w,R,O){w.lineStyle(1,R,O);for(var A=0;A<E.length;A++){var F=E[A];if(F.render.visible){var L=F.bounds;if(L)w.strokeRect(L.min.x,L.min.y,L.max.x-L.min.x,L.max.y-L.min.y);else for(var I=F.parts,B=I.length>1?1:0;B<I.length;B++){var b=I[B];w.strokeRect(b.bounds.min.x,b.bounds.min.y,b.bounds.max.x-b.bounds.min.x,b.bounds.max.y-b.bounds.min.y)}}}return this},renderBodyAxes:function(E,w,R,O,A){w.lineStyle(1,O,A);for(var F=0;F<E.length;F++){var L=E[F],I=L.parts;if(L.render.visible){var B,b,k;if(R)for(b=I.length>1?1:0;b<I.length;b++)for(B=I[b],k=0;k<B.axes.length;k++){var U=B.axes[k];w.lineBetween(B.position.x,B.position.y,B.position.x+U.x*20,B.position.y+U.y*20)}else for(b=I.length>1?1:0;b<I.length;b++)for(B=I[b],k=0;k<B.axes.length;k++)w.lineBetween(B.position.x,B.position.y,(B.vertices[0].x+B.vertices[B.vertices.length-1].x)/2,(B.vertices[0].y+B.vertices[B.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(E,w,R,O,A){w.lineStyle(A,R,O);for(var F=0;F<E.length;F++){var L=E[F];L.render.visible&&w.lineBetween(L.position.x,L.position.y,L.position.x+(L.position.x-L.positionPrev.x)*2,L.position.y+(L.position.y-L.positionPrev.y)*2)}return this},renderBodies:function(E){for(var w=this.debugGraphic,R=this.debugConfig,O=R.showBody,A=R.showStaticBody,F=R.showSleeping,L=R.showInternalEdges,I=R.showConvexHulls,B=R.renderFill,b=R.renderLine,k=R.staticBodySleepOpacity,U=R.sleepFillColor,Y=R.sleepLineColor,H=R.hullColor,z=0;z<E.length;z++){var V=E[z];if(V.render.visible&&!(!A&&V.isStatic||!O&&!V.isStatic)){var D=V.render.lineColor,G=V.render.lineOpacity,N=V.render.lineThickness,X=V.render.fillColor,W=V.render.fillOpacity;F&&V.isSleeping&&(V.isStatic?(G*=k,W*=k):(D=Y,X=U)),B||(X=null),b||(D=null),this.renderBody(V,w,L,D,G,N,X,W);var $=V.parts.length;I&&$>1&&this.renderConvexHull(V,w,H,N)}}},renderBody:function(E,w,R,O,A,F,L,I){O===void 0&&(O=null),A===void 0&&(A=null),F===void 0&&(F=1),L===void 0&&(L=null),I===void 0&&(I=null);for(var B=this.debugConfig,b=B.sensorFillColor,k=B.sensorLineColor,U=E.parts,Y=U.length,H=Y>1?1:0;H<Y;H++){var z=U[H],V=z.render,D=V.opacity;if(!(!V.visible||D===0||z.isSensor&&!B.showSensors)){var G=z.circleRadius;if(w.beginPath(),z.isSensor?(L!==null&&w.fillStyle(b,I*D),O!==null&&w.lineStyle(F,k,A*D)):(L!==null&&w.fillStyle(L,I*D),O!==null&&w.lineStyle(F,O,A*D)),G)w.arc(z.position.x,z.position.y,G,0,2*Math.PI);else{var N=z.vertices,X=N.length;w.moveTo(N[0].x,N[0].y);for(var W=1;W<X;W++){var $=N[W];if(!N[W-1].isInternal||R?w.lineTo($.x,$.y):w.moveTo($.x,$.y),W<X&&$.isInternal&&!R){var K=(W+1)%X;w.moveTo(N[K].x,N[K].y)}}w.closePath()}L!==null&&w.fillPath(),O!==null&&w.strokePath()}}if(B.showPositions&&!E.isStatic){var j=E.position.x,Z=E.position.y,J=Math.ceil(B.positionSize/2);w.fillStyle(B.positionColor,1),w.fillRect(j-J,Z-J,B.positionSize,B.positionSize)}return this},renderConvexHull:function(E,w,R,O){O===void 0&&(O=1);var A=E.parts,F=A.length;if(F>1){var L=E.vertices;w.lineStyle(O,R),w.beginPath(),w.moveTo(L[0].x,L[0].y);for(var I=1;I<L.length;I++)w.lineTo(L[I].x,L[I].y);w.lineTo(L[0].x,L[0].y),w.strokePath()}return this},renderJoints:function(){for(var E=this.debugGraphic,w=o.allConstraints(this.localWorld),R=0;R<w.length;R++){var O=w[R].render,A=O.lineColor,F=O.lineOpacity,L=O.lineThickness,I=O.pinSize,B=O.anchorColor,b=O.anchorSize;this.renderConstraint(w[R],E,A,F,L,I,B,b)}},renderConstraint:function(E,w,R,O,A,F,L,I){var B=E.render;if(!B.visible||!E.pointA||!E.pointB)return this;w.lineStyle(A,R,O);var b=E.bodyA,k=E.bodyB,U,Y;if(b?U=P.add(b.position,E.pointA):U=E.pointA,B.type==="pin")w.strokeCircle(U.x,U.y,F);else{if(k?Y=P.add(k.position,E.pointB):Y=E.pointB,w.beginPath(),w.moveTo(U.x,U.y),B.type==="spring")for(var H=P.sub(Y,U),z=P.perp(P.normalise(H)),V=Math.ceil(u.clamp(E.length/5,12,20)),D,G=1;G<V;G+=1)D=G%2===0?1:-1,w.lineTo(U.x+H.x*(G/V)+z.x*D*4,U.y+H.y*(G/V)+z.y*D*4);w.lineTo(Y.x,Y.y)}return w.strokePath(),B.anchors&&I>0&&(w.fillStyle(L),w.fillCircle(U.x,U.y,I),w.fillCircle(Y.x,Y.y,I)),this},resetCollisionIDs:function(){return x._nextCollidingGroupId=1,x._nextNonCollidingGroupId=-1,x._nextCategory=1,this},shutdown:function(){g.off(this.engine),this.removeAllListeners(),y.clear(this.localWorld,!1),n.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});r.exports=M},95349:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setBounce:function(i){return this.body.restitution=i,this}};r.exports=T},70679:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setCollisionCategory:function(i){return this.body.collisionFilter.category=i,this},setCollisionGroup:function(i){return this.body.collisionFilter.group=i,this},setCollidesWith:function(i){var d=0;if(!Array.isArray(i))d=i;else for(var x=0;x<i.length;x++)d|=i[x];return this.body.collisionFilter.mask=d,this},setOnCollide:function(i){return this.body.onCollideCallback=i,this},setOnCollideEnd:function(i){return this.body.onCollideEndCallback=i,this},setOnCollideActive:function(i){return this.body.onCollideActiveCallback=i,this},setOnCollideWith:function(i,d){Array.isArray(i)||(i=[i]);for(var x=0;x<i.length;x++){var f=i[x].hasOwnProperty("body")?i[x].body:i[x];this.body.setOnCollideWith(f,d)}return this}};r.exports=T},77178:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(84125),x={applyForce:function(f){return this._tempVec2.set(this.body.position.x,this.body.position.y),d.applyForce(this.body,this._tempVec2,f),this},applyForceFrom:function(f,u){return d.applyForce(this.body,f,u),this},thrust:function(f){var u=this.body.angle;return this._tempVec2.set(f*Math.cos(u),f*Math.sin(u)),d.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(f){var u=this.body.angle-Math.PI/2;return this._tempVec2.set(f*Math.cos(u),f*Math.sin(u)),d.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(f){var u=this.body.angle+Math.PI/2;return this._tempVec2.set(f*Math.cos(u),f*Math.sin(u)),d.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(f){var u=this.body.angle-Math.PI;return this._tempVec2.set(f*Math.cos(u),f*Math.sin(u)),d.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};r.exports=x},74015:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setFriction:function(i,d,x){return this.body.friction=i,d!==void 0&&(this.body.frictionAir=d),x!==void 0&&(this.body.frictionStatic=x),this},setFrictionAir:function(i){return this.body.frictionAir=i,this},setFrictionStatic:function(i){return this.body.frictionStatic=i,this}};r.exports=T},11535:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setIgnoreGravity:function(i){return this.body.ignoreGravity=i,this}};r.exports=T},74497:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(84125),x=i(93736),f={setMass:function(u){return d.setMass(this.body,u),this},setDensity:function(u){return d.setDensity(this.body,u),this},centerOfMass:{get:function(){return new x(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};r.exports=f},75529:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={setSensor:function(i){return this.body.isSensor=i,this},isSensor:function(){return this.body.isSensor}};r.exports=T},64024:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(68516),x=i(84125),f=i(88456),u=i(72632),o=i(10998),n=i(72829),h=i(39745),p={setRectangle:function(a,c,v){return this.setBody({type:"rectangle",width:a,height:c},v)},setCircle:function(a,c){return this.setBody({type:"circle",radius:a},c)},setPolygon:function(a,c,v){return this.setBody({type:"polygon",sides:c,radius:a},v)},setTrapezoid:function(a,c,v,g){return this.setBody({type:"trapezoid",width:a,height:c,slope:v},g)},setExistingBody:function(a,c){c===void 0&&(c=!0),this.body&&this.world.remove(this.body,!0),this.body=a;for(var v=0;v<a.parts.length;v++)a.parts[v].gameObject=this;var g=this;if(a.destroy=function(){g.world.remove(g.body,!0),g.body.gameObject=null},c&&(this.world.has(a)&&this.world.remove(a,!0),this.world.add(a)),this._originComponent){var m=a.render.sprite.xOffset,y=a.render.sprite.yOffset,P=a.centerOfMass.x,M=a.centerOfMass.y;if(f(P,.5)&&f(M,.5))this.setOrigin(m+.5,y+.5);else{var E=a.centerOffset.x,w=a.centerOffset.y;this.setOrigin(m+E/this.displayWidth,y+w/this.displayHeight)}}return this},setBody:function(a,c){if(!a)return this;var v;typeof a=="string"&&(a={type:a});var g=u(a,"type","rectangle"),m=u(a,"x",this._tempVec2.x),y=u(a,"y",this._tempVec2.y),P=u(a,"width",this.width),M=u(a,"height",this.height);switch(g){case"rectangle":v=d.rectangle(m,y,P,M,c);break;case"circle":var E=u(a,"radius",Math.max(P,M)/2),w=u(a,"maxSides",25);v=d.circle(m,y,E,c,w);break;case"trapezoid":var R=u(a,"slope",.5);v=d.trapezoid(m,y,P,M,R,c);break;case"polygon":var O=u(a,"sides",5),A=u(a,"radius",Math.max(P,M)/2);v=d.polygon(m,y,O,A,c);break;case"fromVertices":case"fromVerts":var F=u(a,"verts",null);if(F)if(typeof F=="string"&&(F=h.fromPath(F)),this.body&&!this.body.hasOwnProperty("temp"))x.setVertices(this.body,F),v=this.body;else{var L=u(a,"flagInternal",!1),I=u(a,"removeCollinear",.01),B=u(a,"minimumArea",10);v=d.fromVertices(m,y,F,c,L,I,B)}break;case"fromPhysicsEditor":v=o.parseBody(m,y,a,c);break;case"fromPhysicsTracer":v=n.parseBody(m,y,a,c);break}return v&&this.setExistingBody(v,a.addToWorld),this}};r.exports=p},25106:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(35416),x=i(22806),f=i(39073),u={setToSleep:function(){return x.set(this.body,!0),this},setAwake:function(){return x.set(this.body,!1),this},setSleepThreshold:function(o){return o===void 0&&(o=60),this.body.sleepThreshold=o,this},setSleepEvents:function(o,n){return this.setSleepStartEvent(o),this.setSleepEndEvent(n),this},setSleepStartEvent:function(o){if(o){var n=this.world;f.on(this.body,"sleepStart",function(h){n.emit(d.SLEEP_START,h,this)})}else f.off(this.body,"sleepStart");return this},setSleepEndEvent:function(o){if(o){var n=this.world;f.on(this.body,"sleepEnd",function(h){n.emit(d.SLEEP_END,h,this)})}else f.off(this.body,"sleepEnd");return this}};r.exports=u},82884:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(84125),x={setStatic:function(f){return d.setStatic(this.body,f),this},isStatic:function(){return this.body.isStatic}};r.exports=x},4753:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(84125),x=i(83392),f=i(35786),u=i(62138),o=4,n={x:{get:function(){return this.body.position.x},set:function(h){this._tempVec2.set(h,this.y),d.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(h){this._tempVec2.set(this.x,h),d.setPosition(this.body,this._tempVec2)}},scaleX:{get:function(){return this._scaleX},set:function(h){var p=1/this._scaleX,a=1/this._scaleY;this._scaleX=h,this._scaleX===0?this.renderFlags&=~o:this.renderFlags|=o,d.scale(this.body,p,a),d.scale(this.body,h,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(h){var p=1/this._scaleX,a=1/this._scaleY;this._scaleY=h,this._scaleY===0?this.renderFlags&=~o:this.renderFlags|=o,d.scale(this.body,p,a),d.scale(this.body,this._scaleX,h)}},angle:{get:function(){return u(this.body.angle*x.RAD_TO_DEG)},set:function(h){this.rotation=u(h)*x.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(h){this._rotation=f(h),d.setAngle(this.body,this._rotation)}},setPosition:function(h,p){return h===void 0&&(h=0),p===void 0&&(p=h),this._tempVec2.set(h,p),d.setPosition(this.body,this._tempVec2),this},setRotation:function(h){return h===void 0&&(h=0),this._rotation=f(h),d.setAngle(this.body,h),this},setFixedRotation:function(){return d.setInertia(this.body,1/0),this},setAngle:function(h){return h===void 0&&(h=0),this.angle=h,d.setAngle(this.body,this.rotation),this},setScale:function(h,p,a){h===void 0&&(h=1),p===void 0&&(p=h);var c=1/this._scaleX,v=1/this._scaleY;return this._scaleX=h,this._scaleY=p,d.scale(this.body,c,v,a),d.scale(this.body,h,p,a),this}};r.exports=n},37268:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(84125),x={setVelocityX:function(f){return this._tempVec2.set(f,this.body.velocity.y),d.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(f){return this._tempVec2.set(this.body.velocity.x,f),d.setVelocity(this.body,this._tempVec2),this},setVelocity:function(f,u){return this._tempVec2.set(f,u),d.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return d.getVelocity(this.body)},setAngularVelocity:function(f){return d.setAngularVelocity(this.body,f),this},getAngularVelocity:function(){return d.getAngularVelocity(this.body)},setAngularSpeed:function(f){return d.setAngularSpeed(this.body,f),this},getAngularSpeed:function(){return d.getAngularSpeed(this.body)}};r.exports=x},74527:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Bounce:i(95349),Collision:i(70679),Force:i(77178),Friction:i(74015),Gravity:i(11535),Mass:i(74497),Sensor:i(75529),SetBody:i(64024),Sleep:i(25106),Static:i(82884),Transform:i(4753),Velocity:i(37268)}},63201:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="afteradd"},30474:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="afterremove"},44822:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="afterupdate"},88820:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="beforeadd"},94849:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="beforeremove"},6391:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="beforeupdate"},96738:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collisionactive"},7916:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collisionend"},59529:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collisionstart"},10219:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragend"},183:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drag"},39143:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragstart"},16483:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},35806:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},22106:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="sleepend"},5803:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="sleepstart"},35416:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AFTER_ADD:i(63201),AFTER_REMOVE:i(30474),AFTER_UPDATE:i(44822),BEFORE_ADD:i(88820),BEFORE_REMOVE:i(94849),BEFORE_UPDATE:i(6391),COLLISION_ACTIVE:i(96738),COLLISION_END:i(7916),COLLISION_START:i(59529),DRAG_END:i(10219),DRAG:i(183),DRAG_START:i(39143),PAUSE:i(16483),RESUME:i(35806),SLEEP_END:i(22106),SLEEP_START:i(5803)}},45949:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BodyBounds:i(63568),Components:i(74527),Events:i(35416),Factory:i(72653),MatterGameObject:i(3860),Image:i(7030),Matter:i(18171),MatterPhysics:i(50583),PolyDecomp:i(81084),Sprite:i(73658),TileBody:i(84720),PhysicsEditorParser:i(10998),PhysicsJSONParser:i(72829),PointerConstraint:i(88596),World:i(31468)}},84125:(r,T,i)=>{var d={};r.exports=d;var x=i(39745),f=i(10438),u=i(22806),o=i(68758),n=i(84091),h=i(50658);(function(){d._timeCorrection=!0,d._inertiaScale=4,d._nextCollidingGroupId=1,d._nextNonCollidingGroupId=-1,d._nextCategory=1,d._baseDelta=16.666666666666668,d.create=function(a){var c={id:o.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!a.hasOwnProperty("position")&&a.hasOwnProperty("vertices")?a.position=x.centre(a.vertices):a.hasOwnProperty("vertices")||(c.vertices=x.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var v=o.extend(c,a);return p(v,a),v.setOnCollideWith=function(g,m){return m?this.onCollideWith[g.id]=m:delete this.onCollideWith[g.id],this},v},d.nextGroup=function(a){return a?d._nextNonCollidingGroupId--:d._nextCollidingGroupId++},d.nextCategory=function(){return d._nextCategory=d._nextCategory<<1,d._nextCategory};var p=function(a,c){if(c=c||{},d.set(a,{bounds:a.bounds||n.create(a.vertices),positionPrev:a.positionPrev||f.clone(a.position),anglePrev:a.anglePrev||a.angle,vertices:a.vertices,parts:a.parts||[a],isStatic:a.isStatic,isSleeping:a.isSleeping,parent:a.parent||a}),x.rotate(a.vertices,a.angle,a.position),h.rotate(a.axes,a.angle),n.update(a.bounds,a.vertices,a.velocity),d.set(a,{axes:c.axes||a.axes,area:c.area||a.area,mass:c.mass||a.mass,inertia:c.inertia||a.inertia}),a.parts.length===1){var v=a.bounds,g=a.centerOfMass,m=a.centerOffset,y=v.max.x-v.min.x,P=v.max.y-v.min.y;g.x=-(v.min.x-a.position.x)/y,g.y=-(v.min.y-a.position.y)/P,m.x=y*g.x,m.y=P*g.y}};d.set=function(a,c,v){var g;typeof c=="string"&&(g=c,c={},c[g]=v);for(g in c)if(Object.prototype.hasOwnProperty.call(c,g))switch(v=c[g],g){case"isStatic":d.setStatic(a,v);break;case"isSleeping":u.set(a,v);break;case"mass":d.setMass(a,v);break;case"density":d.setDensity(a,v);break;case"inertia":d.setInertia(a,v);break;case"vertices":d.setVertices(a,v);break;case"position":d.setPosition(a,v);break;case"angle":d.setAngle(a,v);break;case"velocity":d.setVelocity(a,v);break;case"angularVelocity":d.setAngularVelocity(a,v);break;case"speed":d.setSpeed(a,v);break;case"angularSpeed":d.setAngularSpeed(a,v);break;case"parts":d.setParts(a,v);break;case"centre":d.setCentre(a,v);break;default:a[g]=v}},d.setStatic=function(a,c){for(var v=0;v<a.parts.length;v++){var g=a.parts[v];c?(g.isStatic||(g._original={restitution:g.restitution,friction:g.friction,mass:g.mass,inertia:g.inertia,density:g.density,inverseMass:g.inverseMass,inverseInertia:g.inverseInertia}),g.restitution=0,g.friction=1,g.mass=g.inertia=g.density=1/0,g.inverseMass=g.inverseInertia=0,g.positionPrev.x=g.position.x,g.positionPrev.y=g.position.y,g.anglePrev=g.angle,g.angularVelocity=0,g.speed=0,g.angularSpeed=0,g.motion=0):g._original&&(g.restitution=g._original.restitution,g.friction=g._original.friction,g.mass=g._original.mass,g.inertia=g._original.inertia,g.density=g._original.density,g.inverseMass=g._original.inverseMass,g.inverseInertia=g._original.inverseInertia,g._original=null),g.isStatic=c}},d.setMass=function(a,c){var v=a.inertia/(a.mass/6);a.inertia=v*(c/6),a.inverseInertia=1/a.inertia,a.mass=c,a.inverseMass=1/a.mass,a.density=a.mass/a.area},d.setDensity=function(a,c){d.setMass(a,c*a.area),a.density=c},d.setInertia=function(a,c){a.inertia=c,a.inverseInertia=1/a.inertia},d.setVertices=function(a,c){c[0].body===a?a.vertices=c:a.vertices=x.create(c,a),a.axes=h.fromVertices(a.vertices),a.area=x.area(a.vertices),d.setMass(a,a.density*a.area);var v=x.centre(a.vertices);x.translate(a.vertices,v,-1),d.setInertia(a,d._inertiaScale*x.inertia(a.vertices,a.mass)),x.translate(a.vertices,a.position),n.update(a.bounds,a.vertices,a.velocity)},d.setParts=function(a,c,v){var g;for(c=c.slice(0),a.parts.length=0,a.parts.push(a),a.parent=a,g=0;g<c.length;g++){var m=c[g];m!==a&&(m.parent=a,a.parts.push(m))}if(a.parts.length!==1){if(v=typeof v<"u"?v:!0,v){var y=[];for(g=0;g<c.length;g++)y=y.concat(c[g].vertices);x.clockwiseSort(y);var P=x.hull(y),M=x.centre(P);d.setVertices(a,P),x.translate(a.vertices,M)}var E=d._totalProperties(a),w=E.centre.x,R=E.centre.y,O=a.bounds,A=a.centerOfMass,F=a.centerOffset;n.update(O,a.vertices,a.velocity),A.x=-(O.min.x-w)/(O.max.x-O.min.x),A.y=-(O.min.y-R)/(O.max.y-O.min.y),F.x=w,F.y=R,a.area=E.area,a.parent=a,a.position.x=w,a.position.y=R,a.positionPrev.x=w,a.positionPrev.y=R,d.setMass(a,E.mass),d.setInertia(a,E.inertia),d.setPosition(a,E.centre)}},d.setCentre=function(a,c,v){v?(a.positionPrev.x+=c.x,a.positionPrev.y+=c.y,a.position.x+=c.x,a.position.y+=c.y):(a.positionPrev.x=c.x-(a.position.x-a.positionPrev.x),a.positionPrev.y=c.y-(a.position.y-a.positionPrev.y),a.position.x=c.x,a.position.y=c.y)},d.setPosition=function(a,c,v){var g=f.sub(c,a.position);v?(a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.velocity.x=g.x,a.velocity.y=g.y,a.speed=f.magnitude(g)):(a.positionPrev.x+=g.x,a.positionPrev.y+=g.y);for(var m=0;m<a.parts.length;m++){var y=a.parts[m];y.position.x+=g.x,y.position.y+=g.y,x.translate(y.vertices,g),n.update(y.bounds,y.vertices,a.velocity)}},d.setAngle=function(a,c,v){var g=c-a.angle;v?(a.anglePrev=a.angle,a.angularVelocity=g,a.angularSpeed=Math.abs(g)):a.anglePrev+=g;for(var m=0;m<a.parts.length;m++){var y=a.parts[m];y.angle+=g,x.rotate(y.vertices,g,a.position),h.rotate(y.axes,g),n.update(y.bounds,y.vertices,a.velocity),m>0&&f.rotateAbout(y.position,g,a.position,y.position)}},d.setVelocity=function(a,c){var v=a.deltaTime/d._baseDelta;a.positionPrev.x=a.position.x-c.x*v,a.positionPrev.y=a.position.y-c.y*v,a.velocity.x=(a.position.x-a.positionPrev.x)/v,a.velocity.y=(a.position.y-a.positionPrev.y)/v,a.speed=f.magnitude(a.velocity)},d.getVelocity=function(a){var c=d._baseDelta/a.deltaTime;return{x:(a.position.x-a.positionPrev.x)*c,y:(a.position.y-a.positionPrev.y)*c}},d.getSpeed=function(a){return f.magnitude(d.getVelocity(a))},d.setSpeed=function(a,c){d.setVelocity(a,f.mult(f.normalise(d.getVelocity(a)),c))},d.setAngularVelocity=function(a,c){var v=a.deltaTime/d._baseDelta;a.anglePrev=a.angle-c*v,a.angularVelocity=(a.angle-a.anglePrev)/v,a.angularSpeed=Math.abs(a.angularVelocity)},d.getAngularVelocity=function(a){return(a.angle-a.anglePrev)*d._baseDelta/a.deltaTime},d.getAngularSpeed=function(a){return Math.abs(d.getAngularVelocity(a))},d.setAngularSpeed=function(a,c){d.setAngularVelocity(a,o.sign(d.getAngularVelocity(a))*c)},d.translate=function(a,c,v){d.setPosition(a,f.add(a.position,c),v)},d.rotate=function(a,c,v,g){if(!v)d.setAngle(a,a.angle+c,g);else{var m=Math.cos(c),y=Math.sin(c),P=a.position.x-v.x,M=a.position.y-v.y;d.setPosition(a,{x:v.x+(P*m-M*y),y:v.y+(P*y+M*m)},g),d.setAngle(a,a.angle+c,g)}},d.scale=function(a,c,v,g){var m=0,y=0;g=g||a.position;for(var P=0;P<a.parts.length;P++){var M=a.parts[P];M.scale.x=c,M.scale.y=v,x.scale(M.vertices,c,v,g),M.axes=h.fromVertices(M.vertices),M.area=x.area(M.vertices),d.setMass(M,a.density*M.area),x.translate(M.vertices,{x:-M.position.x,y:-M.position.y}),d.setInertia(M,d._inertiaScale*x.inertia(M.vertices,M.mass)),x.translate(M.vertices,{x:M.position.x,y:M.position.y}),P>0&&(m+=M.area,y+=M.inertia),M.position.x=g.x+(M.position.x-g.x)*c,M.position.y=g.y+(M.position.y-g.y)*v,n.update(M.bounds,M.vertices,a.velocity)}a.parts.length>1&&(a.area=m,a.isStatic||(d.setMass(a,a.density*m),d.setInertia(a,y))),a.circleRadius&&(c===v?a.circleRadius*=c:a.circleRadius=null)},d.update=function(a,c){c=(typeof c<"u"?c:16.666666666666668)*a.timeScale;var v=c*c,g=d._timeCorrection?c/(a.deltaTime||c):1,m=1-a.frictionAir*(c/o._baseDelta),y=(a.position.x-a.positionPrev.x)*g,P=(a.position.y-a.positionPrev.y)*g;a.velocity.x=y*m+a.force.x/a.mass*v,a.velocity.y=P*m+a.force.y/a.mass*v,a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.position.x+=a.velocity.x,a.position.y+=a.velocity.y,a.deltaTime=c,a.angularVelocity=(a.angle-a.anglePrev)*m*g+a.torque/a.inertia*v,a.anglePrev=a.angle,a.angle+=a.angularVelocity,a.speed=f.magnitude(a.velocity),a.angularSpeed=Math.abs(a.angularVelocity);for(var M=0;M<a.parts.length;M++){var E=a.parts[M];x.translate(E.vertices,a.velocity),M>0&&(E.position.x+=a.velocity.x,E.position.y+=a.velocity.y),a.angularVelocity!==0&&(x.rotate(E.vertices,a.angularVelocity,a.position),h.rotate(E.axes,a.angularVelocity),M>0&&f.rotateAbout(E.position,a.angularVelocity,a.position,E.position)),n.update(E.bounds,E.vertices,a.velocity)}},d.updateVelocities=function(a){var c=d._baseDelta/a.deltaTime,v=a.velocity;v.x=(a.position.x-a.positionPrev.x)*c,v.y=(a.position.y-a.positionPrev.y)*c,a.speed=Math.sqrt(v.x*v.x+v.y*v.y),a.angularVelocity=(a.angle-a.anglePrev)*c,a.angularSpeed=Math.abs(a.angularVelocity)},d.applyForce=function(a,c,v){var g={x:c.x-a.position.x,y:c.y-a.position.y};a.force.x+=v.x,a.force.y+=v.y,a.torque+=g.x*v.y-g.y*v.x},d._totalProperties=function(a){for(var c={mass:0,area:0,inertia:0,centre:{x:0,y:0}},v=a.parts.length===1?0:1;v<a.parts.length;v++){var g=a.parts[v],m=g.mass!==1/0?g.mass:1;c.mass+=m,c.area+=g.area,c.inertia+=g.inertia,c.centre=f.add(c.centre,f.mult(g.position,m))}return c.centre=f.div(c.centre,c.mass),c}})()},11299:(r,T,i)=>{var d={};r.exports=d;var x=i(39073),f=i(68758),u=i(84091),o=i(84125);(function(){d.create=function(n){return f.extend({id:f.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},n)},d.setModified=function(n,h,p,a){if(x.trigger(n,"compositeModified",n),n.isModified=h,h&&n.cache&&(n.cache.allBodies=null,n.cache.allConstraints=null,n.cache.allComposites=null),p&&n.parent&&d.setModified(n.parent,h,p,a),a)for(var c=0;c<n.composites.length;c++){var v=n.composites[c];d.setModified(v,h,p,a)}},d.add=function(n,h){var p=[].concat(h);x.trigger(n,"beforeAdd",{object:h});for(var a=0;a<p.length;a++){var c=p[a];switch(c.type){case"body":if(c.parent!==c){f.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}d.addBody(n,c);break;case"constraint":d.addConstraint(n,c);break;case"composite":d.addComposite(n,c);break;case"mouseConstraint":d.addConstraint(n,c.constraint);break}}return x.trigger(n,"afterAdd",{object:h}),n},d.remove=function(n,h,p){var a=[].concat(h);x.trigger(n,"beforeRemove",{object:h});for(var c=0;c<a.length;c++){var v=a[c];switch(v.type){case"body":d.removeBody(n,v,p);break;case"constraint":d.removeConstraint(n,v,p);break;case"composite":d.removeComposite(n,v,p);break;case"mouseConstraint":d.removeConstraint(n,v.constraint);break}}return x.trigger(n,"afterRemove",{object:h}),n},d.addComposite=function(n,h){return n.composites.push(h),h.parent=n,d.setModified(n,!0,!0,!1),n},d.removeComposite=function(n,h,p){var a=f.indexOf(n.composites,h);if(a!==-1&&d.removeCompositeAt(n,a),p)for(var c=0;c<n.composites.length;c++)d.removeComposite(n.composites[c],h,!0);return n},d.removeCompositeAt=function(n,h){return n.composites.splice(h,1),d.setModified(n,!0,!0,!1),n},d.addBody=function(n,h){return n.bodies.push(h),d.setModified(n,!0,!0,!1),n},d.removeBody=function(n,h,p){var a=f.indexOf(n.bodies,h);if(a!==-1&&d.removeBodyAt(n,a),p)for(var c=0;c<n.composites.length;c++)d.removeBody(n.composites[c],h,!0);return n},d.removeBodyAt=function(n,h){return n.bodies.splice(h,1),d.setModified(n,!0,!0,!1),n},d.addConstraint=function(n,h){return n.constraints.push(h),d.setModified(n,!0,!0,!1),n},d.removeConstraint=function(n,h,p){var a=f.indexOf(n.constraints,h);if(a!==-1&&d.removeConstraintAt(n,a),p)for(var c=0;c<n.composites.length;c++)d.removeConstraint(n.composites[c],h,!0);return n},d.removeConstraintAt=function(n,h){return n.constraints.splice(h,1),d.setModified(n,!0,!0,!1),n},d.clear=function(n,h,p){if(p)for(var a=0;a<n.composites.length;a++)d.clear(n.composites[a],h,!0);return h?n.bodies=n.bodies.filter(function(c){return c.isStatic}):n.bodies.length=0,n.constraints.length=0,n.composites.length=0,d.setModified(n,!0,!0,!1),n},d.allBodies=function(n){if(n.cache&&n.cache.allBodies)return n.cache.allBodies;for(var h=[].concat(n.bodies),p=0;p<n.composites.length;p++)h=h.concat(d.allBodies(n.composites[p]));return n.cache&&(n.cache.allBodies=h),h},d.allConstraints=function(n){if(n.cache&&n.cache.allConstraints)return n.cache.allConstraints;for(var h=[].concat(n.constraints),p=0;p<n.composites.length;p++)h=h.concat(d.allConstraints(n.composites[p]));return n.cache&&(n.cache.allConstraints=h),h},d.allComposites=function(n){if(n.cache&&n.cache.allComposites)return n.cache.allComposites;for(var h=[].concat(n.composites),p=0;p<n.composites.length;p++)h=h.concat(d.allComposites(n.composites[p]));return n.cache&&(n.cache.allComposites=h),h},d.get=function(n,h,p){var a,c;switch(p){case"body":a=d.allBodies(n);break;case"constraint":a=d.allConstraints(n);break;case"composite":a=d.allComposites(n).concat(n);break}return a?(c=a.filter(function(v){return v.id.toString()===h.toString()}),c.length===0?null:c[0]):null},d.move=function(n,h,p){return d.remove(n,h),d.add(p,h),n},d.rebase=function(n){for(var h=d.allBodies(n).concat(d.allConstraints(n)).concat(d.allComposites(n)),p=0;p<h.length;p++)h[p].id=f.nextId();return n},d.translate=function(n,h,p){for(var a=p?d.allBodies(n):n.bodies,c=0;c<a.length;c++)o.translate(a[c],h);return n},d.rotate=function(n,h,p,a){for(var c=Math.cos(h),v=Math.sin(h),g=a?d.allBodies(n):n.bodies,m=0;m<g.length;m++){var y=g[m],P=y.position.x-p.x,M=y.position.y-p.y;o.setPosition(y,{x:p.x+(P*c-M*v),y:p.y+(P*v+M*c)}),o.rotate(y,h)}return n},d.scale=function(n,h,p,a,c){for(var v=c?d.allBodies(n):n.bodies,g=0;g<v.length;g++){var m=v[g],y=m.position.x-a.x,P=m.position.y-a.y;o.setPosition(m,{x:a.x+y*h,y:a.y+P*p}),o.scale(m,h,p)}return n},d.bounds=function(n){for(var h=d.allBodies(n),p=[],a=0;a<h.length;a+=1){var c=h[a];p.push(c.bounds.min,c.bounds.max)}return u.create(p)}})()},72005:(r,T,i)=>{var d={};r.exports=d;var x=i(11299);(function(){d.create=x.create,d.add=x.add,d.remove=x.remove,d.clear=x.clear,d.addComposite=x.addComposite,d.addBody=x.addBody,d.addConstraint=x.addConstraint})()},63454:(r,T,i)=>{var d={};r.exports=d;var x=i(39745),f=i(70584);(function(){var u=[],o={overlap:0,axis:null},n={overlap:0,axis:null};d.create=function(h,p){return{pair:null,collided:!1,bodyA:h,bodyB:p,parentA:h.parent,parentB:p.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[]}},d.collides=function(h,p,a){if(d._overlapAxes(o,h.vertices,p.vertices,h.axes),o.overlap<=0||(d._overlapAxes(n,p.vertices,h.vertices,p.axes),n.overlap<=0))return null;var c=a&&a.table[f.id(h,p)],v;c?v=c.collision:(v=d.create(h,p),v.collided=!0,v.bodyA=h.id<p.id?h:p,v.bodyB=h.id<p.id?p:h,v.parentA=v.bodyA.parent,v.parentB=v.bodyB.parent),h=v.bodyA,p=v.bodyB;var g;o.overlap<n.overlap?g=o:g=n;var m=v.normal,y=v.supports,P=g.axis,M=P.x,E=P.y;M*(p.position.x-h.position.x)+E*(p.position.y-h.position.y)<0?(m.x=M,m.y=E):(m.x=-M,m.y=-E),v.tangent.x=-m.y,v.tangent.y=m.x,v.depth=g.overlap,v.penetration.x=m.x*v.depth,v.penetration.y=m.y*v.depth;var w=d._findSupports(h,p,m,1),R=0;if(x.contains(h.vertices,w[0])&&(y[R++]=w[0]),x.contains(h.vertices,w[1])&&(y[R++]=w[1]),R<2){var O=d._findSupports(p,h,m,-1);x.contains(p.vertices,O[0])&&(y[R++]=O[0]),R<2&&x.contains(p.vertices,O[1])&&(y[R++]=O[1])}return R===0&&(y[R++]=w[0]),y.length=R,v},d._overlapAxes=function(h,p,a,c){var v=p.length,g=a.length,m=p[0].x,y=p[0].y,P=a[0].x,M=a[0].y,E=c.length,w=Number.MAX_VALUE,R=0,O,A,F,L,I,B;for(I=0;I<E;I++){var b=c[I],k=b.x,U=b.y,Y=m*k+y*U,H=P*k+M*U,z=Y,V=H;for(B=1;B<v;B+=1)L=p[B].x*k+p[B].y*U,L>z?z=L:L<Y&&(Y=L);for(B=1;B<g;B+=1)L=a[B].x*k+a[B].y*U,L>V?V=L:L<H&&(H=L);if(A=z-H,F=V-Y,O=A<F?A:F,O<w&&(w=O,R=I,O<=0))break}h.axis=c[R],h.overlap=w},d._projectToAxis=function(h,p,a){for(var c=p[0].x*a.x+p[0].y*a.y,v=c,g=1;g<p.length;g+=1){var m=p[g].x*a.x+p[g].y*a.y;m>v?v=m:m<c&&(c=m)}h.min=c,h.max=v},d._findSupports=function(h,p,a,c){var v=p.vertices,g=v.length,m=h.position.x,y=h.position.y,P=a.x*c,M=a.y*c,E=Number.MAX_VALUE,w,R,O,A,F;for(F=0;F<g;F+=1)R=v[F],A=P*(m-R.x)+M*(y-R.y),A<E&&(E=A,w=R);return O=v[(g+w.index-1)%g],E=P*(m-O.x)+M*(y-O.y),R=v[(w.index+1)%g],P*(m-R.x)+M*(y-R.y)<E?(u[0]=w,u[1]=R,u):(u[0]=w,u[1]=O,u)}})()},17319:r=>{var T={};r.exports=T,function(){T.create=function(i){return{vertex:i,normalImpulse:0,tangentImpulse:0}}}()},13657:(r,T,i)=>{var d={};r.exports=d;var x=i(68758),f=i(63454);(function(){d.create=function(u){var o={bodies:[],pairs:null};return x.extend(o,u)},d.setBodies=function(u,o){u.bodies=o.slice(0)},d.clear=function(u){u.bodies=[]},d.collisions=function(u){var o=[],n=u.pairs,h=u.bodies,p=h.length,a=d.canCollide,c=f.collides,v,g;for(h.sort(d._compareBoundsX),v=0;v<p;v++){var m=h[v],y=m.bounds,P=m.bounds.max.x,M=m.bounds.max.y,E=m.bounds.min.y,w=m.isStatic||m.isSleeping,R=m.parts.length,O=R===1;for(g=v+1;g<p;g++){var A=h[g],F=A.bounds;if(F.min.x>P)break;if(!(M<F.min.y||E>F.max.y)&&!(w&&(A.isStatic||A.isSleeping))&&a(m.collisionFilter,A.collisionFilter)){var L=A.parts.length;if(O&&L===1){var I=c(m,A,n);I&&o.push(I)}else for(var B=R>1?1:0,b=L>1?1:0,k=B;k<R;k++)for(var U=m.parts[k],y=U.bounds,Y=b;Y<L;Y++){var H=A.parts[Y],F=H.bounds;if(!(y.min.x>F.max.x||y.max.x<F.min.x||y.max.y<F.min.y||y.min.y>F.max.y)){var I=c(U,H,n);I&&o.push(I)}}}}}return o},d.canCollide=function(u,o){return u.group===o.group&&u.group!==0?u.group>0:(u.mask&o.category)!==0&&(o.mask&u.category)!==0},d._compareBoundsX=function(u,o){return u.bounds.min.x-o.bounds.min.x}})()},70584:(r,T,i)=>{var d={};r.exports=d;var x=i(17319);(function(){d.create=function(f,u){var o=f.bodyA,n=f.bodyB,h={id:d.id(o,n),bodyA:o,bodyB:n,collision:f,contacts:[],activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:o.isSensor||n.isSensor,timeCreated:u,timeUpdated:u,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return d.update(h,f,u),h},d.update=function(f,u,o){var n=f.contacts,h=u.supports,p=f.activeContacts,a=u.parentA,c=u.parentB,v=a.vertices.length;f.isActive=!0,f.timeUpdated=o,f.collision=u,f.separation=u.depth,f.inverseMass=a.inverseMass+c.inverseMass,f.friction=a.friction<c.friction?a.friction:c.friction,f.frictionStatic=a.frictionStatic>c.frictionStatic?a.frictionStatic:c.frictionStatic,f.restitution=a.restitution>c.restitution?a.restitution:c.restitution,f.slop=a.slop>c.slop?a.slop:c.slop,u.pair=f,p.length=0;for(var g=0;g<h.length;g++){var m=h[g],y=m.body===a?m.index:v+m.index,P=n[y];P?p.push(P):p.push(n[y]=x.create(m))}},d.setActive=function(f,u,o){u?(f.isActive=!0,f.timeUpdated=o):(f.isActive=!1,f.activeContacts.length=0)},d.id=function(f,u){return f.id<u.id?"A"+f.id+"B"+u.id:"A"+u.id+"B"+f.id}})()},91327:(r,T,i)=>{var d={};r.exports=d;var x=i(70584),f=i(68758);(function(){d.create=function(u){return f.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},u)},d.update=function(u,o,n){var h=u.list,p=h.length,a=u.table,c=o.length,v=u.collisionStart,g=u.collisionEnd,m=u.collisionActive,y,P,M,E;for(v.length=0,g.length=0,m.length=0,E=0;E<p;E++)h[E].confirmedActive=!1;for(E=0;E<c;E++)y=o[E],M=y.pair,M?(M.isActive?m.push(M):v.push(M),x.update(M,y,n),M.confirmedActive=!0):(M=x.create(y,n),a[M.id]=M,v.push(M),h.push(M));var w=[];for(p=h.length,E=0;E<p;E++)M=h[E],M.confirmedActive||(x.setActive(M,!1,n),g.push(M),!M.collision.bodyA.isSleeping&&!M.collision.bodyB.isSleeping&&w.push(E));for(E=0;E<w.length;E++)P=w[E]-E,M=h[P],h.splice(P,1),delete a[M.id]},d.clear=function(u){return u.table={},u.list.length=0,u.collisionStart.length=0,u.collisionActive.length=0,u.collisionEnd.length=0,u}})()},13390:(r,T,i)=>{var d={};r.exports=d;var x=i(10438),f=i(63454),u=i(84091),o=i(68516),n=i(39745);(function(){d.collides=function(h,p){for(var a=[],c=p.length,v=h.bounds,g=f.collides,m=u.overlaps,y=0;y<c;y++){var P=p[y],M=P.parts.length,E=M===1?0:1;if(h!==P&&m(P.bounds,v))for(var w=E;w<M;w++){var R=P.parts[w];if(m(R.bounds,v)){var O=g(R,h);if(O){a.push(O);break}}}}return a},d.ray=function(h,p,a,c){c=c||1e-100;for(var v=x.angle(p,a),g=x.magnitude(x.sub(p,a)),m=(a.x+p.x)*.5,y=(a.y+p.y)*.5,P=o.rectangle(m,y,g,c,{angle:v}),M=d.collides(P,h),E=0;E<M.length;E+=1){var w=M[E];w.body=w.bodyB=w.bodyA}return M},d.region=function(h,p,a){for(var c=[],v=0;v<h.length;v++){var g=h[v],m=u.overlaps(g.bounds,p);(m&&!a||!m&&a)&&c.push(g)}return c},d.point=function(h,p){for(var a=[],c=0;c<h.length;c++){var v=h[c];if(u.contains(v.bounds,p))for(var g=v.parts.length===1?0:1;g<v.parts.length;g++){var m=v.parts[g];if(u.contains(m.bounds,p)&&n.contains(m.vertices,p)){a.push(v);break}}}return a}})()},44272:(r,T,i)=>{var d={};r.exports=d;var x=i(39745),f=i(68758),u=i(84091);(function(){d._restingThresh=2,d._restingThreshTangent=Math.sqrt(6),d._positionDampen=.9,d._positionWarming=.8,d._frictionNormalMultiplier=5,d._frictionMaxStatic=Number.MAX_VALUE,d.preSolvePosition=function(o){var n,h,p,a=o.length;for(n=0;n<a;n++)h=o[n],h.isActive&&(p=h.activeContacts.length,h.collision.parentA.totalContacts+=p,h.collision.parentB.totalContacts+=p)},d.solvePosition=function(o,n,h){var p,a,c,v,g,m,y,P,M=d._positionDampen*(h||1),E=f.clamp(n/f._baseDelta,0,1),w=o.length;for(p=0;p<w;p++)a=o[p],!(!a.isActive||a.isSensor)&&(c=a.collision,v=c.parentA,g=c.parentB,m=c.normal,a.separation=m.x*(g.positionImpulse.x+c.penetration.x-v.positionImpulse.x)+m.y*(g.positionImpulse.y+c.penetration.y-v.positionImpulse.y));for(p=0;p<w;p++)a=o[p],!(!a.isActive||a.isSensor)&&(c=a.collision,v=c.parentA,g=c.parentB,m=c.normal,P=a.separation-a.slop*E,(v.isStatic||g.isStatic)&&(P*=2),v.isStatic||v.isSleeping||(y=M/v.totalContacts,v.positionImpulse.x+=m.x*P*y,v.positionImpulse.y+=m.y*P*y),g.isStatic||g.isSleeping||(y=M/g.totalContacts,g.positionImpulse.x-=m.x*P*y,g.positionImpulse.y-=m.y*P*y))},d.postSolvePosition=function(o){for(var n=d._positionWarming,h=o.length,p=x.translate,a=u.update,c=0;c<h;c++){var v=o[c],g=v.positionImpulse,m=g.x,y=g.y,P=v.velocity;if(v.totalContacts=0,m!==0||y!==0){for(var M=0;M<v.parts.length;M++){var E=v.parts[M];p(E.vertices,g),a(E.bounds,E.vertices,P),E.position.x+=m,E.position.y+=y}v.positionPrev.x+=m,v.positionPrev.y+=y,m*P.x+y*P.y<0?(g.x=0,g.y=0):(g.x*=n,g.y*=n)}}},d.preSolveVelocity=function(o){var n=o.length,h,p;for(h=0;h<n;h++){var a=o[h];if(!(!a.isActive||a.isSensor)){var c=a.activeContacts,v=c.length,g=a.collision,m=g.parentA,y=g.parentB,P=g.normal,M=g.tangent;for(p=0;p<v;p++){var E=c[p],w=E.vertex,R=E.normalImpulse,O=E.tangentImpulse;if(R!==0||O!==0){var A=P.x*R+M.x*O,F=P.y*R+M.y*O;m.isStatic||m.isSleeping||(m.positionPrev.x+=A*m.inverseMass,m.positionPrev.y+=F*m.inverseMass,m.anglePrev+=m.inverseInertia*((w.x-m.position.x)*F-(w.y-m.position.y)*A)),y.isStatic||y.isSleeping||(y.positionPrev.x-=A*y.inverseMass,y.positionPrev.y-=F*y.inverseMass,y.anglePrev-=y.inverseInertia*((w.x-y.position.x)*F-(w.y-y.position.y)*A))}}}}},d.solveVelocity=function(o,n){var h=n/f._baseDelta,p=h*h,a=p*h,c=-d._restingThresh*h,v=d._restingThreshTangent,g=d._frictionNormalMultiplier*h,m=d._frictionMaxStatic,y=o.length,P,M,E,w;for(E=0;E<y;E++){var R=o[E];if(!(!R.isActive||R.isSensor)){var O=R.collision,A=O.parentA,F=O.parentB,L=A.velocity,I=F.velocity,B=O.normal.x,b=O.normal.y,k=O.tangent.x,U=O.tangent.y,Y=R.activeContacts,H=Y.length,z=1/H,V=A.inverseMass+F.inverseMass,D=R.friction*R.frictionStatic*g;for(L.x=A.position.x-A.positionPrev.x,L.y=A.position.y-A.positionPrev.y,I.x=F.position.x-F.positionPrev.x,I.y=F.position.y-F.positionPrev.y,A.angularVelocity=A.angle-A.anglePrev,F.angularVelocity=F.angle-F.anglePrev,w=0;w<H;w++){var G=Y[w],N=G.vertex,X=N.x-A.position.x,W=N.y-A.position.y,$=N.x-F.position.x,K=N.y-F.position.y,j=L.x-W*A.angularVelocity,Z=L.y+X*A.angularVelocity,J=I.x-K*F.angularVelocity,Q=I.y+$*F.angularVelocity,_=j-J,q=Z-Q,et=B*_+b*q,ot=k*_+U*q,ut=R.separation+et,lt=Math.min(ut,1);lt=ut<0?0:lt;var tt=lt*D;ot<-tt||ot>tt?(M=ot>0?ot:-ot,P=R.friction*(ot>0?1:-1)*a,P<-M?P=-M:P>M&&(P=M)):(P=ot,M=m);var at=X*b-W*B,rt=$*b-K*B,gt=z/(V+A.inverseInertia*at*at+F.inverseInertia*rt*rt),mt=(1+R.restitution)*et*gt;if(P*=gt,et<c)G.normalImpulse=0;else{var zt=G.normalImpulse;G.normalImpulse+=mt,G.normalImpulse>0&&(G.normalImpulse=0),mt=G.normalImpulse-zt}if(ot<-v||ot>v)G.tangentImpulse=0;else{var bt=G.tangentImpulse;G.tangentImpulse+=P,G.tangentImpulse<-M&&(G.tangentImpulse=-M),G.tangentImpulse>M&&(G.tangentImpulse=M),P=G.tangentImpulse-bt}var Et=B*mt+k*P,xt=b*mt+U*P;A.isStatic||A.isSleeping||(A.positionPrev.x+=Et*A.inverseMass,A.positionPrev.y+=xt*A.inverseMass,A.anglePrev+=(X*xt-W*Et)*A.inverseInertia),F.isStatic||F.isSleeping||(F.positionPrev.x-=Et*F.inverseMass,F.positionPrev.y-=xt*F.inverseMass,F.anglePrev-=($*xt-K*Et)*F.inverseInertia)}}}}})()},52838:(r,T,i)=>{var d={};r.exports=d;var x=i(39745),f=i(10438),u=i(22806),o=i(84091),n=i(50658),h=i(68758);(function(){d._warming=.4,d._torqueDampen=1,d._minLength=1e-6,d.create=function(p){var a=p;a.bodyA&&!a.pointA&&(a.pointA={x:0,y:0}),a.bodyB&&!a.pointB&&(a.pointB={x:0,y:0});var c=a.bodyA?f.add(a.bodyA.position,a.pointA):a.pointA,v=a.bodyB?f.add(a.bodyB.position,a.pointB):a.pointB,g=f.magnitude(f.sub(c,v));a.length=typeof a.length<"u"?a.length:g,a.id=a.id||h.nextId(),a.label=a.label||"Constraint",a.type="constraint",a.stiffness=a.stiffness||(a.length>0?1:.7),a.damping=a.damping||0,a.angularStiffness=a.angularStiffness||0,a.angleA=a.bodyA?a.bodyA.angle:a.angleA,a.angleB=a.bodyB?a.bodyB.angle:a.angleB,a.plugin={};var m={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return a.length===0&&a.stiffness>.1?(m.type="pin",m.anchors=!1):a.stiffness<.9&&(m.type="spring"),a.render=h.extend(m,a.render),a},d.preSolveAll=function(p){for(var a=0;a<p.length;a+=1){var c=p[a],v=c.constraintImpulse;c.isStatic||v.x===0&&v.y===0&&v.angle===0||(c.position.x+=v.x,c.position.y+=v.y,c.angle+=v.angle)}},d.solveAll=function(p,a){for(var c=h.clamp(a/h._baseDelta,0,1),v=0;v<p.length;v+=1){var g=p[v],m=!g.bodyA||g.bodyA&&g.bodyA.isStatic,y=!g.bodyB||g.bodyB&&g.bodyB.isStatic;(m||y)&&d.solve(p[v],c)}for(v=0;v<p.length;v+=1)g=p[v],m=!g.bodyA||g.bodyA&&g.bodyA.isStatic,y=!g.bodyB||g.bodyB&&g.bodyB.isStatic,!m&&!y&&d.solve(p[v],c)},d.solve=function(p,a){var c=p.bodyA,v=p.bodyB,g=p.pointA,m=p.pointB;if(!(!c&&!v)){c&&!c.isStatic&&(f.rotate(g,c.angle-p.angleA,g),p.angleA=c.angle),v&&!v.isStatic&&(f.rotate(m,v.angle-p.angleB,m),p.angleB=v.angle);var y=g,P=m;if(c&&(y=f.add(c.position,g)),v&&(P=f.add(v.position,m)),!(!y||!P)){var M=f.sub(y,P),E=f.magnitude(M);E<d._minLength&&(E=d._minLength);var w=(E-p.length)/E,R=p.stiffness>=1||p.length===0,O=R?p.stiffness*a:p.stiffness*a*a,A=p.damping*a,F=f.mult(M,w*O),L=(c?c.inverseMass:0)+(v?v.inverseMass:0),I=(c?c.inverseInertia:0)+(v?v.inverseInertia:0),B=L+I,b,k,U,Y,H;if(A>0){var z=f.create();U=f.div(M,E),H=f.sub(v&&f.sub(v.position,v.positionPrev)||z,c&&f.sub(c.position,c.positionPrev)||z),Y=f.dot(U,H)}c&&!c.isStatic&&(k=c.inverseMass/L,c.constraintImpulse.x-=F.x*k,c.constraintImpulse.y-=F.y*k,c.position.x-=F.x*k,c.position.y-=F.y*k,A>0&&(c.positionPrev.x-=A*U.x*Y*k,c.positionPrev.y-=A*U.y*Y*k),b=f.cross(g,F)/B*d._torqueDampen*c.inverseInertia*(1-p.angularStiffness),c.constraintImpulse.angle-=b,c.angle-=b),v&&!v.isStatic&&(k=v.inverseMass/L,v.constraintImpulse.x+=F.x*k,v.constraintImpulse.y+=F.y*k,v.position.x+=F.x*k,v.position.y+=F.y*k,A>0&&(v.positionPrev.x+=A*U.x*Y*k,v.positionPrev.y+=A*U.y*Y*k),b=f.cross(m,F)/B*d._torqueDampen*v.inverseInertia*(1-p.angularStiffness),v.constraintImpulse.angle+=b,v.angle+=b)}}},d.postSolveAll=function(p){for(var a=0;a<p.length;a++){var c=p[a],v=c.constraintImpulse;if(!(c.isStatic||v.x===0&&v.y===0&&v.angle===0)){u.set(c,!1);for(var g=0;g<c.parts.length;g++){var m=c.parts[g];x.translate(m.vertices,v),g>0&&(m.position.x+=v.x,m.position.y+=v.y),v.angle!==0&&(x.rotate(m.vertices,v.angle,c.position),n.rotate(m.axes,v.angle),g>0&&f.rotateAbout(m.position,v.angle,c.position,m.position)),o.update(m.bounds,m.vertices,c.velocity)}v.angle*=d._warming,v.x*=d._warming,v.y*=d._warming}}},d.pointAWorld=function(p){return{x:(p.bodyA?p.bodyA.position.x:0)+(p.pointA?p.pointA.x:0),y:(p.bodyA?p.bodyA.position.y:0)+(p.pointA?p.pointA.y:0)}},d.pointBWorld=function(p){return{x:(p.bodyB?p.bodyB.position.x:0)+(p.pointB?p.pointB.x:0),y:(p.bodyB?p.bodyB.position.y:0)+(p.pointB?p.pointB.y:0)}},d.currentLength=function(p){var a=(p.bodyA?p.bodyA.position.x:0)+(p.pointA?p.pointA.x:0),c=(p.bodyA?p.bodyA.position.y:0)+(p.pointA?p.pointA.y:0),v=(p.bodyB?p.bodyB.position.x:0)+(p.pointB?p.pointB.x:0),g=(p.bodyB?p.bodyB.position.y:0)+(p.pointB?p.pointB.y:0),m=a-v,y=c-g;return Math.sqrt(m*m+y*y)}})()},68758:(r,T,i)=>{var d={};r.exports=d,function(){d._baseDelta=16.666666666666668,d._nextId=0,d._seed=0,d._nowStartTime=+new Date,d._warnedOnce={},d._decomp=null,d.extend=function(f,u){var o,n;typeof u=="boolean"?(o=2,n=u):(o=1,n=!0);for(var h=o;h<arguments.length;h++){var p=arguments[h];if(p)for(var a in p)n&&p[a]&&p[a].constructor===Object&&(!f[a]||f[a].constructor===Object)?(f[a]=f[a]||{},d.extend(f[a],n,p[a])):f[a]=p[a]}return f},d.clone=function(f,u){return d.extend({},u,f)},d.keys=function(f){if(Object.keys)return Object.keys(f);var u=[];for(var o in f)u.push(o);return u},d.values=function(f){var u=[];if(Object.keys){for(var o=Object.keys(f),n=0;n<o.length;n++)u.push(f[o[n]]);return u}for(var h in f)u.push(f[h]);return u},d.get=function(f,u,o,n){u=u.split(".").slice(o,n);for(var h=0;h<u.length;h+=1)f=f[u[h]];return f},d.set=function(f,u,o,n,h){var p=u.split(".").slice(n,h);return d.get(f,u,0,-1)[p[p.length-1]]=o,o},d.shuffle=function(f){for(var u=f.length-1;u>0;u--){var o=Math.floor(d.random()*(u+1)),n=f[u];f[u]=f[o],f[o]=n}return f},d.choose=function(f){return f[Math.floor(d.random()*f.length)]},d.isElement=function(f){return typeof HTMLElement<"u"?f instanceof HTMLElement:!!(f&&f.nodeType&&f.nodeName)},d.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"},d.isFunction=function(f){return typeof f=="function"},d.isPlainObject=function(f){return typeof f=="object"&&f.constructor===Object},d.isString=function(f){return toString.call(f)==="[object String]"},d.clamp=function(f,u,o){return f<u?u:f>o?o:f},d.sign=function(f){return f<0?-1:1},d.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-d._nowStartTime},d.random=function(f,u){return f=typeof f<"u"?f:0,u=typeof u<"u"?u:1,f+x()*(u-f)};var x=function(){return d._seed=(d._seed*9301+49297)%233280,d._seed/233280};d.colorToNumber=function(f){return f=f.replace("#",""),f.length==3&&(f=f.charAt(0)+f.charAt(0)+f.charAt(1)+f.charAt(1)+f.charAt(2)+f.charAt(2)),parseInt(f,16)},d.logLevel=1,d.log=function(){console&&d.logLevel>0&&d.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},d.info=function(){console&&d.logLevel>0&&d.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},d.warn=function(){console&&d.logLevel>0&&d.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},d.warnOnce=function(){var f=Array.prototype.slice.call(arguments).join(" ");d._warnedOnce[f]||(d.warn(f),d._warnedOnce[f]=!0)},d.deprecated=function(f,u,o){f[u]=d.chain(function(){d.warnOnce(" deprecated ",o)},f[u])},d.nextId=function(){return d._nextId++},d.indexOf=function(f,u){if(f.indexOf)return f.indexOf(u);for(var o=0;o<f.length;o++)if(f[o]===u)return o;return-1},d.map=function(f,u){if(f.map)return f.map(u);for(var o=[],n=0;n<f.length;n+=1)o.push(u(f[n]));return o},d.topologicalSort=function(f){var u=[],o=[],n=[];for(var h in f)!o[h]&&!n[h]&&d._topologicalSort(h,o,n,f,u);return u},d._topologicalSort=function(f,u,o,n,h){var p=n[f]||[];o[f]=!0;for(var a=0;a<p.length;a+=1){var c=p[a];o[c]||u[c]||d._topologicalSort(c,u,o,n,h)}o[f]=!1,u[f]=!0,h.push(f)},d.chain=function(){for(var f=[],u=0;u<arguments.length;u+=1){var o=arguments[u];o._chained?f.push.apply(f,o._chained):f.push(o)}var n=function(){for(var h,p=new Array(arguments.length),a=0,c=arguments.length;a<c;a++)p[a]=arguments[a];for(a=0;a<f.length;a+=1){var v=f[a].apply(h,p);typeof v<"u"&&(h=v)}return h};return n._chained=f,n},d.chainPathBefore=function(f,u,o){return d.set(f,u,d.chain(o,d.get(f,u)))},d.chainPathAfter=function(f,u,o){return d.set(f,u,d.chain(d.get(f,u),o))},d.setDecomp=function(f){d._decomp=f},d.getDecomp=function(){var f=d._decomp;try{!f&&typeof window<"u"&&(f=window.decomp),!f&&typeof i.g<"u"&&(f=i.g.decomp)}catch{f=null}return f}}()},45775:(r,T,i)=>{var d={};r.exports=d;var x=i(22806),f=i(44272),u=i(13657),o=i(91327),n=i(39073),h=i(11299),p=i(52838),a=i(68758),c=i(84125);(function(){d.create=function(v){v=v||{};var g={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0}},m=a.extend(g,v);return m.world=v.world||h.create({label:"World"}),m.pairs=v.pairs||o.create(),m.detector=v.detector||u.create(),m.grid={buckets:[]},m.world.gravity=m.gravity,m.broadphase=m.grid,m.metrics={},m},d.update=function(v,g){var m=a.now(),y=v.world,P=v.detector,M=v.pairs,E=v.timing,w=E.timestamp,R;g=typeof g<"u"?g:a._baseDelta,g*=E.timeScale,E.timestamp+=g,E.lastDelta=g;var O={timestamp:E.timestamp,delta:g};n.trigger(v,"beforeUpdate",O);var A=h.allBodies(y),F=h.allConstraints(y);for(y.isModified&&(u.setBodies(P,A),h.setModified(y,!1,!1,!0)),v.enableSleeping&&x.update(A,g),d._bodiesApplyGravity(A,v.gravity),g>0&&d._bodiesUpdate(A,g),n.trigger(v,"beforeSolve",O),p.preSolveAll(A),R=0;R<v.constraintIterations;R++)p.solveAll(F,g);p.postSolveAll(A),P.pairs=v.pairs;var L=u.collisions(P);o.update(M,L,w),v.enableSleeping&&x.afterCollisions(M.list),M.collisionStart.length>0&&n.trigger(v,"collisionStart",{pairs:M.collisionStart,timestamp:E.timestamp,delta:g});var I=a.clamp(20/v.positionIterations,0,1);for(f.preSolvePosition(M.list),R=0;R<v.positionIterations;R++)f.solvePosition(M.list,g,I);for(f.postSolvePosition(A),p.preSolveAll(A),R=0;R<v.constraintIterations;R++)p.solveAll(F,g);for(p.postSolveAll(A),f.preSolveVelocity(M.list),R=0;R<v.velocityIterations;R++)f.solveVelocity(M.list,g);return d._bodiesUpdateVelocities(A),M.collisionActive.length>0&&n.trigger(v,"collisionActive",{pairs:M.collisionActive,timestamp:E.timestamp,delta:g}),M.collisionEnd.length>0&&n.trigger(v,"collisionEnd",{pairs:M.collisionEnd,timestamp:E.timestamp,delta:g}),d._bodiesClearForces(A),n.trigger(v,"afterUpdate",O),v.timing.lastElapsed=a.now()-m,v},d.merge=function(v,g){if(a.extend(v,g),g.world){v.world=g.world,d.clear(v);for(var m=h.allBodies(v.world),y=0;y<m.length;y++){var P=m[y];x.set(P,!1),P.id=a.nextId()}}},d.clear=function(v){o.clear(v.pairs),u.clear(v.detector)},d._bodiesClearForces=function(v){for(var g=v.length,m=0;m<g;m++){var y=v[m];y.force.x=0,y.force.y=0,y.torque=0}},d._bodiesApplyGravity=function(v,g){var m=typeof g.scale<"u"?g.scale:.001,y=v.length;if(!(g.x===0&&g.y===0||m===0))for(var P=0;P<y;P++){var M=v[P];M.ignoreGravity||M.isStatic||M.isSleeping||(M.force.y+=M.mass*g.y*m,M.force.x+=M.mass*g.x*m)}},d._bodiesUpdate=function(v,g){for(var m=v.length,y=0;y<m;y++){var P=v[y];P.isStatic||P.isSleeping||c.update(P,g)}},d._bodiesUpdateVelocities=function(v){for(var g=v.length,m=0;m<g;m++)c.updateVelocities(v[m])}})()},39073:(r,T,i)=>{var d={};r.exports=d;var x=i(68758);(function(){d.on=function(f,u,o){for(var n=u.split(" "),h,p=0;p<n.length;p++)h=n[p],f.events=f.events||{},f.events[h]=f.events[h]||[],f.events[h].push(o);return o},d.off=function(f,u,o){if(!u){f.events={};return}typeof u=="function"&&(o=u,u=x.keys(f.events).join(" "));for(var n=u.split(" "),h=0;h<n.length;h++){var p=f.events[n[h]],a=[];if(o&&p)for(var c=0;c<p.length;c++)p[c]!==o&&a.push(p[c]);f.events[n[h]]=a}},d.trigger=function(f,u,o){var n,h,p,a,c=f.events;if(c&&x.keys(c).length>0){o||(o={}),n=u.split(" ");for(var v=0;v<n.length;v++)if(h=n[v],p=c[h],p){a=x.clone(o,!1),a.name=h,a.source=f;for(var g=0;g<p.length;g++)p[g].apply(f,[a])}}}})()},16929:(r,T,i)=>{var d={};r.exports=d;var x=i(84474),f=i(68758);(function(){d.name="matter-js",d.version="0.19.0",d.uses=[],d.used=[],d.use=function(){x.use(d,Array.prototype.slice.call(arguments))},d.before=function(u,o){return u=u.replace(/^Matter./,""),f.chainPathBefore(d,u,o)},d.after=function(u,o){return u=u.replace(/^Matter./,""),f.chainPathAfter(d,u,o)}})()},84474:(r,T,i)=>{var d={};r.exports=d;var x=i(68758);(function(){d._registry={},d.register=function(f){if(d.isPlugin(f)||x.warn("Plugin.register:",d.toString(f),"does not implement all required fields."),f.name in d._registry){var u=d._registry[f.name],o=d.versionParse(f.version).number,n=d.versionParse(u.version).number;o>n?(x.warn("Plugin.register:",d.toString(u),"was upgraded to",d.toString(f)),d._registry[f.name]=f):o<n?x.warn("Plugin.register:",d.toString(u),"can not be downgraded to",d.toString(f)):f!==u&&x.warn("Plugin.register:",d.toString(f),"is already registered to different plugin object")}else d._registry[f.name]=f;return f},d.resolve=function(f){return d._registry[d.dependencyParse(f).name]},d.toString=function(f){return typeof f=="string"?f:(f.name||"anonymous")+"@"+(f.version||f.range||"0.0.0")},d.isPlugin=function(f){return f&&f.name&&f.version&&f.install},d.isUsed=function(f,u){return f.used.indexOf(u)>-1},d.isFor=function(f,u){var o=f.for&&d.dependencyParse(f.for);return!f.for||u.name===o.name&&d.versionSatisfies(u.version,o.range)},d.use=function(f,u){if(f.uses=(f.uses||[]).concat(u||[]),f.uses.length===0){x.warn("Plugin.use:",d.toString(f),"does not specify any dependencies to install.");return}for(var o=d.dependencies(f),n=x.topologicalSort(o),h=[],p=0;p<n.length;p+=1)if(n[p]!==f.name){var a=d.resolve(n[p]);if(!a){h.push(" "+n[p]);continue}d.isUsed(f,a.name)||(d.isFor(a,f)||(x.warn("Plugin.use:",d.toString(a),"is for",a.for,"but installed on",d.toString(f)+"."),a._warned=!0),a.install?a.install(f):(x.warn("Plugin.use:",d.toString(a),"does not specify an install function."),a._warned=!0),a._warned?(h.push(" "+d.toString(a)),delete a._warned):h.push(" "+d.toString(a)),f.used.push(a.name))}h.length>0&&!a.silent&&x.info(h.join("  "))},d.dependencies=function(f,u){var o=d.dependencyParse(f),n=o.name;if(u=u||{},!(n in u)){f=d.resolve(f)||f,u[n]=x.map(f.uses||[],function(p){d.isPlugin(p)&&d.register(p);var a=d.dependencyParse(p),c=d.resolve(p);return c&&!d.versionSatisfies(c.version,a.range)?(x.warn("Plugin.dependencies:",d.toString(c),"does not satisfy",d.toString(a),"used by",d.toString(o)+"."),c._warned=!0,f._warned=!0):c||(x.warn("Plugin.dependencies:",d.toString(p),"used by",d.toString(o),"could not be resolved."),f._warned=!0),a.name});for(var h=0;h<u[n].length;h+=1)d.dependencies(u[n][h],u);return u}},d.dependencyParse=function(f){if(x.isString(f)){var u=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return u.test(f)||x.warn("Plugin.dependencyParse:",f,"is not a valid dependency string."),{name:f.split("@")[0],range:f.split("@")[1]||"*"}}return{name:f.name,range:f.range||f.version}},d.versionParse=function(f){var u=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;u.test(f)||x.warn("Plugin.versionParse:",f,"is not a valid version or range.");var o=u.exec(f),n=Number(o[4]),h=Number(o[5]),p=Number(o[6]);return{isRange:!!(o[1]||o[2]),version:o[3],range:f,operator:o[1]||o[2]||"",major:n,minor:h,patch:p,parts:[n,h,p],prerelease:o[7],number:n*1e8+h*1e4+p}},d.versionSatisfies=function(f,u){u=u||"*";var o=d.versionParse(u),n=d.versionParse(f);if(o.isRange){if(o.operator==="*"||f==="*")return!0;if(o.operator===">")return n.number>o.number;if(o.operator===">=")return n.number>=o.number;if(o.operator==="~")return n.major===o.major&&n.minor===o.minor&&n.patch>=o.patch;if(o.operator==="^")return o.major>0?n.major===o.major&&n.number>=o.number:o.minor>0?n.minor===o.minor&&n.patch>=o.patch:n.patch===o.patch}return f===u||f==="*"}})()},22806:(r,T,i)=>{var d={};r.exports=d;var x=i(84125),f=i(39073),u=i(68758);(function(){d._motionWakeThreshold=.18,d._motionSleepThreshold=.08,d._minBias=.9,d.update=function(o,n){for(var h=n/u._baseDelta,p=d._motionSleepThreshold,a=0;a<o.length;a++){var c=o[a],v=x.getSpeed(c),g=x.getAngularSpeed(c),m=v*v+g*g;if(c.force.x!==0||c.force.y!==0){d.set(c,!1);continue}var y=Math.min(c.motion,m),P=Math.max(c.motion,m);c.motion=d._minBias*y+(1-d._minBias)*P,c.sleepThreshold>0&&c.motion<p?(c.sleepCounter+=1,c.sleepCounter>=c.sleepThreshold/h&&d.set(c,!0)):c.sleepCounter>0&&(c.sleepCounter-=1)}},d.afterCollisions=function(o){for(var n=d._motionSleepThreshold,h=0;h<o.length;h++){var p=o[h];if(p.isActive){var a=p.collision,c=a.bodyA.parent,v=a.bodyB.parent;if(!(c.isSleeping&&v.isSleeping||c.isStatic||v.isStatic)&&(c.isSleeping||v.isSleeping)){var g=c.isSleeping&&!c.isStatic?c:v,m=g===c?v:c;!g.isStatic&&m.motion>n&&d.set(g,!1)}}}},d.set=function(o,n){var h=o.isSleeping;n?(o.isSleeping=!0,o.sleepCounter=o.sleepThreshold,o.positionImpulse.x=0,o.positionImpulse.y=0,o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.anglePrev=o.angle,o.speed=0,o.angularSpeed=0,o.motion=0,h||f.trigger(o,"sleepStart")):(o.isSleeping=!1,o.sleepCounter=0,h&&f.trigger(o,"sleepEnd"))}})()},68516:(r,T,i)=>{var d={};r.exports=d;var x=i(39745),f=i(68758),u=i(84125),o=i(84091),n=i(10438);(function(){d.rectangle=function(h,p,a,c,v){v=v||{};var g={label:"Rectangle Body",position:{x:h,y:p},vertices:x.fromPath("L 0 0 L "+a+" 0 L "+a+" "+c+" L 0 "+c)};if(v.chamfer){var m=v.chamfer;g.vertices=x.chamfer(g.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete v.chamfer}return u.create(f.extend({},g,v))},d.trapezoid=function(h,p,a,c,v,g){g=g||{},v*=.5;var m=(1-v*2)*a,y=a*v,P=y+m,M=P+y,E;v<.5?E="L 0 0 L "+y+" "+-c+" L "+P+" "+-c+" L "+M+" 0":E="L 0 0 L "+P+" "+-c+" L "+M+" 0";var w={label:"Trapezoid Body",position:{x:h,y:p},vertices:x.fromPath(E)};if(g.chamfer){var R=g.chamfer;w.vertices=x.chamfer(w.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete g.chamfer}return u.create(f.extend({},w,g))},d.circle=function(h,p,a,c,v){c=c||{};var g={label:"Circle Body",circleRadius:a};v=v||25;var m=Math.ceil(Math.max(10,Math.min(v,a)));return m%2===1&&(m+=1),d.polygon(h,p,m,a,f.extend({},g,c))},d.polygon=function(h,p,a,c,v){if(v=v||{},a<3)return d.circle(h,p,c,v);for(var g=2*Math.PI/a,m="",y=g*.5,P=0;P<a;P+=1){var M=y+P*g,E=Math.cos(M)*c,w=Math.sin(M)*c;m+="L "+E.toFixed(3)+" "+w.toFixed(3)+" "}var R={label:"Polygon Body",position:{x:h,y:p},vertices:x.fromPath(m)};if(v.chamfer){var O=v.chamfer;R.vertices=x.chamfer(R.vertices,O.radius,O.quality,O.qualityMin,O.qualityMax),delete v.chamfer}return u.create(f.extend({},R,v))},d.fromVertices=function(h,p,a,c,v,g,m,y){var P=f.getDecomp(),M,E,w,R,O,A,F,L,I,B,b;for(M=!!(P&&P.quickDecomp),c=c||{},w=[],v=typeof v<"u"?v:!1,g=typeof g<"u"?g:.01,m=typeof m<"u"?m:10,y=typeof y<"u"?y:.01,f.isArray(a[0])||(a=[a]),B=0;B<a.length;B+=1)if(A=a[B],R=x.isConvex(A),O=!R,O&&!M&&f.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),R||!M)R?A=x.clockwiseSort(A):A=x.hull(A),w.push({position:{x:h,y:p},vertices:A});else{var k=A.map(function($){return[$.x,$.y]});P.makeCCW(k),g!==!1&&P.removeCollinearPoints(k,g),y!==!1&&P.removeDuplicatePoints&&P.removeDuplicatePoints(k,y);var U=P.quickDecomp(k);for(F=0;F<U.length;F++){var Y=U[F],H=Y.map(function($){return{x:$[0],y:$[1]}});m>0&&x.area(H)<m||w.push({position:x.centre(H),vertices:H})}}for(F=0;F<w.length;F++)w[F]=u.create(f.extend(w[F],c));if(v){var z=5;for(F=0;F<w.length;F++){var V=w[F];for(L=F+1;L<w.length;L++){var D=w[L];if(o.overlaps(V.bounds,D.bounds)){var G=V.vertices,N=D.vertices;for(I=0;I<V.vertices.length;I++)for(b=0;b<D.vertices.length;b++){var X=n.magnitudeSquared(n.sub(G[(I+1)%G.length],N[b])),W=n.magnitudeSquared(n.sub(G[I],N[(b+1)%N.length]));X<z&&W<z&&(G[I].isInternal=!0,N[b].isInternal=!0)}}}}}return w.length>1?(E=u.create(f.extend({parts:w.slice(0)},c)),u.setPosition(E,{x:h,y:p}),E):w[0]},d.flagCoincidentParts=function(h,p){p===void 0&&(p=5);for(var a=0;a<h.length;a++)for(var c=h[a],v=a+1;v<h.length;v++){var g=h[v];if(o.overlaps(c.bounds,g.bounds))for(var m=c.vertices,y=g.vertices,P=0;P<c.vertices.length;P++)for(var M=0;M<g.vertices.length;M++){var E=n.magnitudeSquared(n.sub(m[(P+1)%m.length],y[M])),w=n.magnitudeSquared(n.sub(m[P],y[(M+1)%y.length]));E<p&&w<p&&(m[P].isInternal=!0,y[M].isInternal=!0)}}return h}})()},56643:(r,T,i)=>{var d={};r.exports=d;var x=i(11299),f=i(52838),u=i(68758),o=i(84125),n=i(68516);(function(){d.stack=function(h,p,a,c,v,g,m){for(var y=x.create({label:"Stack"}),P=h,M=p,E,w=0,R=0;R<c;R++){for(var O=0,A=0;A<a;A++){var F=m(P,M,A,R,E,w);if(F){var L=F.bounds.max.y-F.bounds.min.y,I=F.bounds.max.x-F.bounds.min.x;L>O&&(O=L),o.translate(F,{x:I*.5,y:L*.5}),P=F.bounds.max.x+v,x.addBody(y,F),E=F,w+=1}else P+=v}M+=O+g,P=h}return y},d.chain=function(h,p,a,c,v,g){for(var m=h.bodies,y=1;y<m.length;y++){var P=m[y-1],M=m[y],E=P.bounds.max.y-P.bounds.min.y,w=P.bounds.max.x-P.bounds.min.x,R=M.bounds.max.y-M.bounds.min.y,O=M.bounds.max.x-M.bounds.min.x,A={bodyA:P,pointA:{x:w*p,y:E*a},bodyB:M,pointB:{x:O*c,y:R*v}},F=u.extend(A,g);x.addConstraint(h,f.create(F))}return h.label+=" Chain",h},d.mesh=function(h,p,a,c,v){var g=h.bodies,m,y,P,M,E;for(m=0;m<a;m++){for(y=1;y<p;y++)P=g[y-1+m*p],M=g[y+m*p],x.addConstraint(h,f.create(u.extend({bodyA:P,bodyB:M},v)));if(m>0)for(y=0;y<p;y++)P=g[y+(m-1)*p],M=g[y+m*p],x.addConstraint(h,f.create(u.extend({bodyA:P,bodyB:M},v))),c&&y>0&&(E=g[y-1+(m-1)*p],x.addConstraint(h,f.create(u.extend({bodyA:E,bodyB:M},v)))),c&&y<p-1&&(E=g[y+1+(m-1)*p],x.addConstraint(h,f.create(u.extend({bodyA:E,bodyB:M},v))))}return h.label+=" Mesh",h},d.pyramid=function(h,p,a,c,v,g,m){return d.stack(h,p,a,c,v,g,function(y,P,M,E,w,R){var O=Math.min(c,Math.ceil(a/2)),A=w?w.bounds.max.x-w.bounds.min.x:0;if(!(E>O)){E=O-E;var F=E,L=a-1-E;if(!(M<F||M>L)){R===1&&o.translate(w,{x:(M+(a%2===1?1:-1))*A,y:0});var I=w?M*A:0;return m(h+I+M*v,P,M,E,w,R)}}})},d.newtonsCradle=function(h,p,a,c,v){for(var g=x.create({label:"Newtons Cradle"}),m=0;m<a;m++){var y=1.9,P=n.circle(h+m*(c*y),p+v,c,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),M=f.create({pointA:{x:h+m*(c*y),y:p},bodyB:P});x.addBody(g,P),x.addConstraint(g,M)}return g},d.car=function(h,p,a,c,v){var g=o.nextGroup(!0),m=20,y=-a*.5+m,P=a*.5-m,M=0,E=x.create({label:"Car"}),w=n.rectangle(h,p,a,c,{collisionFilter:{group:g},chamfer:{radius:c*.5},density:2e-4}),R=n.circle(h+y,p+M,v,{collisionFilter:{group:g},friction:.8}),O=n.circle(h+P,p+M,v,{collisionFilter:{group:g},friction:.8}),A=f.create({bodyB:w,pointB:{x:y,y:M},bodyA:R,stiffness:1,length:0}),F=f.create({bodyB:w,pointB:{x:P,y:M},bodyA:O,stiffness:1,length:0});return x.addBody(E,w),x.addBody(E,R),x.addBody(E,O),x.addConstraint(E,A),x.addConstraint(E,F),E},d.softBody=function(h,p,a,c,v,g,m,y,P,M){P=u.extend({inertia:1/0},P),M=u.extend({stiffness:.2,render:{type:"line",anchors:!1}},M);var E=d.stack(h,p,a,c,v,g,function(w,R){return n.circle(w,R,y,P)});return d.mesh(E,a,c,m,M),E.label="Soft Body",E}})()},50658:(r,T,i)=>{var d={};r.exports=d;var x=i(10438),f=i(68758);(function(){d.fromVertices=function(u){for(var o={},n=0;n<u.length;n++){var h=(n+1)%u.length,p=x.normalise({x:u[h].y-u[n].y,y:u[n].x-u[h].x}),a=p.y===0?1/0:p.x/p.y;a=a.toFixed(3).toString(),o[a]=p}return f.values(o)},d.rotate=function(u,o){if(o!==0)for(var n=Math.cos(o),h=Math.sin(o),p=0;p<u.length;p++){var a=u[p],c;c=a.x*n-a.y*h,a.y=a.x*h+a.y*n,a.x=c}}})()},84091:r=>{var T={};r.exports=T,function(){T.create=function(i){var d={min:{x:0,y:0},max:{x:0,y:0}};return i&&T.update(d,i),d},T.update=function(i,d,x){i.min.x=1/0,i.max.x=-1/0,i.min.y=1/0,i.max.y=-1/0;for(var f=0;f<d.length;f++){var u=d[f];u.x>i.max.x&&(i.max.x=u.x),u.x<i.min.x&&(i.min.x=u.x),u.y>i.max.y&&(i.max.y=u.y),u.y<i.min.y&&(i.min.y=u.y)}x&&(x.x>0?i.max.x+=x.x:i.min.x+=x.x,x.y>0?i.max.y+=x.y:i.min.y+=x.y)},T.contains=function(i,d){return d.x>=i.min.x&&d.x<=i.max.x&&d.y>=i.min.y&&d.y<=i.max.y},T.overlaps=function(i,d){return i.min.x<=d.max.x&&i.max.x>=d.min.x&&i.max.y>=d.min.y&&i.min.y<=d.max.y},T.translate=function(i,d){i.min.x+=d.x,i.max.x+=d.x,i.min.y+=d.y,i.max.y+=d.y},T.shift=function(i,d){var x=i.max.x-i.min.x,f=i.max.y-i.min.y;i.min.x=d.x,i.max.x=d.x+x,i.min.y=d.y,i.max.y=d.y+f}}()},92765:(r,T,i)=>{var d={};r.exports=d,i(84091);var x=i(68758);(function(){d.pathToVertices=function(f,u){typeof window<"u"&&!("SVGPathSeg"in window)&&x.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var o,n,h,p,a,c,v,g,m,y,P=[],M,E,w=0,R=0,O=0;u=u||15;var A=function(L,I,B){var b=B%2===1&&B>1;if(!m||L!=m.x||I!=m.y){m&&b?(M=m.x,E=m.y):(M=0,E=0);var k={x:M+L,y:E+I};(b||!m)&&(m=k),P.push(k),R=M+L,O=E+I}},F=function(L){var I=L.pathSegTypeAsLetter.toUpperCase();if(I!=="Z"){switch(I){case"M":case"L":case"T":case"C":case"S":case"Q":R=L.x,O=L.y;break;case"H":R=L.x;break;case"V":O=L.y;break}A(R,O,L.pathSegType)}};for(d._svgPathToAbsolute(f),h=f.getTotalLength(),c=[],o=0;o<f.pathSegList.numberOfItems;o+=1)c.push(f.pathSegList.getItem(o));for(v=c.concat();w<h;){if(y=f.getPathSegAtLength(w),a=c[y],a!=g){for(;v.length&&v[0]!=a;)F(v.shift());g=a}switch(a.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":p=f.getPointAtLength(w),A(p.x,p.y,0);break}w+=u}for(o=0,n=v.length;o<n;++o)F(v[o]);return P},d._svgPathToAbsolute=function(f){for(var u,o,n,h,p,a,c=f.pathSegList,v=0,g=0,m=c.numberOfItems,y=0;y<m;++y){var P=c.getItem(y),M=P.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(M))"x"in P&&(v=P.x),"y"in P&&(g=P.y);else switch("x1"in P&&(n=v+P.x1),"x2"in P&&(p=v+P.x2),"y1"in P&&(h=g+P.y1),"y2"in P&&(a=g+P.y2),"x"in P&&(v+=P.x),"y"in P&&(g+=P.y),M){case"m":c.replaceItem(f.createSVGPathSegMovetoAbs(v,g),y);break;case"l":c.replaceItem(f.createSVGPathSegLinetoAbs(v,g),y);break;case"h":c.replaceItem(f.createSVGPathSegLinetoHorizontalAbs(v),y);break;case"v":c.replaceItem(f.createSVGPathSegLinetoVerticalAbs(g),y);break;case"c":c.replaceItem(f.createSVGPathSegCurvetoCubicAbs(v,g,n,h,p,a),y);break;case"s":c.replaceItem(f.createSVGPathSegCurvetoCubicSmoothAbs(v,g,p,a),y);break;case"q":c.replaceItem(f.createSVGPathSegCurvetoQuadraticAbs(v,g,n,h),y);break;case"t":c.replaceItem(f.createSVGPathSegCurvetoQuadraticSmoothAbs(v,g),y);break;case"a":c.replaceItem(f.createSVGPathSegArcAbs(v,g,P.r1,P.r2,P.angle,P.largeArcFlag,P.sweepFlag),y);break;case"z":case"Z":v=u,g=o;break}(M=="M"||M=="m")&&(u=v,o=g)}}})()},10438:r=>{var T={};r.exports=T,function(){T.create=function(i,d){return{x:i||0,y:d||0}},T.clone=function(i){return{x:i.x,y:i.y}},T.magnitude=function(i){return Math.sqrt(i.x*i.x+i.y*i.y)},T.magnitudeSquared=function(i){return i.x*i.x+i.y*i.y},T.rotate=function(i,d,x){var f=Math.cos(d),u=Math.sin(d);x||(x={});var o=i.x*f-i.y*u;return x.y=i.x*u+i.y*f,x.x=o,x},T.rotateAbout=function(i,d,x,f){var u=Math.cos(d),o=Math.sin(d);f||(f={});var n=x.x+((i.x-x.x)*u-(i.y-x.y)*o);return f.y=x.y+((i.x-x.x)*o+(i.y-x.y)*u),f.x=n,f},T.normalise=function(i){var d=T.magnitude(i);return d===0?{x:0,y:0}:{x:i.x/d,y:i.y/d}},T.dot=function(i,d){return i.x*d.x+i.y*d.y},T.cross=function(i,d){return i.x*d.y-i.y*d.x},T.cross3=function(i,d,x){return(d.x-i.x)*(x.y-i.y)-(d.y-i.y)*(x.x-i.x)},T.add=function(i,d,x){return x||(x={}),x.x=i.x+d.x,x.y=i.y+d.y,x},T.sub=function(i,d,x){return x||(x={}),x.x=i.x-d.x,x.y=i.y-d.y,x},T.mult=function(i,d){return{x:i.x*d,y:i.y*d}},T.div=function(i,d){return{x:i.x/d,y:i.y/d}},T.perp=function(i,d){return d=d===!0?-1:1,{x:d*-i.y,y:d*i.x}},T.neg=function(i){return{x:-i.x,y:-i.y}},T.angle=function(i,d){return Math.atan2(d.y-i.y,d.x-i.x)},T._temp=[T.create(),T.create(),T.create(),T.create(),T.create(),T.create()]}()},39745:(r,T,i)=>{var d={};r.exports=d;var x=i(10438),f=i(68758);(function(){d.create=function(u,o){for(var n=[],h=0;h<u.length;h++){var p=u[h],a={x:p.x,y:p.y,index:h,body:o,isInternal:!1};n.push(a)}return n},d.fromPath=function(u,o){var n=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,h=[];return u.replace(n,function(p,a,c){h.push({x:parseFloat(a),y:parseFloat(c)})}),d.create(h,o)},d.centre=function(u){for(var o=d.area(u,!0),n={x:0,y:0},h,p,a,c=0;c<u.length;c++)a=(c+1)%u.length,h=x.cross(u[c],u[a]),p=x.mult(x.add(u[c],u[a]),h),n=x.add(n,p);return x.div(n,6*o)},d.mean=function(u){for(var o={x:0,y:0},n=0;n<u.length;n++)o.x+=u[n].x,o.y+=u[n].y;return x.div(o,u.length)},d.area=function(u,o){for(var n=0,h=u.length-1,p=0;p<u.length;p++)n+=(u[h].x-u[p].x)*(u[h].y+u[p].y),h=p;return o?n/2:Math.abs(n)/2},d.inertia=function(u,o){for(var n=0,h=0,p=u,a,c,v=0;v<p.length;v++)c=(v+1)%p.length,a=Math.abs(x.cross(p[c],p[v])),n+=a*(x.dot(p[c],p[c])+x.dot(p[c],p[v])+x.dot(p[v],p[v])),h+=a;return o/6*(n/h)},d.translate=function(u,o,n){n=typeof n<"u"?n:1;var h=u.length,p=o.x*n,a=o.y*n,c;for(c=0;c<h;c++)u[c].x+=p,u[c].y+=a;return u},d.rotate=function(u,o,n){if(o!==0){var h=Math.cos(o),p=Math.sin(o),a=n.x,c=n.y,v=u.length,g,m,y,P;for(P=0;P<v;P++)g=u[P],m=g.x-a,y=g.y-c,g.x=a+(m*h-y*p),g.y=c+(m*p+y*h);return u}},d.contains=function(u,o){for(var n=o.x,h=o.y,p=u.length,a=u[p-1],c,v=0;v<p;v++){if(c=u[v],(n-a.x)*(c.y-a.y)+(h-a.y)*(a.x-c.x)>0)return!1;a=c}return!0},d.scale=function(u,o,n,h){if(o===1&&n===1)return u;h=h||d.centre(u);for(var p,a,c=0;c<u.length;c++)p=u[c],a=x.sub(p,h),u[c].x=h.x+a.x*o,u[c].y=h.y+a.y*n;return u},d.chamfer=function(u,o,n,h,p){typeof o=="number"?o=[o]:o=o||[8],n=typeof n<"u"?n:-1,h=h||2,p=p||14;for(var a=[],c=0;c<u.length;c++){var v=u[c-1>=0?c-1:u.length-1],g=u[c],m=u[(c+1)%u.length],y=o[c<o.length?c:o.length-1];if(y===0){a.push(g);continue}var P=x.normalise({x:g.y-v.y,y:v.x-g.x}),M=x.normalise({x:m.y-g.y,y:g.x-m.x}),E=Math.sqrt(2*Math.pow(y,2)),w=x.mult(f.clone(P),y),R=x.normalise(x.mult(x.add(P,M),.5)),O=x.sub(g,x.mult(R,E)),A=n;n===-1&&(A=Math.pow(y,.32)*1.75),A=f.clamp(A,h,p),A%2===1&&(A+=1);for(var F=Math.acos(x.dot(P,M)),L=F/A,I=0;I<A;I++)a.push(x.add(x.rotate(w,L*I),O))}return a},d.clockwiseSort=function(u){var o=d.mean(u);return u.sort(function(n,h){return x.angle(o,n)-x.angle(o,h)}),u},d.isConvex=function(u){var o=0,n=u.length,h,p,a,c;if(n<3)return null;for(h=0;h<n;h++)if(p=(h+1)%n,a=(h+2)%n,c=(u[p].x-u[h].x)*(u[a].y-u[p].y),c-=(u[p].y-u[h].y)*(u[a].x-u[p].x),c<0?o|=1:c>0&&(o|=2),o===3)return!1;return o!==0?!0:null},d.hull=function(u){var o=[],n=[],h,p;for(u=u.slice(0),u.sort(function(a,c){var v=a.x-c.x;return v!==0?v:a.y-c.y}),p=0;p<u.length;p+=1){for(h=u[p];n.length>=2&&x.cross3(n[n.length-2],n[n.length-1],h)<=0;)n.pop();n.push(h)}for(p=u.length-1;p>=0;p-=1){for(h=u[p];o.length>=2&&x.cross3(o[o.length-2],o[o.length-1],h)<=0;)o.pop();o.push(h)}return o.pop(),n.pop(),o.concat(n)}})()},1675:(r,T,i)=>{var d=i(18171),x={name:"matter-attractors",version:"0.1.7",for:"matter-js@^0.19.0",silent:!0,install:function(f){f.after("Body.create",function(){x.Body.init(this)}),f.before("Engine.update",function(u){x.Engine.update(u)})},Body:{init:function(f){f.plugin.attractors=f.plugin.attractors||[]}},Engine:{update:function(f){for(var u=d.Composite.allBodies(f.world),o=0;o<u.length;o++){var n=u[o],h=n.plugin.attractors;if(h&&h.length>0)for(var p=0;p<u.length;p++){var a=u[p];if(o!==p)for(var c=0;c<h.length;c++){var v=h[c],g=v;d.Common.isFunction(v)&&(g=v(n,a)),g&&d.Body.applyForce(a,a.position,g)}}}}},Attractors:{gravityConstant:.001,gravity:function(f,u){var o=d.Vector.sub(u.position,f.position),n=d.Vector.magnitudeSquared(o)||1e-4,h=d.Vector.normalise(o),p=-x.Attractors.gravityConstant*(f.mass*u.mass/n),a=d.Vector.mult(h,p);d.Body.applyForce(f,f.position,d.Vector.neg(a)),d.Body.applyForce(u,u.position,a)}}};r.exports=x},80391:r=>{/**
 * @author       @dxu https://github.com/dxu/matter-collision-events
 * @author       Richard Davey <rich@photonstorm.com>
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={name:"matter-collision-events",version:"0.1.6",for:"matter-js@^0.19.0",silent:!0,install:function(i){i.after("Engine.create",function(){i.Events.on(this,"collisionStart",function(d){d.pairs.map(function(x){var f=x.bodyA,u=x.bodyB;f.gameObject&&f.gameObject.emit("collide",f,u,x),u.gameObject&&u.gameObject.emit("collide",u,f,x),i.Events.trigger(f,"onCollide",{pair:x}),i.Events.trigger(u,"onCollide",{pair:x}),f.onCollideCallback&&f.onCollideCallback(x),u.onCollideCallback&&u.onCollideCallback(x),f.onCollideWith[u.id]&&f.onCollideWith[u.id](u,x),u.onCollideWith[f.id]&&u.onCollideWith[f.id](f,x)})}),i.Events.on(this,"collisionActive",function(d){d.pairs.map(function(x){var f=x.bodyA,u=x.bodyB;f.gameObject&&f.gameObject.emit("collideActive",f,u,x),u.gameObject&&u.gameObject.emit("collideActive",u,f,x),i.Events.trigger(f,"onCollideActive",{pair:x}),i.Events.trigger(u,"onCollideActive",{pair:x}),f.onCollideActiveCallback&&f.onCollideActiveCallback(x),u.onCollideActiveCallback&&u.onCollideActiveCallback(x)})}),i.Events.on(this,"collisionEnd",function(d){d.pairs.map(function(x){var f=x.bodyA,u=x.bodyB;f.gameObject&&f.gameObject.emit("collideEnd",f,u,x),u.gameObject&&u.gameObject.emit("collideEnd",u,f,x),i.Events.trigger(f,"onCollideEnd",{pair:x}),i.Events.trigger(u,"onCollideEnd",{pair:x}),f.onCollideEndCallback&&f.onCollideEndCallback(x),u.onCollideEndCallback&&u.onCollideEndCallback(x)})})})}};r.exports=T},44097:(r,T,i)=>{var d=i(18171),x={name:"matter-wrap",version:"0.1.4",for:"matter-js@^0.19.0",silent:!0,install:function(f){f.after("Engine.update",function(){x.Engine.update(this)})},Engine:{update:function(f){for(var u=f.world,o=d.Composite.allBodies(u),n=d.Composite.allComposites(u),h=0;h<o.length;h+=1){var p=o[h];p.plugin.wrap&&x.Body.wrap(p,p.plugin.wrap)}for(h=0;h<n.length;h+=1){var a=n[h];a.plugin.wrap&&x.Composite.wrap(a,a.plugin.wrap)}}},Bounds:{wrap:function(f,u){var o=null,n=null;if(typeof u.min.x<"u"&&typeof u.max.x<"u"&&(f.min.x>u.max.x?o=u.min.x-f.max.x:f.max.x<u.min.x&&(o=u.max.x-f.min.x)),typeof u.min.y<"u"&&typeof u.max.y<"u"&&(f.min.y>u.max.y?n=u.min.y-f.max.y:f.max.y<u.min.y&&(n=u.max.y-f.min.y)),o!==null||n!==null)return{x:o||0,y:n||0}}},Body:{wrap:function(f,u){var o=x.Bounds.wrap(f.bounds,u);return o&&d.Body.translate(f,o),o}},Composite:{bounds:function(f){for(var u=d.Composite.allBodies(f),o=[],n=0;n<u.length;n+=1){var h=u[n];o.push(h.bounds.min,h.bounds.max)}return d.Bounds.create(o)},wrap:function(f,u){var o=x.Bounds.wrap(x.Composite.bounds(f),u);return o&&d.Composite.translate(f,o),o}}};r.exports=x},81084:r=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={decomp:F,quickDecomp:b,isSimple:I,removeCollinearPoints:k,removeDuplicatePoints:U,makeCCW:m};function T(z,V,D){D=D||0;var G=[0,0],N,X,W,$,K,j,Z;return N=z[1][1]-z[0][1],X=z[0][0]-z[1][0],W=N*z[0][0]+X*z[0][1],$=V[1][1]-V[0][1],K=V[0][0]-V[1][0],j=$*V[0][0]+K*V[0][1],Z=N*K-$*X,Y(Z,0,D)||(G[0]=(K*W-X*j)/Z,G[1]=(N*j-$*W)/Z),G}function i(z,V,D,G){var N=V[0]-z[0],X=V[1]-z[1],W=G[0]-D[0],$=G[1]-D[1];if(W*X-$*N===0)return!1;var K=(N*(D[1]-z[1])+X*(z[0]-D[0]))/(W*X-$*N),j=(W*(z[1]-D[1])+$*(D[0]-z[0]))/($*N-W*X);return K>=0&&K<=1&&j>=0&&j<=1}function d(z,V,D){return(V[0]-z[0])*(D[1]-z[1])-(D[0]-z[0])*(V[1]-z[1])}function x(z,V,D){return d(z,V,D)>0}function f(z,V,D){return d(z,V,D)>=0}function u(z,V,D){return d(z,V,D)<0}function o(z,V,D){return d(z,V,D)<=0}var n=[],h=[];function p(z,V,D,G){if(G){var N=n,X=h;N[0]=V[0]-z[0],N[1]=V[1]-z[1],X[0]=D[0]-V[0],X[1]=D[1]-V[1];var W=N[0]*X[0]+N[1]*X[1],$=Math.sqrt(N[0]*N[0]+N[1]*N[1]),K=Math.sqrt(X[0]*X[0]+X[1]*X[1]),j=Math.acos(W/($*K));return j<G}else return d(z,V,D)===0}function a(z,V){var D=V[0]-z[0],G=V[1]-z[1];return D*D+G*G}function c(z,V){var D=z.length;return z[V<0?V%D+D:V%D]}function v(z){z.length=0}function g(z,V,D,G){for(var N=D;N<G;N++)z.push(V[N])}function m(z){for(var V=0,D=z,G=1;G<z.length;++G)(D[G][1]<D[V][1]||D[G][1]===D[V][1]&&D[G][0]>D[V][0])&&(V=G);return x(c(z,V-1),c(z,V),c(z,V+1))?!1:(y(z),!0)}function y(z){for(var V=[],D=z.length,G=0;G!==D;G++)V.push(z.pop());for(var G=0;G!==D;G++)z[G]=V[G]}function P(z,V){return u(c(z,V-1),c(z,V),c(z,V+1))}var M=[],E=[];function w(z,V,D){var G,N,X=M,W=E;if(f(c(z,V+1),c(z,V),c(z,D))&&o(c(z,V-1),c(z,V),c(z,D)))return!1;N=a(c(z,V),c(z,D));for(var $=0;$!==z.length;++$)if(!(($+1)%z.length===V||$===V)&&f(c(z,V),c(z,D),c(z,$+1))&&o(c(z,V),c(z,D),c(z,$))&&(X[0]=c(z,V),X[1]=c(z,D),W[0]=c(z,$),W[1]=c(z,$+1),G=T(X,W),a(c(z,V),G)<N))return!1;return!0}function R(z,V,D){for(var G=0;G!==z.length;++G)if(!(G===V||G===D||(G+1)%z.length===V||(G+1)%z.length===D)&&i(c(z,V),c(z,D),c(z,G),c(z,G+1)))return!1;return!0}function O(z,V,D,G){var N=G||[];if(v(N),V<D)for(var X=V;X<=D;X++)N.push(z[X]);else{for(var X=0;X<=D;X++)N.push(z[X]);for(var X=V;X<z.length;X++)N.push(z[X])}return N}function A(z){for(var V=[],D=[],G=[],N=[],X=Number.MAX_VALUE,W=0;W<z.length;++W)if(P(z,W)){for(var $=0;$<z.length;++$)if(w(z,W,$)){D=A(O(z,W,$,N)),G=A(O(z,$,W,N));for(var K=0;K<G.length;K++)D.push(G[K]);D.length<X&&(V=D,X=D.length,V.push([c(z,W),c(z,$)]))}}return V}function F(z){var V=A(z);return V.length>0?L(z,V):[z]}function L(z,V){if(V.length===0)return[z];if(V instanceof Array&&V.length&&V[0]instanceof Array&&V[0].length===2&&V[0][0]instanceof Array){for(var D=[z],G=0;G<V.length;G++)for(var N=V[G],X=0;X<D.length;X++){var W=D[X],$=L(W,N);if($){D.splice(X,1),D.push($[0],$[1]);break}}return D}else{var N=V,G=z.indexOf(N[0]),X=z.indexOf(N[1]);return G!==-1&&X!==-1?[O(z,G,X),O(z,X,G)]:!1}}function I(z){var V=z,D;for(D=0;D<V.length-1;D++)for(var G=0;G<D-1;G++)if(i(V[D],V[D+1],V[G],V[G+1]))return!1;for(D=1;D<V.length-2;D++)if(i(V[0],V[V.length-1],V[D],V[D+1]))return!1;return!0}function B(z,V,D,G,N){N=N||0;var X=V[1]-z[1],W=z[0]-V[0],$=X*z[0]+W*z[1],K=G[1]-D[1],j=D[0]-G[0],Z=K*D[0]+j*D[1],J=X*j-K*W;return Y(J,0,N)?[0,0]:[(j*$-W*Z)/J,(X*Z-K*$)/J]}function b(z,V,D,G,N,X,W){X=X||100,W=W||0,N=N||25,V=typeof V<"u"?V:[],D=D||[],G=G||[];var $=[0,0],K=[0,0],j=[0,0],Z=0,J=0,Q=0,_=0,q=0,et=0,ot=0,ut=[],lt=[],tt=z,at=z;if(at.length<3)return V;if(W++,W>X)return console.warn("quickDecomp: max level ("+X+") reached."),V;for(var rt=0;rt<z.length;++rt)if(P(tt,rt)){D.push(tt[rt]),Z=J=Number.MAX_VALUE;for(var gt=0;gt<z.length;++gt)x(c(tt,rt-1),c(tt,rt),c(tt,gt))&&o(c(tt,rt-1),c(tt,rt),c(tt,gt-1))&&(j=B(c(tt,rt-1),c(tt,rt),c(tt,gt),c(tt,gt-1)),u(c(tt,rt+1),c(tt,rt),j)&&(Q=a(tt[rt],j),Q<J&&(J=Q,K=j,et=gt))),x(c(tt,rt+1),c(tt,rt),c(tt,gt+1))&&o(c(tt,rt+1),c(tt,rt),c(tt,gt))&&(j=B(c(tt,rt+1),c(tt,rt),c(tt,gt),c(tt,gt+1)),x(c(tt,rt-1),c(tt,rt),j)&&(Q=a(tt[rt],j),Q<Z&&(Z=Q,$=j,q=gt)));if(et===(q+1)%z.length)j[0]=(K[0]+$[0])/2,j[1]=(K[1]+$[1])/2,G.push(j),rt<q?(g(ut,tt,rt,q+1),ut.push(j),lt.push(j),et!==0&&g(lt,tt,et,tt.length),g(lt,tt,0,rt+1)):(rt!==0&&g(ut,tt,rt,tt.length),g(ut,tt,0,q+1),ut.push(j),lt.push(j),g(lt,tt,et,rt+1));else{if(et>q&&(q+=z.length),_=Number.MAX_VALUE,q<et)return V;for(var gt=et;gt<=q;++gt)f(c(tt,rt-1),c(tt,rt),c(tt,gt))&&o(c(tt,rt+1),c(tt,rt),c(tt,gt))&&(Q=a(c(tt,rt),c(tt,gt)),Q<_&&R(tt,rt,gt)&&(_=Q,ot=gt%z.length));rt<ot?(g(ut,tt,rt,ot+1),ot!==0&&g(lt,tt,ot,at.length),g(lt,tt,0,rt+1)):(rt!==0&&g(ut,tt,rt,at.length),g(ut,tt,0,ot+1),g(lt,tt,ot,rt+1))}return ut.length<lt.length?(b(ut,V,D,G,N,X,W),b(lt,V,D,G,N,X,W)):(b(lt,V,D,G,N,X,W),b(ut,V,D,G,N,X,W)),V}return V.push(z),V}function k(z,V){for(var D=0,G=z.length-1;z.length>3&&G>=0;--G)p(c(z,G-1),c(z,G),c(z,G+1),V)&&(z.splice(G%z.length,1),D++);return D}function U(z,V){for(var D=z.length-1;D>=1;--D)for(var G=z[D],N=D-1;N>=0;--N)if(H(G,z[N],V)){z.splice(D,1);continue}}function Y(z,V,D){return D=D||0,Math.abs(z-V)<=D}function H(z,V,D){return Y(z[0],V[0],D)&&Y(z[1],V[1],D)}},88257:(r,T,i)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var d=i(56694),x=new d({initialize:function(u){this.pluginManager=u,this.game=u.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});r.exports=x},18360:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};r.exports=T},91963:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={},i={},d={};d.register=function(x,f,u,o){o===void 0&&(o=!1),T[x]={plugin:f,mapping:u,custom:o}},d.registerCustom=function(x,f,u,o){i[x]={plugin:f,mapping:u,data:o}},d.hasCore=function(x){return T.hasOwnProperty(x)},d.hasCustom=function(x){return i.hasOwnProperty(x)},d.getCore=function(x){return T[x]},d.getCustom=function(x){return i[x]},d.getCustomClass=function(x){return i.hasOwnProperty(x)?i[x].plugin:null},d.remove=function(x){T.hasOwnProperty(x)&&delete T[x]},d.removeCustom=function(x){i.hasOwnProperty(x)&&delete i[x]},d.destroyCorePlugins=function(){for(var x in T)T.hasOwnProperty(x)&&delete T[x]},d.destroyCustomPlugins=function(){for(var x in i)i.hasOwnProperty(x)&&delete i[x]},r.exports=d},49274:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(97081),f=i(6659),u=i(76846),o=i(99325),n=i(61286),h=i(72632),p=i(91963),a=i(66458),c=new d({Extends:f,initialize:function(g){f.call(this),this.game=g,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],g.isBooted?this.boot():g.events.once(x.BOOT,this.boot,this)},boot:function(){var v,g,m,y,P,M,E,w=this.game.config,R=w.installGlobalPlugins;for(R=R.concat(this._pendingGlobal),v=0;v<R.length;v++)g=R[v],m=h(g,"key",null),y=h(g,"plugin",null),P=h(g,"start",!1),M=h(g,"mapping",null),E=h(g,"data",null),m&&(y?this.install(m,y,P,M,E):console.warn("Missing `plugin` for key: "+m));for(R=w.installScenePlugins,R=R.concat(this._pendingScene),v=0;v<R.length;v++)g=R[v],m=h(g,"key",null),y=h(g,"plugin",null),M=h(g,"mapping",null),m&&(y?this.installScenePlugin(m,y,M):console.warn("Missing `plugin` for key: "+m));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(x.DESTROY,this.destroy,this)},addToScene:function(v,g,m){var y,P,M,E=this.game,w=v.scene,R=v.settings.map,O=v.settings.isBooted;for(y=0;y<g.length;y++)P=g[y],E[P]?(v[P]=E[P],R.hasOwnProperty(P)&&(w[R[P]]=v[P])):P==="game"&&R.hasOwnProperty(P)&&(w[R[P]]=E);for(var A=0;A<m.length;A++)for(M=m[A],y=0;y<M.length;y++)if(P=M[y],!!p.hasCore(P)){var F=p.getCore(P),L=F.mapping,I=new F.plugin(w,this,L);v[L]=I,F.custom?w[L]=I:R.hasOwnProperty(L)&&(w[R[L]]=I),O&&I.boot()}for(M=this.plugins,y=0;y<M.length;y++){var B=M[y];B.mapping&&(w[B.mapping]=B.plugin)}},getDefaultScenePlugins:function(){var v=this.game.config.defaultPlugins;return v=v.concat(this.scenePlugins),v},installScenePlugin:function(v,g,m,y,P){if(P===void 0&&(P=!1),typeof g!="function"){console.warn("Invalid Scene Plugin: "+v);return}if(p.hasCore(v)||p.register(v,g,m,!0),this.scenePlugins.indexOf(v)===-1)this.scenePlugins.push(v);else if(!P&&p.hasCore(v)){console.warn("Scene Plugin key in use: "+v);return}if(y){var M=new g(y,this,v);y.sys[v]=M,m&&m!==""&&(y[m]=M),M.boot()}},install:function(v,g,m,y,P){if(m===void 0&&(m=!1),y===void 0&&(y=null),P===void 0&&(P=null),typeof g!="function")return console.warn("Invalid Plugin: "+v),null;if(p.hasCustom(v))return console.warn("Plugin key in use: "+v),null;if(y!==null&&(m=!0),!this.game.isBooted)this._pendingGlobal.push({key:v,plugin:g,start:m,mapping:y,data:P});else if(p.registerCustom(v,g,y,P),m)return this.start(v);return null},getIndex:function(v){for(var g=this.plugins,m=0;m<g.length;m++){var y=g[m];if(y.key===v)return m}return-1},getEntry:function(v){var g=this.getIndex(v);if(g!==-1)return this.plugins[g]},isActive:function(v){var g=this.getEntry(v);return g&&g.active},start:function(v,g){g===void 0&&(g=v);var m=this.getEntry(g);return m&&!m.active?(m.active=!0,m.plugin.start()):m||(m=this.createEntry(v,g)),m?m.plugin:null},createEntry:function(v,g){var m=p.getCustom(v);if(m){var y=new m.plugin(this);m={key:g,plugin:y,active:!0,mapping:m.mapping,data:m.data},this.plugins.push(m),y.init(m.data),y.start()}return m},stop:function(v){var g=this.getEntry(v);return g&&g.active&&(g.active=!1,g.plugin.stop()),this},get:function(v,g){g===void 0&&(g=!0);var m=this.getEntry(v);if(m)return m.plugin;var y=this.getClass(v);return y&&g?(m=this.createEntry(v,v),m?m.plugin:null):y||null},getClass:function(v){return p.getCustomClass(v)},removeGlobalPlugin:function(v){var g=this.getEntry(v);g&&a(this.plugins,g),p.removeCustom(v)},removeScenePlugin:function(v){a(this.scenePlugins,v),p.remove(v)},registerGameObject:function(v,g,m){return g&&n.register(v,g),m&&o.register(v,m),this},removeGameObject:function(v,g,m){return g===void 0&&(g=!0),m===void 0&&(m=!0),g&&n.remove(v),m&&o.remove(v),this},registerFileType:function(v,g,m){u.register(v,g),m&&m.sys.load&&(m.sys.load[v]=g)},destroy:function(){for(var v=0;v<this.plugins.length;v++)this.plugins[v].plugin.destroy();p.destroyCustomPlugins(),this.game.noReturn&&p.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});r.exports=c},39283:(r,T,i)=>{/**
* @author       Richard Davey <rich@photonstorm.com>
* @copyright    2013-2023 Photon Storm Ltd.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var d=i(88257),x=i(56694),f=i(7599),u=new x({Extends:d,initialize:function(n,h,p){d.call(this,h),this.scene=n,this.systems=n.sys,this.pluginKey=p,n.sys.events.once(f.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});r.exports=u},45615:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BasePlugin:i(88257),DefaultPlugins:i(18360),PluginCache:i(91963),PluginManager:i(49274),ScenePlugin:i(39283)}},75205:()=>{HTMLVideoElement&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(r){const T=performance.now(),i=this.getVideoPlaybackQuality(),d=this.mozPresentedFrames||this.mozPaintedFrames||i.totalVideoFrames-i.droppedVideoFrames,x=(f,u)=>{const o=this.getVideoPlaybackQuality(),n=this.mozPresentedFrames||this.mozPaintedFrames||o.totalVideoFrames-o.droppedVideoFrames;if(n>d){const h=this.mozFrameDelay||o.totalFrameDelay-i.totalFrameDelay||0,p=u-f;r(u,{presentationTime:u+h*1e3,expectedDisplayTime:u+p,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+p/1e3,presentedFrames:n,processingDuration:h}),delete this._rvfcpolyfillmap[T]}else this._rvfcpolyfillmap[T]=requestAnimationFrame(h=>x(u,h))};return this._rvfcpolyfillmap[T]=requestAnimationFrame(f=>x(T,f)),T},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(r){cancelAnimationFrame(this._rvfcpolyfillmap[r]),delete this._rvfcpolyfillmap[r]})},95723:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},27394:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={DEFAULT:0,LINEAR:0,NEAREST:1};r.exports=T},91135:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(89787),x=i(61840),f=i(56694),u=i(86459),o=i(6659),n=i(81044),h=i(32834),p=i(40444),a=i(38203),c=i(69360),v=new f({Extends:o,initialize:function(m){o.call(this);var y=m.config;this.config={clearBeforeRender:y.clearBeforeRender,backgroundColor:y.backgroundColor,antialias:y.antialias,roundPixels:y.roundPixels},this.game=m,this.type=u.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=m.canvas;var P={alpha:m.config.transparent,desynchronized:m.config.desynchronized,willReadFrequently:!1};this.gameContext=y.context?y.context:this.gameCanvas.getContext("2d",P),this.currentContext=this.gameContext,this.antialias=m.config.antialias,this.blendModes=h(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new c,this._tempMatrix2=new c,this._tempMatrix3=new c,this.isBooted=!1,this.init()},init:function(){this.game.textures.once(a.READY,this.boot,this)},boot:function(){var g=this.game,m=g.scale.baseSize;this.width=m.width,this.height=m.height,this.isBooted=!0,g.scale.on(p.RESIZE,this.onResize,this),this.resize(m.width,m.height)},onResize:function(g,m){(m.width!==this.width||m.height!==this.height)&&this.resize(m.width,m.height)},resize:function(g,m){this.width=g,this.height=m,this.emit(n.RESIZE,g,m)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(g){return this.currentContext.globalCompositeOperation=g,this},setContext:function(g){return this.currentContext=g||this.gameContext,this},setAlpha:function(g){return this.currentContext.globalAlpha=g,this},preRender:function(){var g=this.gameContext,m=this.config,y=this.width,P=this.height;g.globalAlpha=1,g.globalCompositeOperation="source-over",g.setTransform(1,0,0,1,0,0),m.clearBeforeRender&&(g.clearRect(0,0,y,P),m.transparent||(g.fillStyle=m.backgroundColor.rgba,g.fillRect(0,0,y,P))),g.save(),this.drawCount=0,this.emit(n.PRE_RENDER)},render:function(g,m,y){var P=m.length;this.emit(n.RENDER,g,y);var M=y.x,E=y.y,w=y.width,R=y.height,O=y.renderToTexture?y.context:g.sys.context;O.save(),this.game.scene.customViewports&&(O.beginPath(),O.rect(M,E,w,R),O.clip()),y.emit(d.PRE_RENDER,y),this.currentContext=O;var A=y.mask;A&&A.preRenderCanvas(this,null,y._maskCamera),y.transparent||(O.fillStyle=y.backgroundColor.rgba,O.fillRect(M,E,w,R)),O.globalAlpha=y.alpha,O.globalCompositeOperation="source-over",this.drawCount+=P,y.renderToTexture&&y.emit(d.PRE_RENDER,y),y.matrix.copyToContext(O);for(var F=0;F<P;F++){var L=m[F];L.mask&&L.mask.preRenderCanvas(this,L,y),L.renderCanvas(this,L,y),L.mask&&L.mask.postRenderCanvas(this,L,y)}O.setTransform(1,0,0,1,0,0),O.globalCompositeOperation="source-over",O.globalAlpha=1,y.flashEffect.postRenderCanvas(O),y.fadeEffect.postRenderCanvas(O),y.dirty=!1,A&&A.postRenderCanvas(this),O.restore(),y.renderToTexture&&(y.emit(d.POST_RENDER,y),y.renderToGame&&g.sys.context.drawImage(y.canvas,M,E)),y.emit(d.POST_RENDER,y)},postRender:function(){var g=this.gameContext;g.restore(),this.emit(n.POST_RENDER);var m=this.snapshotState;m.callback&&(x(this.gameCanvas,m),m.callback=null)},snapshotCanvas:function(g,m,y,P,M,E,w,R,O){y===void 0&&(y=!1),this.snapshotArea(P,M,E,w,m,R,O);var A=this.snapshotState;return A.getPixel=y,x(g,A),A.callback=null,this},snapshot:function(g,m,y){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,g,m,y)},snapshotArea:function(g,m,y,P,M,E,w){var R=this.snapshotState;return R.callback=M,R.type=E,R.encoder=w,R.getPixel=!1,R.x=g,R.y=m,R.width=Math.min(y,this.gameCanvas.width),R.height=Math.min(P,this.gameCanvas.height),this},snapshotPixel:function(g,m,y){return this.snapshotArea(g,m,1,1,y),this.snapshotState.getPixel=!0,this},batchSprite:function(g,m,y,P){var M=y.alpha*g.alpha;if(M!==0){var E=this.currentContext,w=this._tempMatrix1,R=this._tempMatrix2,O=m.canvasData,A=O.x,F=O.y,L=m.cutWidth,I=m.cutHeight,B=m.customPivot,b=m.source.resolution,k=g.displayOriginX,U=g.displayOriginY,Y=-k+m.x,H=-U+m.y;if(g.isCropped){var z=g._crop;(z.flipX!==g.flipX||z.flipY!==g.flipY)&&m.updateCropUVs(z,g.flipX,g.flipY),L=z.cw,I=z.ch,A=z.cx,F=z.cy,Y=-k+z.x,H=-U+z.y,g.flipX&&(Y>=0?Y=-(Y+L):Y<0&&(Y=Math.abs(Y)-L)),g.flipY&&(H>=0?H=-(H+I):H<0&&(H=Math.abs(H)-I))}var V=1,D=1;g.flipX&&(B||(Y+=-m.realWidth+k*2),V=-1),g.flipY&&(B||(H+=-m.realHeight+U*2),D=-1);var G=g.x,N=g.y;R.applyITRS(G,N,g.rotation,g.scaleX*V,g.scaleY*D),w.copyFrom(y.matrix),P?(w.multiplyWithOffset(P,-y.scrollX*g.scrollFactorX,-y.scrollY*g.scrollFactorY),R.e=G,R.f=N):(R.e-=y.scrollX*g.scrollFactorX,R.f-=y.scrollY*g.scrollFactorY),w.multiply(R),y.roundPixels&&(w.e=Math.round(w.e),w.f=Math.round(w.f)),E.save(),w.setToContext(E),E.globalCompositeOperation=this.blendModes[g.blendMode],E.globalAlpha=M,E.imageSmoothingEnabled=!m.source.scaleMode,g.mask&&g.mask.preRenderCanvas(this,g,y),L>0&&I>0&&(y.roundPixels?E.drawImage(m.source.image,A,F,L,I,Math.round(Y),Math.round(H),Math.round(L/b),Math.round(I/b)):E.drawImage(m.source.image,A,F,L,I,Y,H,L/b,I/b)),g.mask&&g.mask.postRenderCanvas(this,g,y),E.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});r.exports=v},6046:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CanvasRenderer:i(91135),GetBlendModes:i(32834),SetTransform:i(49584)}},32834:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(95723),x=i(98581),f=function(){var u=[],o=x.supportNewBlendModes,n="source-over";return u[d.NORMAL]=n,u[d.ADD]="lighter",u[d.MULTIPLY]=o?"multiply":n,u[d.SCREEN]=o?"screen":n,u[d.OVERLAY]=o?"overlay":n,u[d.DARKEN]=o?"darken":n,u[d.LIGHTEN]=o?"lighten":n,u[d.COLOR_DODGE]=o?"color-dodge":n,u[d.COLOR_BURN]=o?"color-burn":n,u[d.HARD_LIGHT]=o?"hard-light":n,u[d.SOFT_LIGHT]=o?"soft-light":n,u[d.DIFFERENCE]=o?"difference":n,u[d.EXCLUSION]=o?"exclusion":n,u[d.HUE]=o?"hue":n,u[d.SATURATION]=o?"saturation":n,u[d.COLOR]=o?"color":n,u[d.LUMINOSITY]=o?"luminosity":n,u[d.ERASE]="destination-out",u[d.SOURCE_IN]="source-in",u[d.SOURCE_OUT]="source-out",u[d.SOURCE_ATOP]="source-atop",u[d.DESTINATION_OVER]="destination-over",u[d.DESTINATION_IN]="destination-in",u[d.DESTINATION_OUT]="destination-out",u[d.DESTINATION_ATOP]="destination-atop",u[d.LIGHTER]="lighter",u[d.COPY]="copy",u[d.XOR]="xor",u};r.exports=f},49584:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(73329),x=function(f,u,o,n,h){var p=n.alpha*o.alpha;if(p<=0)return!1;var a=d(o,n,h).calc;return u.globalCompositeOperation=f.blendModes[o.blendMode],u.globalAlpha=p,u.save(),a.setToContext(u),u.imageSmoothingEnabled=o.frame?!o.frame.source.scaleMode:f.antialias,!0};r.exports=x},70936:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postrender"},99298:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"},7743:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="render"},99519:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resize"},81044:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={POST_RENDER:i(70936),PRE_RENDER:i(99298),RENDER:i(7743),RESIZE:i(99519)}},42069:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Canvas:i(6046),Events:i(81044),Snapshot:i(95528),WebGL:i(55478)}},61840:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61068),x=i(27119),f=i(72632),u=function(o,n){var h=f(n,"callback"),p=f(n,"type","image/png"),a=f(n,"encoder",.92),c=Math.abs(Math.round(f(n,"x",0))),v=Math.abs(Math.round(f(n,"y",0))),g=Math.floor(f(n,"width",o.width)),m=Math.floor(f(n,"height",o.height)),y=f(n,"getPixel",!1);if(y){var P=o.getContext("2d",{willReadFrequently:!1}),M=P.getImageData(c,v,1,1),E=M.data;h.call(null,new x(E[0],E[1],E[2],E[3]))}else if(c!==0||v!==0||g!==o.width||m!==o.height){var w=d.createWebGL(this,g,m),R=w.getContext("2d",{willReadFrequently:!0});g>0&&m>0&&R.drawImage(o,c,v,g,m,0,0,g,m);var O=new Image;O.onerror=function(){h.call(null),d.remove(w)},O.onload=function(){h.call(null,O),d.remove(w)},O.src=w.toDataURL(p,a)}else{var A=new Image;A.onerror=function(){h.call(null)},A.onload=function(){h.call(null,A)},A.src=o.toDataURL(p,a)}};r.exports=u},1217:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61068),x=i(27119),f=i(72632),u=function(o,n){var h=o,p=f(n,"callback"),a=f(n,"type","image/png"),c=f(n,"encoder",.92),v=Math.abs(Math.round(f(n,"x",0))),g=Math.abs(Math.round(f(n,"y",0))),m=f(n,"getPixel",!1),y=f(n,"isFramebuffer",!1),P=y?f(n,"bufferWidth",1):h.drawingBufferWidth,M=y?f(n,"bufferHeight",1):h.drawingBufferHeight;if(m){var E=new Uint8Array(4),w=y?g:M-g;h.readPixels(v,w,1,1,h.RGBA,h.UNSIGNED_BYTE,E),p.call(null,new x(E[0],E[1],E[2],E[3]))}else{var R=Math.floor(f(n,"width",P)),O=Math.floor(f(n,"height",M)),A=R*O*4,F=new Uint8Array(A);h.readPixels(v,M-g-O,R,O,h.RGBA,h.UNSIGNED_BYTE,F);for(var L=d.createWebGL(this,R,O),I=L.getContext("2d",{willReadFrequently:!0}),B=I.getImageData(0,0,R,O),b=B.data,k=0;k<O;k++)for(var U=0;U<R;U++){var Y=((O-k-1)*R+U)*4,H=y?A-(k*R+(R-U))*4:(k*R+U)*4;b[H+0]=F[Y+0],b[H+1]=F[Y+1],b[H+2]=F[Y+2],b[H+3]=F[Y+3]}I.putImageData(B,0,0);var z=new Image;z.onerror=function(){p.call(null),d.remove(L)},z.onload=function(){p.call(null,z),d.remove(L)},z.src=L.toDataURL(a,c)}};r.exports=u},95528:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Canvas:i(61840),WebGL:i(1217)}},35217:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(65641),f=i(33885),u=i(77290),o=i(72632),n=i(37410),h=i(82127),p=i(5583),a=i(58136),c=i(47406),v=i(81828),g=i(66901),m=i(71264),y=i(77310),P=i(10919),M=i(21213),E=i(51212),w=i(60848),R=new d({initialize:function(A){this.game=A.game,this.renderer=A,this.classes=new f([[x.UTILITY_PIPELINE,w],[x.MULTI_PIPELINE,y],[x.BITMAPMASK_PIPELINE,p],[x.SINGLE_PIPELINE,E],[x.ROPE_PIPELINE,M],[x.LIGHT_PIPELINE,g],[x.POINTLIGHT_PIPELINE,P],[x.MOBILE_PIPELINE,m]]),this.postPipelineClasses=new f,this.pipelines=new f,this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(O,A,F){var L=this.renderer,I=this.renderTargets;this.frameInc=Math.floor(o(O,"frameInc",32));var B=L.width,b=L.height,k=this.game.config.disablePreFX,U=this.game.config.disablePostFX;if(U||this.postPipelineClasses.setAll([[String(c.BARREL),a.Barrel],[String(c.BLOOM),a.Bloom],[String(c.BLUR),a.Blur],[String(c.BOKEH),a.Bokeh],[String(c.CIRCLE),a.Circle],[String(c.COLOR_MATRIX),a.ColorMatrix],[String(c.DISPLACEMENT),a.Displacement],[String(c.GLOW),a.Glow],[String(c.GRADIENT),a.Gradient],[String(c.PIXELATE),a.Pixelate],[String(c.SHADOW),a.Shadow],[String(c.SHINE),a.Shine],[String(c.VIGNETTE),a.Vignette],[String(c.WIPE),a.Wipe]]),!k){this.classes.set(x.FX_PIPELINE,v);for(var Y=Math.min(B,b),H=Math.ceil(Y/this.frameInc),z=1;z<H;z++){var V=z*this.frameInc;I.push(new n(L,V,V)),I.push(new n(L,V,V)),I.push(new n(L,V,V)),this.maxDimension=V}I.push(new n(L,B,b,1,0,!0,!0)),I.push(new n(L,B,b,1,0,!0,!0)),I.push(new n(L,B,b,1,0,!0,!0))}var D,G,N=this,X=this.game;if(this.classes.each(function($,K){D=N.add($,new K({game:X})),$===x.UTILITY_PIPELINE&&(N.UTILITY_PIPELINE=D,N.fullFrame1=D.fullFrame1,N.fullFrame2=D.fullFrame2,N.halfFrame1=D.halfFrame1,N.halfFrame2=D.halfFrame2)}),this.MULTI_PIPELINE=this.get(x.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(x.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(x.MOBILE_PIPELINE),k||(this.FX_PIPELINE=this.get(x.FX_PIPELINE)),O)for(G in O){var W=O[G];D=new W(X),D.name=G,D.isPostFX?this.postPipelineClasses.set(G,W):this.has(G)||(this.classes.set(G,W),this.add(G,D))}this.default=this.get(A),F&&!u.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(O){var A=this.get(O);return A&&(this.default=A),A},add:function(O,A){if(A.isPostFX){console.warn(O+" is a Post Pipeline. Use `addPostPipeline` instead");return}var F=this.pipelines,L=this.renderer;return F.has(O)?console.warn("Pipeline exists: "+O):(A.name=O,A.manager=this,F.set(O,A)),A.hasBooted||A.boot(),L.width!==0&&L.height!==0&&!A.isPreFX&&A.resize(L.width,L.height),A},addPostPipeline:function(O,A){this.postPipelineClasses.has(O)||this.postPipelineClasses.set(O,A)},flush:function(){this.current&&this.current.flush()},has:function(O){var A=this.pipelines;return typeof O=="string"?A.has(O):!!A.contains(O)},get:function(O){var A=this.pipelines;if(typeof O=="string")return A.get(O);if(A.contains(O))return O},getPostPipeline:function(O,A,F){var L=this.postPipelineClasses,I,B="",b=typeof O;if(b==="string"||b==="number"?(I=L.get(O),B=O):b==="function"?(L.contains(O)&&(I=O),B=O.name):b==="object"&&(I=L.get(O.name),B=O.name),I){var k=new I(this.game,F);return k.name=B,A&&(k.gameObject=A),k}},remove:function(O,A,F){A===void 0&&(A=!0),F===void 0&&(F=!0),this.pipelines.delete(O),A&&this.classes.delete(O),F&&this.postPipelineClasses.delete(O)},set:function(O,A,F){if(!O.isPostFX)return this.isCurrent(O,F)||(this.flush(),this.current&&this.current.unbind(),this.current=O,O.bind(F)),O.updateProjectionMatrix(),O.onBind(A),O},preBatch:function(O){if(O.hasPostPipeline){this.flush();for(var A=O.postPipelines,F=A.length-1;F>=0;F--){var L=A[F];L.active&&L.preBatch(O)}}},postBatch:function(O){if(O.hasPostPipeline){this.flush();for(var A=O.postPipelines,F=0;F<A.length;F++){var L=A[F];L.active&&L.postBatch(O)}}},preBatchCamera:function(O){if(O.hasPostPipeline){this.flush();for(var A=O.postPipelines,F=A.length-1;F>=0;F--){var L=A[F];L.active&&L.preBatch(O)}}},postBatchCamera:function(O){if(O.hasPostPipeline){this.flush();for(var A=O.postPipelines,F=0;F<A.length;F++){var L=A[F];L.active&&L.postBatch(O)}}},isCurrent:function(O,A){var F=this.renderer,L=this.current;return L&&!A&&(A=L.currentShader),!(L!==O||A.program!==F.currentProgram)},copyFrame:function(O,A,F,L,I){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(O,A,F,L,I),this},copyToGame:function(O){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(O),this},drawFrame:function(O,A,F,L){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(O,A,F,L),this},blendFrames:function(O,A,F,L,I){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(O,A,F,L,I),this},blendFramesAdditive:function(O,A,F,L,I){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(O,A,F,L,I),this},clearFrame:function(O,A){return this.UTILITY_PIPELINE.clearFrame(O,A),this},blitFrame:function(O,A,F,L,I,B){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(O,A,F,L,I,B),this},copyFrameRect:function(O,A,F,L,I,B,b,k){return this.UTILITY_PIPELINE.copyFrameRect(O,A,F,L,I,B,b,k),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(O){return this.UTILITY_PIPELINE.bind(O)},setFX:function(){return this.set(this.FX_PIPELINE)},rebind:function(O){O===void 0&&this.previous&&(O=this.previous);var A=this.renderer,F=A.gl;F.disable(F.DEPTH_TEST),F.disable(F.CULL_FACE),A.hasActiveStencilMask()?F.clear(F.DEPTH_BUFFER_BIT):(F.disable(F.STENCIL_TEST),F.clear(F.DEPTH_BUFFER_BIT|F.STENCIL_BUFFER_BIT)),F.viewport(0,0,A.width,A.height),A.currentProgram=null,A.setBlendMode(0,!0);var L=A.vaoExtension;L&&L.bindVertexArrayOES(null);var I=this.pipelines.entries;for(var B in I)I[B].glReset=!0;O&&(this.current=O,O.rebind())},clear:function(){var O=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,O.currentProgram=null,O.setBlendMode(0,!0);var A=O.vaoExtension;A&&A.bindVertexArrayOES(null)},getRenderTarget:function(O){var A=this.renderTargets,F=3;if(O>this.maxDimension)return this.targetIndex=A.length-F,A[this.targetIndex];var L=(h(O,this.frameInc,0,!0)-1)*F;return this.targetIndex=L,A[L]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});r.exports=R},37410:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(81044),f=new d({initialize:function(o,n,h,p,a,c,v,g,m){p===void 0&&(p=1),a===void 0&&(a=0),c===void 0&&(c=!0),v===void 0&&(v=!1),g===void 0&&(g=!0),m===void 0&&(m=!0),this.renderer=o,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=p,this.minFilter=a,this.autoClear=c,this.autoResize=!0,this.hasDepthBuffer=g,this.forceClamp=m,this.resize(n,h),v?this.setAutoResize(!0):this.autoResize=!1},setAutoResize:function(u){return u&&!this.autoResize?(this.renderer.on(x.RESIZE,this.resize,this),this.autoResize=!0):!u&&this.autoResize&&(this.renderer.off(x.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(u,o){if(u=Math.round(u*this.scale),o=Math.round(o*this.scale),u<=0&&(u=1),o<=0&&(o=1),this.autoResize&&(u!==this.width||o!==this.height)){var n=this.renderer;n.deleteFramebuffer(this.framebuffer),n.deleteTexture(this.texture),this.texture=n.createTextureFromSource(null,u,o,this.minFilter,this.forceClamp),this.framebuffer=n.createFramebuffer(u,o,this.texture,this.hasDepthBuffer),this.width=u,this.height=o}return this},willResize:function(u,o){return u=Math.round(u*this.scale),o=Math.round(o*this.scale),u<=0&&(u=1),o<=0&&(o=1),u!==this.width||o!==this.height},bind:function(u,o,n){u===void 0&&(u=!1);var h=this.renderer;if(u&&h.flush(),o&&n&&this.resize(o,n),h.pushFramebuffer(this.framebuffer,!1,!1),u&&this.adjustViewport(),this.autoClear){var p=this.renderer.gl;p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT)}h.clearStencilMask()},adjustViewport:function(){var u=this.renderer.gl;u.viewport(0,0,this.width,this.height),u.disable(u.SCISSOR_TEST)},clear:function(){var u=this.renderer,o=u.gl;u.pushFramebuffer(this.framebuffer),o.disable(o.SCISSOR_TEST),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT),u.popFramebuffer(),u.resetScissor()},unbind:function(u){u===void 0&&(u=!1);var o=this.renderer;return u&&o.flush(),o.popFramebuffer()},destroy:function(){var u=this.renderer;u.off(x.RESIZE,this.resize,this),u.deleteFramebuffer(this.framebuffer),u.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});r.exports=f},75512:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={getTintFromFloats:function(T,i,d,x){var f=(T*255|0)&255,u=(i*255|0)&255,o=(d*255|0)&255,n=(x*255|0)&255;return(n<<24|f<<16|u<<8|o)>>>0},getTintAppendFloatAlpha:function(T,i){var d=(i*255|0)&255;return(d<<24|T)>>>0},getTintAppendFloatAlphaAndSwap:function(T,i){var d=(T>>16|0)&255,x=(T>>8|0)&255,f=(T|0)&255,u=(i*255|0)&255;return(u<<24|f<<16|x<<8|d)>>>0},getFloatsFromUintRGB:function(T){var i=(T>>16|0)&255,d=(T>>8|0)&255,x=(T|0)&255;return[i/255,d/255,x/255]},checkShaderMax:function(T,i){var d=Math.min(16,T.getParameter(T.MAX_TEXTURE_IMAGE_UNITS));return!i||i===-1?d:Math.min(d,i)},parseFragmentShaderMaxTextures:function(T,i){if(!T)return"";for(var d="",x=0;x<i;x++)x>0&&(d+=`
	else `),x<i-1&&(d+="if (outTexId < "+x+".5)"),d+=`
	{`,d+=`
		texture = texture2D(uMainSampler[`+x+"], outTexCoord);",d+=`
	}`;return T=T.replace(/%count%/gi,i.toString()),T.replace(/%forloop%/gi,d)},setGlowQuality:function(T,i,d,x){return d===void 0&&(d=i.config.glowFXQuality),x===void 0&&(x=i.config.glowFXDistance),T=T.replace(/__SIZE__/gi,(1/d/x).toFixed(7)),T=T.replace(/__DIST__/gi,x.toFixed(0)+".0"),T}}},44775:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(28699),f=i(6659),u=i(18970),o=i(72632),n=i(16650),h=i(81044),p=i(37410),a=i(75512),c=i(71305),v=new d({Extends:f,initialize:function(m){f.call(this);var y=m.game,P=y.renderer,M=P.gl;this.name=o(m,"name","WebGLPipeline"),this.game=y,this.renderer=P,this.manager,this.gl=M,this.view=y.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=o(m,"topology",M.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=o(m,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=m,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[]},boot:function(){var g,m=this.gl,y=this.config,P=this.renderer;this.isPostFX||(this.projectionMatrix=new n().identity());var M=this.renderTargets,E=o(y,"renderTarget",!1);typeof E=="boolean"&&E&&(E=1);var w=P.width,R=P.height;if(typeof E=="number")for(g=0;g<E;g++)M.push(new p(P,w,R,1,0,!0));else if(Array.isArray(E))for(g=0;g<E.length;g++){var O=o(E[g],"scale",1),A=o(E[g],"minFilter",0),F=o(E[g],"autoClear",1),L=o(E[g],"width",null),I=o(E[g],"height",L);L?M.push(new p(P,L,I,1,A,F)):M.push(new p(P,w,R,O,A,F))}M.length&&(this.currentRenderTarget=M[0]),this.setShadersFromConfig(y);var B=this.shaders,b=0;for(g=0;g<B.length;g++)B[g].vertexSize>b&&(b=B[g].vertexSize);var k=o(y,"batchSize",P.config.batchSize);this.vertexCapacity=k*6;var U=new ArrayBuffer(this.vertexCapacity*b);this.vertexData=U,this.bytes=new Uint8Array(U),this.vertexViewF32=new Float32Array(U),this.vertexViewU32=new Uint32Array(U);var Y=o(y,"vertices",null);for(Y?(this.vertexViewF32.set(Y),this.vertexBuffer=P.createVertexBuffer(U,m.STATIC_DRAW)):this.vertexBuffer=P.createVertexBuffer(U.byteLength,m.DYNAMIC_DRAW),this.setVertexBuffer(),g=B.length-1;g>=0;g--)B[g].rebind();this.hasBooted=!0,P.on(h.RESIZE,this.resize,this),P.on(h.PRE_RENDER,this.onPreRender,this),P.on(h.RENDER,this.onRender,this),P.on(h.POST_RENDER,this.onPostRender,this),this.emit(u.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(g,m,y){var P=this.renderer;if(g!==this.currentShader||P.currentProgram!==this.currentShader.program){this.flush();var M=this.setVertexBuffer(y);M&&!m&&(m=!0),g.bind(m,!1),this.currentShader=g}return this},getShaderByName:function(g){for(var m=this.shaders,y=0;y<m.length;y++)if(m[y].name===g)return m[y]},setShadersFromConfig:function(g){var m,y=this.shaders,P=this.renderer;for(m=0;m<y.length;m++)y[m].destroy();var M="vertShader",E="fragShader",w="attributes",R=o(g,M,null),O=a.parseFragmentShaderMaxTextures(o(g,E,null),P.maxTextures),A=o(g,w,null),F=o(g,"shaders",[]),L=F.length;if(L===0)R&&O&&(this.shaders=[new c(this,"default",R,O,x(A))]);else{var I=[];for(m=0;m<L;m++){var B=F[m],b,k,U,Y;if(typeof B=="string"?(b="default",k=R,U=a.parseFragmentShaderMaxTextures(B,P.maxTextures),Y=A):(b=o(B,"name","default"),k=o(B,M,R),U=a.parseFragmentShaderMaxTextures(o(B,E,O),P.maxTextures),Y=o(B,w,A)),b==="default"){var H=U.split(`
`),z=H[0].trim();z.indexOf("#define SHADER_NAME")>-1&&(b=z.substring(20))}k&&U&&I.push(new c(this,b,k,U,x(Y)))}this.shaders=I}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(g){return this.currentBatch={start:this.vertexCount,count:0,texture:[g],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=g,this.batch.push(this.currentBatch),0},addTextureToBatch:function(g){var m=this.currentBatch;m&&(m.texture.push(g),m.unit++,m.maxUnit++)},pushBatch:function(g){if(!this.currentBatch||this.forceZero&&g!==this.currentTexture)return this.createBatch(g);if(g===this.currentTexture)return this.currentUnit;var m=this.currentBatch,y=m.texture.indexOf(g);return y===-1?m.texture.length===this.renderer.maxTextures?this.createBatch(g):(m.unit++,m.maxUnit++,m.texture.push(g),this.currentUnit=m.unit,this.currentTexture=g,m.unit):(this.currentUnit=y,this.currentTexture=g,y)},setGameObject:function(g,m){return m===void 0&&(m=g.frame),this.pushBatch(m.source.glTexture)},shouldFlush:function(g){return g===void 0&&(g=0),this.vertexCount+g>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(g,m){(g!==this.width||m!==this.height)&&this.flush(),this.width=g,this.height=m;for(var y=this.renderTargets,P=0;P<y.length;P++)y[P].resize(g,m);return this.setProjectionMatrix(g,m),this.emit(u.RESIZE,g,m,this),this.onResize(g,m),this},setProjectionMatrix:function(g,m){var y=this.projectionMatrix;if(!y)return this;this.projectionWidth=g,this.projectionHeight=m,y.ortho(0,g,m,0,-1e3,1e3);for(var P=this.shaders,M="uProjectionMatrix",E=0;E<P.length;E++){var w=P[E];w.hasUniform(M)&&(w.resetUniform(M),w.setMatrix4fv(M,!1,y.val,w))}return this},flipProjectionMatrix:function(g){g===void 0&&(g=!0);var m=this.projectionMatrix;if(!m)return this;var y=this.projectionWidth,P=this.projectionHeight;g?m.ortho(0,y,0,P,-1e3,1e3):m.ortho(0,y,P,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,m.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var g=this.renderer.projectionWidth,m=this.renderer.projectionHeight;(this.projectionWidth!==g||this.projectionHeight!==m)&&this.setProjectionMatrix(g,m)}},bind:function(g){if(g===void 0&&(g=this.currentShader),this.glReset)return this.rebind(g);var m=!1,y=this.gl;return y.getParameter(y.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(y.bindBuffer(y.ARRAY_BUFFER,this.vertexBuffer),this.activeBuffer=this.vertexBuffer,m=!0),g.bind(m),this.currentShader=g,this.activeTextures.length=0,this.emit(u.BIND,this,g),this.onActive(g),this},rebind:function(g){this.activeBuffer=null,this.setVertexBuffer();for(var m=this.shaders,y=m.length-1;y>=0;y--){var P=m[y].rebind();(!g||P===g)&&(this.currentShader=P)}return this.activeTextures.length=0,this.emit(u.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},setVertexBuffer:function(g){if(g===void 0&&(g=this.vertexBuffer),g!==this.activeBuffer){var m=this.gl;return this.gl.bindBuffer(m.ARRAY_BUFFER,g),this.activeBuffer=g,!0}return!1},preBatch:function(g){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(g),this},postBatch:function(g){return this.onDraw(this.currentRenderTarget),this.onPostBatch(g),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(g){if(g===void 0&&(g=!1),this.vertexCount>0){this.emit(u.BEFORE_FLUSH,this,g),this.onBeforeFlush(g);var m=this.gl,y=this.vertexCount,P=this.currentShader.vertexSize,M=this.topology;if(this.active){this.setVertexBuffer(),y===this.vertexCapacity?m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.DYNAMIC_DRAW):m.bufferSubData(m.ARRAY_BUFFER,0,this.bytes.subarray(0,y*P));var E,w,R,O=this.batch,A=this.activeTextures;if(this.forceZero)for(A[0]||m.activeTexture(m.TEXTURE0),E=0;E<O.length;E++)w=O[E],R=w.texture[0],A[0]!==R&&(m.bindTexture(m.TEXTURE_2D,R),A[0]=R),m.drawArrays(M,w.start,w.count);else for(E=0;E<O.length;E++){w=O[E];for(var F=0;F<=w.maxUnit;F++)R=w.texture[F],A[F]!==R&&(m.activeTexture(m.TEXTURE0+F),m.bindTexture(m.TEXTURE_2D,R),A[F]=R);m.drawArrays(M,w.start,w.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(u.AFTER_FLUSH,this,g),this.onAfterFlush(g)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(g,m,y,P,M,E,w){var R=this.vertexViewF32,O=this.vertexViewU32,A=this.vertexCount*this.currentShader.vertexComponentCount-1;R[++A]=g,R[++A]=m,R[++A]=y,R[++A]=P,R[++A]=M,R[++A]=E,O[++A]=w,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(g,m,y,P,M,E,w,R,O,A,F,L,I,B,b,k,U,Y,H,z){z===void 0&&(z=this.currentUnit);var V=!1;this.shouldFlush(6)&&(this.flush(),V=!0),this.currentBatch||(z=this.setTexture2D(H));var D=this.vertexViewF32,G=this.vertexViewU32,N=this.vertexCount*this.currentShader.vertexComponentCount-1;return D[++N]=m,D[++N]=y,D[++N]=A,D[++N]=F,D[++N]=z,D[++N]=Y,G[++N]=B,D[++N]=P,D[++N]=M,D[++N]=A,D[++N]=I,D[++N]=z,D[++N]=Y,G[++N]=k,D[++N]=E,D[++N]=w,D[++N]=L,D[++N]=I,D[++N]=z,D[++N]=Y,G[++N]=U,D[++N]=m,D[++N]=y,D[++N]=A,D[++N]=F,D[++N]=z,D[++N]=Y,G[++N]=B,D[++N]=E,D[++N]=w,D[++N]=L,D[++N]=I,D[++N]=z,D[++N]=Y,G[++N]=U,D[++N]=R,D[++N]=O,D[++N]=L,D[++N]=F,D[++N]=z,D[++N]=Y,G[++N]=b,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(g),V},batchTri:function(g,m,y,P,M,E,w,R,O,A,F,L,I,B,b,k,U){U===void 0&&(U=this.currentUnit);var Y=!1;this.shouldFlush(3)&&(this.flush(),Y=!0),this.currentBatch||(U=this.setTexture2D(k));var H=this.vertexViewF32,z=this.vertexViewU32,V=this.vertexCount*this.currentShader.vertexComponentCount-1;return H[++V]=m,H[++V]=y,H[++V]=R,H[++V]=O,H[++V]=U,H[++V]=b,z[++V]=L,H[++V]=P,H[++V]=M,H[++V]=R,H[++V]=F,H[++V]=U,H[++V]=b,z[++V]=I,H[++V]=E,H[++V]=w,H[++V]=A,H[++V]=F,H[++V]=U,H[++V]=b,z[++V]=B,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(g),Y},drawFillRect:function(g,m,y,P,M,E,w,R){w===void 0&&(w=this.renderer.whiteTexture),R===void 0&&(R=!0),g=Math.floor(g),m=Math.floor(m);var O=Math.floor(g+y),A=Math.floor(m+P),F=this.setTexture2D(w),L=a.getTintAppendFloatAlphaAndSwap(M,E),I=0,B=0,b=1,k=1;R&&(B=1,k=0),this.batchQuad(null,g,m,g,A,O,A,O,m,I,B,b,k,L,L,L,L,0,w,F)},setTexture2D:function(g){return g===void 0&&(g=this.renderer.whiteTexture),this.pushBatch(g)},bindTexture:function(g,m){m===void 0&&(m=0);var y=this.gl;return y.activeTexture(y.TEXTURE0+m),y.bindTexture(y.TEXTURE_2D,g),this},bindRenderTarget:function(g,m){return this.bindTexture(g.texture,m)},setTime:function(g,m){return this.set1f(g,this.game.loop.getDuration(),m),this},setBoolean:function(g,m,y){return y===void 0&&(y=this.currentShader),y.setBoolean(g,m),this},set1f:function(g,m,y){return y===void 0&&(y=this.currentShader),y.set1f(g,m),this},set2f:function(g,m,y,P){return P===void 0&&(P=this.currentShader),P.set2f(g,m,y),this},set3f:function(g,m,y,P,M){return M===void 0&&(M=this.currentShader),M.set3f(g,m,y,P),this},set4f:function(g,m,y,P,M,E){return E===void 0&&(E=this.currentShader),E.set4f(g,m,y,P,M),this},set1fv:function(g,m,y){return y===void 0&&(y=this.currentShader),y.set1fv(g,m),this},set2fv:function(g,m,y){return y===void 0&&(y=this.currentShader),y.set2fv(g,m),this},set3fv:function(g,m,y){return y===void 0&&(y=this.currentShader),y.set3fv(g,m),this},set4fv:function(g,m,y){return y===void 0&&(y=this.currentShader),y.set4fv(g,m),this},set1iv:function(g,m,y){return y===void 0&&(y=this.currentShader),y.set1iv(g,m),this},set2iv:function(g,m,y){return y===void 0&&(y=this.currentShader),y.set2iv(g,m),this},set3iv:function(g,m,y){return y===void 0&&(y=this.currentShader),y.set3iv(g,m),this},set4iv:function(g,m,y){return y===void 0&&(y=this.currentShader),y.set4iv(g,m),this},set1i:function(g,m,y){return y===void 0&&(y=this.currentShader),y.set1i(g,m),this},set2i:function(g,m,y,P){return P===void 0&&(P=this.currentShader),P.set2i(g,m,y),this},set3i:function(g,m,y,P,M){return M===void 0&&(M=this.currentShader),M.set3i(g,m,y,P),this},set4i:function(g,m,y,P,M,E){return E===void 0&&(E=this.currentShader),E.set4i(g,m,y,P,M),this},setMatrix2fv:function(g,m,y,P){return P===void 0&&(P=this.currentShader),P.setMatrix2fv(g,m,y),this},setMatrix3fv:function(g,m,y,P){return P===void 0&&(P=this.currentShader),P.setMatrix3fv(g,m,y),this},setMatrix4fv:function(g,m,y,P){return P===void 0&&(P=this.currentShader),P.setMatrix4fv(g,m,y),this},destroy:function(){this.emit(u.DESTROY,this);var g,m=this.shaders;for(g=0;g<m.length;g++)m[g].destroy();var y=this.renderTargets;for(g=0;g<y.length;g++)y[g].destroy();this.gl.deleteBuffer(this.vertexBuffer);var P=this.renderer;return P.off(h.RESIZE,this.resize,this),P.off(h.PRE_RENDER,this.onPreRender,this),P.off(h.RENDER,this.onRender,this),P.off(h.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});r.exports=v},11857:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(66458),x=i(89787),f=i(56694),u=i(86459),o=i(6659),n=i(81044),h=i(28621),p=i(16650),a=i(72283),c=i(35217),v=i(37410),g=i(40444),m=i(38203),y=i(75512),P=i(1217),M=new f({Extends:o,initialize:function(w){o.call(this);var R=w.config,O={alpha:R.transparent,desynchronized:R.desynchronized,depth:!0,antialias:R.antialiasGL,premultipliedAlpha:R.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:R.failIfMajorPerformanceCaveat,powerPreference:R.powerPreference,preserveDrawingBuffer:R.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:R.clearBeforeRender,antialias:R.antialias,backgroundColor:R.backgroundColor,contextCreation:O,roundPixels:R.roundPixels,maxTextures:R.maxTextures,maxTextureSize:R.maxTextureSize,batchSize:R.batchSize,maxLights:R.maxLights,mipmapFilter:R.mipmapFilter},this.game=w,this.type=u.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=w.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=a,this.contextRestoredHandler=a,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(E){var w,R=this.game,O=this.canvas,A=E.backgroundColor;if(R.config.context?w=R.config.context:w=O.getContext("webgl",E.contextCreation)||O.getContext("experimental-webgl",E.contextCreation),!w||w.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=w;var F=this;this.contextLostHandler=function(H){F.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),H.preventDefault()},O.addEventListener("webglcontextlost",this.contextLostHandler,!1),R.context=w;for(var L=0;L<=27;L++)this.blendModes.push({func:[w.ONE,w.ONE_MINUS_SRC_ALPHA],equation:w.FUNC_ADD});this.blendModes[1].func=[w.ONE,w.DST_ALPHA],this.blendModes[2].func=[w.DST_COLOR,w.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[w.ONE,w.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[w.ZERO,w.ONE_MINUS_SRC_ALPHA],equation:w.FUNC_REVERSE_SUBTRACT},this.glFormats=[w.BYTE,w.SHORT,w.UNSIGNED_BYTE,w.UNSIGNED_SHORT,w.FLOAT],this.glFuncMap={mat2:{func:w.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:w.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:w.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:w.uniform1f,length:1},"1fv":{func:w.uniform1fv,length:1},"1i":{func:w.uniform1i,length:1},"1iv":{func:w.uniform1iv,length:1},"2f":{func:w.uniform2f,length:2},"2fv":{func:w.uniform2fv,length:1},"2i":{func:w.uniform2i,length:2},"2iv":{func:w.uniform2iv,length:1},"3f":{func:w.uniform3f,length:3},"3fv":{func:w.uniform3fv,length:1},"3i":{func:w.uniform3i,length:3},"3iv":{func:w.uniform3iv,length:1},"4f":{func:w.uniform4f,length:4},"4fv":{func:w.uniform4fv,length:1},"4i":{func:w.uniform4i,length:4},"4iv":{func:w.uniform4iv,length:1}};var I=w.getSupportedExtensions();(!E.maxTextures||E.maxTextures===-1)&&(E.maxTextures=w.getParameter(w.MAX_TEXTURE_IMAGE_UNITS)),E.maxTextureSize||(E.maxTextureSize=w.getParameter(w.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),this.supportedExtensions=I;var B="ANGLE_instanced_arrays";this.instancedArraysExtension=I.indexOf(B)>-1?w.getExtension(B):null;var b="OES_vertex_array_object";this.vaoExtension=I.indexOf(b)>-1?w.getExtension(b):null,w.disable(w.DEPTH_TEST),w.disable(w.CULL_FACE),w.enable(w.BLEND),w.clearColor(A.redGL,A.greenGL,A.blueGL,A.alphaGL);var k=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];k.indexOf(E.mipmapFilter)!==-1&&(this.mipmapFilter=w[E.mipmapFilter]),this.maxTextures=y.checkShaderMax(w,E.maxTextures),this.textureIndexes=[];for(var U=0;U<this.maxTextures;U++){var Y=w.createTexture();w.activeTexture(w.TEXTURE0+U),w.bindTexture(w.TEXTURE_2D,Y),w.texImage2D(w.TEXTURE_2D,0,w.RGBA,1,1,0,w.RGBA,w.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(U)}return this.pipelines=new c(this),this.setBlendMode(u.BlendModes.NORMAL),this.projectionMatrix=new p().identity(),R.textures.once(m.READY,this.boot,this),this},boot:function(){var E=this.game,w=this.pipelines,R=E.scale.baseSize,O=R.width,A=R.height;this.width=O,this.height=A,this.isBooted=!0,this.renderTarget=new v(this,O,A,1,0,!0,!0),this.maskTarget=new v(this,O,A,1,0,!0,!0),this.maskSource=new v(this,O,A,1,0,!0,!0);var F=E.config;w.boot(F.pipeline,F.defaultPipeline,F.autoMobilePipeline),this.blankTexture=E.textures.getFrame("__DEFAULT").glTexture,this.whiteTexture=E.textures.getFrame("__WHITE").glTexture;var L=this.gl;L.bindFramebuffer(L.FRAMEBUFFER,null),L.enable(L.SCISSOR_TEST),E.scale.on(g.RESIZE,this.onResize,this),this.resize(O,A)},captureFrame:function(E,w){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(E,w,R){},stopCapture:function(){},onCapture:function(E){},onResize:function(E,w){(w.width!==this.width||w.height!==this.height)&&this.resize(w.width,w.height)},beginCapture:function(E,w){E===void 0&&(E=this.width),w===void 0&&(w=this.height),this.renderTarget.bind(!0,E,w),this.setProjectionMatrix(E,w)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(E,w){var R=this.gl;return this.width=E,this.height=w,this.setProjectionMatrix(E,w),R.viewport(0,0,E,w),this.drawingBufferHeight=R.drawingBufferHeight,R.scissor(0,R.drawingBufferHeight-w,E,w),this.defaultScissor[2]=E,this.defaultScissor[3]=w,this.emit(n.RESIZE,E,w),this},getCompressedTextures:function(){var E="WEBGL_compressed_texture_",w="WEBKIT_"+E,R=function(A,F){var L=A.getExtension(E+F)||A.getExtension(w+F);if(L){var I={};for(var B in L)I[L[B]]=B;return I}},O=this.gl;return{ETC:R(O,"etc"),ETC1:R(O,"etc1"),ATC:R(O,"atc"),ASTC:R(O,"astc"),BPTC:R(O,"bptc"),RGTC:R(O,"rgtc"),PVRTC:R(O,"pvrtc"),S3TC:R(O,"s3tc"),S3TCSRGB:R(O,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(E,w){var R=this.compression[E.toUpperCase()];if(w in R)return R[w]},supportsCompressedTexture:function(E,w){var R=this.compression[E.toUpperCase()];return R?w?w in R:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(E,w){return(E!==this.projectionWidth||w!==this.projectionHeight)&&(this.projectionWidth=E,this.projectionHeight=w,this.projectionMatrix.ortho(0,E,w,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(E){return this.supportedExtensions?this.supportedExtensions.indexOf(E):!1},getExtension:function(E){return this.hasExtension(E)?(E in this.extensions||(this.extensions[E]=this.gl.getExtension(E)),this.extensions[E]):null},flush:function(){this.pipelines.flush()},pushScissor:function(E,w,R,O,A){A===void 0&&(A=this.drawingBufferHeight);var F=this.scissorStack,L=[E,w,R,O];return F.push(L),this.setScissor(E,w,R,O,A),this.currentScissor=L,L},setScissor:function(E,w,R,O,A){A===void 0&&(A=this.drawingBufferHeight);var F=this.gl,L=this.currentScissor,I=R>0&&O>0;if(L&&I){var B=L[0],b=L[1],k=L[2],U=L[3];I=B!==E||b!==w||k!==R||U!==O}I&&(this.flush(),F.scissor(E,A-w-O,R,O))},resetScissor:function(){var E=this.gl;E.enable(E.SCISSOR_TEST);var w=this.currentScissor;if(w){var R=w[0],O=w[1],A=w[2],F=w[3];A>0&&F>0&&E.scissor(R,this.drawingBufferHeight-O-F,A,F)}},popScissor:function(){var E=this.scissorStack;E.pop();var w=E[E.length-1];w&&this.setScissor(w[0],w[1],w[2],w[3]),this.currentScissor=w},hasActiveStencilMask:function(){var E=this.currentMask.mask,w=this.currentCameraMask.mask;return E&&E.isStencil||w&&w.isStencil},resetViewport:function(){var E=this.gl;E.viewport(0,0,this.width,this.height),this.drawingBufferHeight=E.drawingBufferHeight},setBlendMode:function(E,w){w===void 0&&(w=!1);var R=this.gl,O=this.blendModes[E];return w||E!==u.BlendModes.SKIP_CHECK&&this.currentBlendMode!==E?(this.flush(),R.enable(R.BLEND),R.blendEquation(O.equation),O.func.length>2?R.blendFuncSeparate(O.func[0],O.func[1],O.func[2],O.func[3]):R.blendFunc(O.func[0],O.func[1]),this.currentBlendMode=E,!0):!1},addBlendMode:function(E,w){var R=this.blendModes.push({func:E,equation:w});return R-1},updateBlendMode:function(E,w,R){return this.blendModes[E]&&(this.blendModes[E].func=w,R&&(this.blendModes[E].equation=R)),this},removeBlendMode:function(E){return E>17&&this.blendModes[E]&&this.blendModes.splice(E,1),this},pushFramebuffer:function(E,w,R,O,A){return E===this.currentFramebuffer?this:(this.fboStack.push(E),this.setFramebuffer(E,w,R,O,A))},setFramebuffer:function(E,w,R,O,A){if(w===void 0&&(w=!1),R===void 0&&(R=!0),O===void 0&&(O=null),A===void 0&&(A=!1),E===this.currentFramebuffer)return this;var F=this.gl,L=this.width,I=this.height;return E&&E.renderTexture&&R?(L=E.renderTexture.width,I=E.renderTexture.height):this.flush(),F.bindFramebuffer(F.FRAMEBUFFER,E),R&&F.viewport(0,0,L,I),O&&F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,O,0),A&&(F.clearColor(0,0,0,0),F.clear(F.COLOR_BUFFER_BIT)),w&&(E?(this.drawingBufferHeight=I,this.pushScissor(0,0,L,I)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=E,this},popFramebuffer:function(E,w){E===void 0&&(E=!1),w===void 0&&(w=!0);var R=this.fboStack;R.pop();var O=R[R.length-1];return O||(O=null),this.setFramebuffer(O,E,w),O},restoreFramebuffer:function(E,w){E===void 0&&(E=!1),w===void 0&&(w=!0);var R=this.fboStack,O=R[R.length-1];O||(O=null),this.currentFramebuffer=null,this.setFramebuffer(O,E,w)},setProgram:function(E){return E!==this.currentProgram?(this.flush(),this.gl.useProgram(E),this.currentProgram=E,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram),this},createTextureFromSource:function(E,w,R,O,A){A===void 0&&(A=!1);var F=this.gl,L=F.NEAREST,I=F.NEAREST,B=F.CLAMP_TO_EDGE,b=null;w=E?E.width:w,R=E?E.height:R;var k=h(w,R);return k&&!A&&(B=F.REPEAT),O===u.ScaleModes.LINEAR&&this.config.antialias&&(L=k&&this.mipmapFilter?this.mipmapFilter:F.LINEAR,I=F.LINEAR),E&&E.compressed&&(L=F.LINEAR,I=F.LINEAR),!E&&typeof w=="number"&&typeof R=="number"?b=this.createTexture2D(0,L,I,B,B,F.RGBA,null,w,R):b=this.createTexture2D(0,L,I,B,B,F.RGBA,E),b},createTexture2D:function(E,w,R,O,A,F,L,I,B,b,k,U){b=b??!0,k===void 0&&(k=!1),U===void 0&&(U=!1);var Y=this.gl,H=Y.createTexture();Y.activeTexture(Y.TEXTURE0);var z=Y.getParameter(Y.TEXTURE_BINDING_2D);Y.bindTexture(Y.TEXTURE_2D,H),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MIN_FILTER,w),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_MAG_FILTER,R),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_S,A),Y.texParameteri(Y.TEXTURE_2D,Y.TEXTURE_WRAP_T,O),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,b),U&&Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,!0);var V=!1;if(L==null)Y.texImage2D(Y.TEXTURE_2D,E,F,I,B,0,F,Y.UNSIGNED_BYTE,null),V=h(I,B);else if(L.compressed){I=L.width,B=L.height,V=L.generateMipmap;for(var D=0;D<L.mipmaps.length;D++)Y.compressedTexImage2D(Y.TEXTURE_2D,D,L.internalFormat,L.mipmaps[D].width,L.mipmaps[D].height,0,L.mipmaps[D].data)}else k||(I=L.width,B=L.height),Y.texImage2D(Y.TEXTURE_2D,E,F,F,Y.UNSIGNED_BYTE,L),V=h(I,B);return V&&Y.generateMipmap(Y.TEXTURE_2D),z&&Y.bindTexture(Y.TEXTURE_2D,z),H.isAlphaPremultiplied=b,H.isRenderTexture=!1,H.width=I,H.height=B,H},createFramebuffer:function(E,w,R,O){O===void 0&&(O=!0);var A=this.gl,F=A.createFramebuffer(),L=0;if(this.setFramebuffer(F),R.isRenderTexture=!0,R.isAlphaPremultiplied=!1,A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,R,0),L=A.checkFramebufferStatus(A.FRAMEBUFFER),L!==A.FRAMEBUFFER_COMPLETE){var I={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"};throw new Error("Framebuffer status: "+(I[L]||L))}if(F.renderTexture=R,O){var B=A.createRenderbuffer();A.bindRenderbuffer(A.RENDERBUFFER,B),A.renderbufferStorage(A.RENDERBUFFER,A.DEPTH_STENCIL,E,w),A.framebufferRenderbuffer(A.FRAMEBUFFER,A.DEPTH_STENCIL_ATTACHMENT,A.RENDERBUFFER,B)}return this.setFramebuffer(null),F},beginBitmapMask:function(E,w){var R=this.gl;R&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==E&&(this.currentMask.mask=E,this.currentMask.camera=w))},drawBitmapMask:function(E,w,R){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),E.renderWebGL(this,E,w),this.maskSource.unbind(!0),this.maskTarget.unbind();var O=this.gl,A=this.getCurrentStencilMask();A?(O.enable(O.STENCIL_TEST),A.mask.applyStencil(this,A.camera,!0)):this.currentMask.mask=null,this.pipelines.set(R),O.activeTexture(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,this.maskTarget.texture),O.activeTexture(O.TEXTURE1),O.bindTexture(O.TEXTURE_2D,this.maskSource.texture)},createProgram:function(E,w){var R=this.gl,O=R.createProgram(),A=R.createShader(R.VERTEX_SHADER),F=R.createShader(R.FRAGMENT_SHADER);R.shaderSource(A,E),R.shaderSource(F,w),R.compileShader(A),R.compileShader(F);var L=`Shader failed:
`;if(!R.getShaderParameter(A,R.COMPILE_STATUS))throw new Error("Vertex "+L+R.getShaderInfoLog(A));if(!R.getShaderParameter(F,R.COMPILE_STATUS))throw new Error("Fragment "+L+R.getShaderInfoLog(F));if(R.attachShader(O,A),R.attachShader(O,F),R.linkProgram(O),!R.getProgramParameter(O,R.LINK_STATUS))throw new Error("Link "+L+R.getProgramInfoLog(O));return R.useProgram(O),O},createVertexBuffer:function(E,w){var R=this.gl,O=R.createBuffer();return R.bindBuffer(R.ARRAY_BUFFER,O),R.bufferData(R.ARRAY_BUFFER,E,w),R.bindBuffer(R.ARRAY_BUFFER,null),O},createIndexBuffer:function(E,w){var R=this.gl,O=R.createBuffer();return R.bindBuffer(R.ELEMENT_ARRAY_BUFFER,O),R.bufferData(R.ELEMENT_ARRAY_BUFFER,E,w),R.bindBuffer(R.ELEMENT_ARRAY_BUFFER,null),O},deleteTexture:function(E){return E&&this.gl.deleteTexture(E),this},deleteFramebuffer:function(E){if(!E)return this;var w=this.gl;this.currentFramebuffer===E&&(this.currentFramebuffer=null),d(this.fboStack,E),w.bindFramebuffer(w.FRAMEBUFFER,E),E.renderTexture=void 0;var R=w.getFramebufferAttachmentParameter(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);R!==null&&(w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,null,0),w.deleteTexture(R));var O=w.getFramebufferAttachmentParameter(w.FRAMEBUFFER,w.DEPTH_STENCIL_ATTACHMENT,w.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);return O!==null&&w.deleteRenderbuffer(O),w.bindFramebuffer(w.FRAMEBUFFER,null),w.deleteFramebuffer(E),this},deleteProgram:function(E){return E&&this.gl.deleteProgram(E),this},deleteBuffer:function(E){return this.gl.deleteBuffer(E),this},preRenderCamera:function(E){var w=E.x,R=E.y,O=E.width,A=E.height,F=E.backgroundColor;if(E.emit(x.PRE_RENDER,E),this.pipelines.preBatchCamera(E),this.pushScissor(w,R,O,A),E.mask&&(this.currentCameraMask.mask=E.mask,this.currentCameraMask.camera=E._maskCamera,E.mask.preRenderWebGL(this,E,E._maskCamera)),F.alphaGL>0){var L=this.pipelines.setMulti();L.drawFillRect(w,R,O,A,y.getTintFromFloats(F.blueGL,F.greenGL,F.redGL,1),F.alphaGL)}},getCurrentStencilMask:function(){var E=null,w=this.maskStack,R=this.currentCameraMask;return w.length>0?E=w[w.length-1]:R.mask&&R.mask.isStencil&&(E=R),E},postRenderCamera:function(E){var w=E.flashEffect,R=E.fadeEffect;if(w.isRunning||R.isRunning||R.isComplete){var O=this.pipelines.setMulti();w.postRenderWebGL(O,y.getTintFromFloats),R.postRenderWebGL(O,y.getTintFromFloats)}E.dirty=!1,this.popScissor(),E.mask&&(this.currentCameraMask.mask=null,E.mask.postRenderWebGL(this,E._maskCamera)),this.pipelines.postBatchCamera(E),E.emit(x.POST_RENDER,E)},preRender:function(){if(!this.contextLost){var E=this.gl;if(E.bindFramebuffer(E.FRAMEBUFFER,null),this.config.clearBeforeRender){var w=this.config.backgroundColor;E.clearColor(w.redGL,w.greenGL,w.blueGL,w.alphaGL),E.clear(E.COLOR_BUFFER_BIT|E.DEPTH_BUFFER_BIT|E.STENCIL_BUFFER_BIT)}E.enable(E.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&E.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(n.PRE_RENDER)}},render:function(E,w,R){if(!this.contextLost){var O=w.length;if(this.emit(n.RENDER,E,R),this.preRenderCamera(R),O===0){this.setBlendMode(u.BlendModes.NORMAL),this.postRenderCamera(R);return}this.currentType="";for(var A=this.currentMask,F=0;F<O;F++){this.finalType=F===O-1;var L=w[F],I=L.mask;A=this.currentMask,A.mask&&A.mask!==I&&A.mask.postRenderWebGL(this,A.camera),I&&A.mask!==I&&I.preRenderWebGL(this,L,R),L.blendMode!==this.currentBlendMode&&this.setBlendMode(L.blendMode);var B=L.type;B!==this.currentType&&(this.newType=!0,this.currentType=B),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=w[F+1].type===this.currentType,L.renderWebGL(this,L,R),this.newType=!1}A=this.currentMask,A.mask&&A.mask.postRenderWebGL(this,A.camera),this.setBlendMode(u.BlendModes.NORMAL),this.postRenderCamera(R)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(n.POST_RENDER);var E=this.snapshotState;E.callback&&(P(this.gl,E),E.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var E=this.gl,w=this.getCurrentStencilMask();if(w){var R=w.mask;E.enable(E.STENCIL_TEST),R.invertAlpha?E.stencilFunc(E.NOTEQUAL,R.level,255):E.stencilFunc(E.EQUAL,R.level,255)}},snapshot:function(E,w,R){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,E,w,R)},snapshotArea:function(E,w,R,O,A,F,L){var I=this.snapshotState;return I.callback=A,I.type=F,I.encoder=L,I.getPixel=!1,I.x=E,I.y=w,I.width=R,I.height=O,this},snapshotPixel:function(E,w,R){return this.snapshotArea(E,w,1,1,R),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(E,w,R,O,A,F,L,I,B,b,k){A===void 0&&(A=!1),F===void 0&&(F=0),L===void 0&&(L=0),I===void 0&&(I=w),B===void 0&&(B=R),b==="pixel"&&(A=!0,b="image/png");var U=this.currentFramebuffer;this.snapshotArea(F,L,I,B,O,b,k);var Y=this.snapshotState;return Y.getPixel=A,Y.isFramebuffer=!0,Y.bufferWidth=w,Y.bufferHeight=R,Y.width=Math.min(Y.width,w),Y.height=Math.min(Y.height,R),this.setFramebuffer(E),P(this.gl,Y),this.setFramebuffer(U),Y.callback=null,Y.isFramebuffer=!1,this},canvasToTexture:function(E,w,R,O){return R===void 0&&(R=!1),O===void 0&&(O=!1),w?this.updateCanvasTexture(E,w,O):this.createCanvasTexture(E,R,O)},createCanvasTexture:function(E,w,R){w===void 0&&(w=!1),R===void 0&&(R=!1);var O=this.gl,A=O.NEAREST,F=O.NEAREST,L=E.width,I=E.height,B=O.CLAMP_TO_EDGE,b=h(L,I);return!w&&b&&(B=O.REPEAT),this.config.antialias&&(A=b&&this.mipmapFilter?this.mipmapFilter:O.LINEAR,F=O.LINEAR),this.createTexture2D(0,A,F,B,B,O.RGBA,E,L,I,!0,!1,R)},updateCanvasTexture:function(E,w,R){R===void 0&&(R=!1);var O=this.gl,A=E.width,F=E.height;if(A>0&&F>0){O.activeTexture(O.TEXTURE0);var L=O.getParameter(O.TEXTURE_BINDING_2D);O.bindTexture(O.TEXTURE_2D,w),R&&O.pixelStorei(O.UNPACK_FLIP_Y_WEBGL,!0),O.pixelStorei(O.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),O.texImage2D(O.TEXTURE_2D,0,O.RGBA,O.RGBA,O.UNSIGNED_BYTE,E),w.width=A,w.height=F,L&&O.bindTexture(O.TEXTURE_2D,L)}return w},createVideoTexture:function(E,w,R){w===void 0&&(w=!1),R===void 0&&(R=!1);var O=this.gl,A=O.NEAREST,F=O.NEAREST,L=E.videoWidth,I=E.videoHeight,B=O.CLAMP_TO_EDGE,b=h(L,I);return!w&&b&&(B=O.REPEAT),this.config.antialias&&(A=b&&this.mipmapFilter?this.mipmapFilter:O.LINEAR,F=O.LINEAR),this.createTexture2D(0,A,F,B,B,O.RGBA,E,L,I,!0,!0,R)},updateVideoTexture:function(E,w,R){R===void 0&&(R=!1);var O=this.gl,A=E.videoWidth,F=E.videoHeight;if(A>0&&F>0){O.activeTexture(O.TEXTURE0);var L=O.getParameter(O.TEXTURE_BINDING_2D);O.bindTexture(O.TEXTURE_2D,w),O.pixelStorei(O.UNPACK_FLIP_Y_WEBGL,R),O.texImage2D(O.TEXTURE_2D,0,O.RGBA,O.RGBA,O.UNSIGNED_BYTE,E),w.width=A,w.height=F,L&&O.bindTexture(O.TEXTURE_2D,L)}return w},setTextureFilter:function(E,w){var R=this.gl,O=w===0?R.LINEAR:R.NEAREST;R.activeTexture(R.TEXTURE0);var A=R.getParameter(R.TEXTURE_BINDING_2D);return R.bindTexture(R.TEXTURE_2D,E),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,O),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MAG_FILTER,O),A&&R.bindTexture(R.TEXTURE_2D,A),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});r.exports=M},71305:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(72632),f=i(71402),u=new d({initialize:function(n,h,p,a,c){this.pipeline=n,this.name=h,this.renderer=n.renderer,this.gl=this.renderer.gl,this.fragSrc=a,this.vertSrc=p,this.program=this.renderer.createProgram(p,a),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(c),this.createUniforms()},createAttributes:function(o){var n=0,h=0,p=[];this.vertexComponentCount=0;for(var a=0;a<o.length;a++){var c=o[a],v=c.name,g=x(c,"size",1),m=x(c,"type",f.FLOAT),y=m.enum,P=m.size,M=!!c.normalized;p.push({name:v,size:g,type:y,normalized:M,offset:h,enabled:!1,location:-1}),P===4?n+=g:n++,h+=g*P}this.vertexSize=h,this.vertexComponentCount=n,this.attributes=p},bind:function(o,n){return o===void 0&&(o=!1),n===void 0&&(n=!1),n&&this.pipeline.flush(),this.renderer.setProgram(this.program),o&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(o){o===void 0&&(o=!1);for(var n=this.gl,h=this.vertexSize,p=this.attributes,a=this.program,c=0;c<p.length;c++){var v=p[c],g=v.size,m=v.type,y=v.offset,P=v.enabled,M=v.location,E=!!v.normalized;if(o){var w=n.getAttribLocation(a,v.name);w>=0?(n.enableVertexAttribArray(w),n.vertexAttribPointer(w,g,m,E,h,y),v.enabled=!0,v.location=w):w!==-1&&n.disableVertexAttribArray(w)}else P?n.vertexAttribPointer(M,g,m,E,h,y):!P&&M>-1&&(n.disableVertexAttribArray(M),v.location=-1)}return this},createUniforms:function(){var o=this.gl,n=this.program,h=this.uniforms,p,a,c,v=o.getProgramParameter(n,o.ACTIVE_UNIFORMS);for(p=0;p<v;p++){var g=o.getActiveUniform(n,p);if(g){a=g.name,c=o.getUniformLocation(n,a),c!==null&&(h[a]={name:a,location:c,value1:null,value2:null,value3:null,value4:null});var m=a.indexOf("[");m>0&&(a=a.substr(0,m),h.hasOwnProperty(a)||(c=o.getUniformLocation(n,a),c!==null&&(h[a]={name:a,location:c,value1:null,value2:null,value3:null,value4:null})))}}return this},hasUniform:function(o){return this.uniforms.hasOwnProperty(o)},resetUniform:function(o){var n=this.uniforms[o];return n&&(n.value1=null,n.value2=null,n.value3=null,n.value4=null),this},setUniform1:function(o,n,h,p){var a=this.uniforms[n];return a?((p||a.value1!==h)&&(a.value1=h,this.renderer.setProgram(this.program),o.call(this.gl,a.location,h),this.pipeline.currentShader=this),this):this},setUniform2:function(o,n,h,p,a){var c=this.uniforms[n];return c?((a||c.value1!==h||c.value2!==p)&&(c.value1=h,c.value2=p,this.renderer.setProgram(this.program),o.call(this.gl,c.location,h,p),this.pipeline.currentShader=this),this):this},setUniform3:function(o,n,h,p,a,c){var v=this.uniforms[n];return v?((c||v.value1!==h||v.value2!==p||v.value3!==a)&&(v.value1=h,v.value2=p,v.value3=a,this.renderer.setProgram(this.program),o.call(this.gl,v.location,h,p,a),this.pipeline.currentShader=this),this):this},setUniform4:function(o,n,h,p,a,c,v){var g=this.uniforms[n];return g?((v||g.value1!==h||g.value2!==p||g.value3!==a||g.value4!==c)&&(g.value1=h,g.value2=p,g.value3=a,g.value4=c,this.renderer.setProgram(this.program),o.call(this.gl,g.location,h,p,a,c),this.pipeline.currentShader=this),this):this},setBoolean:function(o,n){return this.setUniform1(this.gl.uniform1i,o,Number(n))},set1f:function(o,n){return this.setUniform1(this.gl.uniform1f,o,n)},set2f:function(o,n,h){return this.setUniform2(this.gl.uniform2f,o,n,h)},set3f:function(o,n,h,p){return this.setUniform3(this.gl.uniform3f,o,n,h,p)},set4f:function(o,n,h,p,a){return this.setUniform4(this.gl.uniform4f,o,n,h,p,a)},set1fv:function(o,n){return this.setUniform1(this.gl.uniform1fv,o,n,!0)},set2fv:function(o,n){return this.setUniform1(this.gl.uniform2fv,o,n,!0)},set3fv:function(o,n){return this.setUniform1(this.gl.uniform3fv,o,n,!0)},set4fv:function(o,n){return this.setUniform1(this.gl.uniform4fv,o,n,!0)},set1iv:function(o,n){return this.setUniform1(this.gl.uniform1iv,o,n,!0)},set2iv:function(o,n){return this.setUniform1(this.gl.uniform2iv,o,n,!0)},set3iv:function(o,n){return this.setUniform1(this.gl.uniform3iv,o,n,!0)},set4iv:function(o,n){return this.setUniform1(this.gl.uniform4iv,o,n,!0)},set1i:function(o,n){return this.setUniform1(this.gl.uniform1i,o,n)},set2i:function(o,n,h){return this.setUniform2(this.gl.uniform2i,o,n,h)},set3i:function(o,n,h,p){return this.setUniform3(this.gl.uniform3i,o,n,h,p)},set4i:function(o,n,h,p,a){return this.setUniform4(this.gl.uniform4i,o,n,h,p,a)},setMatrix2fv:function(o,n,h){return this.setUniform2(this.gl.uniformMatrix2fv,o,n,h,!0)},setMatrix3fv:function(o,n,h){return this.setUniform2(this.gl.uniformMatrix3fv,o,n,h,!0)},setMatrix4fv:function(o,n,h){return this.setUniform2(this.gl.uniformMatrix4fv,o,n,h,!0)},createProgram:function(o,n){o===void 0&&(o=this.vertSrc),n===void 0&&(n=this.fragSrc);var h=this.gl;return this.program&&h.deleteProgram(this.program),this.vertSrc=o,this.fragSrc=n,this.program=this.renderer.createProgram(o,n),this.createUniforms(),this.rebind()},destroy:function(){this.gl.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null,this.attributes=null,this.uniforms=null}});r.exports=u},71402:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};r.exports=T},55478:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(71402),x=i(98611),f={PipelineManager:i(35217),Pipelines:i(62253),RenderTarget:i(37410),Utils:i(75512),WebGLPipeline:i(44775),WebGLRenderer:i(11857),WebGLShader:i(71305)};f=x(!1,f,d),r.exports=f},5583:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(72632),f=i(91679),u=i(89053),o=i(71402),n=i(44775),h=new d({Extends:n,initialize:function(a){a.fragShader=x(a,"fragShader",f),a.vertShader=x(a,"vertShader",u),a.batchSize=x(a,"batchSize",1),a.vertices=x(a,"vertices",[-1,1,-1,-7,7,1]),a.attributes=x(a,"attributes",[{name:"inPosition",size:2,type:o.FLOAT}]),n.call(this,a)},boot:function(){n.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(p,a){n.prototype.resize.call(this,p,a),this.set2f("uResolution",p,a)},beginMask:function(p,a,c){this.renderer.beginBitmapMask(p,c)},endMask:function(p,a,c){var v=this.gl,g=this.renderer,m=p.bitmapMask;m&&v&&(g.drawBitmapMask(m,a,this),c&&this.set2f("uResolution",c.width,c.height),this.set1i("uInvertMaskAlpha",p.invertAlpha),v.drawArrays(this.topology,0,3),c&&this.set2f("uResolution",this.width,this.height),v.bindTexture(v.TEXTURE_2D,null))}});r.exports=h},81828:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(58136),f=i(47406),u=i(72632),o=i(87228),n=i(92462),h=i(75512),p=new d({Extends:o,initialize:function(c){c.shaders=[h.setGlowQuality(n.FXGlowFrag,c.game),n.FXShadowFrag,n.FXPixelateFrag,n.FXVignetteFrag,n.FXShineFrag,n.FXBlurLowFrag,n.FXBlurMedFrag,n.FXBlurHighFrag,n.FXGradientFrag,n.FXBloomFrag,n.ColorMatrixFrag,n.FXCircleFrag,n.FXBarrelFrag,n.FXDisplacementFrag,n.FXWipeFrag,n.FXBokehFrag],o.call(this,c);var v=this.game;this.glow=new x.Glow(v),this.shadow=new x.Shadow(v),this.pixelate=new x.Pixelate(v),this.vignette=new x.Vignette(v),this.shine=new x.Shine(v),this.gradient=new x.Gradient(v),this.circle=new x.Circle(v),this.barrel=new x.Barrel(v),this.wipe=new x.Wipe(v),this.bokeh=new x.Bokeh(v);var g=[];g[f.GLOW]=this.onGlow,g[f.SHADOW]=this.onShadow,g[f.PIXELATE]=this.onPixelate,g[f.VIGNETTE]=this.onVignette,g[f.SHINE]=this.onShine,g[f.BLUR]=this.onBlur,g[f.GRADIENT]=this.onGradient,g[f.BLOOM]=this.onBloom,g[f.COLOR_MATRIX]=this.onColorMatrix,g[f.CIRCLE]=this.onCircle,g[f.BARREL]=this.onBarrel,g[f.DISPLACEMENT]=this.onDisplacement,g[f.WIPE]=this.onWipe,g[f.BOKEH]=this.onBokeh,this.fxHandlers=g,this.source,this.target,this.swap},onDraw:function(a,c,v){this.source=a,this.target=c,this.swap=v;var g=a.width,m=a.height,y=this.tempSprite,P=this.fxHandlers;if(y&&y.preFX)for(var M=y.preFX.list,E=0;E<M.length;E++){var w=M[E];w.active&&P[w.type].call(this,w,g,m)}this.drawToGame(this.source)},runDraw:function(){var a=this.source,c=this.target;this.copy(a,c),this.source=c,this.target=a},onGlow:function(a,c,v){var g=this.shaders[f.GLOW];this.setShader(g),this.glow.onPreRender(a,g,c,v),this.runDraw()},onShadow:function(a){var c=this.shaders[f.SHADOW];this.setShader(c),this.shadow.onPreRender(a,c),this.runDraw()},onPixelate:function(a,c,v){var g=this.shaders[f.PIXELATE];this.setShader(g),this.pixelate.onPreRender(a,g,c,v),this.runDraw()},onVignette:function(a){var c=this.shaders[f.VIGNETTE];this.setShader(c),this.vignette.onPreRender(a,c),this.runDraw()},onShine:function(a,c,v){var g=this.shaders[f.SHINE];this.setShader(g),this.shine.onPreRender(a,g,c,v),this.runDraw()},onBlur:function(a,c,v){var g=u(a,"quality"),m=this.shaders[f.BLUR+g];this.setShader(m),this.set1i("uMainSampler",0),this.set2f("resolution",c,v),this.set1f("strength",u(a,"strength")),this.set3fv("color",u(a,"glcolor"));for(var y=u(a,"x"),P=u(a,"y"),M=u(a,"steps"),E=0;E<M;E++)this.set2f("offset",y,0),this.runDraw(),this.set2f("offset",0,P),this.runDraw()},onGradient:function(a){var c=this.shaders[f.GRADIENT];this.setShader(c),this.gradient.onPreRender(a,c),this.runDraw()},onBloom:function(a,c,v){var g=this.shaders[f.BLOOM];this.copySprite(this.source,this.swap),this.setShader(g),this.set1i("uMainSampler",0),this.set1f("strength",u(a,"blurStrength")),this.set3fv("color",u(a,"glcolor"));for(var m=2/c*u(a,"offsetX"),y=2/v*u(a,"offsetY"),P=u(a,"steps"),M=0;M<P;M++)this.set2f("offset",m,0),this.runDraw(),this.set2f("offset",0,y),this.runDraw();this.blendFrames(this.swap,this.source,this.target,u(a,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(a){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",a.getData()),this.set1f("uAlpha",a.alpha),this.runDraw()},onCircle:function(a,c,v){var g=this.shaders[f.CIRCLE];this.setShader(g),this.circle.onPreRender(a,g,c,v),this.runDraw()},onBarrel:function(a){var c=this.shaders[f.BARREL];this.setShader(c),this.barrel.onPreRender(a,c),this.runDraw()},onDisplacement:function(a){this.setShader(this.shaders[f.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",a.x,a.y),this.bindTexture(a.glTexture,1),this.runDraw()},onWipe:function(a){var c=this.shaders[f.WIPE];this.setShader(c),this.wipe.onPreRender(a,c),this.runDraw()},onBokeh:function(a,c,v){var g=this.shaders[f.BOKEH];this.setShader(g),this.bokeh.onPreRender(a,g,c,v),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,o.prototype.destroy.call(this),this}});r.exports=p},66901:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(72632),f=i(65045),u=i(77310),o=i(69360),n=i(93736),h=i(44775),p=new d({Extends:u,initialize:function(c){var v=x(c,"fragShader",f);c.fragShader=v.replace("%LIGHT_COUNT%",c.game.renderer.config.maxLights),u.call(this,c),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.defaultNormalMap,this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new n,this._tempMatrix=new o,this._tempMatrix2=new o},boot:function(){h.prototype.boot.call(this);var a=this.gl,c=a.createTexture();a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,c),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,new Uint8Array([127,127,255,255])),this.defaultNormalMap={glTexture:c}},onRender:function(a,c){var v=a.sys.lights;if(this.lightsActive=!1,!(!v||!v.active)){var g=v.getLights(c),m=g.length;this.lightsActive=!0;var y,P=this.renderer,M=P.height,E=c.matrix,w=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",c.x,c.y,c.rotation,c.zoom),this.set3f("uAmbientLightColor",v.ambientColor.r,v.ambientColor.g,v.ambientColor.b),this.set1i("uLightCount",m),y=0;y<m;y++){var R=g[y].light,O=R.color,A="uLights["+y+"].";E.transformPoint(R.x,R.y,w),this.set2f(A+"position",w.x-c.scrollX*R.scrollFactorX*c.zoom,M-(w.y-c.scrollY*R.scrollFactorY*c.zoom)),this.set3f(A+"color",O.r,O.g,O.b),this.set1f(A+"intensity",R.intensity),this.set1f(A+"radius",R.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(a){if(a!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var c=this.inverseRotationMatrix;if(a){var v=-a,g=Math.cos(v),m=Math.sin(v);c[1]=m,c[3]=-m,c[0]=c[4]=g}else c[0]=c[4]=1,c[1]=c[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,c),this.currentNormalMapRotation=a}},setTexture2D:function(a,c){var v=this.renderer;a===void 0&&(a=v.whiteTexture);var g=this.getNormalMap(c);this.isNewNormalMap(a,g)&&(this.flush(),this.createBatch(a),this.addTextureToBatch(g),this.currentNormalMap=g);var m=0;if(c&&c.parentContainer){var y=c.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);m=y.rotationNormalized}else c&&(m=c.rotation);return this.setNormalMapRotation(m),0},setGameObject:function(a,c){c===void 0&&(c=a.frame);var v=c.glTexture,g=this.getNormalMap(a);if(this.isNewNormalMap(v,g)&&(this.flush(),this.createBatch(v),this.addTextureToBatch(g),this.currentNormalMap=g),a.parentContainer){var m=a.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(m.rotationNormalized)}else this.setNormalMapRotation(a.rotation);return 0},isNewNormalMap:function(a,c){return this.currentTexture!==a||this.currentNormalMap!==c},getNormalMap:function(a){var c;return a?a.displayTexture?c=a.displayTexture.dataSource[a.displayFrame.sourceIndex]:a.texture?c=a.texture.dataSource[a.frame.sourceIndex]:a.tileset&&(Array.isArray(a.tileset)?c=a.tileset[0].image.dataSource[0]:c=a.tileset.image.dataSource[0]):c=this.defaultNormalMap,c||(c=this.defaultNormalMap),c.glTexture},batchSprite:function(a,c,v){this.lightsActive&&u.prototype.batchSprite.call(this,a,c,v)},batchTexture:function(a,c,v,g,m,y,P,M,E,w,R,O,A,F,L,I,B,b,k,U,Y,H,z,V,D,G,N,X,W,$,K,j){this.lightsActive&&u.prototype.batchTexture.call(this,a,c,v,g,m,y,P,M,E,w,R,O,A,F,L,I,B,b,k,U,Y,H,z,V,D,G,N,X,W,$,K,j)},batchTextureFrame:function(a,c,v,g,m,y,P){this.lightsActive&&u.prototype.batchTextureFrame.call(this,a,c,v,g,m,y,P)}});r.exports=p},71264:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(72632),f=i(77310),u=i(85060),o=i(18166),n=i(71402),h=i(44775),p=new d({Extends:f,initialize:function(c){c.fragShader=x(c,"fragShader",u),c.vertShader=x(c,"vertShader",o),c.attributes=x(c,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:n.UNSIGNED_BYTE,normalized:!0}]),c.forceZero=!0,f.call(this,c)},boot:function(){h.prototype.boot.call(this);var a=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",a.width,a.height),this.set1i("uRoundPixels",a.config.roundPixels)}});r.exports=p},77310:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(11117),f=i(72632),u=i(53787),o=i(15968),n=i(69360),h=i(75512),p=i(71402),a=i(44775),c=new d({Extends:a,initialize:function(g){var m=g.game.renderer,y=f(g,"fragShader",u);g.fragShader=h.parseFragmentShaderMaxTextures(y,m.maxTextures),g.vertShader=f(g,"vertShader",o),g.attributes=f(g,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:p.UNSIGNED_BYTE,normalized:!0}]),a.call(this,g),this._tempMatrix1=new n,this._tempMatrix2=new n,this._tempMatrix3=new n,this.calcMatrix=new n,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){a.prototype.boot.call(this);var v=this.renderer;this.set1iv("uMainSampler",v.textureIndexes),this.set2f("uResolution",v.width,v.height),this.set1i("uRoundPixels",v.config.roundPixels)},batchSprite:function(v,g,m){this.manager.set(this,v);var y=this._tempMatrix1,P=this._tempMatrix2,M=this._tempMatrix3,E=v.frame,w=E.glTexture,R=E.u0,O=E.v0,A=E.u1,F=E.v1,L=E.x,I=E.y,B=E.cutWidth,b=E.cutHeight,k=E.customPivot,U=v.displayOriginX,Y=v.displayOriginY,H=-U+L,z=-Y+I;if(v.isCropped){var V=v._crop;(V.flipX!==v.flipX||V.flipY!==v.flipY)&&E.updateCropUVs(V,v.flipX,v.flipY),R=V.u0,O=V.v0,A=V.u1,F=V.v1,B=V.width,b=V.height,L=V.x,I=V.y,H=-U+L,z=-Y+I}var D=1,G=1;v.flipX&&(k||(H+=-E.realWidth+U*2),D=-1),(v.flipY||E.source.isGLTexture&&!w.flipY)&&(k||(z+=-E.realHeight+Y*2),G=-1);var N=v.x,X=v.y;P.applyITRS(N,X,v.rotation,v.scaleX*D,v.scaleY*G),y.copyFrom(g.matrix),m?(y.multiplyWithOffset(m,-g.scrollX*v.scrollFactorX,-g.scrollY*v.scrollFactorY),P.e=N,P.f=X):(P.e-=g.scrollX*v.scrollFactorX,P.f-=g.scrollY*v.scrollFactorY),y.multiply(P,M);var W=M.setQuad(H,z,H+B,z+b),$=h.getTintAppendFloatAlpha,K=g.alpha,j=$(v.tintTopLeft,K*v._alphaTL),Z=$(v.tintTopRight,K*v._alphaTR),J=$(v.tintBottomLeft,K*v._alphaBL),Q=$(v.tintBottomRight,K*v._alphaBR);this.shouldFlush(6)&&this.flush();var _=this.setGameObject(v,E);this.manager.preBatch(v),this.currentShader.set1i("uRoundPixels",g.roundPixels),this.batchQuad(v,W[0],W[1],W[2],W[3],W[4],W[5],W[6],W[7],R,O,A,F,j,Z,J,Q,v.tintFill,w,_),this.manager.postBatch(v)},batchTexture:function(v,g,m,y,P,M,E,w,R,O,A,F,L,I,B,b,k,U,Y,H,z,V,D,G,N,X,W,$,K,j,Z,J,Q){Q===void 0&&(Q=!1),this.manager.set(this,v);var _=this._tempMatrix1,q=this._tempMatrix2,et=this._tempMatrix3,ot=U/m+W,ut=Y/y+$,lt=(U+H)/m+W,tt=(Y+z)/y+$,at=E,rt=w,gt=-b,mt=-k;if(v.isCropped){var zt=v._crop,bt=zt.width,Et=zt.height;at=bt,rt=Et,E=bt,w=Et,U=zt.x,Y=zt.y;var xt=U,Qt=Y;F&&(xt=H-zt.x-bt),L&&(Qt=z-zt.y-Et),ot=xt/m+W,ut=Qt/y+$,lt=(xt+bt)/m+W,tt=(Qt+Et)/y+$,gt=-b+U,mt=-k+Y}L=L^(!Z&&g.isRenderTexture?1:0),F&&(at*=-1,gt+=E),L&&(rt*=-1,mt+=w),q.applyITRS(P,M,A,R,O),_.copyFrom(K.matrix),j?(_.multiplyWithOffset(j,-K.scrollX*I,-K.scrollY*B),q.e=P,q.f=M):(q.e-=K.scrollX*I,q.f-=K.scrollY*B),_.multiply(q,et);var Lt=et.setQuad(gt,mt,gt+at,mt+rt);J==null&&(J=this.setTexture2D(g)),v&&!Q&&this.manager.preBatch(v),this.currentShader.set1i("uRoundPixels",K.roundPixels),this.batchQuad(v,Lt[0],Lt[1],Lt[2],Lt[3],Lt[4],Lt[5],Lt[6],Lt[7],ot,ut,lt,tt,V,D,G,N,X,g,J),v&&!Q&&this.manager.postBatch(v)},batchTextureFrame:function(v,g,m,y,P,M,E){this.manager.set(this);var w=this._tempMatrix1.copyFrom(M),R=this._tempMatrix2;E?w.multiply(E,R):R=w;var O=R.setQuad(g,m,g+v.width,m+v.height),A=this.setTexture2D(v.source.glTexture);y=h.getTintAppendFloatAlpha(y,P),this.batchQuad(null,O[0],O[1],O[2],O[3],O[4],O[5],O[6],O[7],v.u0,v.v0,v.u1,v.v1,y,y,y,y,0,v.glTexture,A)},batchFillRect:function(v,g,m,y,P,M){this.renderer.pipelines.set(this);var E=this.calcMatrix;M&&M.multiply(P,E);var w=E.setQuad(v,g,v+m,g+y),R=this.fillTint;this.batchQuad(null,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],0,0,1,1,R.TL,R.TR,R.BL,R.BR,2)},batchFillTriangle:function(v,g,m,y,P,M,E,w){this.renderer.pipelines.set(this);var R=this.calcMatrix;w&&w.multiply(E,R);var O=R.getX(v,g),A=R.getY(v,g),F=R.getX(m,y),L=R.getY(m,y),I=R.getX(P,M),B=R.getY(P,M),b=this.fillTint;this.currentShader.set1i("uRoundPixels",!1),this.batchTri(null,O,A,F,L,I,B,0,0,1,1,b.TL,b.TR,b.BL,2)},batchStrokeTriangle:function(v,g,m,y,P,M,E,w,R){var O=this.tempTriangle;O[0].x=v,O[0].y=g,O[0].width=E,O[1].x=m,O[1].y=y,O[1].width=E,O[2].x=P,O[2].y=M,O[2].width=E,O[3].x=v,O[3].y=g,O[3].width=E,this.batchStrokePath(O,E,!1,w,R)},batchFillPath:function(v,g,m){this.renderer.pipelines.set(this);var y=this.calcMatrix;m&&m.multiply(g,y);for(var P=v.length,M=this.polygonCache,E,w,R=this.fillTint.TL,O=this.fillTint.TR,A=this.fillTint.BL,F=0;F<P;++F)w=v[F],M.push(w.x,w.y);E=x(M),P=E.length,this.currentShader.set1i("uRoundPixels",!1);for(var L=0;L<P;L+=3){var I=E[L+0]*2,B=E[L+1]*2,b=E[L+2]*2,k=M[I+0],U=M[I+1],Y=M[B+0],H=M[B+1],z=M[b+0],V=M[b+1],D=y.getX(k,U),G=y.getY(k,U),N=y.getX(Y,H),X=y.getY(Y,H),W=y.getX(z,V),$=y.getY(z,V);this.batchTri(null,D,G,N,X,W,$,0,0,1,1,R,O,A,2)}M.length=0},batchStrokePath:function(v,g,m,y,P){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var M=v.length-1,E=0;E<M;E++){var w=v[E],R=v[E+1];this.batchLine(w.x,w.y,R.x,R.y,w.width/2,R.width/2,g,E,!m&&E===M-1,y,P)}},batchLine:function(v,g,m,y,P,M,E,w,R,O,A){this.renderer.pipelines.set(this);var F=this.calcMatrix;A&&A.multiply(O,F);var L=m-v,I=y-g,B=Math.sqrt(L*L+I*I);if(B!==0){var b=P*(y-g)/B,k=P*(v-m)/B,U=M*(y-g)/B,Y=M*(v-m)/B,H=m-U,z=y-Y,V=v-b,D=g-k,G=m+U,N=y+Y,X=v+b,W=g+k,$=F.getX(H,z),K=F.getY(H,z),j=F.getX(V,D),Z=F.getY(V,D),J=F.getX(G,N),Q=F.getY(G,N),_=F.getX(X,W),q=F.getY(X,W),et=this.strokeTint,ot=et.TL,ut=et.TR,lt=et.BL,tt=et.BR;if(this.currentShader.set1i("uRoundPixels",!1),this.batchQuad(null,_,q,j,Z,$,K,J,Q,0,0,1,1,ot,ut,lt,tt,2),!(E<=2)){var at=this.prevQuad,rt=this.firstQuad;w>0&&at[4]?this.batchQuad(null,_,q,j,Z,at[0],at[1],at[2],at[3],0,0,1,1,ot,ut,lt,tt,2):(rt[0]=_,rt[1]=q,rt[2]=j,rt[3]=Z,rt[4]=1),R&&rt[4]?this.batchQuad(null,$,K,J,Q,rt[0],rt[1],rt[2],rt[3],0,0,1,1,ot,ut,lt,tt,2):(at[0]=$,at[1]=K,at[2]=J,at[3]=Q,at[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,a.prototype.destroy.call(this),this}});r.exports=c},10919:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(72632),f=i(83327),u=i(54677),o=i(44775),n=new d({Extends:o,initialize:function(p){p.vertShader=x(p,"vertShader",u),p.fragShader=x(p,"fragShader",f),p.attributes=x(p,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),o.call(this,p)},onRender:function(h,p){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",p.zoom)},batchPointLight:function(h,p,a,c,v,g,m,y,P,M,E,w){var R=h.color,O=h.intensity,A=h.radius,F=h.attenuation,L=R.r*O,I=R.g*O,B=R.b*O,b=p.alpha*h.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(a,c,E,w,A,F,L,I,B,b),this.batchLightVert(v,g,E,w,A,F,L,I,B,b),this.batchLightVert(m,y,E,w,A,F,L,I,B,b),this.batchLightVert(a,c,E,w,A,F,L,I,B,b),this.batchLightVert(m,y,E,w,A,F,L,I,B,b),this.batchLightVert(P,M,E,w,A,F,L,I,B,b),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(h,p,a,c,v,g,m,y,P,M){var E=this.vertexViewF32,w=this.vertexCount*this.currentShader.vertexComponentCount-1;E[++w]=h,E[++w]=p,E[++w]=a,E[++w]=c,E[++w]=v,E[++w]=g,E[++w]=m,E[++w]=y,E[++w]=P,E[++w]=M,this.vertexCount++}});r.exports=n},80486:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(65246),f=i(72632),u=i(12569),o=i(99365),n=i(44775),h=new d({Extends:n,initialize:function(a){a.renderTarget=f(a,"renderTarget",1),a.fragShader=f(a,"fragShader",u),a.vertShader=f(a,"vertShader",o),a.attributes=f(a,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),a.batchSize=1,a.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],n.call(this,a),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new x,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){n.prototype.boot.call(this);var p=this.manager.UTILITY_PIPELINE;this.fullFrame1=p.fullFrame1,this.fullFrame2=p.fullFrame2,this.halfFrame1=p.halfFrame1,this.halfFrame2=p.halfFrame2;var a=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",a.width,a.height),this.set1i("uRoundPixels",a.config.roundPixels);for(var c=this.renderTargets,v=0;v<c.length;v++)c[v].autoResize=!0},postBatch:function(p){return this.hasBooted||this.bootFX(),this.onDraw(this.currentRenderTarget),this.onPostBatch(p),this},onDraw:function(p){this.bindAndDraw(p)},getController:function(p){return p!==void 0?p:this.controller?this.controller:this},copySprite:function(p,a,c){c===void 0&&(c=!1);var v=this.gl;v.activeTexture(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,p.texture);var g=v.getParameter(v.FRAMEBUFFER_BINDING);v.bindFramebuffer(v.FRAMEBUFFER,a.framebuffer),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,a.texture,0),v.clearColor(0,0,0,0),v.clear(v.COLOR_BUFFER_BIT),v.bufferData(v.ARRAY_BUFFER,this.vertexData,v.STATIC_DRAW),v.drawArrays(v.TRIANGLES,0,6),c&&(v.bindTexture(v.TEXTURE_2D,null),v.bindFramebuffer(v.FRAMEBUFFER,g))},copyFrame:function(p,a,c,v,g){this.manager.copyFrame(p,a,c,v,g)},copyToGame:function(p){this.manager.copyToGame(p)},drawFrame:function(p,a,c){this.manager.drawFrame(p,a,c,this.colorMatrix)},blendFrames:function(p,a,c,v,g){this.manager.blendFrames(p,a,c,v,g)},blendFramesAdditive:function(p,a,c,v,g){this.manager.blendFramesAdditive(p,a,c,v,g)},clearFrame:function(p,a){this.manager.clearFrame(p,a)},blitFrame:function(p,a,c,v,g,m){this.manager.blitFrame(p,a,c,v,g,m)},copyFrameRect:function(p,a,c,v,g,m,y,P){this.manager.copyFrameRect(p,a,c,v,g,m,y,P)},bindAndDraw:function(p,a,c,v,g){c===void 0&&(c=!0),v===void 0&&(v=!0);var m=this.gl,y=this.renderer;this.bind(g),this.set1i("uMainSampler",0),a?(m.viewport(0,0,a.width,a.height),m.bindFramebuffer(m.FRAMEBUFFER,a.framebuffer),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,a.texture,0),c&&(v?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT))):(y.popFramebuffer(!1,!1),y.currentFramebuffer||m.viewport(0,0,y.width,y.height)),y.restoreStencilMask(),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,p.texture),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6),a&&(m.bindTexture(m.TEXTURE_2D,null),m.bindFramebuffer(m.FRAMEBUFFER,y.currentFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,n.prototype.destroy.call(this),this}});r.exports=h},87228:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(95723),x=i(79993),f=i(56694),u=i(37486),o=i(72632),n=i(77310),h=i(12569),p=i(74118),a=i(37410),c=i(85060),v=i(18166),g=i(44775),m=new f({Extends:n,initialize:function(P){var M=o(P,"fragShader",h),E=o(P,"vertShader",v),w=o(P,"drawShader",h),R=[{name:"DrawSprite",fragShader:c,vertShader:v},{name:"CopySprite",fragShader:M,vertShader:E},{name:"DrawGame",fragShader:w,vertShader:v},{name:"ColorMatrix",fragShader:u}],O=o(P,"shaders",[]);P.shaders=R.concat(O),P.vertShader||(P.vertShader=E),P.batchSize=1,n.call(this,P),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new p,this.targetBounds=new p,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){g.prototype.boot.call(this);var y=this.shaders,P=this.renderer;this.drawSpriteShader=y[0],this.copyShader=y[1],this.gameShader=y[2],this.colorMatrixShader=y[3],this.fsTarget=new a(P,P.width,P.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var M=new ArrayBuffer(168);this.quadVertexData=M,this.quadVertexViewF32=new Float32Array(M),this.quadVertexBuffer=P.createVertexBuffer(M,this.gl.STATIC_DRAW),this.onResize(P.width,P.height),this.currentShader=this.copyShader,this.set2f("uResolution",P.width,P.height),this.set1i("uRoundPixels",P.config.roundPixels)},onResize:function(y,P){var M=this.quadVertexViewF32;M[1]=P,M[22]=P,M[14]=y,M[28]=y,M[35]=y,M[36]=P},batchQuad:function(y,P,M,E,w,R,O,A,F,L,I,B,b,k,U,Y,H,z,V){var D=Math.min(P,E,R,A),G=Math.min(M,w,O,F),N=Math.max(P,E,R,A),X=Math.max(M,w,O,F),W=N-D,$=X-G,K=this.spriteBounds.setTo(D,G,W,$),j=y?y.preFX.padding:0,Z=W+j*2,J=$+j*2,Q=Math.abs(Math.max(Z,J)),_=this.manager.getRenderTarget(Q),q=this.targetBounds.setTo(0,0,_.width,_.height);x(q,K.centerX,K.centerY),this.tempSprite=y;var et=this.gl,ot=this.renderer;ot.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",ot.width,ot.height),this.set1i("uRoundPixels",ot.config.roundPixels),this.flipProjectionMatrix(!0),y&&(this.onDrawSprite(y,_),y.preFX.onFX(this));var ut=this.fsTarget;return this.flush(),et.viewport(0,0,ot.width,ot.height),et.bindFramebuffer(et.FRAMEBUFFER,ut.framebuffer),et.framebufferTexture2D(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_2D,ut.texture,0),et.clearColor(0,0,0,0),et.clear(et.COLOR_BUFFER_BIT),this.setTexture2D(V),this.batchVert(P,M,L,I,0,z,k),this.batchVert(E,w,L,b,0,z,Y),this.batchVert(R,O,B,b,0,z,H),this.batchVert(P,M,L,I,0,z,k),this.batchVert(R,O,B,b,0,z,H),this.batchVert(A,F,B,I,0,z,U),this.flush(),this.flipProjectionMatrix(!1),et.activeTexture(et.TEXTURE0),et.bindTexture(et.TEXTURE_2D,_.texture),et.copyTexSubImage2D(et.TEXTURE_2D,0,0,0,q.x,q.y,q.width,q.height),et.bindFramebuffer(et.FRAMEBUFFER,null),et.bindTexture(et.TEXTURE_2D,null),this.onBatch(y),this.currentShader=this.copyShader,this.onDraw(_,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(y,P,M,E,w,R,O){M===void 0&&(M=!0),E===void 0&&(E=!0),w===void 0&&(w=!1),O===void 0&&(O=this.copyShader);var A=this.gl,F=this.tempSprite;R&&(O=this.colorMatrixShader),this.currentShader=O;var L=this.setVertexBuffer(this.quadVertexBuffer);O.bind(L,!1);var I=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",I.width,I.height),this.set1i("uRoundPixels",I.config.roundPixels),F.preFX.onFXCopy(this),this.onCopySprite(y,P,F),R&&(this.set1fv("uColorMatrix",R.getData()),this.set1f("uAlpha",R.alpha)),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,y.texture),y.height>P.height)A.viewport(0,0,y.width,y.height),this.setTargetUVs(y,P);else{var B=P.height-y.height;A.viewport(0,B,y.width,y.height),this.resetUVs()}if(A.bindFramebuffer(A.FRAMEBUFFER,P.framebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,P.texture,0),M&&(A.clearColor(0,0,0,+!E),A.clear(A.COLOR_BUFFER_BIT)),w){var b=this.renderer.currentBlendMode;this.renderer.setBlendMode(d.ERASE)}A.bufferData(A.ARRAY_BUFFER,this.quadVertexData,A.STATIC_DRAW),A.drawArrays(A.TRIANGLES,0,6),w&&this.renderer.setBlendMode(b),A.bindFramebuffer(A.FRAMEBUFFER,null)},copy:function(y,P){var M=this.gl;this.set1i("uMainSampler",0),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,y.texture),M.viewport(0,0,y.width,y.height),this.setUVs(0,0,0,1,1,1,1,0),M.bindFramebuffer(M.FRAMEBUFFER,P.framebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,P.texture,0),M.clearColor(0,0,0,0),M.clear(M.COLOR_BUFFER_BIT),M.bufferData(M.ARRAY_BUFFER,this.quadVertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),M.bindFramebuffer(M.FRAMEBUFFER,null)},blendFrames:function(y,P,M,E,w){this.manager.blendFrames(y,P,M,E,w)},blendFramesAdditive:function(y,P,M,E,w){this.manager.blendFramesAdditive(y,P,M,E,w)},drawToGame:function(y){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(y)},copyToGame:function(y){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(y)},bindAndDraw:function(y){var P=this.gl,M=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(y.texture);var E=this._tempMatrix1.loadIdentity(),w=this.targetBounds.x,R=this.targetBounds.y,O=w+y.width,A=R+y.height,F=E.getX(w,R),L=E.getX(w,A),I=E.getX(O,A),B=E.getX(O,R),b=E.getY(w,R),k=E.getY(w,A),U=E.getY(O,A),Y=E.getY(O,R),H=16777215;this.batchVert(F,b,0,0,0,0,H),this.batchVert(L,k,0,1,0,0,H),this.batchVert(I,U,1,1,0,0,H),this.batchVert(F,b,0,0,0,0,H),this.batchVert(I,U,1,1,0,0,H),this.batchVert(B,Y,1,0,0,0,H),M.restoreFramebuffer(!1,!0),M.currentFramebuffer||P.viewport(0,0,M.width,M.height),M.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(y){this.drawToGame(y)},setUVs:function(y,P,M,E,w,R,O,A){var F=this.quadVertexViewF32;F[2]=y,F[3]=P,F[9]=M,F[10]=E,F[16]=w,F[17]=R,F[23]=y,F[24]=P,F[30]=w,F[31]=R,F[37]=O,F[38]=A},setTargetUVs:function(y,P){var M=P.height/y.height;M>.5?M=.5-(M-.5):M=.5+(.5-M),this.setUVs(0,M,0,1+M,1,1+M,1,M)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.gl.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,n.prototype.destroy.call(this),this}});r.exports=m},21213:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(72632),f=i(77310),u=new d({Extends:f,initialize:function(n){n.topology=5,n.batchSize=x(n,"batchSize",256),f.call(this,n)}});r.exports=u},51212:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(72632),f=i(77310),u=i(85060),o=i(18166),n=i(44775),h=new d({Extends:f,initialize:function(a){a.fragShader=x(a,"fragShader",u),a.vertShader=x(a,"vertShader",o),a.forceZero=!0,f.call(this,a)},boot:function(){n.prototype.boot.call(this);var p=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",p.width,p.height),this.set1i("uRoundPixels",p.config.roundPixels)}});r.exports=h},60848:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(2529),x=i(95723),f=i(56694),u=i(65246),o=i(37486),n=i(79060),h=i(72632),p=i(98921),a=i(99365),c=i(44775),v=new f({Extends:c,initialize:function(m){m.renderTarget=h(m,"renderTarget",[{scale:1},{scale:1},{scale:.5},{scale:.5}]),m.vertShader=h(m,"vertShader",a),m.shaders=h(m,"shaders",[{name:"Copy",fragShader:n},{name:"AddBlend",fragShader:d},{name:"LinearBlend",fragShader:p},{name:"ColorMatrix",fragShader:o}]),m.attributes=h(m,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),m.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],m.batchSize=1,c.call(this,m),this.colorMatrix=new u,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){c.prototype.boot.call(this);var g=this.shaders,m=this.renderTargets;this.copyShader=g[0],this.addShader=g[1],this.linearShader=g[2],this.colorMatrixShader=g[3],this.fullFrame1=m[0],this.fullFrame2=m[1],this.halfFrame1=m[2],this.halfFrame2=m[3]},copyFrame:function(g,m,y,P,M){y===void 0&&(y=1),P===void 0&&(P=!0),M===void 0&&(M=!0);var E=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",y),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,g.texture),m?(E.viewport(0,0,m.width,m.height),E.bindFramebuffer(E.FRAMEBUFFER,m.framebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,m.texture,0)):E.viewport(0,0,g.width,g.height),P&&(M?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT)),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blitFrame:function(g,m,y,P,M,E,w){y===void 0&&(y=1),P===void 0&&(P=!0),M===void 0&&(M=!0),E===void 0&&(E=!1),w===void 0&&(w=!1);var R=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",y),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,g.texture),g.height>m.height)R.viewport(0,0,g.width,g.height),this.setTargetUVs(g,m);else{var O=m.height-g.height;R.viewport(0,O,g.width,g.height)}if(R.bindFramebuffer(R.FRAMEBUFFER,m.framebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,m.texture,0),P&&(M?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),E){var A=this.renderer.currentBlendMode;this.renderer.setBlendMode(x.ERASE)}w&&this.flipY(),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),E&&this.renderer.setBlendMode(A),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(g,m,y,P,M,E,w,R){w===void 0&&(w=!0),R===void 0&&(R=!0);var O=this.gl;O.bindFramebuffer(O.FRAMEBUFFER,g.framebuffer),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,g.texture,0),w&&(R?O.clearColor(0,0,0,0):O.clearColor(0,0,0,1),O.clear(O.COLOR_BUFFER_BIT)),O.activeTexture(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,m.texture),O.copyTexSubImage2D(O.TEXTURE_2D,0,0,0,y,P,M,E),O.bindFramebuffer(O.FRAMEBUFFER,null),O.bindTexture(O.TEXTURE_2D,null)},copyToGame:function(g){var m=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,g.texture),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6)},drawFrame:function(g,m,y,P){y===void 0&&(y=!0),P===void 0&&(P=this.colorMatrix);var M=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",P.getData()),this.set1f("uAlpha",P.alpha),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,g.texture),m?(M.viewport(0,0,m.width,m.height),M.bindFramebuffer(M.FRAMEBUFFER,m.framebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,m.texture,0)):M.viewport(0,0,g.width,g.height),y?M.clearColor(0,0,0,0):M.clearColor(0,0,0,1),M.clear(M.COLOR_BUFFER_BIT),M.bufferData(M.ARRAY_BUFFER,this.vertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null)},blendFrames:function(g,m,y,P,M,E){P===void 0&&(P=1),M===void 0&&(M=!0),E===void 0&&(E=this.linearShader);var w=this.gl;this.setShader(E),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",P),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,g.texture),w.activeTexture(w.TEXTURE1),w.bindTexture(w.TEXTURE_2D,m.texture),y?(w.bindFramebuffer(w.FRAMEBUFFER,y.framebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,y.texture,0),w.viewport(0,0,y.width,y.height)):w.viewport(0,0,g.width,g.height),M?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},blendFramesAdditive:function(g,m,y,P,M){this.blendFrames(g,m,y,P,M,this.addShader)},clearFrame:function(g,m){m===void 0&&(m=!0);var y=this.gl;y.viewport(0,0,g.width,g.height),y.bindFramebuffer(y.FRAMEBUFFER,g.framebuffer),m?y.clearColor(0,0,0,0):y.clearColor(0,0,0,1),y.clear(y.COLOR_BUFFER_BIT);var P=this.renderer.currentFramebuffer;y.bindFramebuffer(y.FRAMEBUFFER,P)},setUVs:function(g,m,y,P,M,E,w,R){var O=this.vertexViewF32;O[2]=g,O[3]=m,O[6]=y,O[7]=P,O[10]=M,O[11]=E,O[14]=g,O[15]=m,O[18]=M,O[19]=E,O[22]=w,O[23]=R},setTargetUVs:function(g,m){var y=m.height/g.height;y>.5?y=.5-(y-.5):y=.5+(.5-y),this.setUVs(0,y,0,1+y,1,1+y,1,y)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});r.exports=v},65641:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};r.exports=T},68726:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelineafterflush"},67186:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinebeforeflush"},22709:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinebind"},74469:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelineboot"},93953:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinedestroy"},51687:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinerebind"},25034:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelineresize"},18970:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AFTER_FLUSH:i(68726),BEFORE_FLUSH:i(67186),BIND:i(22709),BOOT:i(74469),DESTROY:i(93953),REBIND:i(51687),RESIZE:i(25034)}},32469:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(87751),f=i(80486),u=new d({Extends:f,initialize:function(n){f.call(this,{game:n,fragShader:x}),this.amount=1},onPreRender:function(o,n){o=this.getController(o),this.set1f("amount",o.amount,n)}});r.exports=u},2134:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(88222),f=i(80486),u=new d({Extends:f,initialize:function(n){f.call(this,{game:n,fragShader:x}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(o){o=this.getController(o),this.set1f("strength",o.blurStrength),this.set3fv("color",o.glcolor)},onDraw:function(o){var n=this.getController(),h=this.fullFrame1,p=this.fullFrame2;this.copyFrame(o,p);for(var a=2/o.width*n.offsetX,c=2/o.height*n.offsetY,v=0;v<n.steps;v++)this.set2f("offset",a,0),this.copySprite(o,h),this.set2f("offset",0,c),this.copySprite(h,o);this.blendFrames(p,o,h,n.strength),this.copyToGame(h)}});r.exports=u},63377:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(35491),f=i(75568),u=i(44481),o=i(80486),n=new d({Extends:o,initialize:function(p){o.call(this,{game:p,shaders:[{name:"Gaussian5",fragShader:x},{name:"Gaussian9",fragShader:f},{name:"Gaussian13",fragShader:u}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(h){var p=this.getController(),a=this.gl,c=this.fullFrame1,v=a.getParameter(a.FRAMEBUFFER_BINDING);this.bind(this.shaders[p.quality]),a.activeTexture(a.TEXTURE0),a.viewport(0,0,h.width,h.height),this.set1i("uMainSampler",0),this.set2f("resolution",h.width,h.height),this.set1f("strength",p.strength),this.set3fv("color",p.glcolor);for(var g=0;g<p.steps;g++)this.set2f("offset",p.x,0),this.copySprite(h,c),this.set2f("offset",0,p.y),this.copySprite(c,h);a.bindFramebuffer(a.FRAMEBUFFER,v),a.bindTexture(a.TEXTURE_2D,null),this.copyToGame(h)}});r.exports=n},49745:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(69960),f=i(80486),u=new d({Extends:f,initialize:function(n){f.call(this,{game:n,fragShader:x}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(o,n,h,p){o=this.getController(o),this.set1f("radius",o.radius,n),this.set1f("amount",o.amount,n),this.set1f("contrast",o.contrast,n),this.set1f("strength",o.strength,n),this.set2f("blur",o.blurX,o.blurY,n),this.setBoolean("isTiltShift",o.isTiltShift,n),h&&p&&this.set2f("resolution",h,p,n)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});r.exports=u},4323:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(33754),f=i(80486),u=new d({Extends:f,initialize:function(n){f.call(this,{game:n,fragShader:x}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(o,n,h,p){o=this.getController(o),this.set1f("scale",o.scale,n),this.set1f("feather",o.feather,n),this.set1f("thickness",o.thickness,n),this.set3fv("color",o.glcolor,n),this.set4fv("backgroundColor",o.glcolor2,n),h&&p&&this.set2f("resolution",h,p,n)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});r.exports=u},92066:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(80486),f=new d({Extends:x,initialize:function(o){x.call(this,{game:o})},onDraw:function(u){var o=this.fullFrame1;this.controller?this.manager.drawFrame(u,o,!0,this.controller):this.drawFrame(u,o),this.copyToGame(o)}});r.exports=f},89581:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(35668),f=i(80486),u=new d({Extends:f,initialize:function(n){f.call(this,{game:n,fragShader:x}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(o){var n=this.game.textures.getFrame(o);n&&(this.glTexture=n.glTexture)},onDraw:function(o){var n=this.getController(),h=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",n.x,n.y),this.bindTexture(n.glTexture,1),this.copySprite(o,h),this.copyToGame(h)}});r.exports=u},55084:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(72632),f=i(69675),u=i(80486),o=i(75512),n=new d({Extends:u,initialize:function(p,a){var c=x(a,"quality",.1),v=x(a,"distance",10);u.call(this,{game:p,fragShader:o.setGlowQuality(f,p,c,v)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(h,p,a,c){h=this.getController(h),this.set1f("outerStrength",h.outerStrength,p),this.set1f("innerStrength",h.innerStrength,p),this.set4fv("glowColor",h.glcolor,p),this.setBoolean("knockout",h.knockout,p),a&&c&&this.set2f("resolution",a,c,p)},onDraw:function(h){this.set2f("resolution",h.width,h.height),this.bindAndDraw(h)}});r.exports=n},41653:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(90993),f=i(80486),u=new d({Extends:f,initialize:function(n){f.call(this,{game:n,fragShader:x}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(o,n){o=this.getController(o),this.set1f("alpha",o.alpha,n),this.set1i("size",o.size,n),this.set3fv("color1",o.glcolor1,n),this.set3fv("color2",o.glcolor2,n),this.set2f("positionFrom",o.fromX,o.fromY,n),this.set2f("positionTo",o.toX,o.toY,n)}});r.exports=u},73416:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(37945),f=i(80486),u=new d({Extends:f,initialize:function(n){f.call(this,{game:n,fragShader:x}),this.amount=1},onPreRender:function(o,n,h,p){o=this.getController(o),this.set1f("amount",o.amount,n),h&&p&&this.set2f("resolution",h,p,n)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});r.exports=u},58049:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(85718),f=i(80486),u=new d({Extends:f,initialize:function(n){f.call(this,{game:n,fragShader:x}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(o,n){o=this.getController(o);var h=o.samples;this.set1i("samples",h,n),this.set1f("intensity",o.intensity,n),this.set1f("decay",o.decay,n),this.set1f("power",o.power/h,n),this.set2f("lightPosition",o.x,o.y,n),this.set4fv("color",o.glcolor,n)}});r.exports=u},18026:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(13740),f=i(80486),u=new d({Extends:f,initialize:function(n){f.call(this,{game:n,fragShader:x}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(o,n,h,p){o=this.getController(o),this.setTime("time",n),this.set1f("speed",o.speed,n),this.set1f("lineWidth",o.lineWidth,n),this.set1f("gradient",o.gradient,n),this.setBoolean("reveal",o.reveal,n),h&&p&&this.set2f("resolution",h,p,n)},onDraw:function(o){this.set2f("resolution",o.width,o.height),this.bindAndDraw(o)}});r.exports=u},72381:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(80617),f=i(80486),u=new d({Extends:f,initialize:function(n){f.call(this,{game:n,fragShader:x}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(o,n){o=this.getController(o),this.set1f("radius",o.radius,n),this.set1f("strength",o.strength,n),this.set2f("position",o.x,o.y,n)}});r.exports=u},80542:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(62879),f=i(80486),u=new d({Extends:f,initialize:function(n){f.call(this,{game:n,fragShader:x}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(o,n){o=this.getController(o);var h=o.progress,p=o.wipeWidth,a=o.direction,c=o.axis;this.set4f("config",h,p,a,c,n),this.setBoolean("reveal",o.reveal,n)}});r.exports=u},58136:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={Barrel:i(32469),Bloom:i(2134),Blur:i(63377),Bokeh:i(49745),Circle:i(4323),ColorMatrix:i(92066),Displacement:i(89581),Glow:i(55084),Gradient:i(41653),Pixelate:i(73416),Shadow:i(58049),Shine:i(18026),Vignette:i(72381),Wipe:i(80542)};r.exports=d},62253:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(65641),x=i(98611),f={FX:i(58136),BitmapMaskPipeline:i(5583),Events:i(18970),FXPipeline:i(81828),LightPipeline:i(66901),MobilePipeline:i(71264),MultiPipeline:i(77310),PointLightPipeline:i(10919),PostFXPipeline:i(80486),PreFXPipeline:i(87228),RopePipeline:i(21213),SinglePipeline:i(51212),UtilityPipeline:i(60848)};f=x(!1,f,d),r.exports=f},2529:r=>{r.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},91679:r=>{r.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},89053:r=>{r.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},37486:r=>{r.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},79060:r=>{r.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},87751:r=>{r.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},88222:r=>{r.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},44481:r=>{r.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},35491:r=>{r.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},75568:r=>{r.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},69960:r=>{r.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},33754:r=>{r.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},35668:r=>{r.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},69675:r=>{r.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},90993:r=>{r.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},37945:r=>{r.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},85718:r=>{r.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},13740:r=>{r.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},80617:r=>{r.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},62879:r=>{r.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},65045:r=>{r.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},98921:r=>{r.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},25005:r=>{r.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},94914:r=>{r.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},11263:r=>{r.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},51852:r=>{r.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},53787:r=>{r.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},15968:r=>{r.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},83327:r=>{r.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},54677:r=>{r.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},12569:r=>{r.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},99365:r=>{r.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},85060:r=>{r.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},18166:r=>{r.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform int uRoundPixels;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    if (uRoundPixels == 1)","    {","        gl_Position.xy = floor(((gl_Position.xy + 1.0) * 0.5 * uResolution) + 0.5) / uResolution * 2.0 - 1.0;","    }","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},92462:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AddBlendFrag:i(2529),BitmapMaskFrag:i(91679),BitmapMaskVert:i(89053),ColorMatrixFrag:i(37486),CopyFrag:i(79060),FXBarrelFrag:i(87751),FXBloomFrag:i(88222),FXBlurHighFrag:i(44481),FXBlurLowFrag:i(35491),FXBlurMedFrag:i(75568),FXBokehFrag:i(69960),FXCircleFrag:i(33754),FXDisplacementFrag:i(35668),FXGlowFrag:i(69675),FXGradientFrag:i(90993),FXPixelateFrag:i(37945),FXShadowFrag:i(85718),FXShineFrag:i(13740),FXVignetteFrag:i(80617),FXWipeFrag:i(62879),LightFrag:i(65045),LinearBlendFrag:i(98921),MeshFrag:i(25005),MeshVert:i(94914),MobileFrag:i(11263),MobileVert:i(51852),MultiFrag:i(53787),MultiVert:i(15968),PointLightFrag:i(83327),PointLightVert:i(54677),PostFXFrag:i(12569),QuadVert:i(99365),SingleFrag:i(85060),SingleVert:i(18166)}},756:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(55301),x=i(56694),f=i(6659),u=i(40444),o=i(97081),n=i(74181),h=i(2893),p=i(9229),a=i(72283),c=i(74118),v=i(90881),g=i(84314),m=i(93736),y=i(47751),P=new x({Extends:f,initialize:function(E){f.call(this),this.game=E,this.canvas,this.canvasBounds=new c,this.parent=null,this.parentIsWindow=!1,this.parentSize=new v,this.gameSize=new v,this.baseSize=new v,this.displaySize=new v,this.scaleMode=d.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new m(1,1),this.autoRound=!1,this.autoCenter=d.CENTER.NO_CENTER,this.orientation=d.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:a,windowResize:a,fullScreenChange:a,fullScreenError:a}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(o.BOOT,this.boot,this)},boot:function(){var M=this.game;this.canvas=M.canvas,this.fullscreen=M.device.fullscreen,this.scaleMode!==d.SCALE_MODE.RESIZE&&this.displaySize.setAspectMode(this.scaleMode),this.scaleMode===d.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),M.events.on(o.PRE_STEP,this.step,this),M.events.once(o.READY,this.refresh,this),M.events.once(o.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(M){this.getParent(M),this.getParentBounds();var E=M.width,w=M.height,R=M.scaleMode,O=M.zoom,A=M.autoRound;if(typeof E=="string")if(E.substr(-1)!=="%")E=parseInt(E,10);else{var F=this.parentSize.width;F===0&&(F=window.innerWidth);var L=parseInt(E,10)/100;E=Math.floor(F*L)}if(typeof w=="string")if(w.substr(-1)!=="%")w=parseInt(w,10);else{var I=this.parentSize.height;I===0&&(I=window.innerHeight);var B=parseInt(w,10)/100;w=Math.floor(I*B)}this.scaleMode=R,this.autoRound=A,this.autoCenter=M.autoCenter,this.resizeInterval=M.resizeInterval,A&&(E=Math.floor(E),w=Math.floor(w)),this.gameSize.setSize(E,w),O===d.ZOOM.MAX_ZOOM&&(O=this.getMaxZoom()),this.zoom=O,O!==1&&(this._resetZoom=!0),this.baseSize.setSize(E,w),A&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),M.minWidth>0&&this.displaySize.setMin(M.minWidth*O,M.minHeight*O),M.maxWidth>0&&this.displaySize.setMax(M.maxWidth*O,M.maxHeight*O),this.displaySize.setSize(E,w),this.orientation=p(E,w)},getParent:function(M){var E=M.parent;if(E!==null){if(this.parent=h(E),this.parentIsWindow=this.parent===document.body,M.expandParent&&M.scaleMode!==d.SCALE_MODE.NONE){var w=this.parent.getBoundingClientRect();(this.parentIsWindow||w.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",w=this.parent.getBoundingClientRect(),!this.parentIsWindow&&w.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}M.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=h(M.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var M=this.parentSize,E=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(E.height=n(!0));var w=E.width,R=E.height;if(M.width!==w||M.height!==R)return M.setSize(w,R),!0;if(this.canvas){var O=this.canvasBounds,A=this.canvas.getBoundingClientRect();if(A.x!==O.x||A.y!==O.y)return!0}return!1},lockOrientation:function(M){var E=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return E?E.call(screen,M):!1},setParentSize:function(M,E){return this.parentSize.setSize(M,E),this.refresh()},setGameSize:function(M,E){var w=this.autoRound;w&&(M=Math.floor(M),E=Math.floor(E));var R=this.width,O=this.height;return this.gameSize.resize(M,E),this.baseSize.resize(M,E),w&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(M/E),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(R,O)},resize:function(M,E){var w=this.zoom,R=this.autoRound;R&&(M=Math.floor(M),E=Math.floor(E));var O=this.width,A=this.height;this.gameSize.resize(M,E),this.baseSize.resize(M,E),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(M*w,E*w),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var F=this.canvas.style,L=M*w,I=E*w;return R&&(L=Math.floor(L),I=Math.floor(I)),(L!==M||I!==E)&&(F.width=L+"px",F.height=I+"px"),this.refresh(O,A)},setZoom:function(M){return this.zoom=M,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},refresh:function(M,E){M===void 0&&(M=this.width),E===void 0&&(E=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var w=this.game.domContainer;if(w){this.baseSize.setCSS(w);var R=this.canvas.style,O=w.style;O.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",O.marginLeft=R.marginLeft,O.marginTop=R.marginTop}return this.emit(u.RESIZE,this.gameSize,this.baseSize,this.displaySize,M,E),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var M=p(this.width,this.height);M!==this.orientation&&(this.orientation=M,this.emit(u.ORIENTATION_CHANGE,M))}},updateScale:function(){var M=this.canvas.style,E=this.gameSize.width,w=this.gameSize.height,R,O,A=this.zoom,F=this.autoRound;this.scaleMode===d.SCALE_MODE.NONE?(this.displaySize.setSize(E*A,w*A),R=this.displaySize.width,O=this.displaySize.height,F&&(R=Math.floor(R),O=Math.floor(O)),this._resetZoom&&(M.width=R+"px",M.height=O+"px",this._resetZoom=!1)):this.scaleMode===d.SCALE_MODE.RESIZE?(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),R=this.displaySize.width,O=this.displaySize.height,F&&(R=Math.floor(R),O=Math.floor(O)),this.canvas.width=R,this.canvas.height=O):(this.displaySize.setSize(this.parentSize.width,this.parentSize.height),R=this.displaySize.width,O=this.displaySize.height,F&&(R=Math.floor(R),O=Math.floor(O)),M.width=R+"px",M.height=O+"px"),this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var M=g(this.parentSize.width,this.gameSize.width,0,!0),E=g(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(M,E),1)},updateCenter:function(){var M=this.autoCenter;if(M!==d.CENTER.NO_CENTER){var E=this.canvas,w=E.style,R=E.getBoundingClientRect(),O=R.width,A=R.height,F=Math.floor((this.parentSize.width-O)/2),L=Math.floor((this.parentSize.height-A)/2);M===d.CENTER.CENTER_HORIZONTALLY?L=0:M===d.CENTER.CENTER_VERTICALLY&&(F=0),w.marginLeft=F+"px",w.marginTop=L+"px"}},updateBounds:function(){var M=this.canvasBounds,E=this.canvas.getBoundingClientRect();M.x=E.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),M.y=E.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),M.width=E.width,M.height=E.height},transformX:function(M){return(M-this.canvasBounds.left)*this.displayScale.x},transformY:function(M){return(M-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(M){M===void 0&&(M={navigationUI:"hide"});var E=this.fullscreen;if(!E.available){this.emit(u.FULLSCREEN_UNSUPPORTED);return}if(!E.active){var w=this.getFullscreenTarget();E.keyboard?w[E.request](Element.ALLOW_KEYBOARD_INPUT):w[E.request](M)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(u.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(M){this.removeFullscreenTarget(),this.emit(u.FULLSCREEN_FAILED,M)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var M=document.createElement("div");M.style.margin="0",M.style.padding="0",M.style.width="100%",M.style.height="100%",this.fullscreenTarget=M,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var E=this.canvas.parentNode;E.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var M=this.fullscreenTarget;if(M&&M.parentNode){var E=M.parentNode;E.insertBefore(this.canvas,M),E.removeChild(M)}}},stopFullscreen:function(){var M=this.fullscreen;if(!M.available)return this.emit(u.FULLSCREEN_UNSUPPORTED),!1;M.active&&document[M.cancel](),this.removeFullscreenTarget(),this.getParentBounds(),this.emit(u.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(M){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(M)},startListeners:function(){var M=this,E=this.domlisteners;if(E.orientationChange=function(){M.updateBounds(),M._checkOrientation=!0,M.dirty=!0},E.windowResize=function(){M.updateBounds(),M.dirty=!0},window.addEventListener("orientationchange",E.orientationChange,!1),window.addEventListener("resize",E.windowResize,!1),this.fullscreen.available){E.fullScreenChange=function(R){return M.onFullScreenChange(R)},E.fullScreenError=function(R){return M.onFullScreenError(R)};var w=["webkit","moz",""];w.forEach(function(R){document.addEventListener(R+"fullscreenchange",E.fullScreenChange,!1),document.addEventListener(R+"fullscreenerror",E.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",E.fullScreenChange,!1),document.addEventListener("MSFullscreenError",E.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():this.stopFullscreen()},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(M,E){M instanceof y||(E=M,M=void 0),E===void 0&&(E=new c);var w=this.baseSize,R=this.parentSize,O=this.canvasBounds,A=this.displayScale,F=O.x>=0?0:-(O.x*A.x),L=O.y>=0?0:-(O.y*A.y),I;R.width>=O.width?I=w.width:I=w.width-(O.width-R.width)*A.x;var B;return R.height>=O.height?B=w.height:B=w.height-(O.height-R.height)*A.y,E.setTo(F,L,I,B),M&&(E.width/=M.zoomX,E.height/=M.zoomY,E.centerX=M.centerX+M.scrollX,E.centerY=M.centerY+M.scrollY),E},step:function(M,E){this.parent&&(this._lastCheck+=E,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var M=this.domlisteners;window.removeEventListener("orientationchange",M.orientationChange,!1),window.removeEventListener("resize",M.windowResize,!1);var E=["webkit","moz",""];E.forEach(function(w){document.removeEventListener(w+"fullscreenchange",M.fullScreenChange,!1),document.removeEventListener(w+"fullscreenerror",M.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",M.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",M.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===d.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===d.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});r.exports=P},35098:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},53539:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={LANDSCAPE:"landscape-primary",PORTRAIT:"portrait-primary"}},12637:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5}},10217:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},55301:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={CENTER:i(35098),ORIENTATION:i(53539),SCALE_MODE:i(12637),ZOOM:i(10217)};r.exports=d},82085:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="enterfullscreen"},11826:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="fullscreenfailed"},56691:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="fullscreenunsupported"},34739:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="leavefullscreen"},26681:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="orientationchange"},11428:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resize"},40444:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ENTER_FULLSCREEN:i(82085),FULLSCREEN_FAILED:i(11826),FULLSCREEN_UNSUPPORTED:i(56691),LEAVE_FULLSCREEN:i(34739),ORIENTATION_CHANGE:i(26681),RESIZE:i(11428)}},86754:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(98611),x=i(55301),f={Center:i(35098),Events:i(40444),Orientation:i(53539),ScaleManager:i(756),ScaleModes:i(12637),Zoom:i(10217)};f=d(!1,f,x.CENTER),f=d(!1,f,x.ORIENTATION),f=d(!1,f,x.SCALE_MODE),f=d(!1,f,x.ZOOM),r.exports=f},47736:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72632),x=i(40587),f=function(u){var o=u.game.config.defaultPhysicsSystem,n=d(u.settings,"physics",!1);if(!(!o&&!n)){var h=[];if(o&&h.push(x(o+"Physics")),n)for(var p in n)p=x(p.concat("Physics")),h.indexOf(p)===-1&&h.push(p);return h}};r.exports=f},91088:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72632),x=function(f){var u=f.plugins.getDefaultScenePlugins(),o=d(f.settings,"plugins",!1);return Array.isArray(o)?o:u||[]};r.exports=x},90415:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};r.exports=T},87157:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(63946),f=new d({initialize:function(o){this.sys=new x(this,o),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});r.exports=f},13553:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(92980),f=i(7599),u=i(97081),o=i(10850),n=i(683),h=i(72283),p=i(87157),a=i(63946),c=new d({initialize:function(g,m){if(this.game=g,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,m){Array.isArray(m)||(m=[m]);for(var y=0;y<m.length;y++)this._pending.push({key:"default",scene:m[y],autoStart:y===0,data:{}})}g.events.once(u.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new p),this.game.events.emit(u.SYSTEM_READY,this.systemScene,this);var v,g,m,y;for(v=0;v<this._pending.length;v++){g=this._pending[v],m=g.key,y=g.scene;var P;y instanceof p?P=this.createSceneFromInstance(m,y):typeof y=="object"?P=this.createSceneFromObject(m,y):typeof y=="function"&&(P=this.createSceneFromFunction(m,y)),m=P.sys.settings.key,this.keys[m]=P,this.scenes.push(P),this._data[m]&&(P.sys.settings.data=this._data[m].data,this._data[m].autoStart&&(g.autoStart=!0)),(g.autoStart||P.sys.settings.active)&&this._start.push(m)}for(this._pending.length=0,this._data={},this.isBooted=!0,v=0;v<this._start.length;v++)g=this._start[v],this.start(g);this._start.length=0}},processQueue:function(){var v=this._pending.length,g=this._queue.length;if(!(v===0&&g===0)){var m,y;if(v){for(m=0;m<v;m++)y=this._pending[m],this.add(y.key,y.scene,y.autoStart,y.data);for(m=0;m<this._start.length;m++)y=this._start[m],this.start(y);this._start.length=0,this._pending.length=0}for(m=0;m<this._queue.length;m++)y=this._queue[m],this[y.op](y.keyA,y.keyB);this._queue.length=0}},add:function(v,g,m,y){if(m===void 0&&(m=!1),y===void 0&&(y={}),this.isProcessing||!this.isBooted)return this._pending.push({key:v,scene:g,autoStart:m,data:y}),this.isBooted||(this._data[v]={data:y}),null;v=this.getKey(v,g);var P;return g instanceof p?P=this.createSceneFromInstance(v,g):typeof g=="object"?(g.key=v,P=this.createSceneFromObject(v,g)):typeof g=="function"&&(P=this.createSceneFromFunction(v,g)),P.sys.settings.data=y,v=P.sys.settings.key,this.keys[v]=P,this.scenes.push(P),(m||P.sys.settings.active)&&(this._pending.length?this._start.push(v):this.start(v)),P},remove:function(v){if(this.isProcessing)this._queue.push({op:"remove",keyA:v,keyB:null});else{var g=this.getScene(v);if(!g||g.sys.isTransitioning())return this;var m=this.scenes.indexOf(g),y=g.sys.settings.key;m>-1&&(delete this.keys[y],this.scenes.splice(m,1),this._start.indexOf(y)>-1&&(m=this._start.indexOf(y),this._start.splice(m,1)),g.sys.destroy())}return this},bootScene:function(v){var g=v.sys,m=g.settings;g.sceneUpdate=h,v.init&&(v.init.call(v,m.data),m.status=x.INIT,m.isTransition&&g.events.emit(f.TRANSITION_INIT,m.transitionFrom,m.transitionDuration));var y;g.load&&(y=g.load,y.reset()),y&&v.preload?(v.preload.call(v),m.status=x.LOADING,y.once(n.COMPLETE,this.loadComplete,this),y.start()):this.create(v)},loadComplete:function(v){this.game.sound&&this.game.sound.onBlurPausedSounds&&this.game.sound.unlock(),this.create(v.scene)},payloadComplete:function(v){this.bootScene(v.scene)},update:function(v,g){this.processQueue(),this.isProcessing=!0;for(var m=this.scenes.length-1;m>=0;m--){var y=this.scenes[m].sys;y.settings.status>x.START&&y.settings.status<=x.RUNNING&&y.step(v,g),y.scenePlugin._target&&y.scenePlugin.step(v,g)}},render:function(v){for(var g=0;g<this.scenes.length;g++){var m=this.scenes[g].sys;m.settings.visible&&m.settings.status>=x.LOADING&&m.settings.status<x.SLEEPING&&m.render(v)}this.isProcessing=!1},create:function(v){var g=v.sys,m=g.settings;v.create&&(m.status=x.CREATING,v.create.call(v,m.data),m.status===x.DESTROYED)||(m.isTransition&&g.events.emit(f.TRANSITION_START,m.transitionFrom,m.transitionDuration),v.update&&(g.sceneUpdate=v.update),m.status=x.RUNNING,g.events.emit(f.CREATE,v))},createSceneFromFunction:function(v,g){var m=new g;if(m instanceof p){var y=m.sys.settings.key;if(y!==""&&(v=y),this.keys.hasOwnProperty(v))throw new Error("Cannot add a Scene with duplicate key: "+v);return this.createSceneFromInstance(v,m)}else return m.sys=new a(m),m.sys.settings.key=v,m.sys.init(this.game),m},createSceneFromInstance:function(v,g){var m=g.sys.settings.key;return m===""&&(g.sys.settings.key=v),g.sys.init(this.game),g},createSceneFromObject:function(v,g){var m=new p(g),y=m.sys.settings.key;y!==""?v=y:m.sys.settings.key=v,m.sys.init(this.game);for(var P=["init","preload","create","update","render"],M=0;M<P.length;M++){var E=o(g,P[M],null);E&&(m[P[M]]=E)}if(g.hasOwnProperty("extend")){for(var w in g.extend)if(g.extend.hasOwnProperty(w)){var R=g.extend[w];w==="data"&&m.hasOwnProperty("data")&&typeof R=="object"?m.data.merge(R):w!=="sys"&&(m[w]=R)}}return m},getKey:function(v,g){if(v||(v="default"),typeof g=="function")return v;if(g instanceof p?v=g.sys.settings.key:typeof g=="object"&&g.hasOwnProperty("key")&&(v=g.key),this.keys.hasOwnProperty(v))throw new Error("Cannot add a Scene with duplicate key: "+v);return v},getScenes:function(v,g){v===void 0&&(v=!0),g===void 0&&(g=!1);for(var m=[],y=this.scenes,P=0;P<y.length;P++){var M=y[P];M&&(!v||v&&M.sys.isActive())&&m.push(M)}return g?m.reverse():m},getScene:function(v){if(typeof v=="string"){if(this.keys[v])return this.keys[v]}else for(var g=0;g<this.scenes.length;g++)if(v===this.scenes[g])return v;return null},isActive:function(v){var g=this.getScene(v);return g?g.sys.isActive():null},isPaused:function(v){var g=this.getScene(v);return g?g.sys.isPaused():null},isVisible:function(v){var g=this.getScene(v);return g?g.sys.isVisible():null},isSleeping:function(v){var g=this.getScene(v);return g?g.sys.isSleeping():null},pause:function(v,g){var m=this.getScene(v);return m&&m.sys.pause(g),this},resume:function(v,g){var m=this.getScene(v);return m&&m.sys.resume(g),this},sleep:function(v,g){var m=this.getScene(v);return m&&!m.sys.isTransitioning()&&m.sys.sleep(g),this},wake:function(v,g){var m=this.getScene(v);return m&&m.sys.wake(g),this},run:function(v,g){var m=this.getScene(v);if(!m){for(var y=0;y<this._pending.length;y++)if(this._pending[y].key===v){this.queueOp("start",v,g);break}return this}m.sys.isSleeping()?m.sys.wake(g):m.sys.isPaused()?m.sys.resume(g):this.start(v,g)},start:function(v,g){if(!this.isBooted)return this._data[v]={autoStart:!0,data:g},this;var m=this.getScene(v);if(!m)return console.warn("Scene not found for key: "+v),this;var y=m.sys,P=y.settings.status;if(P>=x.START&&P<=x.CREATING)return this;if(P>=x.RUNNING&&P<=x.SLEEPING)y.shutdown(),y.sceneUpdate=h,y.start(g);else{y.sceneUpdate=h,y.start(g);var M;if(y.load&&(M=y.load),M&&y.settings.hasOwnProperty("pack")&&(M.reset(),M.addPack({payload:y.settings.pack})))return y.settings.status=x.LOADING,M.once(n.COMPLETE,this.payloadComplete,this),M.start(),this}return this.bootScene(m),this},stop:function(v,g){var m=this.getScene(v);if(m&&!m.sys.isTransitioning()&&m.sys.settings.status!==x.SHUTDOWN){var y=m.sys.load;y&&(y.off(n.COMPLETE,this.loadComplete,this),y.off(n.COMPLETE,this.payloadComplete,this)),m.sys.shutdown(g)}return this},switch:function(v,g){var m=this.getScene(v),y=this.getScene(g);return m&&y&&m!==y&&(this.sleep(v),this.isSleeping(g)?this.wake(g):this.start(g)),this},getAt:function(v){return this.scenes[v]},getIndex:function(v){var g=this.getScene(v);return this.scenes.indexOf(g)},bringToTop:function(v){if(this.isProcessing)this._queue.push({op:"bringToTop",keyA:v,keyB:null});else{var g=this.getIndex(v);if(g!==-1&&g<this.scenes.length){var m=this.getScene(v);this.scenes.splice(g,1),this.scenes.push(m)}}return this},sendToBack:function(v){if(this.isProcessing)this._queue.push({op:"sendToBack",keyA:v,keyB:null});else{var g=this.getIndex(v);if(g!==-1&&g>0){var m=this.getScene(v);this.scenes.splice(g,1),this.scenes.unshift(m)}}return this},moveDown:function(v){if(this.isProcessing)this._queue.push({op:"moveDown",keyA:v,keyB:null});else{var g=this.getIndex(v);if(g>0){var m=g-1,y=this.getScene(v),P=this.getAt(m);this.scenes[g]=P,this.scenes[m]=y}}return this},moveUp:function(v){if(this.isProcessing)this._queue.push({op:"moveUp",keyA:v,keyB:null});else{var g=this.getIndex(v);if(g<this.scenes.length-1){var m=g+1,y=this.getScene(v),P=this.getAt(m);this.scenes[g]=P,this.scenes[m]=y}}return this},moveAbove:function(v,g){if(v===g)return this;if(this.isProcessing)this._queue.push({op:"moveAbove",keyA:v,keyB:g});else{var m=this.getIndex(v),y=this.getIndex(g);if(m!==-1&&y!==-1&&y<m){var P=this.getAt(y);this.scenes.splice(y,1),this.scenes.splice(m+(y>m),0,P)}}return this},moveBelow:function(v,g){if(v===g)return this;if(this.isProcessing)this._queue.push({op:"moveBelow",keyA:v,keyB:g});else{var m=this.getIndex(v),y=this.getIndex(g);if(m!==-1&&y!==-1&&y>m){var P=this.getAt(y);this.scenes.splice(y,1),m===0?this.scenes.unshift(P):this.scenes.splice(m-(y<m),0,P)}}return this},queueOp:function(v,g,m){return this._queue.push({op:v,keyA:g,keyB:m}),this},swapPosition:function(v,g){if(v===g)return this;if(this.isProcessing)this._queue.push({op:"swapPosition",keyA:v,keyB:g});else{var m=this.getIndex(v),y=this.getIndex(g);if(m!==y&&m!==-1&&y!==-1){var P=this.getAt(m);this.scenes[m]=this.scenes[y],this.scenes[y]=P}}return this},dump:function(){for(var v=[],g=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],m=0;m<this.scenes.length;m++){var y=this.scenes[m].sys,P=y.settings.visible&&(y.settings.status===x.RUNNING||y.settings.status===x.PAUSED)?"[*] ":"[-] ";P+=y.settings.key+" ("+g[y.settings.status]+")",v.push(P)}console.log(v.join(`
`))},destroy:function(){for(var v=0;v<this.scenes.length;v++){var g=this.scenes[v].sys;g.destroy()}this.systemScene.sys.destroy(),this.update=h,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});r.exports=c},64051:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(82897),x=i(56694),f=i(7599),u=i(72632),o=i(91963),n=new x({initialize:function(p){this.scene=p,this.systems=p.sys,this.settings=p.sys.settings,this.key=p.sys.settings.key,this.manager=p.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,p.sys.events.once(f.BOOT,this.boot,this),p.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},start:function(h,p){return h===void 0&&(h=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",h,p),this},restart:function(h){var p=this.key;return this.manager.queueOp("stop",p),this.manager.queueOp("start",p,h),this},transition:function(h){h===void 0&&(h={});var p=u(h,"target",!1),a=this.manager.getScene(p);if(!p||!this.checkValidTransition(a))return!1;var c=u(h,"duration",1e3);this._elapsed=0,this._target=a,this._duration=c,this._willSleep=u(h,"sleep",!1),this._willRemove=u(h,"remove",!1);var v=u(h,"onUpdate",null);v&&(this._onUpdate=v,this._onUpdateScope=u(h,"onUpdateScope",this.scene));var g=u(h,"allowInput",!1);this.settings.transitionAllowInput=g;var m=a.sys.settings;m.isTransition=!0,m.transitionFrom=this.scene,m.transitionDuration=c,m.transitionAllowInput=g,u(h,"moveAbove",!1)?this.manager.moveAbove(this.key,p):u(h,"moveBelow",!1)&&this.manager.moveBelow(this.key,p),a.sys.isSleeping()?a.sys.wake(u(h,"data")):this.manager.start(p,u(h,"data"));var y=u(h,"onStart",null),P=u(h,"onStartScope",this.scene);return y&&y.call(P,this.scene,a,c),this.systems.events.emit(f.TRANSITION_OUT,a,c),!0},checkValidTransition:function(h){return!(!h||h.sys.isActive()||h.sys.isTransitioning()||h===this.scene||this.systems.isTransitioning())},step:function(h,p){this._elapsed+=p,this.transitionProgress=d(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var h=this._target.sys,p=this._target.sys.settings;h.events.emit(f.TRANSITION_COMPLETE,this.scene),p.isTransition=!1,p.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(h,p,a,c){return this.manager.add(h,p,a,c)},launch:function(h,p){return h&&h!==this.key&&this.manager.queueOp("start",h,p),this},run:function(h,p){return h&&h!==this.key&&this.manager.queueOp("run",h,p),this},pause:function(h,p){return h===void 0&&(h=this.key),this.manager.queueOp("pause",h,p),this},resume:function(h,p){return h===void 0&&(h=this.key),this.manager.queueOp("resume",h,p),this},sleep:function(h,p){return h===void 0&&(h=this.key),this.manager.queueOp("sleep",h,p),this},wake:function(h,p){return h===void 0&&(h=this.key),this.manager.queueOp("wake",h,p),this},switch:function(h){return h!==this.key&&this.manager.queueOp("switch",this.key,h),this},stop:function(h,p){return h===void 0&&(h=this.key),this.manager.queueOp("stop",h,p),this},setActive:function(h,p,a){p===void 0&&(p=this.key);var c=this.manager.getScene(p);return c&&c.sys.setActive(h,a),this},setVisible:function(h,p){p===void 0&&(p=this.key);var a=this.manager.getScene(p);return a&&a.sys.setVisible(h),this},isSleeping:function(h){return h===void 0&&(h=this.key),this.manager.isSleeping(h)},isActive:function(h){return h===void 0&&(h=this.key),this.manager.isActive(h)},isPaused:function(h){return h===void 0&&(h=this.key),this.manager.isPaused(h)},isVisible:function(h){return h===void 0&&(h=this.key),this.manager.isVisible(h)},swapPosition:function(h,p){return p===void 0&&(p=this.key),h!==p&&this.manager.swapPosition(h,p),this},moveAbove:function(h,p){return p===void 0&&(p=this.key),h!==p&&this.manager.moveAbove(h,p),this},moveBelow:function(h,p){return p===void 0&&(p=this.key),h!==p&&this.manager.moveBelow(h,p),this},remove:function(h){return h===void 0&&(h=this.key),this.manager.remove(h),this},moveUp:function(h){return h===void 0&&(h=this.key),this.manager.moveUp(h),this},moveDown:function(h){return h===void 0&&(h=this.key),this.manager.moveDown(h),this},bringToTop:function(h){return h===void 0&&(h=this.key),this.manager.bringToTop(h),this},sendToBack:function(h){return h===void 0&&(h=this.key),this.manager.sendToBack(h),this},get:function(h){return this.manager.getScene(h)},getStatus:function(h){var p=this.manager.getScene(h);if(p)return p.sys.getStatus()},getIndex:function(h){return h===void 0&&(h=this.key),this.manager.getIndex(h)},shutdown:function(){var h=this.systems.events;h.off(f.SHUTDOWN,this.shutdown,this),h.off(f.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});o.register("ScenePlugin",n,"scenePlugin"),r.exports=n},36765:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(92980),x=i(10850),f=i(30657),u=i(90415),o={create:function(n){return typeof n=="string"?n={key:n}:n===void 0&&(n={}),{status:d.PENDING,key:x(n,"key",""),active:x(n,"active",!1),visible:x(n,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:x(n,"pack",!1),cameras:x(n,"cameras",null),map:x(n,"map",f(u,x(n,"mapAdd",{}))),physics:x(n,"physics",{}),loader:x(n,"loader",{}),plugins:x(n,"plugins",!1),input:x(n,"input",{})}}};r.exports=o},63946:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(92980),f=i(18360),u=i(7599),o=i(47736),n=i(91088),h=i(72283),p=i(36765),a=new d({initialize:function(v,g){this.scene=v,this.game,this.renderer,this.config=g,this.settings=p.create(g),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=h},init:function(c){this.settings.status=x.INIT,this.sceneUpdate=h,this.game=c,this.renderer=c.renderer,this.canvas=c.canvas,this.context=c.context;var v=c.plugins;this.plugins=v,v.addToScene(this,f.Global,[f.CoreScene,n(this),o(this)]),this.events.emit(u.BOOT,this),this.settings.isBooted=!0},step:function(c,v){var g=this.events;g.emit(u.PRE_UPDATE,c,v),g.emit(u.UPDATE,c,v),this.sceneUpdate.call(this.scene,c,v),g.emit(u.POST_UPDATE,c,v)},render:function(c){var v=this.displayList;v.depthSort(),this.events.emit(u.PRE_RENDER,c),this.cameras.render(c,v),this.events.emit(u.RENDER,c)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(c){var v=this.settings,g=this.getStatus();return g!==x.CREATING&&g!==x.RUNNING?console.warn("Cannot pause non-running Scene",v.key):this.settings.active&&(v.status=x.PAUSED,v.active=!1,this.events.emit(u.PAUSE,this,c)),this},resume:function(c){var v=this.events,g=this.settings;return this.settings.active||(g.status=x.RUNNING,g.active=!0,v.emit(u.RESUME,this,c)),this},sleep:function(c){var v=this.settings,g=this.getStatus();return g!==x.CREATING&&g!==x.RUNNING?console.warn("Cannot sleep non-running Scene",v.key):(v.status=x.SLEEPING,v.active=!1,v.visible=!1,this.events.emit(u.SLEEP,this,c)),this},wake:function(c){var v=this.events,g=this.settings;return g.status=x.RUNNING,g.active=!0,g.visible=!0,v.emit(u.WAKE,this,c),g.isTransition&&v.emit(u.TRANSITION_WAKE,g.transitionFrom,g.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var c=this.settings.status;return c>x.PENDING&&c<=x.RUNNING},isSleeping:function(){return this.settings.status===x.SLEEPING},isActive:function(){return this.settings.status===x.RUNNING},isPaused:function(){return this.settings.status===x.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(c){return this.settings.visible=c,this},setActive:function(c,v){return c?this.resume(v):this.pause(v)},start:function(c){var v=this.events,g=this.settings;c&&(g.data=c),g.status=x.START,g.active=!0,g.visible=!0,v.emit(u.START,this),v.emit(u.READY,this,c)},shutdown:function(c){var v=this.events,g=this.settings;v.off(u.TRANSITION_INIT),v.off(u.TRANSITION_START),v.off(u.TRANSITION_COMPLETE),v.off(u.TRANSITION_OUT),g.status=x.SHUTDOWN,g.active=!1,g.visible=!1,v.emit(u.SHUTDOWN,this,c)},destroy:function(){var c=this.events,v=this.settings;v.status=x.DESTROYED,v.active=!1,v.visible=!1,c.emit(u.DESTROY,this),c.removeAllListeners();for(var g=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],m=0;m<g.length;m++)this[g[m]]=null}});r.exports=a},92980:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};r.exports=T},31803:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addedtoscene"},94817:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"},28977:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="create"},91959:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},363:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},15643:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postupdate"},17058:r=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"},77125:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="preupdate"},76018:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="ready"},28620:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removedfromscene"},41538:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="render"},34268:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},2342:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="shutdown"},96541:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="sleep"},74244:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},17046:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitioncomplete"},13637:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitioninit"},14733:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitionout"},33899:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitionstart"},52418:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitionwake"},31735:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"},8470:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="wake"},7599:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADDED_TO_SCENE:i(31803),BOOT:i(94817),CREATE:i(28977),DESTROY:i(91959),PAUSE:i(363),POST_UPDATE:i(15643),PRE_RENDER:i(17058),PRE_UPDATE:i(77125),READY:i(76018),REMOVED_FROM_SCENE:i(28620),RENDER:i(41538),RESUME:i(34268),SHUTDOWN:i(2342),SLEEP:i(96541),START:i(74244),TRANSITION_COMPLETE:i(17046),TRANSITION_INIT:i(13637),TRANSITION_OUT:i(14733),TRANSITION_START:i(33899),TRANSITION_WAKE:i(52418),UPDATE:i(31735),WAKE:i(8470)}},20436:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(92980),x=i(98611),f={Events:i(7599),GetPhysicsPlugins:i(47736),GetScenePlugins:i(91088),SceneManager:i(13553),ScenePlugin:i(64051),Settings:i(36765),Systems:i(63946)};f=x(!1,f,d),r.exports=f},25798:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(6659),f=i(76038),u=i(98611),o=i(72283),n=new d({Extends:x,initialize:function(p,a,c){x.call(this),this.manager=p,this.key=a,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=u(this.config,c),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(h){return!h||!h.name||typeof h.name!="string"?!1:this.markers[h.name]?(console.error("addMarker "+h.name+" already exists in Sound"),!1):(h=u(!0,{name:"",start:0,duration:this.totalDuration-(h.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},h),this.markers[h.name]=h,!0)},updateMarker:function(h){return!h||!h.name||typeof h.name!="string"?!1:this.markers[h.name]?(this.markers[h.name]=u(!0,this.markers[h.name],h),!0):(console.warn("Audio Marker: "+h.name+" missing in Sound: "+this.key),!1)},removeMarker:function(h){var p=this.markers[h];return p?(this.markers[h]=null,p):null},play:function(h,p){if(h===void 0&&(h=""),typeof h=="object"&&(p=h,h=""),typeof h!="string")return!1;if(!h)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[h])return console.warn("Marker: "+h+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[h],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=u(this.currentConfig,p),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:o,calculateRate:function(){var h=1.0005777895065548,p=this.currentConfig.detune+this.manager.detune,a=Math.pow(h,p);this.totalRate=this.currentConfig.rate*this.manager.rate*a},destroy:function(){this.pendingRemove||(this.stop(),this.emit(f.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});r.exports=n},12486:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(32742),f=i(6659),u=i(76038),o=i(97081),n=i(71608),h=i(51463),p=i(72283),a=i(93736),c=new d({Extends:f,initialize:function(g){f.call(this),this.game=g,this.jsonCache=g.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new a,g.events.on(o.BLUR,this.onGameBlur,this),g.events.on(o.FOCUS,this.onGameFocus,this),g.events.on(o.PRE_STEP,this.update,this),g.events.once(o.DESTROY,this.destroy,this)},add:p,addAudioSprite:function(v,g){g===void 0&&(g={});var m=this.add(v,g);m.spritemap=this.jsonCache.get(v).spritemap;for(var y in m.spritemap)if(m.spritemap.hasOwnProperty(y)){var P=x(g),M=m.spritemap[y];P.loop=M.hasOwnProperty("loop")?M.loop:!1,m.addMarker({name:y,start:M.start,duration:M.end-M.start,config:P})}return m},get:function(v){return h(this.sounds,"key",v)},getAll:function(v){return v?n(this.sounds,"key",v):n(this.sounds)},getAllPlaying:function(){return n(this.sounds,"isPlaying",!0)},play:function(v,g){var m=this.add(v);return m.once(u.COMPLETE,m.destroy,m),g?g.name?(m.addMarker(g),m.play(g.name)):m.play(g):m.play()},playAudioSprite:function(v,g,m){var y=this.addAudioSprite(v);return y.once(u.COMPLETE,y.destroy,y),y.play(g,m)},remove:function(v){var g=this.sounds.indexOf(v);return g!==-1?(v.destroy(),this.sounds.splice(g,1),!0):!1},removeAll:function(){this.sounds.forEach(function(v){v.destroy()}),this.sounds.length=0},removeByKey:function(v){for(var g=0,m=this.sounds.length-1;m>=0;m--){var y=this.sounds[m];y.key===v&&(y.destroy(),this.sounds.splice(m,1),g++)}return g},pauseAll:function(){this.forEachActiveSound(function(v){v.pause()}),this.emit(u.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(v){v.resume()}),this.emit(u.RESUME_ALL,this)},setListenerPosition:p,stopAll:function(){this.forEachActiveSound(function(v){v.stop()}),this.emit(u.STOP_ALL,this)},stopByKey:function(v){var g=0;return this.getAll(v).forEach(function(m){m.stop()&&g++}),g},unlock:p,onBlur:p,onFocus:p,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(v,g){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(u.UNLOCKED,this));for(var m=this.sounds.length-1;m>=0;m--)this.sounds[m].pendingRemove&&this.sounds.splice(m,1);this.sounds.forEach(function(y){y.update(v,g)})},destroy:function(){this.game.events.off(o.BLUR,this.onGameBlur,this),this.game.events.off(o.FOCUS,this.onGameFocus,this),this.game.events.off(o.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(v,g){var m=this;this.sounds.forEach(function(y,P){y&&!y.pendingRemove&&v.call(g||m,y,P,m.sounds)})},setRate:function(v){return this.rate=v,this},rate:{get:function(){return this._rate},set:function(v){this._rate=v,this.forEachActiveSound(function(g){g.calculateRate()}),this.emit(u.GLOBAL_RATE,this,v)}},setDetune:function(v){return this.detune=v,this},detune:{get:function(){return this._detune},set:function(v){this._detune=v,this.forEachActiveSound(function(g){g.calculateRate()}),this.emit(u.GLOBAL_DETUNE,this,v)}}});r.exports=c},84191:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(27622),x=i(17546),f=i(55491),u={create:function(o){var n=o.config.audio,h=o.device.audio;return n.noAudio||!h.webAudio&&!h.audioData?new x(o):h.webAudio&&!n.disableWebAudio?new f(o):new d(o)}};r.exports=u},77578:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},19679:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="decodedall"},56951:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="decoded"},16436:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},55154:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="detune"},57818:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="detune"},57890:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="mute"},83022:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="rate"},99170:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="volume"},64289:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="looped"},67214:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loop"},53128:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="mute"},73078:r=>{/**
 * @author       pi-kei
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pan"},76763:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pauseall"},88426:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},13765:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="play"},80291:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="rate"},11124:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resumeall"},55382:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},71157:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="seek"},31776:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stopall"},39450:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"},21939:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="unlocked"},33019:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="volume"},76038:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COMPLETE:i(77578),DECODED:i(56951),DECODED_ALL:i(19679),DESTROY:i(16436),DETUNE:i(55154),GLOBAL_DETUNE:i(57818),GLOBAL_MUTE:i(57890),GLOBAL_RATE:i(83022),GLOBAL_VOLUME:i(99170),LOOP:i(67214),LOOPED:i(64289),MUTE:i(53128),PAN:i(73078),PAUSE_ALL:i(76763),PAUSE:i(88426),PLAY:i(13765),RATE:i(80291),RESUME_ALL:i(11124),RESUME:i(55382),SEEK:i(71157),STOP_ALL:i(31776),STOP:i(39450),UNLOCKED:i(21939),VOLUME:i(33019)}},34350:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(25798),x=i(56694),f=i(76038),u=i(82897),o=new x({Extends:d,initialize:function(h,p,a){if(a===void 0&&(a={}),this.tags=h.game.cache.audio.get(p),!this.tags)throw new Error('No cached audio asset with key "'+p);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,d.call(this,h,p,a)},play:function(n,h){return this.manager.isLocked(this,"play",[n,h])||!d.prototype.play.call(this,n,h)||!this.pickAndPlayAudioTag()?!1:(this.emit(f.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!d.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(f.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!d.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(f.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!d.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(f.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var n=this.currentConfig.seek,h=this.currentConfig.delay,p=(this.currentMarker?this.currentMarker.start:0)+n;return this.previousTime=p,this.audio.currentTime=p,this.applyConfig(),h===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+h*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var n=0;n<this.tags.length;n++){var h=this.tags[n];if(h.dataset.used==="false")return h.dataset.used="true",this.audio=h,!0}if(!this.manager.override)return!1;var p=[];this.manager.forEachActiveSound(function(c){c.key===this.key&&c.audio&&p.push(c)},this),p.sort(function(c,v){return c.loop===v.loop?v.seek/v.duration-c.seek/c.duration:c.loop?1:-1});var a=p[0];return this.audio=a.audio,a.reset(),a.audio=null,a.startTime=0,a.previousTime=0,!0},playCatchPromise:function(){var n=this.audio.play();n&&n.catch(function(h){console.warn(h)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){d.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(n){if(this.isPlaying){if(this.startTime>0){this.startTime<n-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,n-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var h=this.currentMarker?this.currentMarker.start:0,p=h+this.duration,a=this.audio.currentTime;if(this.currentConfig.loop)a>=p-this.manager.loopEndOffset?(this.audio.currentTime=h+Math.max(0,a-p),a=this.audio.currentTime):a<h&&(this.audio.currentTime+=h,a=this.audio.currentTime),a<this.previousTime&&this.emit(f.LOOPED,this);else if(a>=p){this.reset(),this.stopAndReleaseAudioTag(),this.emit(f.COMPLETE,this);return}this.previousTime=a}},destroy:function(){d.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=u(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){d.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(n){this.currentConfig.mute=n,!this.manager.isLocked(this,"mute",n)&&(this.updateMute(),this.emit(f.MUTE,this,n))}},setMute:function(n){return this.mute=n,this},volume:{get:function(){return this.currentConfig.volume},set:function(n){this.currentConfig.volume=n,!this.manager.isLocked(this,"volume",n)&&(this.updateVolume(),this.emit(f.VOLUME,this,n))}},setVolume:function(n){return this.volume=n,this},rate:{get:function(){return this.currentConfig.rate},set:function(n){this.currentConfig.rate=n,!this.manager.isLocked(this,f.RATE,n)&&(this.calculateRate(),this.emit(f.RATE,this,n))}},setRate:function(n){return this.rate=n,this},detune:{get:function(){return this.currentConfig.detune},set:function(n){this.currentConfig.detune=n,!this.manager.isLocked(this,f.DETUNE,n)&&(this.calculateRate(),this.emit(f.DETUNE,this,n))}},setDetune:function(n){return this.detune=n,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(n){this.manager.isLocked(this,"seek",n)||this.startTime>0||(this.isPlaying||this.isPaused)&&(n=Math.min(Math.max(0,n),this.duration),this.isPlaying?(this.previousTime=n,this.audio.currentTime=n):this.isPaused&&(this.currentConfig.seek=n),this.emit(f.SEEK,this,n))}},setSeek:function(n){return this.seek=n,this},loop:{get:function(){return this.currentConfig.loop},set:function(n){this.currentConfig.loop=n,!this.manager.isLocked(this,"loop",n)&&(this.audio&&(this.audio.loop=n),this.emit(f.LOOP,this,n))}},setLoop:function(n){return this.loop=n,this},pan:{get:function(){return this.currentConfig.pan},set:function(n){this.currentConfig.pan=n,this.emit(f.PAN,this,n)}},setPan:function(n){return this.pan=n,this}});r.exports=o},27622:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(12486),x=i(56694),f=i(76038),u=i(34350),o=new x({Extends:d,initialize:function(h){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,d.call(this,h)},add:function(n,h){var p=new u(this,n,h);return this.sounds.push(p),p},unlock:function(){this.locked=!1;var n=this;if(this.game.cache.audio.entries.each(function(c,v){for(var g=0;g<v.length;g++)if(v[g].dataset.locked==="true")return n.locked=!0,!1;return!0}),!!this.locked){var h=!1,p=function(){h=!0},a=function(){if(h){h=!1;return}document.body.removeEventListener("touchmove",p),document.body.removeEventListener("touchend",a);var c=[];if(n.game.cache.audio.entries.each(function(g,m){for(var y=0;y<m.length;y++){var P=m[y];P.dataset.locked==="true"&&c.push(P)}return!0}),c.length!==0){var v=c[c.length-1];v.oncanplaythrough=function(){v.oncanplaythrough=null,c.forEach(function(g){g.dataset.locked="false"}),n.unlocked=!0},c.forEach(function(g){g.load()})}};this.once(f.UNLOCKED,function(){for(this.forEachActiveSound(function(v){v.currentMarker===null&&v.duration===0&&(v.duration=v.tags[0].duration),v.totalDuration=v.tags[0].duration});this.lockedActionsQueue.length;){var c=this.lockedActionsQueue.shift();c.sound[c.prop].apply?c.sound[c.prop].apply(c.sound,c.value||[]):c.sound[c.prop]=c.value}},this),document.body.addEventListener("touchmove",p,!1),document.body.addEventListener("touchend",a,!1)}},onBlur:function(){this.forEachActiveSound(function(n){n.isPlaying&&(this.onBlurPausedSounds.push(n),n.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(n){n.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){d.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(n,h,p){return n.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:n,prop:h,value:p}),!0):!1},setMute:function(n){return this.mute=n,this},mute:{get:function(){return this._mute},set:function(n){this._mute=n,this.forEachActiveSound(function(h){h.updateMute()}),this.emit(f.GLOBAL_MUTE,this,n)}},setVolume:function(n){return this.volume=n,this},volume:{get:function(){return this._volume},set:function(n){this._volume=n,this.forEachActiveSound(function(h){h.updateVolume()}),this.emit(f.GLOBAL_VOLUME,this,n)}}});r.exports=o},56751:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={SoundManagerCreator:i(84191),Events:i(76038),BaseSound:i(25798),BaseSoundManager:i(12486),WebAudioSound:i(96008),WebAudioSoundManager:i(55491),HTML5AudioSound:i(34350),HTML5AudioSoundManager:i(27622),NoAudioSound:i(38662),NoAudioSoundManager:i(17546)}},38662:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(25798),x=i(56694),f=i(6659),u=i(98611),o=i(72283),n=function(){return!1},h=function(){return null},p=function(){return this},a=new x({Extends:f,initialize:function(v,g,m){m===void 0&&(m={}),f.call(this),this.manager=v,this.key=g,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=u({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},m),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:n,updateMarker:n,removeMarker:h,play:n,pause:n,resume:n,stop:n,setMute:p,setVolume:p,setRate:p,setDetune:p,setSeek:p,setLoop:p,setPan:p,applyConfig:h,resetConfig:h,update:o,calculateRate:h,destroy:function(){d.prototype.destroy.call(this)}});r.exports=a},17546:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(12486),x=i(56694),f=i(6659),u=i(38662),o=i(72283),n=new x({Extends:f,initialize:function(p){f.call(this),this.game=p,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(h,p){var a=new u(this,h,p);return this.sounds.push(a),a},addAudioSprite:function(h,p){var a=this.add(h,p);return a.spritemap={},a},get:function(h){return d.prototype.get.call(this,h)},getAll:function(h){return d.prototype.getAll.call(this,h)},play:function(h,p){return!1},playAudioSprite:function(h,p,a){return!1},remove:function(h){return d.prototype.remove.call(this,h)},removeAll:function(){return d.prototype.removeAll.call(this)},removeByKey:function(h){return d.prototype.removeByKey.call(this,h)},stopByKey:function(h){return d.prototype.stopByKey.call(this,h)},onBlur:o,onFocus:o,onGameBlur:o,onGameFocus:o,pauseAll:o,resumeAll:o,stopAll:o,update:o,setRate:o,setDetune:o,setMute:o,setVolume:o,unlock:o,forEachActiveSound:function(h,p){d.prototype.forEachActiveSound.call(this,h,p)},destroy:function(){d.prototype.destroy.call(this)}});r.exports=n},96008:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(25798),x=i(56694),f=i(76038),u=i(72632),o=new x({Extends:d,initialize:function(h,p,a){if(a===void 0&&(a={}),this.audioBuffer=h.game.cache.audio.get(p),!this.audioBuffer)throw new Error('Audio key "'+p+'" missing from cache');this.source=null,this.loopSource=null,this.muteNode=h.context.createGain(),this.volumeNode=h.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),h.context.createPanner&&(this.spatialNode=h.context.createPanner(),this.volumeNode.connect(this.spatialNode)),h.context.createStereoPanner?(this.pannerNode=h.context.createStereoPanner(),h.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(h.destination)):h.context.createPanner?this.spatialNode.connect(h.destination):this.volumeNode.connect(h.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,d.call(this,h,p,a)},play:function(n,h){return d.prototype.play.call(this,n,h)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(f.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!d.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(f.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!d.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(f.RESUME,this),!0)},stop:function(){return d.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(f.STOP,this),!0):!1},createAndStartBufferSource:function(){var n=this.currentConfig.seek,h=this.currentConfig.delay,p=this.manager.context.currentTime+h,a=(this.currentMarker?this.currentMarker.start:0)+n,c=this.duration-n;this.playTime=p-n,this.startTime=p,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,p),Math.max(0,a),Math.max(0,c)),this.resetConfig()},createAndStartLoopBufferSource:function(){var n=this.getLoopTime(),h=this.currentMarker?this.currentMarker.start:0,p=this.duration;this.loopTime=n,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,n),Math.max(0,h),Math.max(0,p))},createBufferSource:function(){var n=this,h=this.manager.context.createBufferSource();return h.buffer=this.audioBuffer,h.connect(this.muteNode),h.onended=function(p){p.target===n.source&&(n.currentConfig.loop?n.hasLooped=!0:n.hasEnded=!0)},h},stopAndRemoveBufferSource:function(){this.source&&(this.source.stop(),this.source.disconnect(),this.source=null),this.playTime=0,this.startTime=0,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var n=this.currentConfig.source;if(n&&this.manager.context.createPanner){var h=this.spatialNode;h.panningModel=u(n,"panningModel","equalpower"),h.distanceModel=u(n,"distanceModel","inverse"),h.orientationX.value=u(n,"orientationX",0),h.orientationY.value=u(n,"orientationY",0),h.orientationZ.value=u(n,"orientationZ",-1),h.refDistance=u(n,"refDistance",1),h.maxDistance=u(n,"maxDistance",1e4),h.rolloffFactor=u(n,"rolloffFactor",1),h.coneInnerAngle=u(n,"coneInnerAngle",360),h.coneOuterAngle=u(n,"coneOuterAngle",0),h.coneOuterGain=u(n,"coneOuterGain",0),this.spatialSource=u(n,"follow",null),this.spatialSource||(h.positionX.value=u(n,"x",0),h.positionY.value=u(n,"y",0),h.positionZ.value=u(n,"z",0))}d.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(n){this.spatialNode&&(this.spatialNode.positionX.value=n)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(n){this.spatialNode&&(this.spatialNode.positionY.value=n)}},update:function(){if(this.isPlaying&&this.spatialSource){var n=u(this.spatialSource,"x",null),h=u(this.spatialSource,"y",null);n&&n!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=n),h&&h!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=h)}this.hasEnded?(this.hasEnded=!1,d.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(f.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(f.LOOPED,this))},destroy:function(){this.pendingRemove||(d.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){d.prototype.calculateRate.call(this);var n=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,n),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,n)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var n=0,h=0;h<this.rateUpdates.length;h++){var p=0;h<this.rateUpdates.length-1?p=this.rateUpdates[h+1].time:p=this.manager.context.currentTime-this.playTime,n+=(p-this.rateUpdates[h].time)*this.rateUpdates[h].rate}return n},getLoopTime:function(){for(var n=0,h=0;h<this.rateUpdates.length-1;h++)n+=(this.rateUpdates[h+1].time-this.rateUpdates[h].time)*this.rateUpdates[h].rate;var p=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+p.time+(this.duration-n)/p.rate},rate:{get:function(){return this.currentConfig.rate},set:function(n){this.currentConfig.rate=n,this.calculateRate(),this.emit(f.RATE,this,n)}},setRate:function(n){return this.rate=n,this},detune:{get:function(){return this.currentConfig.detune},set:function(n){this.currentConfig.detune=n,this.calculateRate(),this.emit(f.DETUNE,this,n)}},setDetune:function(n){return this.detune=n,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(n){this.currentConfig.mute=n,this.muteNode.gain.setValueAtTime(n?0:1,0),this.emit(f.MUTE,this,n)}},setMute:function(n){return this.mute=n,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(n){this.currentConfig.volume=n,this.volumeNode.gain.setValueAtTime(n,0),this.emit(f.VOLUME,this,n)}},setVolume:function(n){return this.volume=n,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(n){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(n=Math.min(Math.max(0,n),this.duration),this.currentConfig.seek=n,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(f.SEEK,this,n))}},setSeek:function(n){return this.seek=n,this},loop:{get:function(){return this.currentConfig.loop},set:function(n){this.currentConfig.loop=n,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),n&&this.createAndStartLoopBufferSource()),this.emit(f.LOOP,this,n)}},setLoop:function(n){return this.loop=n,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(n){this.currentConfig.pan=n,this.pannerNode&&this.pannerNode.pan.setValueAtTime(n,this.manager.context.currentTime),this.emit(f.PAN,this,n)}},setPan:function(n){return this.pan=n,this}});r.exports=o},55491:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(82329),x=i(12486),f=i(56694),u=i(76038),o=i(97081),n=i(96008),h=i(72632),p=new f({Extends:x,initialize:function(c){this.context=this.createAudioContext(c),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended"&&("ontouchstart"in window||"onclick"in window),x.call(this,c),this.locked&&c.isBooted?this.unlock():c.events.once(o.BOOT,this.unlock,this)},createAudioContext:function(a){var c=a.config.audio;if(c.context)return c.context.resume(),c.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(a){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=a,this.masterMuteNode=a.createGain(),this.masterVolumeNode=a.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(a.destination),this.destination=this.masterMuteNode,this},add:function(a,c){var v=new n(this,a,c);return this.sounds.push(v),v},decodeAudio:function(a,c){var v;Array.isArray(a)?v=a:v=[{key:a,data:c}];for(var g=this.game.cache.audio,m=v.length,y=0;y<v.length;y++){var P=v[y],M=P.key,E=P.data;typeof E=="string"&&(E=d(E));var w=(function(O,A){g.add(O,A),this.emit(u.DECODED,O),m--,m===0&&this.emit(u.DECODED_ALL)}).bind(this,M),R=(function(O,A){console.error("Error decoding audio: "+O+" - ",A?A.message:""),m--,m===0&&this.emit(u.DECODED_ALL)}).bind(this,M);this.context.decodeAudioData(E,w,R)}},setListenerPosition:function(a,c){return a===void 0&&(a=this.game.scale.width/2),c===void 0&&(c=this.game.scale.height/2),this.listenerPosition.set(a,c),this},unlock:function(){var a=this,c=document.body,v=function g(){if(a.context&&c){var m=c.removeEventListener.bind(c);a.context.resume().then(function(){m("touchstart",g),m("touchend",g),m("click",g),m("keydown",g),a.unlocked=!0},function(){m("touchstart",g),m("touchend",g),m("click",g),m("keydown",g)})}};c&&(c.addEventListener("touchstart",v,!1),c.addEventListener("touchend",v,!1),c.addEventListener("click",v,!1),c.addEventListener("keydown",v,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var a=this.context;a&&!this.locked&&(a.state==="suspended"||a.state==="interrupted")&&a.resume()},update:function(a,c){var v=this.context.listener;if(v&&v.positionX!==void 0){var g=h(this.listenerPosition,"x",null),m=h(this.listenerPosition,"y",null);g&&g!==this._spatialx&&(this._spatialx=v.positionX.value=g),m&&m!==this._spatialy&&(this._spatialy=v.positionY.value=m)}x.prototype.update.call(this,a,c),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var a=this;this.context.close().then(function(){a.context=null})}x.prototype.destroy.call(this)},setMute:function(a){return this.mute=a,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(a){this.masterMuteNode.gain.setValueAtTime(a?0:1,0),this.emit(u.GLOBAL_MUTE,this,a)}},setVolume:function(a){return this.volume=a,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(a){this.masterVolumeNode.gain.setValueAtTime(a,0),this.emit(u.GLOBAL_VOLUME,this,a)}}});r.exports=p},71207:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(59959),x=i(56694),f=i(72283),u=i(17922),o=new x({initialize:function(h){this.parent=h,this.list=[],this.position=0,this.addCallback=f,this.removeCallback=f,this._sortKey=""},add:function(n,h){return h?d.Add(this.list,n):d.Add(this.list,n,0,this.addCallback,this)},addAt:function(n,h,p){return p?d.AddAt(this.list,n,h):d.AddAt(this.list,n,h,0,this.addCallback,this)},getAt:function(n){return this.list[n]},getIndex:function(n){return this.list.indexOf(n)},sort:function(n,h){return n?(h===void 0&&(h=function(p,a){return p[n]-a[n]}),u(this.list,h),this):this},getByName:function(n){return d.GetFirst(this.list,"name",n)},getRandom:function(n,h){return d.GetRandom(this.list,n,h)},getFirst:function(n,h,p,a){return d.GetFirst(this.list,n,h,p,a)},getAll:function(n,h,p,a){return d.GetAll(this.list,n,h,p,a)},count:function(n,h){return d.CountAllMatching(this.list,n,h)},swap:function(n,h){d.Swap(this.list,n,h)},moveTo:function(n,h){return d.MoveTo(this.list,n,h)},moveAbove:function(n,h){return d.MoveAbove(this.list,n,h)},moveBelow:function(n,h){return d.MoveBelow(this.list,n,h)},remove:function(n,h){return h?d.Remove(this.list,n):d.Remove(this.list,n,this.removeCallback,this)},removeAt:function(n,h){return h?d.RemoveAt(this.list,n):d.RemoveAt(this.list,n,this.removeCallback,this)},removeBetween:function(n,h,p){return p?d.RemoveBetween(this.list,n,h):d.RemoveBetween(this.list,n,h,this.removeCallback,this)},removeAll:function(n){for(var h=this.list.length;h--;)this.remove(this.list[h],n);return this},bringToTop:function(n){return d.BringToTop(this.list,n)},sendToBack:function(n){return d.SendToBack(this.list,n)},moveUp:function(n){return d.MoveUp(this.list,n),n},moveDown:function(n){return d.MoveDown(this.list,n),n},reverse:function(){return this.list.reverse(),this},shuffle:function(){return d.Shuffle(this.list),this},replace:function(n,h){return d.Replace(this.list,n,h)},exists:function(n){return this.list.indexOf(n)>-1},setAll:function(n,h,p,a){return d.SetAll(this.list,n,h,p,a),this},each:function(n,h){for(var p=[null],a=2;a<arguments.length;a++)p.push(arguments[a]);for(a=0;a<this.list.length;a++)p[0]=this.list[a],n.apply(h,p)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});r.exports=o},33885:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=new d({initialize:function(u){this.entries={},this.size=0,this.setAll(u)},setAll:function(f){if(Array.isArray(f))for(var u=0;u<f.length;u++)this.set(f[u][0],f[u][1]);return this},set:function(f,u){return this.has(f)||this.size++,this.entries[f]=u,this},get:function(f){if(this.has(f))return this.entries[f]},getArray:function(){var f=[],u=this.entries;for(var o in u)f.push(u[o]);return f},has:function(f){return this.entries.hasOwnProperty(f)},delete:function(f){return this.has(f)&&(delete this.entries[f],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(f){delete this.entries[f]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var f=[],u=this.entries;for(var o in u)f.push(u[o]);return f},dump:function(){var f=this.entries;console.group("Map");for(var u in f)console.log(u,f[u]);console.groupEnd()},each:function(f){var u=this.entries;for(var o in u)if(f(o,u[o])===!1)break;return this},contains:function(f){var u=this.entries;for(var o in u)if(u[o]===f)return!0;return!1},merge:function(f,u){u===void 0&&(u=!1);var o=this.entries,n=f.entries;for(var h in n)o.hasOwnProperty(h)&&u?o[h]=n[h]:this.set(h,n[h]);return this}});r.exports=x},74623:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(6659),f=i(36716),u=new d({Extends:x,initialize:function(){x.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(o){return this._active.indexOf(o)>-1},isPending:function(o){return this._toProcess>0&&this._pending.indexOf(o)>-1},isDestroying:function(o){return this._destroy.indexOf(o)>-1},add:function(o){return this.checkQueue&&this.isActive(o)&&!this.isDestroying(o)||this.isPending(o)||(this._pending.push(o),this._toProcess++),o},remove:function(o){if(this.isPending(o)){var n=this._pending,h=n.indexOf(o);h!==-1&&n.splice(h,1)}else this.isActive(o)&&(this._destroy.push(o),this._toProcess++);return o},removeAll:function(){for(var o=this._active,n=this._destroy,h=o.length;h--;)n.push(o[h]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var o=this._destroy,n=this._active,h,p;for(h=0;h<o.length;h++){p=o[h];var a=n.indexOf(p);a!==-1&&(n.splice(a,1),this.emit(f.PROCESS_QUEUE_REMOVE,p))}for(o.length=0,o=this._pending,h=0;h<o.length;h++)p=o[h],(!this.checkQueue||this.checkQueue&&n.indexOf(p)===-1)&&(n.push(p),this.emit(f.PROCESS_QUEUE_ADD,p));return o.length=0,this._toProcess=0,n},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});r.exports=u},68687:(r,T,i)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(53466);function x(E){if(!(this instanceof x))return new x(E);this._maxEntries=Math.max(4,E||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}x.prototype={all:function(){return this._all(this.data,[])},search:function(E){var w=this.data,R=[],O=this.toBBox;if(!y(E,w))return R;for(var A=[],F,L,I,B;w;){for(F=0,L=w.children.length;F<L;F++)I=w.children[F],B=w.leaf?O(I):I,y(E,B)&&(w.leaf?R.push(I):m(E,B)?this._all(I,R):A.push(I));w=A.pop()}return R},collides:function(E){var w=this.data,R=this.toBBox;if(!y(E,w))return!1;for(var O=[],A,F,L,I;w;){for(A=0,F=w.children.length;A<F;A++)if(L=w.children[A],I=w.leaf?R(L):L,y(E,I)){if(w.leaf||m(E,I))return!0;O.push(L)}w=O.pop()}return!1},load:function(E){if(!(E&&E.length))return this;if(E.length<this._minEntries){for(var w=0,R=E.length;w<R;w++)this.insert(E[w]);return this}var O=this._build(E.slice(),0,E.length-1,0);if(!this.data.children.length)this.data=O;else if(this.data.height===O.height)this._splitRoot(this.data,O);else{if(this.data.height<O.height){var A=this.data;this.data=O,O=A}this._insert(O,this.data.height-O.height-1,!0)}return this},insert:function(E){return E&&this._insert(E,this.data.height-1),this},clear:function(){return this.data=P([]),this},remove:function(E,w){if(!E)return this;for(var R=this.data,O=this.toBBox(E),A=[],F=[],L,I,B,b;R||A.length;){if(R||(R=A.pop(),I=A[A.length-1],L=F.pop(),b=!0),R.leaf&&(B=f(E,R.children,w),B!==-1))return R.children.splice(B,1),A.push(R),this._condense(A),this;!b&&!R.leaf&&m(R,O)?(A.push(R),F.push(L),L=0,I=R,R=R.children[0]):I?(L++,R=I.children[L],b=!1):R=null}return this},toBBox:function(E){return E},compareMinX:h,compareMinY:p,toJSON:function(){return this.data},fromJSON:function(E){return this.data=E,this},_all:function(E,w){for(var R=[];E;)E.leaf?w.push.apply(w,E.children):R.push.apply(R,E.children),E=R.pop();return w},_build:function(E,w,R,O){var A=R-w+1,F=this._maxEntries,L;if(A<=F)return L=P(E.slice(w,R+1)),u(L,this.toBBox),L;O||(O=Math.ceil(Math.log(A)/Math.log(F)),F=Math.ceil(A/Math.pow(F,O-1))),L=P([]),L.leaf=!1,L.height=O;var I=Math.ceil(A/F),B=I*Math.ceil(Math.sqrt(F)),b,k,U,Y;for(M(E,w,R,B,this.compareMinX),b=w;b<=R;b+=B)for(U=Math.min(b+B-1,R),M(E,b,U,I,this.compareMinY),k=b;k<=U;k+=I)Y=Math.min(k+I-1,U),L.children.push(this._build(E,k,Y,O-1));return u(L,this.toBBox),L},_chooseSubtree:function(E,w,R,O){for(var A,F,L,I,B,b,k,U;O.push(w),!(w.leaf||O.length-1===R);){for(k=U=1/0,A=0,F=w.children.length;A<F;A++)L=w.children[A],B=a(L),b=v(E,L)-B,b<U?(U=b,k=B<k?B:k,I=L):b===U&&B<k&&(k=B,I=L);w=I||w.children[0]}return w},_insert:function(E,w,R){var O=this.toBBox,A=R?E:O(E),F=[],L=this._chooseSubtree(A,this.data,w,F);for(L.children.push(E),n(L,A);w>=0&&F[w].children.length>this._maxEntries;)this._split(F,w),w--;this._adjustParentBBoxes(A,F,w)},_split:function(E,w){var R=E[w],O=R.children.length,A=this._minEntries;this._chooseSplitAxis(R,A,O);var F=this._chooseSplitIndex(R,A,O),L=P(R.children.splice(F,R.children.length-F));L.height=R.height,L.leaf=R.leaf,u(R,this.toBBox),u(L,this.toBBox),w?E[w-1].children.push(L):this._splitRoot(R,L)},_splitRoot:function(E,w){this.data=P([E,w]),this.data.height=E.height+1,this.data.leaf=!1,u(this.data,this.toBBox)},_chooseSplitIndex:function(E,w,R){var O,A,F,L,I,B,b,k;for(B=b=1/0,O=w;O<=R-w;O++)A=o(E,0,O,this.toBBox),F=o(E,O,R,this.toBBox),L=g(A,F),I=a(A)+a(F),L<B?(B=L,k=O,b=I<b?I:b):L===B&&I<b&&(b=I,k=O);return k},_chooseSplitAxis:function(E,w,R){var O=E.leaf?this.compareMinX:h,A=E.leaf?this.compareMinY:p,F=this._allDistMargin(E,w,R,O),L=this._allDistMargin(E,w,R,A);F<L&&E.children.sort(O)},_allDistMargin:function(E,w,R,O){E.children.sort(O);var A=this.toBBox,F=o(E,0,w,A),L=o(E,R-w,R,A),I=c(F)+c(L),B,b;for(B=w;B<R-w;B++)b=E.children[B],n(F,E.leaf?A(b):b),I+=c(F);for(B=R-w-1;B>=w;B--)b=E.children[B],n(L,E.leaf?A(b):b),I+=c(L);return I},_adjustParentBBoxes:function(E,w,R){for(var O=R;O>=0;O--)n(w[O],E)},_condense:function(E){for(var w=E.length-1,R;w>=0;w--)E[w].children.length===0?w>0?(R=E[w-1].children,R.splice(R.indexOf(E[w]),1)):this.clear():u(E[w],this.toBBox)},compareMinX:function(E,w){return E.left-w.left},compareMinY:function(E,w){return E.top-w.top},toBBox:function(E){return{minX:E.left,minY:E.top,maxX:E.right,maxY:E.bottom}}};function f(E,w,R){if(!R)return w.indexOf(E);for(var O=0;O<w.length;O++)if(R(E,w[O]))return O;return-1}function u(E,w){o(E,0,E.children.length,w,E)}function o(E,w,R,O,A){A||(A=P(null)),A.minX=1/0,A.minY=1/0,A.maxX=-1/0,A.maxY=-1/0;for(var F=w,L;F<R;F++)L=E.children[F],n(A,E.leaf?O(L):L);return A}function n(E,w){return E.minX=Math.min(E.minX,w.minX),E.minY=Math.min(E.minY,w.minY),E.maxX=Math.max(E.maxX,w.maxX),E.maxY=Math.max(E.maxY,w.maxY),E}function h(E,w){return E.minX-w.minX}function p(E,w){return E.minY-w.minY}function a(E){return(E.maxX-E.minX)*(E.maxY-E.minY)}function c(E){return E.maxX-E.minX+(E.maxY-E.minY)}function v(E,w){return(Math.max(w.maxX,E.maxX)-Math.min(w.minX,E.minX))*(Math.max(w.maxY,E.maxY)-Math.min(w.minY,E.minY))}function g(E,w){var R=Math.max(E.minX,w.minX),O=Math.max(E.minY,w.minY),A=Math.min(E.maxX,w.maxX),F=Math.min(E.maxY,w.maxY);return Math.max(0,A-R)*Math.max(0,F-O)}function m(E,w){return E.minX<=w.minX&&E.minY<=w.minY&&w.maxX<=E.maxX&&w.maxY<=E.maxY}function y(E,w){return w.minX<=E.maxX&&w.minY<=E.maxY&&w.maxX>=E.minX&&w.maxY>=E.minY}function P(E){return{children:E,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function M(E,w,R,O,A){for(var F=[w,R],L;F.length;)R=F.pop(),w=F.pop(),!(R-w<=O)&&(L=w+Math.ceil((R-w)/O/2)*O,d(E,L,w,R,A),F.push(w,L,L,R))}r.exports=x},58403:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=new d({initialize:function(u){if(this.entries=[],Array.isArray(u))for(var o=0;o<u.length;o++)this.set(u[o])},set:function(f){return this.entries.indexOf(f)===-1&&this.entries.push(f),this},get:function(f,u){for(var o=0;o<this.entries.length;o++){var n=this.entries[o];if(n[f]===u)return n}},getArray:function(){return this.entries.slice(0)},delete:function(f){var u=this.entries.indexOf(f);return u>-1&&this.entries.splice(u,1),this},dump:function(){console.group("Set");for(var f=0;f<this.entries.length;f++){var u=this.entries[f];console.log(u)}console.groupEnd()},each:function(f,u){var o,n=this.entries.slice(),h=n.length;if(u)for(o=0;o<h&&f.call(u,n[o],o)!==!1;o++);else for(o=0;o<h&&f(n[o],o)!==!1;o++);return this},iterate:function(f,u){var o,n=this.entries.length;if(u)for(o=0;o<n&&f.call(u,this.entries[o],o)!==!1;o++);else for(o=0;o<n&&f(this.entries[o],o)!==!1;o++);return this},iterateLocal:function(f){var u,o=[];for(u=1;u<arguments.length;u++)o.push(arguments[u]);var n=this.entries.length;for(u=0;u<n;u++){var h=this.entries[u];h[f].apply(h,o)}return this},clear:function(){return this.entries.length=0,this},contains:function(f){return this.entries.indexOf(f)>-1},union:function(f){var u=new x;return f.entries.forEach(function(o){u.set(o)}),this.entries.forEach(function(o){u.set(o)}),u},intersect:function(f){var u=new x;return this.entries.forEach(function(o){f.contains(o)&&u.set(o)}),u},difference:function(f){var u=new x;return this.entries.forEach(function(o){f.contains(o)||u.set(o)}),u},size:{get:function(){return this.entries.length},set:function(f){return f<this.entries.length?this.entries.length=f:this.entries.length}}});r.exports=x},90881:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(82897),x=i(56694),f=i(84314),u=i(93736),o=new x({initialize:function(h,p,a,c){h===void 0&&(h=0),p===void 0&&(p=h),a===void 0&&(a=0),c===void 0&&(c=null),this._width=h,this._height=p,this._parent=c,this.aspectMode=a,this.aspectRatio=p===0?1:h/p,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new u},setAspectMode:function(n){return n===void 0&&(n=0),this.aspectMode=n,this.setSize(this._width,this._height)},setSnap:function(n,h){return n===void 0&&(n=0),h===void 0&&(h=n),this.snapTo.set(n,h),this.setSize(this._width,this._height)},setParent:function(n){return this._parent=n,this.setSize(this._width,this._height)},setMin:function(n,h){return n===void 0&&(n=0),h===void 0&&(h=n),this.minWidth=d(n,0,this.maxWidth),this.minHeight=d(h,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(n,h){return n===void 0&&(n=Number.MAX_VALUE),h===void 0&&(h=n),this.maxWidth=d(n,this.minWidth,Number.MAX_VALUE),this.maxHeight=d(h,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(n,h){switch(n===void 0&&(n=0),h===void 0&&(h=n),this.aspectMode){case o.NONE:this._width=this.getNewWidth(f(n,this.snapTo.x)),this._height=this.getNewHeight(f(h,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case o.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(f(n,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case o.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(f(h,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case o.FIT:this.constrain(n,h,!0);break;case o.ENVELOP:this.constrain(n,h,!1);break}return this},setAspectRatio:function(n){return this.aspectRatio=n,this.setSize(this._width,this._height)},resize:function(n,h){return this._width=this.getNewWidth(f(n,this.snapTo.x)),this._height=this.getNewHeight(f(h,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(n,h){return h===void 0&&(h=!0),n=d(n,this.minWidth,this.maxWidth),h&&this._parent&&n>this._parent.width&&(n=Math.max(this.minWidth,this._parent.width)),n},getNewHeight:function(n,h){return h===void 0&&(h=!0),n=d(n,this.minHeight,this.maxHeight),h&&this._parent&&n>this._parent.height&&(n=Math.max(this.minHeight,this._parent.height)),n},constrain:function(n,h,p){n===void 0&&(n=0),h===void 0&&(h=n),p===void 0&&(p=!0),n=this.getNewWidth(n),h=this.getNewHeight(h);var a=this.snapTo,c=h===0?1:n/h;return p&&this.aspectRatio>c||!p&&this.aspectRatio<c?(n=f(n,a.x),h=n/this.aspectRatio,a.y>0&&(h=f(h,a.y),n=h*this.aspectRatio)):(p&&this.aspectRatio<c||!p&&this.aspectRatio>c)&&(h=f(h,a.y),n=h*this.aspectRatio,a.x>0&&(n=f(n,a.x),h=n*(1/this.aspectRatio))),this._width=n,this._height=h,this},fitTo:function(n,h){return this.constrain(n,h,!0)},envelop:function(n,h){return this.constrain(n,h,!1)},setWidth:function(n){return this.setSize(n,this._height)},setHeight:function(n){return this.setSize(this._width,n)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(n){n&&n.style&&(n.style.width=this._width+"px",n.style.height=this._height+"px")},copy:function(n){return n.setAspectMode(this.aspectMode),n.aspectRatio=this.aspectRatio,n.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(n){this.setSize(n,this._height)}},height:{get:function(){return this._height},set:function(n){this.setSize(this._width,n)}}});o.NONE=0,o.WIDTH_CONTROLS_HEIGHT=1,o.HEIGHT_CONTROLS_WIDTH=2,o.FIT=3,o.ENVELOP=4,r.exports=o},94160:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="add"},95393:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="remove"},36716:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={PROCESS_QUEUE_ADD:i(94160),PROCESS_QUEUE_REMOVE:i(95393)}},20010:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Events:i(36716),List:i(71207),Map:i(33885),ProcessQueue:i(74623),RTree:i(68687),Set:i(58403),Size:i(90881)}},17487:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(82897),f=i(27119),u=i(86459),o=i(28621),n=i(31673),h=new d({Extends:n,initialize:function(a,c,v,g,m){n.call(this,a,c,v,g,m),this.add("__BASE",0,0,0,g,m),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=g,this.height=m,this.imageData=this.context.getImageData(0,0,g,m),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===u.WEBGL&&this.refresh(),this},draw:function(p,a,c,v){return v===void 0&&(v=!0),this.context.drawImage(c,p,a),v&&this.update(),this},drawFrame:function(p,a,c,v,g){c===void 0&&(c=0),v===void 0&&(v=0),g===void 0&&(g=!0);var m=this.manager.getFrame(p,a);if(m){var y=m.canvasData,P=m.cutWidth,M=m.cutHeight,E=m.source.resolution;this.context.drawImage(m.source.image,y.x,y.y,P,M,c,v,P/E,M/E),g&&this.update()}return this},setPixel:function(p,a,c,v,g,m){m===void 0&&(m=255),p=Math.abs(Math.floor(p)),a=Math.abs(Math.floor(a));var y=this.getIndex(p,a);if(y>-1){var P=this.context.getImageData(p,a,1,1);P.data[0]=c,P.data[1]=v,P.data[2]=g,P.data[3]=m,this.context.putImageData(P,p,a)}return this},putData:function(p,a,c,v,g,m,y){return v===void 0&&(v=0),g===void 0&&(g=0),m===void 0&&(m=p.width),y===void 0&&(y=p.height),this.context.putImageData(p,a,c,v,g,m,y),this},getData:function(p,a,c,v){p=x(Math.floor(p),0,this.width-1),a=x(Math.floor(a),0,this.height-1),c=x(c,1,this.width-p),v=x(v,1,this.height-a);var g=this.context.getImageData(p,a,c,v);return g},getPixel:function(p,a,c){c||(c=new f);var v=this.getIndex(p,a);if(v>-1){var g=this.data,m=g[v+0],y=g[v+1],P=g[v+2],M=g[v+3];c.setTo(m,y,P,M)}return c},getPixels:function(p,a,c,v){p===void 0&&(p=0),a===void 0&&(a=0),c===void 0&&(c=this.width),v===void 0&&(v=c),p=Math.abs(Math.round(p)),a=Math.abs(Math.round(a));for(var g=x(p,0,this.width),m=x(p+c,0,this.width),y=x(a,0,this.height),P=x(a+v,0,this.height),M=new f,E=[],w=y;w<P;w++){for(var R=[],O=g;O<m;O++)M=this.getPixel(O,w,M),R.push({x:O,y:w,color:M.color,alpha:M.alphaGL});E.push(R)}return E},getIndex:function(p,a){return p=Math.abs(Math.round(p)),a=Math.abs(Math.round(a)),p<this.width&&a<this.height?(p+a*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(p,a,c,v,g){return p===void 0&&(p=0),a===void 0&&(a=0),c===void 0&&(c=this.width),v===void 0&&(v=this.height),g===void 0&&(g=!0),this.context.clearRect(p,a,c,v),g&&this.update(),this},setSize:function(p,a){return a===void 0&&(a=p),(p!==this.width||a!==this.height)&&(this.canvas.width=p,this.canvas.height=a,this._source.width=p,this._source.height=a,this._source.isPowerOf2=o(p,a),this.frames.__BASE.setSize(p,a,0,0),this.width=p,this.height=a,this.refresh()),this},destroy:function(){n.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});r.exports=h},845:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(95723),x=i(51052),f=i(61068),u=i(56694),o=i(86459),n=i(82047),h=i(72632),p=i(65641),a=i(37410),c=i(31673),v=i(75512),g=new u({Extends:c,initialize:function(y,P,M,E){M===void 0&&(M=256),E===void 0&&(E=256),this.type="DynamicTexture";var w=y.game.renderer,R=w&&w.type===o.CANVAS,O=R?f.create2D(this,M,E):[this];c.call(this,y,P,O,M,E),this.add("__BASE",0,0,0,M,E),this.renderer=w,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=R?O:null,this.context=R?O.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new x(0,0,M,E).setScene(y.game.scene.systemScene,!1),this.renderTarget=R?null:new a(w,M,E,1,0,!1,!0,!0,!1),this.pipeline=R?null:w.pipelines.get(p.SINGLE_PIPELINE),R||this.setSize(M,E)},setSize:function(m,y){y===void 0&&(y=m);var P=this.get(),M=P.source;if(m!==this.width||y!==this.height){this.canvas&&(this.canvas.width=m,this.canvas.height=y);var E=this.renderTarget;E&&(E.willResize(m,y)&&(E.resize(m,y),this.renderer.deleteTexture(M.glTexture)),this.setFromRenderTarget()),this.camera.setSize(m,y),M.width=m,M.height=y,P.setSize(m,y),this.width=m,this.height=y}else{var w=this.getSourceImage();P.cutX+m>w.width&&(m=w.width-P.cutX),P.cutY+y>w.height&&(y=w.height-P.cutY),P.setSize(m,y,P.cutX,P.cutY)}return this},setFromRenderTarget:function(){var m=this.get(),y=m.source,P=this.renderTarget;return m.glTexture=P.texture,y.isRenderTexture=!0,y.isGLTexture=!0,y.glTexture=P.texture,y.glTexture.flipY=!0,this},setIsSpriteTexture:function(m){return this.isSpriteTexture=m,this},fill:function(m,y,P,M,E,w){var R=this.camera,O=this.renderer;y===void 0&&(y=1),P===void 0&&(P=0),M===void 0&&(M=0),E===void 0&&(E=this.width),w===void 0&&(w=this.height);var A=m>>16&255,F=m>>8&255,L=m&255,I=this.renderTarget;if(R.preRender(),I){I.bind(!0);var B=this.pipeline.manager.set(this.pipeline),b=O.width/I.width,k=O.height/I.height,U=I.height-(M+w);B.drawFillRect(P*b,U*k,E*b,w*k,v.getTintFromFloats(L/255,F/255,A/255,1),y),I.unbind(!0)}else{var Y=this.context;O.setContext(Y),Y.globalCompositeOperation="source-over",Y.fillStyle="rgba("+A+","+F+","+L+","+y+")",Y.fillRect(P,M,E,w),O.setContext()}return this.dirty=!0,this},clear:function(){if(this.dirty){var m=this.context,y=this.renderTarget;y?y.clear():m&&(m.save(),m.setTransform(1,0,0,1,0,0),m.clearRect(0,0,this.width,this.height),m.restore()),this.dirty=!1}return this},stamp:function(m,y,P,M,E){P===void 0&&(P=0),M===void 0&&(M=0);var w=h(E,"alpha",1),R=h(E,"tint",16777215),O=h(E,"angle",0),A=h(E,"rotation",0),F=h(E,"scale",1),L=h(E,"scaleX",F),I=h(E,"scaleY",F),B=h(E,"originX",.5),b=h(E,"originY",.5),k=h(E,"blendMode",0),U=h(E,"erase",!1),Y=h(E,"skipBatch",!1),H=this.manager.resetStamp(w,R);return H.setAngle(0),O!==0?H.setAngle(O):A!==0&&H.setRotation(A),H.setScale(L,I),H.setTexture(m,y),H.setOrigin(B,b),H.setBlendMode(k),U&&(this._eraseMode=!0),Y?this.batchGameObject(H,P,M):this.draw(H,P,M),U&&(this._eraseMode=!1),this},erase:function(m,y,P){return this._eraseMode=!0,this.draw(m,y,P),this._eraseMode=!1,this},draw:function(m,y,P,M,E){return this.beginDraw(),this.batchDraw(m,y,P,M,E),this.endDraw(),this},drawFrame:function(m,y,P,M,E,w){return this.beginDraw(),this.batchDrawFrame(m,y,P,M,E,w),this.endDraw(),this},repeat:function(m,y,P,M,E,w,R,O,A){if(P===void 0&&(P=0),M===void 0&&(M=0),E===void 0&&(E=this.width),w===void 0&&(w=this.height),R===void 0&&(R=1),O===void 0&&(O=16777215),A===void 0&&(A=!1),m instanceof n?y=m:y=this.manager.getFrame(m,y),!y)return this;var F=this.manager.resetStamp(R,O);F.setFrame(y),F.setOrigin(0);var L=y.width,I=y.height;E=Math.floor(E),w=Math.floor(w);var B=Math.ceil(E/L),b=Math.ceil(w/I),k=B*L-E,U=b*I-w;k>0&&(k=L-k),U>0&&(U=I-U),P<0&&(B+=Math.ceil(Math.abs(P)/L)),M<0&&(b+=Math.ceil(Math.abs(M)/I));var Y=P,H=M,z=!1,V=this.manager.stampCrop.setTo(0,0,L,I);A||this.beginDraw();for(var D=0;D<b;D++){if(H+I<0){H+=I;continue}for(var G=0;G<B;G++){if(z=!1,Y+L<0){Y+=L;continue}else Y<0&&(z=!0,V.width=L+Y,V.x=L-V.width);H<0&&(z=!0,V.height=I+H,V.y=I-V.height),k>0&&G===B-1&&(z=!0,V.width=k),U>0&&D===b-1&&(z=!0,V.height=U),z&&F.setCrop(V),this.batchGameObject(F,Y,H),F.isCropped=!1,V.setTo(0,0,L,I),Y+=L}Y=P,H+=I}return A||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var m=this.camera,y=this.renderer,P=this.renderTarget;m.preRender(),P?y.beginCapture(P.width,P.height):y.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(m,y,P,M,E){return Array.isArray(m)||(m=[m]),this.batchList(m,y,P,M,E),this},batchDrawFrame:function(m,y,P,M,E,w){P===void 0&&(P=0),M===void 0&&(M=0),E===void 0&&(E=1),w===void 0&&(w=16777215);var R=this.manager.getFrame(m,y);return R&&(this.renderTarget?this.pipeline.batchTextureFrame(R,P,M,w,E,this.camera.matrix,null):this.batchTextureFrame(R,P,M,E,w)),this},endDraw:function(m){if(m===void 0&&(m=this._eraseMode),this.isDrawing){var y=this.renderer,P=this.renderTarget;if(P){var M=y.endCapture(),E=y.pipelines.setUtility();E.blitFrame(M,P,1,!1,!1,m,this.isSpriteTexture),y.resetScissor(),y.resetViewport()}else y.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(m,y,P,M,E){var w=m.length;if(w!==0)for(var R=0;R<w;R++){var O=m[R];!O||O===this||(O.renderWebGL||O.renderCanvas?this.batchGameObject(O,y,P):O.isParent||O.list?this.batchGroup(O.getChildren(),y,P):typeof O=="string"?this.batchTextureFrameKey(O,null,y,P,M,E):O instanceof n?this.batchTextureFrame(O,y,P,M,E):Array.isArray(O)&&this.batchList(O,y,P,M,E))}},batchGroup:function(m,y,P){y===void 0&&(y=0),P===void 0&&(P=0);for(var M=0;M<m.length;M++){var E=m[M];E.willRender(this.camera)&&this.batchGameObject(E,E.x+y,E.y+P)}},batchGameObject:function(m,y,P){y===void 0&&(y=m.x),P===void 0&&(P=m.y);var M=m.x,E=m.y,w=this.camera,R=this.renderer,O=this._eraseMode,A=m.mask;if(m.setPosition(y,P),this.canvas){if(O){var F=m.blendMode;m.blendMode=d.ERASE}A&&A.preRenderCanvas(R,m,w),m.renderCanvas(R,m,w,null),A&&A.postRenderCanvas(R,m,w),O&&(m.blendMode=F)}else R&&(A&&A.preRenderWebGL(R,m,w),O||R.setBlendMode(m.blendMode),m.renderWebGL(R,m,w),A&&A.postRenderWebGL(R,w,this.renderTarget));m.setPosition(M,E)},batchTextureFrameKey:function(m,y,P,M,E,w){var R=this.manager.getFrame(m,y);R&&this.batchTextureFrame(R,P,M,E,w)},batchTextureFrame:function(m,y,P,M,E){y===void 0&&(y=0),P===void 0&&(P=0),M===void 0&&(M=1),E===void 0&&(E=16777215);var w=this.camera.matrix,R=this.renderTarget;if(R)this.pipeline.batchTextureFrame(m,y,P,E,M,w,null);else{var O=this.context,A=m.canvasData,F=m.source.image;O.save(),O.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",O.globalAlpha=M,w.setToContext(O),A.width>0&&A.height>0&&O.drawImage(F,A.x,A.y,A.width,A.height,y,P,A.width,A.height),O.restore()}},snapshotArea:function(m,y,P,M,E,w,R){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,E,!1,m,y,P,M,w,R):this.renderer.snapshotCanvas(this.canvas,E,!1,m,y,P,M,w,R),this},snapshot:function(m,y,P){return this.snapshotArea(0,0,this.width,this.height,m,y,P)},snapshotPixel:function(m,y,P){return this.snapshotArea(m,y,1,1,P,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(m,y,P,M){var E=this.manager.resetStamp();E.setTexture(this),E.setOrigin(0),E.renderWebGL(m,E,P,M)},renderCanvas:function(){},destroy:function(){var m=this.manager.stamp;m&&m.texture===this&&this.manager.resetStamp(),c.prototype.destroy.call(this),f.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});r.exports=g},82047:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(82897),f=i(98611),u=new d({initialize:function(n,h,p,a,c,v,g){this.texture=n,this.name=h,this.source=n.source[p],this.sourceIndex=p,this.glTexture=this.source.glTexture,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(v,g,a,c)},setSize:function(o,n,h,p){h===void 0&&(h=0),p===void 0&&(p=0),this.cutX=h,this.cutY=p,this.cutWidth=o,this.cutHeight=n,this.width=o,this.height=n,this.halfWidth=Math.floor(o*.5),this.halfHeight=Math.floor(n*.5),this.centerX=Math.floor(o/2),this.centerY=Math.floor(n/2);var a=this.data,c=a.cut;c.x=h,c.y=p,c.w=o,c.h=n,c.r=h+o,c.b=p+n,a.sourceSize.w=o,a.sourceSize.h=n,a.spriteSourceSize.w=o,a.spriteSourceSize.h=n,a.radius=.5*Math.sqrt(o*o+n*n);var v=a.drawImage;return v.x=h,v.y=p,v.width=o,v.height=n,this.updateUVs()},setTrim:function(o,n,h,p,a,c){var v=this.data,g=v.spriteSourceSize;return v.trim=!0,v.sourceSize.w=o,v.sourceSize.h=n,g.x=h,g.y=p,g.w=a,g.h=c,g.r=h+a,g.b=p+c,this.x=h,this.y=p,this.width=a,this.height=c,this.halfWidth=a*.5,this.halfHeight=c*.5,this.centerX=Math.floor(a/2),this.centerY=Math.floor(c/2),this.updateUVs()},setScale9:function(o,n,h,p){var a=this.data;return a.scale9=!0,a.is3Slice=n===0&&p===this.height,a.scale9Borders.x=o,a.scale9Borders.y=n,a.scale9Borders.w=h,a.scale9Borders.h=p,this},setCropUVs:function(o,n,h,p,a,c,v){var g=this.cutX,m=this.cutY,y=this.cutWidth,P=this.cutHeight,M=this.realWidth,E=this.realHeight;n=x(n,0,M),h=x(h,0,E),p=x(p,0,M-n),a=x(a,0,E-h);var w=g+n,R=m+h,O=p,A=a,F=this.data;if(F.trim){var L=F.spriteSourceSize;p=x(p,0,y-n),a=x(a,0,P-h);var I=n+p,B=h+a,b=!(L.r<n||L.b<h||L.x>I||L.y>B);if(b){var k=Math.max(L.x,n),U=Math.max(L.y,h),Y=Math.min(L.r,I)-k,H=Math.min(L.b,B)-U;O=Y,A=H,c?w=g+(y-(k-L.x)-Y):w=g+(k-L.x),v?R=m+(P-(U-L.y)-H):R=m+(U-L.y),n=k,h=U,p=Y,a=H}else w=0,R=0,O=0,A=0}else c&&(w=g+(y-n-p)),v&&(R=m+(P-h-a));var z=this.source.width,V=this.source.height;return o.u0=Math.max(0,w/z),o.v0=Math.max(0,R/V),o.u1=Math.min(1,(w+O)/z),o.v1=Math.min(1,(R+A)/V),o.x=n,o.y=h,o.cx=w,o.cy=R,o.cw=O,o.ch=A,o.width=p,o.height=a,o.flipX=c,o.flipY=v,o},updateCropUVs:function(o,n,h){return this.setCropUVs(o,o.x,o.y,o.width,o.height,n,h)},setUVs:function(o,n,h,p,a,c){var v=this.data.drawImage;return v.width=o,v.height=n,this.u0=h,this.v0=p,this.u1=a,this.v1=c,this},updateUVs:function(){var o=this.cutX,n=this.cutY,h=this.cutWidth,p=this.cutHeight,a=this.data.drawImage;a.width=h,a.height=p;var c=this.source.width,v=this.source.height;return this.u0=o/c,this.v0=n/v,this.u1=(o+h)/c,this.v1=(n+p)/v,this},updateUVsInverted:function(){var o=this.source.width,n=this.source.height;return this.u0=(this.cutX+this.cutHeight)/o,this.v0=this.cutY/n,this.u1=this.cutX/o,this.v1=(this.cutY+this.cutWidth)/n,this},clone:function(){var o=new u(this.texture,this.name,this.sourceIndex);return o.cutX=this.cutX,o.cutY=this.cutY,o.cutWidth=this.cutWidth,o.cutHeight=this.cutHeight,o.x=this.x,o.y=this.y,o.width=this.width,o.height=this.height,o.halfWidth=this.halfWidth,o.halfHeight=this.halfHeight,o.centerX=this.centerX,o.centerY=this.centerY,o.rotated=this.rotated,o.data=f(!0,o.data,this.data),o.updateUVs(),o},destroy:function(){this.texture=null,this.source=null,this.glTexture=null,this.customData=null,this.data=null},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});r.exports=u},31673:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(82047),f=i(32547),u='Texture "%s" has no frame "%s"',o=new d({initialize:function(h,p,a,c,v){Array.isArray(a)||(a=[a]),this.manager=h,this.key=p,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var g=0;g<a.length;g++)this.source.push(new f(this,a[g],c,v))},add:function(n,h,p,a,c,v){if(this.has(n))return null;var g=new x(this,n,h,p,a,c,v);return this.frames[n]=g,this.firstFrame==="__BASE"&&(this.firstFrame=n),this.frameTotal++,g},remove:function(n){if(this.has(n)){var h=this.get(n);return h.destroy(),delete this.frames[n],!0}return!1},has:function(n){return this.frames.hasOwnProperty(n)},get:function(n){n||(n=this.firstFrame);var h=this.frames[n];return h||(console.warn(u,this.key,n),h=this.frames[this.firstFrame]),h},getTextureSourceIndex:function(n){for(var h=0;h<this.source.length;h++)if(this.source[h]===n)return h;return-1},getFramesFromTextureSource:function(n,h){h===void 0&&(h=!1);var p=[];for(var a in this.frames)if(!(a==="__BASE"&&!h)){var c=this.frames[a];c.sourceIndex===n&&p.push(c)}return p},getFrameNames:function(n){n===void 0&&(n=!1);var h=Object.keys(this.frames);if(!n){var p=h.indexOf("__BASE");p!==-1&&h.splice(p,1)}return h},getSourceImage:function(n){(n==null||this.frameTotal===1)&&(n="__BASE");var h=this.frames[n];return h?h.source.image:(console.warn(u,this.key,n),this.frames.__BASE.source.image)},getDataSourceImage:function(n){(n==null||this.frameTotal===1)&&(n="__BASE");var h=this.frames[n],p;return h?p=h.sourceIndex:(console.warn(u,this.key,n),p=this.frames.__BASE.sourceIndex),this.dataSource[p].image},setDataSource:function(n){Array.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++){var p=this.source[h];this.dataSource.push(new f(this,n[h],p.width,p.height))}},setFilter:function(n){var h;for(h=0;h<this.source.length;h++)this.source[h].setFilter(n);for(h=0;h<this.dataSource.length;h++)this.dataSource[h].setFilter(n)},destroy:function(){var n,h=this.source,p=this.dataSource;for(n=0;n<h.length;n++)h[n]&&h[n].destroy();for(n=0;n<p.length;n++)p[n]&&p[n].destroy();for(var a in this.frames){var c=this.frames[a];c&&c.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});r.exports=o},6237:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61068),x=i(17487),f=i(56694),u=i(27119),o=i(86459),n=i(845),h=i(6659),p=i(38203),a=i(82047),c=i(97081),v=i(52780),g=i(10850),m=i(1539),y=i(42911),P=i(69150),M=i(74118),E=i(31673),w=new f({Extends:h,initialize:function(O){h.call(this),this.game=O,this.name="TextureManager",this.list={},this._tempCanvas=d.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new M,this.silentWarnings=!1,O.events.once(c.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(p.LOAD,this.updatePending,this),this.on(p.ERROR,this.updatePending,this);var R=this.game.config;this.addBase64("__DEFAULT",R.defaultImage),this.addBase64("__MISSING",R.missingImage),this.addBase64("__WHITE",R.whiteImage),this.game.events.once(c.DESTROY,this.destroy,this),this.game.events.once(c.SYSTEM_READY,function(O){this.stamp=new m(O).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(p.LOAD),this.off(p.ERROR),this.emit(p.READY))},checkKey:function(R){return this.exists(R)?(this.silentWarnings||console.error("Texture key already in use: "+R),!1):!0},remove:function(R){if(typeof R=="string")if(this.exists(R))R=this.get(R);else return this.silentWarnings||console.warn("No texture found matching key: "+R),this;var O=R.key;return this.list.hasOwnProperty(O)&&(R.destroy(),this.emit(p.REMOVE,O),this.emit(p.REMOVE_KEY+O)),this},removeKey:function(R){return this.list.hasOwnProperty(R)&&delete this.list[R],this},addBase64:function(R,O){if(this.checkKey(R)){var A=this,F=new Image;F.onerror=function(){A.emit(p.ERROR,R)},F.onload=function(){var L=A.create(R,F);P.Image(L,0),A.emit(p.ADD,R,L),A.emit(p.ADD_KEY+R,L),A.emit(p.LOAD,R,L)},F.src=O}return this},getBase64:function(R,O,A,F){A===void 0&&(A="image/png"),F===void 0&&(F=.92);var L="",I=this.getFrame(R,O);if(I&&(I.source.isRenderTexture||I.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(I){var B=I.canvasData,b=d.create2D(this,B.width,B.height),k=b.getContext("2d",{willReadFrequently:!0});B.width>0&&B.height>0&&k.drawImage(I.source.image,B.x,B.y,B.width,B.height,0,0,B.width,B.height),L=b.toDataURL(A,F),d.remove(b)}return L},addImage:function(R,O,A){var F=null;return this.checkKey(R)&&(F=this.create(R,O),P.Image(F,0),A&&F.setDataSource(A),this.emit(p.ADD,R,F),this.emit(p.ADD_KEY+R,F)),F},addGLTexture:function(R,O,A,F){var L=null;return this.checkKey(R)&&(A===void 0&&(A=O.width),F===void 0&&(F=O.height),L=this.create(R,O,A,F),L.add("__BASE",0,0,0,A,F),this.emit(p.ADD,R,L),this.emit(p.ADD_KEY+R,L)),L},addCompressedTexture:function(R,O,A){var F=null;if(this.checkKey(R)){if(F=this.create(R,O),F.add("__BASE",0,0,0,O.width,O.height),A)if(Array.isArray(A))for(var L=0;L<A.length;L++)P.JSONHash(F,L,A[L]);else P.JSONHash(F,0,A);this.emit(p.ADD,R,F),this.emit(p.ADD_KEY+R,F)}return F},addRenderTexture:function(R,O){var A=null;return this.checkKey(R)&&(A=this.create(R,O),A.add("__BASE",0,0,0,O.width,O.height),this.emit(p.ADD,R,A),this.emit(p.ADD_KEY+R,A)),A},generate:function(R,O){if(this.checkKey(R)){var A=d.create(this,1,1);return O.canvas=A,v(O),this.addCanvas(R,A)}else return null},createCanvas:function(R,O,A){if(O===void 0&&(O=256),A===void 0&&(A=256),this.checkKey(R)){var F=d.create(this,O,A,o.CANVAS,!0);return this.addCanvas(R,F)}return null},addCanvas:function(R,O,A){A===void 0&&(A=!1);var F=null;return A?F=new x(this,R,O,O.width,O.height):this.checkKey(R)&&(F=new x(this,R,O,O.width,O.height),this.list[R]=F,this.emit(p.ADD,R,F),this.emit(p.ADD_KEY+R,F)),F},addDynamicTexture:function(R,O,A){var F=null;return typeof R=="string"&&!this.exists(R)?F=new n(this,R,O,A):(F=R,R=F.key),this.checkKey(R)?(this.list[R]=F,this.emit(p.ADD,R,F),this.emit(p.ADD_KEY+R,F)):F=null,F},addAtlas:function(R,O,A,F){return Array.isArray(A.textures)||Array.isArray(A.frames)?this.addAtlasJSONArray(R,O,A,F):this.addAtlasJSONHash(R,O,A,F)},addAtlasJSONArray:function(R,O,A,F){var L=null;if(O instanceof E?(R=O.key,L=O):this.checkKey(R)&&(L=this.create(R,O)),L){if(Array.isArray(A))for(var I=A.length===1,B=0;B<L.source.length;B++){var b=I?A[0]:A[B];P.JSONArray(L,B,b)}else P.JSONArray(L,0,A);F&&L.setDataSource(F),this.emit(p.ADD,R,L),this.emit(p.ADD_KEY+R,L)}return L},addAtlasJSONHash:function(R,O,A,F){var L=null;if(O instanceof E?(R=O.key,L=O):this.checkKey(R)&&(L=this.create(R,O)),L){if(Array.isArray(A))for(var I=0;I<A.length;I++)P.JSONHash(L,I,A[I]);else P.JSONHash(L,0,A);F&&L.setDataSource(F),this.emit(p.ADD,R,L),this.emit(p.ADD_KEY+R,L)}return L},addAtlasXML:function(R,O,A,F){var L=null;return O instanceof E?(R=O.key,L=O):this.checkKey(R)&&(L=this.create(R,O)),L&&(P.AtlasXML(L,0,A),F&&L.setDataSource(F),this.emit(p.ADD,R,L),this.emit(p.ADD_KEY+R,L)),L},addUnityAtlas:function(R,O,A,F){var L=null;return O instanceof E?(R=O.key,L=O):this.checkKey(R)&&(L=this.create(R,O)),L&&(P.UnityYAML(L,0,A),F&&L.setDataSource(F),this.emit(p.ADD,R,L),this.emit(p.ADD_KEY+R,L)),L},addSpriteSheet:function(R,O,A,F){var L=null;if(O instanceof E?(R=O.key,L=O):this.checkKey(R)&&(L=this.create(R,O)),L){var I=L.source[0].width,B=L.source[0].height;P.SpriteSheet(L,0,0,0,I,B,A),F&&L.setDataSource(F),this.emit(p.ADD,R,L),this.emit(p.ADD_KEY+R,L)}return L},addSpriteSheetFromAtlas:function(R,O){if(!this.checkKey(R))return null;var A=g(O,"atlas",null),F=g(O,"frame",null);if(!(!A||!F)){var L=this.get(A),I=L.get(F);if(I){var B=this.create(R,I.source.image);return I.trimmed?P.SpriteSheetFromAtlas(B,I,O):P.SpriteSheet(B,0,I.cutX,I.cutY,I.cutWidth,I.cutHeight,O),this.emit(p.ADD,R,B),this.emit(p.ADD_KEY+R,B),B}}},create:function(R,O,A,F){var L=null;return this.checkKey(R)&&(L=new E(this,R,O,A,F),this.list[R]=L),L},exists:function(R){return this.list.hasOwnProperty(R)},get:function(R){return R===void 0&&(R="__DEFAULT"),this.list[R]?this.list[R]:R instanceof E?R:R instanceof a?R.texture:this.list.__MISSING},cloneFrame:function(R,O){if(this.list[R])return this.list[R].get(O).clone()},getFrame:function(R,O){if(this.list[R])return this.list[R].get(O)},parseFrame:function(R){if(R){if(typeof R=="string")return this.getFrame(R);if(Array.isArray(R)&&R.length===2)return this.getFrame(R[0],R[1]);if(y(R))return this.getFrame(R.key,R.frame);if(R instanceof E)return R.get();if(R instanceof a)return R}else return},getTextureKeys:function(){var R=[];for(var O in this.list)O!=="__DEFAULT"&&O!=="__MISSING"&&O!=="__WHITE"&&R.push(O);return R},getPixel:function(R,O,A,F){var L=this.getFrame(A,F);if(L){R-=L.x,O-=L.y;var I=L.data.cut;if(R+=I.x,O+=I.y,R>=I.x&&R<I.r&&O>=I.y&&O<I.b){var B=this._tempContext;B.clearRect(0,0,1,1),B.drawImage(L.source.image,R,O,1,1,0,0,1,1);var b=B.getImageData(0,0,1,1);return new u(b.data[0],b.data[1],b.data[2],b.data[3])}}return null},getPixelAlpha:function(R,O,A,F){var L=this.getFrame(A,F);if(L){R-=L.x,O-=L.y;var I=L.data.cut;if(R+=I.x,O+=I.y,R>=I.x&&R<I.r&&O>=I.y&&O<I.b){var B=this._tempContext;B.clearRect(0,0,1,1),B.drawImage(L.source.image,R,O,1,1,0,0,1,1);var b=B.getImageData(0,0,1,1);return b.data[3]}}return null},setTexture:function(R,O,A){return this.list[O]&&(R.texture=this.list[O],R.frame=R.texture.get(A)),R},renameTexture:function(R,O){var A=this.get(R);return A&&R!==O?(A.key=O,this.list[O]=A,delete this.list[R],!0):!1},each:function(R,O){for(var A=[null],F=1;F<arguments.length;F++)A.push(arguments[F]);for(var L in this.list)A[0]=this.list[L],R.apply(O,A)},resetStamp:function(R,O){R===void 0&&(R=1),O===void 0&&(O=16777215);var A=this.stamp;return A.setCrop(),A.setPosition(0),A.setAngle(0),A.setScale(1),A.setAlpha(R),A.setTint(O),A.setTexture("__WHITE"),A},destroy:function(){for(var R in this.list)this.list[R].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,d.remove(this._tempCanvas)}});r.exports=w},32547:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61068),x=i(56694),f=i(28621),u=i(27394),o=new x({initialize:function(h,p,a,c,v){v===void 0&&(v=!1);var g=h.manager.game;this.renderer=g.renderer,this.texture=h,this.source=p,this.image=p.compressed?null:p,this.compressionAlgorithm=p.compressed?p.format:null,this.resolution=1,this.width=a||p.naturalWidth||p.videoWidth||p.width||0,this.height=c||p.naturalHeight||p.videoHeight||p.height||0,this.scaleMode=u.DEFAULT,this.isCanvas=p instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&p instanceof HTMLVideoElement,this.isRenderTexture=p.type==="RenderTexture"||p.type==="DynamicTexture",this.isGLTexture=window.hasOwnProperty("WebGLTexture")&&p instanceof WebGLTexture,this.isPowerOf2=f(this.width,this.height),this.glTexture=null,this.flipY=v,this.init(g)},init:function(n){var h=this.renderer;if(h){var p=this.source;if(h.gl){var a=this.image,c=this.flipY,v=this.width,g=this.height,m=this.scaleMode;this.isCanvas?this.glTexture=h.createCanvasTexture(a,!1,c):this.isVideo?this.glTexture=h.createVideoTexture(a,!1,c):this.isRenderTexture?this.glTexture=h.createTextureFromSource(null,v,g,m):this.isGLTexture?this.glTexture=p:this.compressionAlgorithm?this.glTexture=h.createTextureFromSource(p):this.glTexture=h.createTextureFromSource(a,v,g,m)}else this.isRenderTexture&&(this.image=p.canvas)}n.config.antialias||this.setFilter(1)},setFilter:function(n){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,n),this.scaleMode=n},setFlipY:function(n){return n===void 0&&(n=!0),this.flipY=n,this},update:function(){var n=this.renderer,h=this.image,p=this.flipY,a=n.gl;a&&this.isCanvas?this.glTexture=n.updateCanvasTexture(h,this.glTexture,p):a&&this.isVideo&&(this.glTexture=n.updateVideoTexture(h,this.glTexture,p))},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&d.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});r.exports=o},65154:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={LINEAR:0,NEAREST:1};r.exports=T},49644:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addtexture"},29569:r=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addtexture-"},60079:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="onerror"},72665:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="onload"},93006:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="ready"},69018:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removetexture"},85549:r=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removetexture-"},38203:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD:i(49644),ADD_KEY:i(29569),ERROR:i(60079),LOAD:i(72665),READY:i(93006),REMOVE:i(69018),REMOVE_KEY:i(85549)}},87499:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(98611),x=i(65154),f={CanvasTexture:i(17487),DynamicTexture:i(845),Events:i(38203),FilterMode:x,Frame:i(82047),Parsers:i(69150),Texture:i(31673),TextureManager:i(6237),TextureSource:i(32547)};f=d(!1,f,x),r.exports=f},35082:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){if(!x.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var f=i.source[d];i.add("__BASE",d,0,0,f.width,f.height);for(var u=x.getElementsByTagName("SubTexture"),o,n=0;n<u.length;n++){var h=u[n].attributes,p=h.name.value,a=parseInt(h.x.value,10),c=parseInt(h.y.value,10),v=parseInt(h.width.value,10),g=parseInt(h.height.value,10);if(o=i.add(p,d,a,c,v,g),h.frameX){var m=Math.abs(parseInt(h.frameX.value,10)),y=Math.abs(parseInt(h.frameY.value,10)),P=parseInt(h.frameWidth.value,10),M=parseInt(h.frameHeight.value,10);o.setTrim(v,g,m,y,P,M)}}return i};r.exports=T},83332:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){var x=i.source[d];return i.add("__BASE",d,0,0,x.width,x.height),i};r.exports=T},21560:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){var x=i.source[d];return i.add("__BASE",d,0,0,x.width,x.height),i};r.exports=T},64423:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(32742),x=function(f,u,o){if(!o.frames&&!o.textures){console.warn("Invalid Texture Atlas JSON Array");return}var n=f.source[u];f.add("__BASE",u,0,0,n.width,n.height);for(var h=Array.isArray(o.textures)?o.textures[u].frames:o.frames,p,a=0;a<h.length;a++){var c=h[a];if(p=f.add(c.filename,u,c.frame.x,c.frame.y,c.frame.w,c.frame.h),!p){console.warn("Invalid atlas json, frame already exists: "+c.filename);continue}c.trimmed&&p.setTrim(c.sourceSize.w,c.sourceSize.h,c.spriteSourceSize.x,c.spriteSourceSize.y,c.spriteSourceSize.w,c.spriteSourceSize.h),c.rotated&&(p.rotated=!0,p.updateUVsInverted());var v=c.anchor||c.pivot;v&&(p.customPivot=!0,p.pivotX=v.x,p.pivotY=v.y),c.scale9Borders&&p.setScale9(c.scale9Borders.x,c.scale9Borders.y,c.scale9Borders.w,c.scale9Borders.h),p.customData=d(c)}for(var g in o)g!=="frames"&&(Array.isArray(o[g])?f.customData[g]=o[g].slice(0):f.customData[g]=o[g]);return f};r.exports=x},17264:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(32742),x=function(f,u,o){if(!o.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var n=f.source[u];f.add("__BASE",u,0,0,n.width,n.height);var h=o.frames,p;for(var a in h)if(h.hasOwnProperty(a)){var c=h[a];if(p=f.add(a,u,c.frame.x,c.frame.y,c.frame.w,c.frame.h),!p){console.warn("Invalid atlas json, frame already exists: "+a);continue}c.trimmed&&p.setTrim(c.sourceSize.w,c.sourceSize.h,c.spriteSourceSize.x,c.spriteSourceSize.y,c.spriteSourceSize.w,c.spriteSourceSize.h),c.rotated&&(p.rotated=!0,p.updateUVsInverted());var v=c.anchor||c.pivot;v&&(p.customPivot=!0,p.pivotX=v.x,p.pivotY=v.y),c.scale9Borders&&p.setScale9(c.scale9Borders.x,c.scale9Borders.y,c.scale9Borders.w,c.scale9Borders.h),p.customData=d(c)}for(var g in o)g!=="frames"&&(Array.isArray(o[g])?f.customData[g]=o[g].slice(0):f.customData[g]=o[g]);return f};r.exports=x},67409:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var d=[171,75,84,88,32,49,49,187,13,10,26,10],x,f=new Uint8Array(i,0,12);for(x=0;x<f.length;x++)if(f[x]!==d[x]){console.warn("KTXParser - Invalid file format");return}var u=Uint32Array.BYTES_PER_ELEMENT,o=new DataView(i,12,13*u),n=o.getUint32(0,!0)===67305985,h=o.getUint32(1*u,n);if(h!==0){console.warn("KTXParser - Only compressed formats supported");return}var p=o.getUint32(4*u,n),a=o.getUint32(6*u,n),c=o.getUint32(7*u,n),v=Math.max(1,o.getUint32(11*u,n)),g=o.getUint32(12*u,n),m=new Array(v),y=12+13*4+g,P=a,M=c;for(x=0;x<v;x++){var E=new Int32Array(i,y,1)[0];y+=4,m[x]={data:new Uint8Array(i,y,E),width:P,height:M},P=Math.max(1,P>>1),M=Math.max(1,M>>1),y+=E}return{mipmaps:m,width:a,height:c,internalFormat:p,compressed:!0,generateMipmap:!1}};r.exports=T},24904:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(R,O,A,F,L,I,B){return B===void 0&&(B=16),Math.floor((R+A)/L)*Math.floor((O+F)/I)*B}function i(R,O){return R=Math.max(R,16),O=Math.max(O,8),R*O/4}function d(R,O){return R=Math.max(R,8),O=Math.max(O,8),R*O/2}function x(R,O){return T(R,O,3,3,4,4,8)}function f(R,O){return T(R,O,3,3,4,4)}function u(R,O){return T(R,O,4,3,5,4)}function o(R,O){return T(R,O,4,4,5,5)}function n(R,O){return T(R,O,5,4,6,5)}function h(R,O){return T(R,O,5,5,6,6)}function p(R,O){return T(R,O,7,4,8,5)}function a(R,O){return T(R,O,7,5,8,6)}function c(R,O){return T(R,O,7,7,8,8)}function v(R,O){return T(R,O,9,4,10,5)}function g(R,O){return T(R,O,9,5,10,6)}function m(R,O){return T(R,O,9,7,10,8)}function y(R,O){return T(R,O,9,9,10,10)}function P(R,O){return T(R,O,11,9,12,10)}function M(R,O){return T(R,O,11,11,12,12)}var E={0:{sizeFunc:i,glFormat:35841},1:{sizeFunc:i,glFormat:35843},2:{sizeFunc:d,glFormat:35840},3:{sizeFunc:d,glFormat:35842},6:{sizeFunc:x,glFormat:36196},7:{sizeFunc:x,glFormat:33776},8:{sizeFunc:f,glFormat:33777},9:{sizeFunc:f,glFormat:33778},11:{sizeFunc:f,glFormat:33779},22:{sizeFunc:x,glFormat:37492},23:{sizeFunc:f,glFormat:37496},24:{sizeFunc:x,glFormat:37494},25:{sizeFunc:x,glFormat:37488},26:{sizeFunc:f,glFormat:37490},27:{sizeFunc:f,glFormat:37808},28:{sizeFunc:u,glFormat:37809},29:{sizeFunc:o,glFormat:37810},30:{sizeFunc:n,glFormat:37811},31:{sizeFunc:h,glFormat:37812},32:{sizeFunc:p,glFormat:37813},33:{sizeFunc:a,glFormat:37814},34:{sizeFunc:c,glFormat:37815},35:{sizeFunc:v,glFormat:37816},36:{sizeFunc:g,glFormat:37817},37:{sizeFunc:m,glFormat:37818},38:{sizeFunc:y,glFormat:37819},39:{sizeFunc:P,glFormat:37820},40:{sizeFunc:M,glFormat:37821}},w=function(R){for(var O=new Uint32Array(R,0,13),A=O[2],F=E[A].glFormat,L=E[A].sizeFunc,I=O[11],B=O[7],b=O[6],k=52+O[12],U=new Uint8Array(R,k),Y=new Array(I),H=0,z=B,V=b,D=0;D<I;D++){var G=L(z,V);Y[D]={data:new Uint8Array(U.buffer,U.byteOffset+H,G),width:z,height:V},z=Math.max(1,z>>1),V=Math.max(1,V>>1),H+=G}return{mipmaps:Y,width:B,height:b,internalFormat:F,compressed:!0,generateMipmap:!1}};r.exports=w},6143:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72632),x=function(f,u,o,n,h,p,a){var c=d(a,"frameWidth",null),v=d(a,"frameHeight",c);if(c===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var g=f.source[u];f.add("__BASE",u,0,0,g.width,g.height);var m=d(a,"startFrame",0),y=d(a,"endFrame",-1),P=d(a,"margin",0),M=d(a,"spacing",0),E=Math.floor((h-P+M)/(c+M)),w=Math.floor((p-P+M)/(v+M)),R=E*w;R===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",f.key),(m>R||m<-R)&&(m=0),m<0&&(m=R+m),(y===-1||y>R||y<m)&&(y=R);for(var O=P,A=P,F=0,L=0,I=0,B=0;B<R;B++){F=0,L=0;var b=O+c,k=A+v;b>h&&(F=b-h),k>p&&(L=k-p),B>=m&&B<=y&&(f.add(I,u,o+O,n+A,c-F,v-L),I++),O+=c+M,O+c>h&&(O=P,A+=v+M)}return f};r.exports=x},20030:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72632),x=function(f,u,o){var n=d(o,"frameWidth",null),h=d(o,"frameHeight",n);if(!n)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var p=f.source[0];f.add("__BASE",0,0,0,p.width,p.height),d(o,"startFrame",0),d(o,"endFrame",-1);for(var a=d(o,"margin",0),c=d(o,"spacing",0),v=u.cutX,g=u.cutY,m=u.cutWidth,y=u.cutHeight,P=u.realWidth,M=u.realHeight,E=Math.floor((P-a+c)/(n+c)),w=Math.floor((M-a+c)/(h+c)),R=u.x,O=n-R,A=n-(P-m-R),F=u.y,L=h-F,I=h-(M-y-F),B,b=a,k=a,U=0,Y=0,H=0;H<w;H++){for(var z=H===0,V=H===w-1,D=0;D<E;D++){var G=D===0,N=D===E-1;if(B=f.add(U,Y,v+b,g+k,n,h),G||z||N||V){var X=G?R:0,W=z?F:0,$=0,K=0;G&&($+=n-O),N&&($+=n-A),z&&(K+=h-L),V&&(K+=h-I);var j=n-$,Z=h-K;B.cutWidth=j,B.cutHeight=Z,B.setTrim(n,h,X,W,j,Z)}b+=c,G?b+=O:N?b+=A:b+=n,U++}b=a,k+=c,z?k+=L:V?k+=I:k+=h}return f};r.exports=x},89187:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=0,i=function(x,f,u,o){var n=T-o.y-o.height;x.add(u,f,o.x,n,o.width,o.height)},d=function(x,f,u){var o=x.source[f];x.add("__BASE",f,0,0,o.width,o.height),T=o.height;for(var n=u.split(`
`),h=/^[ ]*(- )*(\w+)+[: ]+(.*)/,p="",a="",c={x:0,y:0,width:0,height:0},v=0;v<n.length;v++){var g=n[v].match(h);if(g){var m=g[1]==="- ",y=g[2],P=g[3];if(m&&(a!==p&&(i(x,f,a,c),p=a),c={x:0,y:0,width:0,height:0}),y==="name"){a=P;continue}switch(y){case"x":case"y":case"width":case"height":c[y]=parseInt(P,10);break}}}return a!==p&&i(x,f,a,c),x};r.exports=d},69150:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AtlasXML:i(35082),Canvas:i(83332),Image:i(21560),JSONArray:i(64423),JSONHash:i(17264),KTXParser:i(67409),PVRParser:i(24904),SpriteSheet:i(6143),SpriteSheetFromAtlas:i(20030),UnityYAML:i(89187)}},93560:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},97042:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=new d({initialize:function(u,o,n,h,p,a,c){(n===void 0||n<=0)&&(n=32),(h===void 0||h<=0)&&(h=32),p===void 0&&(p=0),a===void 0&&(a=0),this.name=u,this.firstgid=o|0,this.imageWidth=n|0,this.imageHeight=h|0,this.imageMargin=p|0,this.imageSpacing=a|0,this.properties=c||{},this.images=[],this.total=0},containsImageIndex:function(f){return f>=this.firstgid&&f<this.firstgid+this.total},addImage:function(f,u){return this.images.push({gid:f,image:u}),this.total++,this}});r.exports=x},46422:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=new d({initialize:function(u){if(this.gids=[],u!==void 0)for(var o=0;o<u.length;++o)for(var n=u[o],h=0;h<n.total;++h)this.gids[n.firstgid+h]=n;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(f){this.gids=f?this._gids:void 0}},getTypeIncludingTile:function(f){if(f.type!==void 0&&f.type!=="")return f.type;if(!(!this.gids||f.gid===void 0)){var u=this.gids[f.gid];if(u){var o=u.getTileData(f.gid);if(o)return o.type}}},setTextureAndFrame:function(f,u,o,n){if(u===null&&this.gids&&n.gid!==void 0){var h=this.gids[n.gid];h&&(u===null&&h.image!==void 0&&(u=h.image.key),o===null&&(o=n.gid-h.firstgid),f.scene.textures.getFrame(u,o)||(u=null,o=null))}f.setTexture(u,o)},setPropertiesFromTiledObject:function(f,u){if(this.gids!==void 0&&u.gid!==void 0){var o=this.gids[u.gid];o!==void 0&&this.setFromJSON(f,o.getTileProperties(u.gid))}this.setFromJSON(f,u.properties)},setFromJSON:function(f,u){if(u){if(Array.isArray(u)){for(var o=0;o<u.length;o++){var n=u[o];f[n.name]!==void 0?f[n.name]=n.value:f.setData(n.name,n.value)}return}for(var h in u)f[h]!==void 0?f[h]=u[h]:f.setData(h,u[h])}}});r.exports=x},15043:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(93560),x=i(16586),f=i(90715),u=i(89797),o=function(n,h,p,a,c,v,g,m){p===void 0&&(p=32),a===void 0&&(a=32),c===void 0&&(c=10),v===void 0&&(v=10),m===void 0&&(m=!1);var y=null;if(Array.isArray(g)){var P=h!==void 0?h:"map";y=f(P,d.ARRAY_2D,g,p,a,m)}else if(h!==void 0){var M=n.cache.tilemap.get(h);M?y=f(h,M.format,M.data,p,a,m):console.warn("No map data found for key "+h)}return y===null&&(y=new x({tileWidth:p,tileHeight:a,width:c,height:v})),new u(n,y)};r.exports=o},29633:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(64937),f=i(12920),u=i(28699),o=i(66658),n=new d({Mixins:[x.AlphaSingle,x.Flip,x.Visible],initialize:function(p,a,c,v,g,m,y,P){this.layer=p,this.index=a,this.x=c,this.y=v,this.width=g,this.height=m,this.right,this.bottom,this.baseWidth=y!==void 0?y:g,this.baseHeight=P!==void 0?P:m,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(h,p){return!(h<this.pixelX||p<this.pixelY||h>this.right||p>this.bottom)},copy:function(h){return this.index=h.index,this.alpha=h.alpha,this.properties=u(h.properties),this.visible=h.visible,this.setFlip(h.flipX,h.flipY),this.tint=h.tint,this.rotation=h.rotation,this.collideUp=h.collideUp,this.collideDown=h.collideDown,this.collideLeft=h.collideLeft,this.collideRight=h.collideRight,this.collisionCallback=h.collisionCallback,this.collisionCallbackContext=h.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(h){var p=this.tilemapLayer;if(p){var a=p.tileToWorldXY(this.x,this.y,void 0,h);return a.x}return this.x*this.baseWidth},getRight:function(h){var p=this.tilemapLayer;return p?this.getLeft(h)+this.width*p.scaleX:this.getLeft(h)+this.width},getTop:function(h){var p=this.tilemapLayer;if(p){var a=p.tileToWorldXY(this.x,this.y,void 0,h);return a.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(h){var p=this.tilemapLayer;return p?this.getTop(h)+this.height*p.scaleY:this.getTop(h)+this.height},getBounds:function(h,p){return p===void 0&&(p=new o),p.x=this.getLeft(h),p.y=this.getTop(h),p.width=this.getRight(h)-p.x,p.height=this.getBottom(h)-p.y,p},getCenterX:function(h){return(this.getLeft(h)+this.getRight(h))/2},getCenterY:function(h){return(this.getTop(h)+this.getBottom(h))/2},intersects:function(h,p,a,c){return!(a<=this.pixelX||c<=this.pixelY||h>=this.right||p>=this.bottom)},isInteresting:function(h,p){return h&&p?this.canCollide||this.hasInterestingFace:h?this.collides:p?this.hasInterestingFace:!1},resetCollision:function(h){if(h===void 0&&(h=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,h){var p=this.tilemapLayer;p&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(h,p,a,c,v){if(p===void 0&&(p=h),a===void 0&&(a=h),c===void 0&&(c=h),v===void 0&&(v=!0),this.collideLeft=h,this.collideRight=p,this.collideUp=a,this.collideDown=c,this.faceLeft=h,this.faceRight=p,this.faceTop=a,this.faceBottom=c,v){var g=this.tilemapLayer;g&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(h,p){return h===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=h,this.collisionCallbackContext=p),this},setSize:function(h,p,a,c){return h!==void 0&&(this.width=h),p!==void 0&&(this.height=p),a!==void 0&&(this.baseWidth=a),c!==void 0&&(this.baseHeight=c),this.updatePixelXY(),this},updatePixelXY:function(){var h=this.layer.orientation;if(h===f.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(h===f.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(h===f.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(h===f.HEXAGONAL){var p=this.layer.staggerAxis,a=this.layer.staggerIndex,c=this.layer.hexSideLength,v,g;p==="y"?(g=(this.baseHeight-c)/2+c,a==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*g):p==="x"&&(v=(this.baseWidth-c)/2+c,this.pixelX=this.x*v,a==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var h=this.layer.tilemapLayer;if(h){var p=h.gidMap[this.index];if(p)return p}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var h=this.tilemapLayer;return h?h.tilemap:null}}});r.exports=n},89797:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(14556),x=i(56694),f=i(75606),u=i(93560),o=i(72632),n=i(94990),h=i(46422),p=i(12920),a=i(52257),c=i(72677),v=i(13747),g=i(29633),m=i(5047),y=i(87177),P=i(47975),M=new x({initialize:function(w,R){this.scene=w,this.tileWidth=R.tileWidth,this.tileHeight=R.tileHeight,this.width=R.width,this.height=R.height,this.orientation=R.orientation,this.renderOrder=R.renderOrder,this.format=R.format,this.version=R.version,this.properties=R.properties,this.widthInPixels=R.widthInPixels,this.heightInPixels=R.heightInPixels,this.imageCollections=R.imageCollections,this.images=R.images,this.layers=R.layers,this.tiles=R.tiles,this.tilesets=R.tilesets,this.objects=R.objects,this.currentLayerIndex=0,this.hexSideLength=R.hexSideLength;var O=this.orientation;this._convert={WorldToTileXY:m.GetWorldToTileXYFunction(O),WorldToTileX:m.GetWorldToTileXFunction(O),WorldToTileY:m.GetWorldToTileYFunction(O),TileToWorldXY:m.GetTileToWorldXYFunction(O),TileToWorldX:m.GetTileToWorldXFunction(O),TileToWorldY:m.GetTileToWorldYFunction(O),GetTileCorners:m.GetTileCornersFunction(O)}},setRenderOrder:function(E){var w=["right-down","left-down","right-up","left-up"];return typeof E=="number"&&(E=w[E]),w.indexOf(E)>-1&&(this.renderOrder=E),this},addTilesetImage:function(E,w,R,O,A,F,L,I){if(E===void 0)return null;if(w==null&&(w=E),!this.scene.sys.textures.exists(w))return console.warn("Invalid Tileset Image: "+w),null;var B=this.scene.sys.textures.get(w),b=this.getTilesetIndex(E);if(b===null&&this.format===u.TILED_JSON)return console.warn("No data found for Tileset: "+E),null;var k=this.tilesets[b];return k?(k.setTileSize(R,O),k.setSpacing(A,F),k.setImage(B),k):(R===void 0&&(R=this.tileWidth),O===void 0&&(O=this.tileHeight),A===void 0&&(A=0),F===void 0&&(F=0),L===void 0&&(L=0),I===void 0&&(I={x:0,y:0}),k=new P(E,L,R,O,A,F,void 0,void 0,I),k.setImage(B),this.tilesets.push(k),this.tiles=d(this),k)},copy:function(E,w,R,O,A,F,L,I){return I=this.getLayer(I),I!==null?(m.Copy(E,w,R,O,A,F,L,I),this):null},createBlankLayer:function(E,w,R,O,A,F,L,I){R===void 0&&(R=0),O===void 0&&(O=0),A===void 0&&(A=this.width),F===void 0&&(F=this.height),L===void 0&&(L=this.tileWidth),I===void 0&&(I=this.tileHeight);var B=this.getLayerIndex(E);if(B!==null)return console.warn("Invalid Tilemap Layer ID: "+E),null;for(var b=new n({name:E,tileWidth:L,tileHeight:I,width:A,height:F,orientation:this.orientation}),k,U=0;U<F;U++){k=[];for(var Y=0;Y<A;Y++)k.push(new g(b,-1,Y,U,L,I,this.tileWidth,this.tileHeight));b.data.push(k)}this.layers.push(b),this.currentLayerIndex=this.layers.length-1;var H=new y(this.scene,this,this.currentLayerIndex,w,R,O);return H.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(H),H},createLayer:function(E,w,R,O){var A=this.getLayerIndex(E);if(A===null)return console.warn("Invalid Tilemap Layer ID: "+E),typeof E=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var F=this.layers[A];if(F.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+E),null;this.currentLayerIndex=A,R===void 0&&(R=F.x),O===void 0&&(O=F.y);var L=new y(this.scene,this,A,w,R,O);return L.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(L),L},createFromObjects:function(E,w,R){R===void 0&&(R=!0);var O=[],A=this.getObjectLayer(E);if(!A)return console.warn("createFromObjects: Invalid objectLayerName given: "+E),O;var F=new h(R?this.tilesets:void 0);Array.isArray(w)||(w=[w]);for(var L=A.objects,I=0;I<w.length;I++){var B=w[I],b=o(B,"id",null),k=o(B,"gid",null),U=o(B,"name",null),Y=o(B,"type",null);F.enabled=!o(B,"ignoreTileset",null);for(var H,z=[],V=0;V<L.length;V++)H=L[V],(b===null&&k===null&&U===null&&Y===null||b!==null&&H.id===b||k!==null&&H.gid===k||U!==null&&H.name===U||Y!==null&&F.getTypeIncludingTile(H)===Y)&&z.push(H);for(var D=o(B,"classType",v),G=o(B,"scene",this.scene),N=o(B,"container",null),X=o(B,"key",null),W=o(B,"frame",null),$=0;$<z.length;$++){H=z[$];var K=new D(G);if(K.setName(H.name),K.setPosition(H.x,H.y),F.setTextureAndFrame(K,X,W,H),H.width&&(K.displayWidth=H.width),H.height&&(K.displayHeight=H.height),this.orientation===p.ISOMETRIC){var j=this.tileWidth/this.tileHeight,Z={x:K.x-K.y,y:(K.x+K.y)/j};K.x=Z.x,K.y=Z.y}var J={x:K.originX*H.width,y:(K.originY-(H.gid?1:0))*H.height};if(H.rotation){var Q=f(H.rotation);a(J,Q),K.rotation=Q}K.x+=J.x,K.y+=J.y,(H.flippedHorizontal!==void 0||H.flippedVertical!==void 0)&&K.setFlip(H.flippedHorizontal,H.flippedVertical),H.visible||(K.visible=!1),F.setPropertiesFromTiledObject(K,H),N?N.add(K):G.add.existing(K),O.push(K)}}return O},createFromTiles:function(E,w,R,O,A,F){return F=this.getLayer(F),F===null?null:m.CreateFromTiles(E,w,R,O,A,F)},fill:function(E,w,R,O,A,F,L){return F===void 0&&(F=!0),L=this.getLayer(L),L===null?null:(m.Fill(E,w,R,O,A,F,L),this)},filterObjects:function(E,w,R){if(typeof E=="string"){var O=E;if(E=this.getObjectLayer(E),!E)return console.warn("No object layer found with the name: "+O),null}return E.objects.filter(w,R)},filterTiles:function(E,w,R,O,A,F,L,I){return I=this.getLayer(I),I===null?null:m.FilterTiles(E,w,R,O,A,F,L,I)},findByIndex:function(E,w,R,O){return O=this.getLayer(O),O===null?null:m.FindByIndex(E,w,R,O)},findObject:function(E,w,R){if(typeof E=="string"){var O=E;if(E=this.getObjectLayer(E),!E)return console.warn("No object layer found with the name: "+O),null}return E.objects.find(w,R)||null},findTile:function(E,w,R,O,A,F,L,I){return I=this.getLayer(I),I===null?null:m.FindTile(E,w,R,O,A,F,L,I)},forEachTile:function(E,w,R,O,A,F,L,I){return I=this.getLayer(I),I===null?null:(m.ForEachTile(E,w,R,O,A,F,L,I),this)},getImageIndex:function(E){return this.getIndex(this.images,E)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(E){return E.name})},getIndex:function(E,w){for(var R=0;R<E.length;R++)if(E[R].name===w)return R;return null},getLayer:function(E){var w=this.getLayerIndex(E);return w!==null?this.layers[w]:null},getObjectLayer:function(E){var w=this.getIndex(this.objects,E);return w!==null?this.objects[w]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(E){return E.name})},getLayerIndex:function(E){return E===void 0?this.currentLayerIndex:typeof E=="string"?this.getLayerIndexByName(E):typeof E=="number"&&E<this.layers.length?E:E instanceof y&&E.tilemap===this?E.layerIndex:null},getLayerIndexByName:function(E){return this.getIndex(this.layers,E)},getTileAt:function(E,w,R,O){return O=this.getLayer(O),O===null?null:m.GetTileAt(E,w,R,O)},getTileAtWorldXY:function(E,w,R,O,A){return A=this.getLayer(A),A===null?null:m.GetTileAtWorldXY(E,w,R,O,A)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(E){return E.name})},getTilesWithin:function(E,w,R,O,A,F){return F=this.getLayer(F),F===null?null:m.GetTilesWithin(E,w,R,O,A,F)},getTilesWithinShape:function(E,w,R,O){return O=this.getLayer(O),O===null?null:m.GetTilesWithinShape(E,w,R,O)},getTilesWithinWorldXY:function(E,w,R,O,A,F,L){return L=this.getLayer(L),L===null?null:m.GetTilesWithinWorldXY(E,w,R,O,A,F,L)},getTileset:function(E){var w=this.getIndex(this.tilesets,E);return w!==null?this.tilesets[w]:null},getTilesetIndex:function(E){return this.getIndex(this.tilesets,E)},hasTileAt:function(E,w,R){return R=this.getLayer(R),R===null?null:m.HasTileAt(E,w,R)},hasTileAtWorldXY:function(E,w,R,O){return O=this.getLayer(O),O===null?null:m.HasTileAtWorldXY(E,w,R,O)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(E){this.setLayer(E)}},putTileAt:function(E,w,R,O,A){return O===void 0&&(O=!0),A=this.getLayer(A),A===null?null:m.PutTileAt(E,w,R,O,A)},putTileAtWorldXY:function(E,w,R,O,A,F){return O===void 0&&(O=!0),F=this.getLayer(F),F===null?null:m.PutTileAtWorldXY(E,w,R,O,A,F)},putTilesAt:function(E,w,R,O,A){return O===void 0&&(O=!0),A=this.getLayer(A),A===null?null:(m.PutTilesAt(E,w,R,O,A),this)},randomize:function(E,w,R,O,A,F){return F=this.getLayer(F),F===null?null:(m.Randomize(E,w,R,O,A,F),this)},calculateFacesAt:function(E,w,R){return R=this.getLayer(R),R===null?null:(m.CalculateFacesAt(E,w,R),this)},calculateFacesWithin:function(E,w,R,O,A){return A=this.getLayer(A),A===null?null:(m.CalculateFacesWithin(E,w,R,O,A),this)},removeLayer:function(E){var w=this.getLayerIndex(E);if(w!==null){c(this.layers,w);for(var R=w;R<this.layers.length;R++)this.layers[R].tilemapLayer&&this.layers[R].tilemapLayer.layerIndex--;return this.currentLayerIndex===w&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(E){var w=this.getLayerIndex(E);return w!==null?(E=this.layers[w],E.tilemapLayer.destroy(),c(this.layers,w),this.currentLayerIndex===w&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var E=this.layers,w=0;w<E.length;w++)E[w].tilemapLayer&&E[w].tilemapLayer.destroy(!1);return E.length=0,this.currentLayerIndex=0,this},removeTile:function(E,w,R){w===void 0&&(w=-1),R===void 0&&(R=!0);var O=[];Array.isArray(E)||(E=[E]);for(var A=0;A<E.length;A++){var F=E[A];O.push(this.removeTileAt(F.x,F.y,!0,R,F.tilemapLayer)),w>-1&&this.putTileAt(w,F.x,F.y,R,F.tilemapLayer)}return O},removeTileAt:function(E,w,R,O,A){return R===void 0&&(R=!0),O===void 0&&(O=!0),A=this.getLayer(A),A===null?null:m.RemoveTileAt(E,w,R,O,A)},removeTileAtWorldXY:function(E,w,R,O,A,F){return R===void 0&&(R=!0),O===void 0&&(O=!0),F=this.getLayer(F),F===null?null:m.RemoveTileAtWorldXY(E,w,R,O,A,F)},renderDebug:function(E,w,R){return R=this.getLayer(R),R===null?null:(this.orientation===p.ORTHOGONAL&&m.RenderDebug(E,w,R),this)},renderDebugFull:function(E,w){for(var R=this.layers,O=0;O<R.length;O++)m.RenderDebug(E,w,R[O]);return this},replaceByIndex:function(E,w,R,O,A,F,L){return L=this.getLayer(L),L===null?null:(m.ReplaceByIndex(E,w,R,O,A,F,L),this)},setCollision:function(E,w,R,O,A){return w===void 0&&(w=!0),R===void 0&&(R=!0),A===void 0&&(A=!0),O=this.getLayer(O),O===null?null:(m.SetCollision(E,w,R,O,A),this)},setCollisionBetween:function(E,w,R,O,A){return R===void 0&&(R=!0),O===void 0&&(O=!0),A=this.getLayer(A),A===null?null:(m.SetCollisionBetween(E,w,R,O,A),this)},setCollisionByProperty:function(E,w,R,O){return w===void 0&&(w=!0),R===void 0&&(R=!0),O=this.getLayer(O),O===null?null:(m.SetCollisionByProperty(E,w,R,O),this)},setCollisionByExclusion:function(E,w,R,O){return w===void 0&&(w=!0),R===void 0&&(R=!0),O=this.getLayer(O),O===null?null:(m.SetCollisionByExclusion(E,w,R,O),this)},setCollisionFromCollisionGroup:function(E,w,R){return E===void 0&&(E=!0),w===void 0&&(w=!0),R=this.getLayer(R),R===null?null:(m.SetCollisionFromCollisionGroup(E,w,R),this)},setTileIndexCallback:function(E,w,R,O){return O=this.getLayer(O),O===null?null:(m.SetTileIndexCallback(E,w,R,O),this)},setTileLocationCallback:function(E,w,R,O,A,F,L){return L=this.getLayer(L),L===null?null:(m.SetTileLocationCallback(E,w,R,O,A,F,L),this)},setLayer:function(E){var w=this.getLayerIndex(E);return w!==null&&(this.currentLayerIndex=w),this},setBaseTileSize:function(E,w){this.tileWidth=E,this.tileHeight=w,this.widthInPixels=this.width*E,this.heightInPixels=this.height*w;for(var R=0;R<this.layers.length;R++){this.layers[R].baseTileWidth=E,this.layers[R].baseTileHeight=w;for(var O=this.layers[R].data,A=this.layers[R].width,F=this.layers[R].height,L=0;L<F;L++)for(var I=0;I<A;I++){var B=O[L][I];B!==null&&B.setSize(void 0,void 0,E,w)}}return this},setLayerTileSize:function(E,w,R){if(R=this.getLayer(R),R===null)return this;R.tileWidth=E,R.tileHeight=w;for(var O=R.data,A=R.width,F=R.height,L=0;L<F;L++)for(var I=0;I<A;I++){var B=O[L][I];B!==null&&B.setSize(E,w)}return this},shuffle:function(E,w,R,O,A){return A=this.getLayer(A),A===null?null:(m.Shuffle(E,w,R,O,A),this)},swapByIndex:function(E,w,R,O,A,F,L){return L=this.getLayer(L),L===null?null:(m.SwapByIndex(E,w,R,O,A,F,L),this)},tileToWorldX:function(E,w,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldX(E,w,R)},tileToWorldY:function(E,w,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldY(E,w,R)},tileToWorldXY:function(E,w,R,O,A){return A=this.getLayer(A),A===null?null:this._convert.TileToWorldXY(E,w,R,O,A)},getTileCorners:function(E,w,R,O){return O=this.getLayer(O),O===null?null:this._convert.GetTileCorners(E,w,R,O)},weightedRandomize:function(E,w,R,O,A,F){return F=this.getLayer(F),F===null?null:(m.WeightedRandomize(w,R,O,A,E,F),this)},worldToTileX:function(E,w,R,O){return O=this.getLayer(O),O===null?null:this._convert.WorldToTileX(E,w,R,O)},worldToTileY:function(E,w,R,O){return O=this.getLayer(O),O===null?null:this._convert.WorldToTileY(E,w,R,O)},worldToTileXY:function(E,w,R,O,A,F){return F=this.getLayer(F),F===null?null:this._convert.WorldToTileXY(E,w,R,O,A,F)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});r.exports=M},4843:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(99325),x=i(15043);d.register("tilemap",function(f){var u=f!==void 0?f:{};return x(this.scene,u.key,u.tileWidth,u.tileHeight,u.width,u.height,u.data,u.insertNull)})},37940:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(61286),x=i(15043);d.register("tilemap",function(f,u,o,n,h,p,a){return f===null&&(f=void 0),u===null&&(u=void 0),o===null&&(o=void 0),n===null&&(n=void 0),h===null&&(h=void 0),x(this.scene,f,u,o,n,h,p,a)})},87177:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(95239),f=i(64937),u=i(89980),o=i(5047),n=i(96193),h=i(93736),p=new d({Extends:u,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.Transform,f.Visible,f.ScrollFactor,x,n],initialize:function(c,v,g,m,y,P){u.call(this,c,"TilemapLayer"),this.isTilemap=!0,this.tilemap=v,this.layerIndex=g,this.layer=v.layers[g],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=o.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new h,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(m),this.setAlpha(this.layer.alpha),this.setPosition(y,P),this.setOrigin(0,0),this.setSize(v.tileWidth*this.layer.width,v.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(a){var c=[],v=[],g=this.tilemap;Array.isArray(a)||(a=[a]);for(var m=0;m<a.length;m++){var y=a[m];if(typeof y=="string"&&(y=g.getTileset(y)),y){v.push(y);for(var P=y.firstgid,M=0;M<y.total;M++)c[P+M]=y}}this.gidMap=c,this.tileset=v},setRenderOrder:function(a){var c=["right-down","left-down","right-up","left-up"];return typeof a=="string"&&(a=c.indexOf(a)),a>=0&&a<4&&(this._renderOrder=a),this},calculateFacesAt:function(a,c){return o.CalculateFacesAt(a,c,this.layer),this},calculateFacesWithin:function(a,c,v,g){return o.CalculateFacesWithin(a,c,v,g,this.layer),this},createFromTiles:function(a,c,v,g,m){return o.CreateFromTiles(a,c,v,g,m,this.layer)},cull:function(a){return this.cullCallback(this.layer,a,this.culledTiles,this._renderOrder)},copy:function(a,c,v,g,m,y,P){return o.Copy(a,c,v,g,m,y,P,this.layer),this},fill:function(a,c,v,g,m,y){return o.Fill(a,c,v,g,m,y,this.layer),this},filterTiles:function(a,c,v,g,m,y,P){return o.FilterTiles(a,c,v,g,m,y,P,this.layer)},findByIndex:function(a,c,v){return o.FindByIndex(a,c,v,this.layer)},findTile:function(a,c,v,g,m,y,P){return o.FindTile(a,c,v,g,m,y,P,this.layer)},forEachTile:function(a,c,v,g,m,y,P){return o.ForEachTile(a,c,v,g,m,y,P,this.layer),this},setTint:function(a,c,v,g,m,y){a===void 0&&(a=16777215);var P=function(M){M.tint=a,M.tintFill=!1};return this.forEachTile(P,this,c,v,g,m,y)},setTintFill:function(a,c,v,g,m,y){a===void 0&&(a=16777215);var P=function(M){M.tint=a,M.tintFill=!0};return this.forEachTile(P,this,c,v,g,m,y)},getTileAt:function(a,c,v){return o.GetTileAt(a,c,v,this.layer)},getTileAtWorldXY:function(a,c,v,g){return o.GetTileAtWorldXY(a,c,v,g,this.layer)},getIsoTileAtWorldXY:function(a,c,v,g,m){v===void 0&&(v=!0);var y=this.tempVec;return o.IsometricWorldToTileXY(a,c,!0,y,m,this.layer,v),this.getTileAt(y.x,y.y,g)},getTilesWithin:function(a,c,v,g,m){return o.GetTilesWithin(a,c,v,g,m,this.layer)},getTilesWithinShape:function(a,c,v){return o.GetTilesWithinShape(a,c,v,this.layer)},getTilesWithinWorldXY:function(a,c,v,g,m,y){return o.GetTilesWithinWorldXY(a,c,v,g,m,y,this.layer)},hasTileAt:function(a,c){return o.HasTileAt(a,c,this.layer)},hasTileAtWorldXY:function(a,c,v){return o.HasTileAtWorldXY(a,c,v,this.layer)},putTileAt:function(a,c,v,g){return o.PutTileAt(a,c,v,g,this.layer)},putTileAtWorldXY:function(a,c,v,g,m){return o.PutTileAtWorldXY(a,c,v,g,m,this.layer)},putTilesAt:function(a,c,v,g){return o.PutTilesAt(a,c,v,g,this.layer),this},randomize:function(a,c,v,g,m){return o.Randomize(a,c,v,g,m,this.layer),this},removeTileAt:function(a,c,v,g){return o.RemoveTileAt(a,c,v,g,this.layer)},removeTileAtWorldXY:function(a,c,v,g,m){return o.RemoveTileAtWorldXY(a,c,v,g,m,this.layer)},renderDebug:function(a,c){return o.RenderDebug(a,c,this.layer),this},replaceByIndex:function(a,c,v,g,m,y){return o.ReplaceByIndex(a,c,v,g,m,y,this.layer),this},setSkipCull:function(a){return a===void 0&&(a=!0),this.skipCull=a,this},setCullPadding:function(a,c){return a===void 0&&(a=1),c===void 0&&(c=1),this.cullPaddingX=a,this.cullPaddingY=c,this},setCollision:function(a,c,v,g){return o.SetCollision(a,c,v,this.layer,g),this},setCollisionBetween:function(a,c,v,g){return o.SetCollisionBetween(a,c,v,g,this.layer),this},setCollisionByProperty:function(a,c,v){return o.SetCollisionByProperty(a,c,v,this.layer),this},setCollisionByExclusion:function(a,c,v){return o.SetCollisionByExclusion(a,c,v,this.layer),this},setCollisionFromCollisionGroup:function(a,c){return o.SetCollisionFromCollisionGroup(a,c,this.layer),this},setTileIndexCallback:function(a,c,v){return o.SetTileIndexCallback(a,c,v,this.layer),this},setTileLocationCallback:function(a,c,v,g,m,y){return o.SetTileLocationCallback(a,c,v,g,m,y,this.layer),this},shuffle:function(a,c,v,g){return o.Shuffle(a,c,v,g,this.layer),this},swapByIndex:function(a,c,v,g,m,y){return o.SwapByIndex(a,c,v,g,m,y,this.layer),this},tileToWorldX:function(a,c){return this.tilemap.tileToWorldX(a,c,this)},tileToWorldY:function(a,c){return this.tilemap.tileToWorldY(a,c,this)},tileToWorldXY:function(a,c,v,g){return this.tilemap.tileToWorldXY(a,c,v,g,this)},getTileCorners:function(a,c,v){return this.tilemap.getTileCorners(a,c,v,this)},weightedRandomize:function(a,c,v,g,m){return o.WeightedRandomize(c,v,g,m,a,this.layer),this},worldToTileX:function(a,c,v){return this.tilemap.worldToTileX(a,c,v,this)},worldToTileY:function(a,c,v){return this.tilemap.worldToTileY(a,c,v,this)},worldToTileXY:function(a,c,v,g,m){return this.tilemap.worldToTileXY(a,c,v,g,m,this)},destroy:function(a){a===void 0&&(a=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),a&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],u.prototype.destroy.call(this))}});r.exports=p},17394:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(69360),x=new d,f=new d,u=new d,o=function(n,h,p,a){var c=h.cull(p),v=c.length,g=p.alpha*h.alpha;if(!(v===0||g<=0)){var m=x,y=f,P=u;y.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY),m.copyFrom(p.matrix);var M=n.currentContext,E=h.gidMap;M.save(),a?(m.multiplyWithOffset(a,-p.scrollX*h.scrollFactorX,-p.scrollY*h.scrollFactorY),y.e=h.x,y.f=h.y,m.multiply(y,P),P.copyToContext(M)):(y.e-=p.scrollX*h.scrollFactorX,y.f-=p.scrollY*h.scrollFactorY,y.copyToContext(M)),(!n.antialias||h.scaleX>1||h.scaleY>1)&&(M.imageSmoothingEnabled=!1);for(var w=0;w<v;w++){var R=c[w],O=E[R.index];if(O){var A=O.image.getSourceImage(),F=O.getTileTextureCoordinates(R.index),L=O.tileWidth,I=O.tileHeight;if(!(F===null||L===0||I===0)){var B=L*.5,b=I*.5;F.x+=O.tileOffset.x,F.y+=O.tileOffset.y,M.save(),M.translate(R.pixelX+B,R.pixelY+b),R.rotation!==0&&M.rotate(R.rotation),(R.flipX||R.flipY)&&M.scale(R.flipX?-1:1,R.flipY?-1:1),M.globalAlpha=g*R.alpha,M.drawImage(A,F.x,F.y,L,I,-B,-b,L,I),M.restore()}}}M.restore()}};r.exports=o},96193:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72283),x=d,f=d;x=i(51395),f=i(17394),r.exports={renderWebGL:x,renderCanvas:f}},51395:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(75512),x=function(f,u,o){var n=u.cull(o),h=n.length,p=o.alpha*u.alpha;if(!(h===0||p<=0)){var a=u.gidMap,c=f.pipelines.set(u.pipeline,u),v=d.getTintAppendFloatAlpha,g=u.scrollFactorX,m=u.scrollFactorY,y=u.x,P=u.y,M=u.scaleX,E=u.scaleY;f.pipelines.preBatch(u);for(var w=0;w<h;w++){var R=n[w],O=a[R.index];if(O){var A=O.getTileTextureCoordinates(R.index);if(A!==null){var F=O.glTexture,L=c.setTexture2D(F,u),I=O.tileWidth,B=O.tileHeight,b=A.x,k=A.y,U=O.tileWidth*.5,Y=O.tileHeight*.5,H=O.tileOffset.x,z=O.tileOffset.y,V=v(R.tint,p*R.alpha);c.batchTexture(u,F,F.width,F.height,y+R.pixelX*M+(U*M-H),P+R.pixelY*E+(Y*E-z),R.width,R.height,M,E,R.rotation,R.flipX,R.flipY,g,m,U,Y,b,k,I,B,V,V,V,V,R.tintFill,0,0,o,null,!0,L,!0)}}}f.pipelines.postBatch(u)}};r.exports=x},47975:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(93736),f=new d({initialize:function(o,n,h,p,a,c,v,g,m){(h===void 0||h<=0)&&(h=32),(p===void 0||p<=0)&&(p=32),a===void 0&&(a=0),c===void 0&&(c=0),v===void 0&&(v={}),g===void 0&&(g={}),this.name=o,this.firstgid=n,this.tileWidth=h,this.tileHeight=p,this.tileMargin=a,this.tileSpacing=c,this.tileProperties=v,this.tileData=g,this.tileOffset=new x,m!==void 0&&this.tileOffset.set(m.x,m.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(u){return this.containsTileIndex(u)?this.tileProperties[u-this.firstgid]:null},getTileData:function(u){return this.containsTileIndex(u)?this.tileData[u-this.firstgid]:null},getTileCollisionGroup:function(u){var o=this.getTileData(u);return o&&o.objectgroup?o.objectgroup:null},containsTileIndex:function(u){return u>=this.firstgid&&u<this.firstgid+this.total},getTileTextureCoordinates:function(u){return this.containsTileIndex(u)?this.texCoordinates[u-this.firstgid]:null},setImage:function(u){return this.image=u,this.glTexture=u.get().source.glTexture,this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setTileSize:function(u,o){return u!==void 0&&(this.tileWidth=u),o!==void 0&&(this.tileHeight=o),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(u,o){return u!==void 0&&(this.tileMargin=u),o!==void 0&&(this.tileSpacing=o),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(u,o){var n=(o-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),h=(u-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(n%1!==0||h%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),n=Math.floor(n),h=Math.floor(h),this.rows=n,this.columns=h,this.total=n*h,this.texCoordinates.length=0;for(var p=this.tileMargin,a=this.tileMargin,c=0;c<this.rows;c++){for(var v=0;v<this.columns;v++)this.texCoordinates.push({x:p,y:a}),p+=this.tileWidth+this.tileSpacing;p=this.tileMargin,a+=this.tileHeight+this.tileSpacing}return this}});r.exports=f},92839:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(15494),x=function(f,u,o){var n=d(f,u,!0,o),h=d(f,u-1,!0,o),p=d(f,u+1,!0,o),a=d(f-1,u,!0,o),c=d(f+1,u,!0,o),v=n&&n.collides;return v&&(n.faceTop=!0,n.faceBottom=!0,n.faceLeft=!0,n.faceRight=!0),h&&h.collides&&(v&&(n.faceTop=!1),h.faceBottom=!v),p&&p.collides&&(v&&(n.faceBottom=!1),p.faceTop=!v),a&&a.collides&&(v&&(n.faceLeft=!1),a.faceRight=!v),c&&c.collides&&(v&&(n.faceRight=!1),c.faceLeft=!v),n&&!n.collides&&n.resetFaces(),n};r.exports=x},60386:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(15494),x=i(50811),f=function(u,o,n,h,p){for(var a=null,c=null,v=null,g=null,m=x(u,o,n,h,null,p),y=0;y<m.length;y++){var P=m[y];P&&(P.collides?(a=d(P.x,P.y-1,!0,p),c=d(P.x,P.y+1,!0,p),v=d(P.x-1,P.y,!0,p),g=d(P.x+1,P.y,!0,p),P.faceTop=!(a&&a.collides),P.faceBottom=!(c&&c.collides),P.faceLeft=!(v&&v.collides),P.faceRight=!(g&&g.collides)):P.resetFaces())}};r.exports=f},13125:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(93736),x=new d,f=function(u,o,n,h){var p=n.tilemapLayer,a=p.cullPaddingX,c=p.cullPaddingY,v=p.tilemap.tileToWorldXY(u,o,x,h,p);return v.x>h.worldView.x+p.scaleX*n.tileWidth*(-a-.5)&&v.x<h.worldView.right+p.scaleX*n.tileWidth*(a-.5)&&v.y>h.worldView.y+p.scaleY*n.tileHeight*(-c-1)&&v.y<h.worldView.bottom+p.scaleY*n.tileHeight*(c-.5)};r.exports=f},17347:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(60386),x=i(50811),f=i(62839),u=i(29633),o=function(n,h,p,a,c,v,g,m){g===void 0&&(g=!0);var y=x(n,h,p,a,null,m),P=[];y.forEach(function(F){var L=new u(F.layer,F.index,F.x,F.y,F.width,F.height,F.baseWidth,F.baseHeight);L.copy(F),P.push(L)});for(var M=c-n,E=v-h,w=0;w<P.length;w++){var R=P[w],O=R.x+M,A=R.y+E;f(O,A,m)&&m.data[A][O]&&(R.x=O,R.y=A,R.updatePixelXY(),m.data[A][O]=R)}g&&d(c-1,v-1,p+2,a+2,m),y.length=0,P.length=0};r.exports=o},93604:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(50811),x=i(51202),f=function(u,o,n,h,p,a){n||(n={}),Array.isArray(u)||(u=[u]);var c=a.tilemapLayer;h||(h=c.scene),p||(p=h.cameras.main);var v=d(0,0,a.width,a.height,null,a),g=[],m;for(m=0;m<v.length;m++){var y=v[m];if(u.indexOf(y.index)!==-1){var P=c.tileToWorldXY(y.x,y.y,void 0,p,a);n.x=P.x,n.y=P.y,g.push(h.make.sprite(n))}}if(typeof o=="number")for(m=0;m<u.length;m++)x(u[m],o,0,0,a.width,a.height,a);else if(Array.isArray(o))for(m=0;m<u.length;m++)x(u[m],o[m],0,0,a.width,a.height,a);return g};r.exports=f},71586:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(74118),x=i(82127),f=i(84314),u=new d,o=function(n,h){var p=n.tilemapLayer.tilemap,a=n.tilemapLayer,c=Math.floor(p.tileWidth*a.scaleX),v=Math.floor(p.tileHeight*a.scaleY),g=f(h.worldView.x-a.x,c,0,!0)-a.cullPaddingX,m=x(h.worldView.right-a.x,c,0,!0)+a.cullPaddingX,y=f(h.worldView.y-a.y,v,0,!0)-a.cullPaddingY,P=x(h.worldView.bottom-a.y,v,0,!0)+a.cullPaddingY;return u.setTo(g,y,m-g,P-y)};r.exports=o},381:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(71586),x=i(6987),f=function(u,o,n,h){n===void 0&&(n=[]),h===void 0&&(h=0),n.length=0;var p=u.tilemapLayer,a=d(u,o);return(p.skipCull||p.scrollFactorX!==1||p.scrollFactorY!==1)&&(a.left=0,a.right=u.width,a.top=0,a.bottom=u.height),x(u,a,h,n),n};r.exports=f},97734:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(50811),x=i(60386),f=i(68234),u=function(o,n,h,p,a,c,v){for(var g=v.collideIndexes.indexOf(o)!==-1,m=d(n,h,p,a,null,v),y=0;y<m.length;y++)m[y].index=o,f(m[y],g);c&&x(n-1,h-1,p+2,a+2,v)};r.exports=u},63555:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(50811),x=function(f,u,o,n,h,p,a,c){var v=d(o,n,h,p,a,c);return v.filter(f,u)};r.exports=x},37982:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){d===void 0&&(d=0),x===void 0&&(x=!1);var u=0,o,n,h;if(x){for(n=f.height-1;n>=0;n--)for(o=f.width-1;o>=0;o--)if(h=f.data[n][o],h&&h.index===i){if(u===d)return h;u+=1}}else for(n=0;n<f.height;n++)for(o=0;o<f.width;o++)if(h=f.data[n][o],h&&h.index===i){if(u===d)return h;u+=1}return null};r.exports=T},48297:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(50811),x=function(f,u,o,n,h,p,a,c){var v=d(o,n,h,p,a,c);return v.find(f,u)||null};r.exports=x},80916:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(50811),x=function(f,u,o,n,h,p,a,c){var v=d(o,n,h,p,a,c);v.forEach(f,u)};r.exports=x},31493:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(12920),x=i(381),f=i(37524),u=i(20887),o=i(72283),n=i(19242),h=function(p){return p===d.ORTHOGONAL?x:p===d.HEXAGONAL?f:p===d.STAGGERED?n:p===d.ISOMETRIC?u:o};r.exports=h},15494:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(62839),x=function(f,u,o,n){if(o===void 0&&(o=!1),d(f,u,n)){var h=n.data[u][f]||null;return h?h.index===-1?o?h:null:h:null}else return null};r.exports=x},24640:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(15494),x=i(93736),f=new x,u=function(o,n,h,p,a){return a.tilemapLayer.worldToTileXY(o,n,!0,f,p),d(f.x,f.y,h,a)};r.exports=u},48495:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(93736),x=function(f,u,o,n){var h=n.baseTileWidth,p=n.baseTileHeight,a=n.tilemapLayer,c=0,v=0;a&&(o||(o=a.scene.cameras.main),c=a.x+o.scrollX*(1-a.scrollFactorX),v=a.y+o.scrollY*(1-a.scrollFactorY),h*=a.scaleX,p*=a.scaleY);var g=c+f*h,m=v+u*p;return[new d(g,m),new d(g+h,m),new d(g+h,m+p),new d(g,m+p)]};r.exports=x},7160:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(12920),x=i(63634),f=i(72283),u=i(48495),o=function(n){return n===d.ORTHOGONAL?u:n===d.ISOMETRIC?f:n===d.HEXAGONAL?x:(n===d.STAGGERED,f)};r.exports=o},16884:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(12920),x=i(72283),f=i(44150),u=function(o){return o===d.ORTHOGONAL?f:x};r.exports=u},68182:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(12920),x=i(21715),f=i(21808),u=i(72283),o=i(33388),n=i(46836),h=function(p){return p===d.ORTHOGONAL?n:p===d.ISOMETRIC?f:p===d.HEXAGONAL?x:p===d.STAGGERED?o:u};r.exports=h},3752:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(12920),x=i(72283),f=i(84132),u=i(42477),o=function(n){return n===d.ORTHOGONAL?u:n===d.STAGGERED?f:x};r.exports=o},50811:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72632),x=function(f,u,o,n,h,p){f===void 0&&(f=0),u===void 0&&(u=0),o===void 0&&(o=p.width),n===void 0&&(n=p.height),h||(h={});var a=d(h,"isNotEmpty",!1),c=d(h,"isColliding",!1),v=d(h,"hasInterestingFace",!1);f<0&&(o+=f,f=0),u<0&&(n+=u,u=0),f+o>p.width&&(o=Math.max(p.width-f,0)),u+n>p.height&&(n=Math.max(p.height-u,0));for(var g=[],m=u;m<u+n;m++)for(var y=f;y<f+o;y++){var P=p.data[m][y];if(P!==null){if(a&&P.index===-1||c&&!P.collides||v&&!P.hasInterestingFace)continue;g.push(P)}}return g};r.exports=x},31674:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(84068),x=i(50811),f=i(7563),u=i(72283),o=i(93736),n=function(v,g){return f.RectangleToTriangle(g,v)},h=new o,p=new o,a=new o,c=function(v,g,m,y){if(v===void 0)return[];var P=u;v instanceof d.Circle?P=f.CircleToRectangle:v instanceof d.Rectangle?P=f.RectangleToRectangle:v instanceof d.Triangle?P=n:v instanceof d.Line&&(P=f.LineToRectangle),y.tilemapLayer.worldToTileXY(v.left,v.top,!0,p,m);var M=p.x,E=p.y;y.tilemapLayer.worldToTileXY(v.right,v.bottom,!1,a,m);var w=Math.ceil(a.x),R=Math.ceil(a.y),O=Math.max(w-M,1),A=Math.max(R-E,1),F=x(M,E,O,A,g,y),L=y.tileWidth,I=y.tileHeight;y.tilemapLayer&&(L*=y.tilemapLayer.scaleX,I*=y.tilemapLayer.scaleY);for(var B=[],b=new d.Rectangle(0,0,L,I),k=0;k<F.length;k++){var U=F[k];y.tilemapLayer.tileToWorldXY(U.x,U.y,h,m),b.x=h.x,b.y=h.y,P(v,b)&&B.push(U)}return B};r.exports=c},44662:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(50811),x=i(93736),f=new x,u=new x,o=function(n,h,p,a,c,v,g){var m=g.tilemapLayer.tilemap._convert.WorldToTileXY;m(n,h,!0,f,v,g);var y=f.x,P=f.y;m(n+p,h+a,!1,u,v,g);var M=Math.ceil(u.x),E=Math.ceil(u.y);return d(y,P,M-y,E-P,c,g)};r.exports=o},29296:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(12920),x=i(10618),f=i(806),u=function(o){return o===d.ORTHOGONAL?f:x};r.exports=u},32688:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(12920),x=i(11516),f=i(18750),u=i(72283),o=i(90562),n=i(45676),h=function(p){return p===d.ORTHOGONAL?n:p===d.ISOMETRIC?f:p===d.HEXAGONAL?x:p===d.STAGGERED?o:u};r.exports=h},74326:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(12920),x=i(10618),f=i(3689),u=i(70520),o=function(n){return n===d.ORTHOGONAL?u:n===d.STAGGERED?f:x};r.exports=o},46598:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(62839),x=function(f,u,o){if(d(f,u,o)){var n=o.data[u][f];return n!==null&&n.index>-1}else return!1};r.exports=x},28654:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(46598),x=i(93736),f=new x,u=function(o,n,h,p){p.tilemapLayer.worldToTileXY(o,n,!0,f,h);var a=f.x,c=f.y;return d(a,c,p)};r.exports=u},6358:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(82127),x=i(84314),f=function(u,o){var n=u.tilemapLayer.tilemap,h=u.tilemapLayer,p=Math.floor(n.tileWidth*h.scaleX),a=Math.floor(n.tileHeight*h.scaleY),c=u.hexSideLength,v,g,m,y;if(u.staggerAxis==="y"){var P=(a-c)/2+c;v=x(o.worldView.x-h.x,p,0,!0)-h.cullPaddingX,g=d(o.worldView.right-h.x,p,0,!0)+h.cullPaddingX,m=x(o.worldView.y-h.y,P,0,!0)-h.cullPaddingY,y=d(o.worldView.bottom-h.y,P,0,!0)+h.cullPaddingY}else{var M=(p-c)/2+c;v=x(o.worldView.x-h.x,M,0,!0)-h.cullPaddingX,g=d(o.worldView.right-h.x,M,0,!0)+h.cullPaddingX,m=x(o.worldView.y-h.y,a,0,!0)-h.cullPaddingY,y=d(o.worldView.bottom-h.y,a,0,!0)+h.cullPaddingY}return{left:v,right:g,top:m,bottom:y}};r.exports=f},37524:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(6358),x=i(6987),f=function(u,o,n,h){n===void 0&&(n=[]),h===void 0&&(h=0),n.length=0;var p=u.tilemapLayer,a=d(u,o);return p.skipCull&&p.scrollFactorX===1&&p.scrollFactorY===1&&(a.left=0,a.right=u.width,a.top=0,a.bottom=u.height),x(u,a,h,n),n};r.exports=f},63634:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(21715),x=i(93736),f=new x,u=function(o,n,h,p){var a=p.baseTileWidth,c=p.baseTileHeight,v=p.tilemapLayer;v&&(a*=v.scaleX,c*=v.scaleY);var g=d(o,n,f,h,p),m=[],y=.5773502691896257,P,M;p.staggerAxis==="y"?(P=y*a,M=c/2):(P=a/2,M=y*c);for(var E=0;E<6;E++){var w=2*Math.PI*(.5-E)/6;m.push(new x(g.x+P*Math.cos(w),g.y+M*Math.sin(w)))}return m};r.exports=u},21715:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(93736),x=function(f,u,o,n,h){o||(o=new d);var p=h.baseTileWidth,a=h.baseTileHeight,c=h.tilemapLayer,v=0,g=0;c&&(n||(n=c.scene.cameras.main),v=c.x+n.scrollX*(1-c.scrollFactorX),g=c.y+n.scrollY*(1-c.scrollFactorY),p*=c.scaleX,a*=c.scaleY);var m=p/2,y=a/2,P,M;return h.staggerAxis==="y"?(P=v+p*f+p,M=g+1.5*u*y+y,u%2===0&&(this.staggerIndex==="odd"?P-=m:P+=m)):this.staggerAxis==="x"&&this.staggerIndex==="odd"&&(P=v+1.5*f*m+m,M=g+a*f+a,f%2===0&&(this.staggerIndex==="odd"?M-=y:M+=y)),o.set(P,M)};r.exports=x},11516:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(93736),x=function(f,u,o,n,h,p){n||(n=new d);var a=p.baseTileWidth,c=p.baseTileHeight,v=p.tilemapLayer;v&&(h||(h=v.scene.cameras.main),f=f-(v.x+h.scrollX*(1-v.scrollFactorX)),u=u-(v.y+h.scrollY*(1-v.scrollFactorY)),a*=v.scaleX,c*=v.scaleY);var g=.5773502691896257,m=-.3333333333333333,y=0,P=.6666666666666666,M=a/2,E=c/2,w,R,O,A,F;p.staggerAxis==="y"?(w=(f-M)/(g*a),R=(u-E)/E,O=g*w+m*R,A=y*w+P*R):(w=(f-M)/M,R=(u-E)/(g*c),O=m*w+g*R,A=P*w+y*R),F=-O-A;var L=Math.round(O),I=Math.round(A),B=Math.round(F),b=Math.abs(L-O),k=Math.abs(I-A),U=Math.abs(B-F);b>k&&b>U?L=-I-B:k>U&&(I=-L-B);var Y,H=I;return p.staggerIndex==="odd"?Y=H%2===0?I/2+L:I/2+L-.5:Y=H%2===0?I/2+L:I/2+L+.5,n.set(Y,H)};r.exports=x},62839:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return i>=0&&i<x.width&&d>=0&&d<x.height};r.exports=T},20887:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(13125),x=function(f,u,o,n){o===void 0&&(o=[]),n===void 0&&(n=0),o.length=0;var h=f.tilemapLayer,p=f.data,a=f.width,c=f.height,v=h.skipCull,g=0,m=a,y=0,P=c,M,E,w;if(n===0){for(E=y;E<P;E++)for(M=g;M<m;M++)if(v||d(M,E,f,u)){if(w=p[E][M],!w||w.index===-1||!w.visible||w.alpha===0)continue;o.push(w)}}else if(n===1){for(E=y;E<P;E++)for(M=m;M>=g;M--)if(v||d(M,E,f,u)){if(w=p[E][M],!w||w.index===-1||!w.visible||w.alpha===0)continue;o.push(w)}}else if(n===2){for(E=P;E>=y;E--)for(M=g;M<m;M++)if(v||d(M,E,f,u)){if(w=p[E][M],!w||w.index===-1||!w.visible||w.alpha===0)continue;o.push(w)}}else if(n===3){for(E=P;E>=y;E--)for(M=m;M>=g;M--)if(v||d(M,E,f,u)){if(w=p[E][M],!w||w.index===-1||!w.visible||w.alpha===0)continue;o.push(w)}}return h.tilesDrawn=o.length,h.tilesTotal=a*c,o};r.exports=x},21808:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(93736),x=function(f,u,o,n,h){o||(o=new d);var p=h.baseTileWidth,a=h.baseTileHeight,c=h.tilemapLayer,v=0,g=0;c&&(n||(n=c.scene.cameras.main),v=c.x+n.scrollX*(1-c.scrollFactorX),p*=c.scaleX,g=c.y+n.scrollY*(1-c.scrollFactorY),a*=c.scaleY);var m=v+(f-u)*(p/2),y=g+(f+u)*(a/2);return o.set(m,y)};r.exports=x},18750:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(93736),x=function(f,u,o,n,h,p,a){n||(n=new d);var c=p.baseTileWidth,v=p.baseTileHeight,g=p.tilemapLayer;g&&(h||(h=g.scene.cameras.main),u=u-(g.y+h.scrollY*(1-g.scrollFactorY)),v*=g.scaleY,f=f-(g.x+h.scrollX*(1-g.scrollFactorX)),c*=g.scaleX);var m=c/2,y=v/2;f=f-m,a||(u=u-v);var P=.5*(f/m+u/y),M=.5*(-f/m+u/y);return o&&(P=Math.floor(P),M=Math.floor(M)),n.set(P,M)};r.exports=x},29003:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(29633),x=i(62839),f=i(92839),u=i(68234),o=function(n,h,p,a,c){if(a===void 0&&(a=!0),!x(h,p,c))return null;var v,g=c.data[p][h],m=g&&g.collides;n instanceof d?(c.data[p][h]===null&&(c.data[p][h]=new d(c,n.index,h,p,c.tileWidth,c.tileHeight)),c.data[p][h].copy(n)):(v=n,c.data[p][h]===null?c.data[p][h]=new d(c,v,h,p,c.tileWidth,c.tileHeight):c.data[p][h].index=v);var y=c.data[p][h],P=c.collideIndexes.indexOf(y.index)!==-1;if(v=n instanceof d?n.index:n,v===-1)y.width=c.tileWidth,y.height=c.tileHeight;else{var M=c.tilemapLayer.tilemap,E=M.tiles,w=E[v][2],R=M.tilesets[w];y.width=R.tileWidth,y.height=R.tileHeight}return u(y,P),a&&m!==y.collides&&f(h,p,c),y};r.exports=o},48565:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(29003),x=i(93736),f=new x,u=function(o,n,h,p,a,c){return c.tilemapLayer.worldToTileXY(n,h,!0,f,a,c),d(o,f.x,f.y,p,c)};r.exports=u},56547:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(60386),x=i(29003),f=function(u,o,n,h,p){if(h===void 0&&(h=!0),!Array.isArray(u))return null;Array.isArray(u[0])||(u=[u]);for(var a=u.length,c=u[0].length,v=0;v<a;v++)for(var g=0;g<c;g++){var m=u[v][g];x(m,o+g,n+v,!1,p)}h&&d(o-1,n-1,c+2,a+2,p)};r.exports=f},91180:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(50811),x=i(72861),f=function(u,o,n,h,p,a){var c,v=d(u,o,n,h,{},a);if(!p)for(p=[],c=0;c<v.length;c++)p.indexOf(v[c].index)===-1&&p.push(v[c].index);for(c=0;c<v.length;c++)v[c].index=x(p)};r.exports=f},929:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(29633),x=i(62839),f=i(92839),u=function(o,n,h,p,a){if(h===void 0&&(h=!0),p===void 0&&(p=!0),!x(o,n,a))return null;var c=a.data[n][o];if(c)a.data[n][o]=h?null:new d(a,-1,o,n,a.tileWidth,a.tileHeight);else return null;return p&&c&&c.collides&&f(o,n,a),c};r.exports=u},17384:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(929),x=i(93736),f=new x,u=function(o,n,h,p,a,c){return c.tilemapLayer.worldToTileXY(o,n,!0,f,a,c),d(f.x,f.y,h,p,c)};r.exports=u},93763:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(50811),x=i(95509),f=new x(105,210,231,150),u=new x(243,134,48,200),o=new x(40,39,37,150),n=function(h,p,a){p===void 0&&(p={});var c=p.tileColor!==void 0?p.tileColor:f,v=p.collidingTileColor!==void 0?p.collidingTileColor:u,g=p.faceColor!==void 0?p.faceColor:o,m=d(0,0,a.width,a.height,null,a);h.translateCanvas(a.tilemapLayer.x,a.tilemapLayer.y),h.scaleCanvas(a.tilemapLayer.scaleX,a.tilemapLayer.scaleY);for(var y=0;y<m.length;y++){var P=m[y],M=P.width,E=P.height,w=P.pixelX,R=P.pixelY,O=P.collides?v:c;O!==null&&(h.fillStyle(O.color,O.alpha/255),h.fillRect(w,R,M,E)),w+=1,R+=1,M-=2,E-=2,g!==null&&(h.lineStyle(1,g.color,g.alpha/255),P.faceTop&&h.lineBetween(w,R,w+M,R),P.faceRight&&h.lineBetween(w+M,R,w+M,R+E),P.faceBottom&&h.lineBetween(w,R+E,w+M,R+E),P.faceLeft&&h.lineBetween(w,R,w,R+E))}};r.exports=n},51202:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(50811),x=function(f,u,o,n,h,p,a){for(var c=d(o,n,h,p,null,a),v=0;v<c.length;v++)c[v]&&c[v].index===f&&(c[v].index=u)};r.exports=x},6987:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){var u=i.data,o=i.width,n=i.height,h=i.tilemapLayer,p=Math.max(0,d.left),a=Math.min(o,d.right),c=Math.max(0,d.top),v=Math.min(n,d.bottom),g,m,y;if(x===0)for(m=c;m<v;m++)for(g=p;u[m]&&g<a;g++)y=u[m][g],!(!y||y.index===-1||!y.visible||y.alpha===0)&&f.push(y);else if(x===1)for(m=c;m<v;m++)for(g=a;u[m]&&g>=p;g--)y=u[m][g],!(!y||y.index===-1||!y.visible||y.alpha===0)&&f.push(y);else if(x===2)for(m=v;m>=c;m--)for(g=p;u[m]&&g<a;g++)y=u[m][g],!(!y||y.index===-1||!y.visible||y.alpha===0)&&f.push(y);else if(x===3)for(m=v;m>=c;m--)for(g=a;u[m]&&g>=p;g--)y=u[m][g],!(!y||y.index===-1||!y.visible||y.alpha===0)&&f.push(y);return h.tilesDrawn=f.length,h.tilesTotal=o*n,f};r.exports=T},51710:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(68234),x=i(60386),f=i(91181),u=function(o,n,h,p,a){n===void 0&&(n=!0),h===void 0&&(h=!0),a===void 0&&(a=!0),Array.isArray(o)||(o=[o]);for(var c=0;c<o.length;c++)f(o[c],n,p);if(a)for(var v=0;v<p.height;v++)for(var g=0;g<p.width;g++){var m=p.data[v][g];m&&o.indexOf(m.index)!==-1&&d(m,n)}h&&x(0,0,p.width,p.height,p)};r.exports=u},15216:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(68234),x=i(60386),f=i(91181),u=function(o,n,h,p,a,c){if(h===void 0&&(h=!0),p===void 0&&(p=!0),c===void 0&&(c=!0),!(o>n)){for(var v=o;v<=n;v++)f(v,h,a);if(c)for(var g=0;g<a.height;g++)for(var m=0;m<a.width;m++){var y=a.data[g][m];y&&y.index>=o&&y.index<=n&&d(y,h)}p&&x(0,0,a.width,a.height,a)}};r.exports=u},33158:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(68234),x=i(60386),f=i(91181),u=function(o,n,h,p){n===void 0&&(n=!0),h===void 0&&(h=!0),Array.isArray(o)||(o=[o]);for(var a=0;a<p.height;a++)for(var c=0;c<p.width;c++){var v=p.data[a][c];v&&o.indexOf(v.index)===-1&&(d(v,n),f(v.index,n,p))}h&&x(0,0,p.width,p.height,p)};r.exports=u},4180:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(68234),x=i(60386),f=i(19256),u=function(o,n,h,p){n===void 0&&(n=!0),h===void 0&&(h=!0);for(var a=0;a<p.height;a++)for(var c=0;c<p.width;c++){var v=p.data[a][c];if(v){for(var g in o)if(f(v.properties,g)){var m=o[g];Array.isArray(m)||(m=[m]);for(var y=0;y<m.length;y++)v.properties[g]===m[y]&&d(v,n)}}}h&&x(0,0,p.width,p.height,p)};r.exports=u},18625:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(68234),x=i(60386),f=function(u,o,n){u===void 0&&(u=!0),o===void 0&&(o=!0);for(var h=0;h<n.height;h++)for(var p=0;p<n.width;p++){var a=n.data[h][p];if(a){var c=a.getCollisionGroup();c&&c.objects&&c.objects.length>0&&d(a,u)}}o&&x(0,0,n.width,n.height,n)};r.exports=f},91181:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){var f=x.collideIndexes.indexOf(i);d&&f===-1?x.collideIndexes.push(i):!d&&f!==-1&&x.collideIndexes.splice(f,1)};r.exports=T},68234:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){d?i.setCollision(!0,!0,!0,!0,!1):i.resetCollision(!1)};r.exports=T},11628:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){if(typeof i=="number")f.callbacks[i]=d!==null?{callback:d,callbackContext:x}:void 0;else for(var u=0,o=i.length;u<o;u++)f.callbacks[i[u]]=d!==null?{callback:d,callbackContext:x}:void 0};r.exports=T},72732:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(50811),x=function(f,u,o,n,h,p,a){for(var c=d(f,u,o,n,null,a),v=0;v<c.length;v++)c[v].setCollisionCallback(h,p)};r.exports=x},34397:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(50811),x=i(18592),f=function(u,o,n,h,p){var a=d(u,o,n,h,null,p),c=a.map(function(g){return g.index});x(c);for(var v=0;v<a.length;v++)a[v].index=c[v]};r.exports=f},53945:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(82127),x=i(84314),f=function(u,o){var n=u.tilemapLayer.tilemap,h=u.tilemapLayer,p=Math.floor(n.tileWidth*h.scaleX),a=Math.floor(n.tileHeight*h.scaleY),c=x(o.worldView.x-h.x,p,0,!0)-h.cullPaddingX,v=d(o.worldView.right-h.x,p,0,!0)+h.cullPaddingX,g=x(o.worldView.y-h.y,a/2,0,!0)-h.cullPaddingY,m=d(o.worldView.bottom-h.y,a/2,0,!0)+h.cullPaddingY;return{left:c,right:v,top:g,bottom:m}};r.exports=f},19242:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(53945),x=i(6987),f=function(u,o,n,h){n===void 0&&(n=[]),h===void 0&&(h=0),n.length=0;var p=u.tilemapLayer,a=d(u,o);return p.skipCull&&p.scrollFactorX===1&&p.scrollFactorY===1&&(a.left=0,a.right=u.width,a.top=0,a.bottom=u.height),x(u,a,h,n),n};r.exports=f},33388:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(93736),x=function(f,u,o,n,h){o||(o=new d);var p=h.baseTileWidth,a=h.baseTileHeight,c=h.tilemapLayer,v=0,g=0;c&&(n||(n=c.scene.cameras.main),v=c.x+n.scrollX*(1-c.scrollFactorX),p*=c.scaleX,g=c.y+n.scrollY*(1-c.scrollFactorY),a*=c.scaleY);var m=v+f*p+u%2*(p/2),y=g+u*(a/2);return o.set(m,y)};r.exports=x},84132:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){var f=x.baseTileHeight,u=x.tilemapLayer,o=0;return u&&(d===void 0&&(d=u.scene.cameras.main),o=u.y+d.scrollY*(1-u.scrollFactorY),f*=u.scaleY),o+i*(f/2)+f};r.exports=T},90562:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(93736),x=function(f,u,o,n,h,p){n||(n=new d);var a=p.baseTileWidth,c=p.baseTileHeight,v=p.tilemapLayer;v&&(h||(h=v.scene.cameras.main),u=u-(v.y+h.scrollY*(1-v.scrollFactorY)),c*=v.scaleY,f=f-(v.x+h.scrollX*(1-v.scrollFactorX)),a*=v.scaleX);var g=o?Math.floor(u/(c/2)):u/(c/2),m=o?Math.floor((f+g%2*.5*a)/a):(f+g%2*.5*a)/a;return n.set(m,g)};r.exports=x},3689:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){var u=f.baseTileHeight,o=f.tilemapLayer;return o&&(x||(x=o.scene.cameras.main),i=i-(o.y+x.scrollY*(1-o.scrollFactorY)),u*=o.scaleY),d?Math.floor(i/(u/2)):i/(u/2)};r.exports=T},55217:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(50811),x=function(f,u,o,n,h,p,a){for(var c=d(o,n,h,p,null,a),v=0;v<c.length;v++)c[v]&&(c[v].index===f?c[v].index=u:c[v].index===u&&(c[v].index=f))};r.exports=x},44150:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){var f=x.baseTileWidth,u=x.tilemapLayer,o=0;return u&&(d||(d=u.scene.cameras.main),o=u.x+d.scrollX*(1-u.scrollFactorX),f*=u.scaleX),o+i*f};r.exports=T},46836:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(44150),x=i(42477),f=i(93736),u=function(o,n,h,p,a){return h||(h=new f(0,0)),h.x=d(o,p,a),h.y=x(n,p,a),h};r.exports=u},42477:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){var f=x.baseTileHeight,u=x.tilemapLayer,o=0;return u&&(d||(d=u.scene.cameras.main),o=u.y+d.scrollY*(1-u.scrollFactorY),f*=u.scaleY),o+i*f};r.exports=T},39677:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(50811),x=function(f,u,o,n,h,p){if(h){var a,c=d(f,u,o,n,null,p),v=0;for(a=0;a<h.length;a++)v+=h[a].weight;if(!(v<=0))for(a=0;a<c.length;a++){for(var g=Math.random()*v,m=0,y=-1,P=0;P<h.length;P++)if(m+=h[P].weight,g<=m){var M=h[P].index;y=Array.isArray(M)?M[Math.floor(Math.random()*M.length)]:M;break}c[a].index=y}}};r.exports=x},806:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(45676),x=i(93736),f=new x,u=function(o,n,h,p){return d(o,0,n,f,h,p),f.x};r.exports=u},45676:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(93736),x=function(f,u,o,n,h,p){o===void 0&&(o=!0),n||(n=new d);var a=p.baseTileWidth,c=p.baseTileHeight,v=p.tilemapLayer;v&&(h||(h=v.scene.cameras.main),f=f-(v.x+h.scrollX*(1-v.scrollFactorX)),u=u-(v.y+h.scrollY*(1-v.scrollFactorY)),a*=v.scaleX,c*=v.scaleY);var g=f/a,m=u/c;return o&&(g=Math.floor(g),m=Math.floor(m)),n.set(g,m)};r.exports=x},70520:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(45676),x=i(93736),f=new x,u=function(o,n,h,p){return d(0,o,n,f,h,p),f.y};r.exports=u},5047:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CalculateFacesAt:i(92839),CalculateFacesWithin:i(60386),CheckIsoBounds:i(13125),Copy:i(17347),CreateFromTiles:i(93604),CullBounds:i(71586),CullTiles:i(381),Fill:i(97734),FilterTiles:i(63555),FindByIndex:i(37982),FindTile:i(48297),ForEachTile:i(80916),GetCullTilesFunction:i(31493),GetTileAt:i(15494),GetTileAtWorldXY:i(24640),GetTileCorners:i(48495),GetTileCornersFunction:i(7160),GetTilesWithin:i(50811),GetTilesWithinShape:i(31674),GetTilesWithinWorldXY:i(44662),GetTileToWorldXFunction:i(16884),GetTileToWorldXYFunction:i(68182),GetTileToWorldYFunction:i(3752),GetWorldToTileXFunction:i(29296),GetWorldToTileXYFunction:i(32688),GetWorldToTileYFunction:i(74326),HasTileAt:i(46598),HasTileAtWorldXY:i(28654),HexagonalCullBounds:i(6358),HexagonalCullTiles:i(37524),HexagonalGetTileCorners:i(63634),HexagonalTileToWorldXY:i(21715),HexagonalWorldToTileXY:i(11516),IsInLayerBounds:i(62839),IsometricCullTiles:i(20887),IsometricTileToWorldXY:i(21808),IsometricWorldToTileXY:i(18750),PutTileAt:i(29003),PutTileAtWorldXY:i(48565),PutTilesAt:i(56547),Randomize:i(91180),RemoveTileAt:i(929),RemoveTileAtWorldXY:i(17384),RenderDebug:i(93763),ReplaceByIndex:i(51202),RunCull:i(6987),SetCollision:i(51710),SetCollisionBetween:i(15216),SetCollisionByExclusion:i(33158),SetCollisionByProperty:i(4180),SetCollisionFromCollisionGroup:i(18625),SetLayerCollisionIndex:i(91181),SetTileCollision:i(68234),SetTileIndexCallback:i(11628),SetTileLocationCallback:i(72732),Shuffle:i(34397),StaggeredCullBounds:i(53945),StaggeredCullTiles:i(19242),StaggeredTileToWorldXY:i(33388),StaggeredTileToWorldY:i(84132),StaggeredWorldToTileXY:i(90562),StaggeredWorldToTileY:i(3689),SwapByIndex:i(55217),TileToWorldX:i(44150),TileToWorldXY:i(46836),TileToWorldY:i(42477),WeightedRandomize:i(39677),WorldToTileX:i(806),WorldToTileXY:i(45676),WorldToTileY:i(70520)}},12920:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},84758:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={ORIENTATION:i(12920)};r.exports=d},52678:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(98611),x=i(84758),f={Components:i(5047),Parsers:i(34124),Formats:i(93560),ImageCollection:i(97042),ParseToTilemap:i(15043),Tile:i(29633),Tilemap:i(89797),TilemapCreator:i(4843),TilemapFactory:i(37940),Tileset:i(47975),TilemapLayer:i(87177),Orientation:i(12920),LayerData:i(94990),MapData:i(16586),ObjectLayer:i(15256)};f=d(!1,f,x.ORIENTATION),r.exports=f},94990:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12920),f=i(72632),u=new d({initialize:function(n){n===void 0&&(n={}),this.name=f(n,"name","layer"),this.id=f(n,"id",0),this.x=f(n,"x",0),this.y=f(n,"y",0),this.width=f(n,"width",0),this.height=f(n,"height",0),this.tileWidth=f(n,"tileWidth",0),this.tileHeight=f(n,"tileHeight",0),this.baseTileWidth=f(n,"baseTileWidth",this.tileWidth),this.baseTileHeight=f(n,"baseTileHeight",this.tileHeight),this.orientation=f(n,"orientation",x.ORTHOGONAL),this.widthInPixels=f(n,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=f(n,"heightInPixels",this.height*this.baseTileHeight),this.alpha=f(n,"alpha",1),this.visible=f(n,"visible",!0),this.properties=f(n,"properties",[]),this.indexes=f(n,"indexes",[]),this.collideIndexes=f(n,"collideIndexes",[]),this.callbacks=f(n,"callbacks",[]),this.bodies=f(n,"bodies",[]),this.data=f(n,"data",[]),this.tilemapLayer=f(n,"tilemapLayer",null),this.hexSideLength=f(n,"hexSideLength",0),this.staggerAxis=f(n,"staggerAxis","y"),this.staggerIndex=f(n,"staggerIndex","odd")}});r.exports=u},16586:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(12920),f=i(72632),u=new d({initialize:function(n){n===void 0&&(n={}),this.name=f(n,"name","map"),this.width=f(n,"width",0),this.height=f(n,"height",0),this.infinite=f(n,"infinite",!1),this.tileWidth=f(n,"tileWidth",0),this.tileHeight=f(n,"tileHeight",0),this.widthInPixels=f(n,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=f(n,"heightInPixels",this.height*this.tileHeight),this.format=f(n,"format",null),this.orientation=f(n,"orientation",x.ORTHOGONAL),this.renderOrder=f(n,"renderOrder","right-down"),this.version=f(n,"version","1"),this.properties=f(n,"properties",{}),this.layers=f(n,"layers",[]),this.images=f(n,"images",[]),this.objects=f(n,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=f(n,"collision",{}),this.tilesets=f(n,"tilesets",[]),this.imageCollections=f(n,"imageCollections",[]),this.tiles=f(n,"tiles",[]),this.hexSideLength=f(n,"hexSideLength",0),this.staggerAxis=f(n,"staggerAxis","y"),this.staggerIndex=f(n,"staggerIndex","odd")}});r.exports=u},15256:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(72632),f=new d({initialize:function(o){o===void 0&&(o={}),this.name=x(o,"name","object layer"),this.id=x(o,"id",0),this.opacity=x(o,"opacity",1),this.properties=x(o,"properties",{}),this.propertyTypes=x(o,"propertytypes",{}),this.type=x(o,"type","objectgroup"),this.visible=x(o,"visible",!0),this.objects=x(o,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});r.exports=f},21394:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(12920),x=function(f){return f=f.toLowerCase(),f==="isometric"?d.ISOMETRIC:f==="staggered"?d.STAGGERED:f==="hexagonal"?d.HEXAGONAL:d.ORTHOGONAL};r.exports=x},90715:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(93560),x=i(84346),f=i(96097),u=i(2378),o=i(44909),n=function(h,p,a,c,v,g){var m;switch(p){case d.ARRAY_2D:m=x(h,a,c,v,g);break;case d.CSV:m=f(h,a,c,v,g);break;case d.TILED_JSON:m=u(h,a,g);break;case d.WELTMEISTER:m=o(h,a,g);break;default:console.warn("Unrecognized tilemap data format: "+p),m=null}return m};r.exports=n},84346:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(93560),x=i(94990),f=i(16586),u=i(29633),o=function(n,h,p,a,c){for(var v=new x({tileWidth:p,tileHeight:a}),g=new f({name:n,tileWidth:p,tileHeight:a,format:d.ARRAY_2D,layers:[v]}),m=[],y=h.length,P=0,M=0;M<h.length;M++){m[M]=[];for(var E=h[M],w=0;w<E.length;w++){var R=parseInt(E[w],10);isNaN(R)||R===-1?m[M][w]=c?null:new u(v,-1,w,M,p,a):m[M][w]=new u(v,R,w,M,p,a)}P===0&&(P=E.length)}return g.width=v.width=P,g.height=v.height=y,g.widthInPixels=v.widthInPixels=P*p,g.heightInPixels=v.heightInPixels=y*a,v.data=m,g};r.exports=o},96097:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(93560),x=i(84346),f=function(u,o,n,h,p){var a=o.trim().split(`
`).map(function(v){return v.split(",")}),c=x(u,a,n,h,p);return c.format=d.CSV,c};r.exports=f},30951:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(94990),x=i(29633),f=function(u,o){for(var n=[],h=0;h<u.layer.length;h++){for(var p=u.layer[h],a=new d({name:p.name,width:p.width,height:p.height,tileWidth:p.tilesize,tileHeight:p.tilesize,visible:p.visible===1}),c=[],v=[],g=0;g<p.data.length;g++){for(var m=0;m<p.data[g].length;m++){var y=p.data[g][m]-1,P;y>-1?P=new x(a,y,m,g,p.tilesize,p.tilesize):P=o?null:new x(a,-1,m,g,p.tilesize,p.tilesize),c.push(P)}v.push(c),c=[]}a.data=v,n.push(a)}return n};r.exports=f},47488:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(47975),x=function(f){for(var u=[],o=[],n=0;n<f.layer.length;n++){var h=f.layer[n],p=h.tilesetName;p!==""&&o.indexOf(p)===-1&&(o.push(p),u.push(new d(p,0,h.tilesize,h.tilesize,0,0)))}return u};r.exports=x},44909:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(93560),x=i(16586),f=i(30951),u=i(47488),o=function(n,h,p){if(h.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+n),null;for(var a=0,c=0,v=0;v<h.layer.length;v++)h.layer[v].width>a&&(a=h.layer[v].width),h.layer[v].height>c&&(c=h.layer[v].height);var g=new x({width:a,height:c,name:n,tileWidth:h.layer[0].tilesize,tileHeight:h.layer[0].tilesize,format:d.WELTMEISTER});return g.layers=f(h,p),g.tilesets=u(h),g};r.exports=o},24507:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ParseTileLayers:i(30951),ParseTilesets:i(47488),ParseWeltmeister:i(44909)}},34124:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={FromOrientationString:i(21394),Parse:i(90715),Parse2DArray:i(84346),ParseCSV:i(96097),Impact:i(24507),Tiled:i(50044)}},48646:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(98611),x=function(f){for(var u,o,n,h,p,a=0;a<f.layers.length;a++){u=f.layers[a],h=null;for(var c=0;c<u.data.length;c++){p=u.data[c];for(var v=0;v<p.length;v++)o=p[v],!(o===null||o.index<0)&&(n=f.tiles[o.index][2],h=f.tilesets[n],o.width=h.tileWidth,o.height=h.tileHeight,h.tileProperties&&h.tileProperties[o.index-h.firstgid]&&(o.properties=d(o.properties,h.tileProperties[o.index-h.firstgid])))}}};r.exports=x},43908:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){for(var d=window.atob(i),x=d.length,f=new Array(x/4),u=0;u<x;u+=4)f[u/4]=(d.charCodeAt(u)|d.charCodeAt(u+1)<<8|d.charCodeAt(u+2)<<16|d.charCodeAt(u+3)<<24)>>>0;return f};r.exports=T},14556:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(47975),x=function(f){var u,o,n=[];for(u=0;u<f.imageCollections.length;u++)for(var h=f.imageCollections[u],p=h.images,a=0;a<p.length;a++){var c=p[a];o=new d(c.image,c.gid,h.imageWidth,h.imageHeight,0,0),o.updateTileData(h.imageWidth,h.imageHeight),f.tilesets.push(o)}for(u=0;u<f.tilesets.length;u++){o=f.tilesets[u];for(var v=o.tileMargin,g=o.tileMargin,m=0,y=0,P=0,M=o.firstgid;M<o.firstgid+o.total&&(n[M]=[v,g,u],v+=o.tileWidth+o.tileSpacing,m++,!(m===o.total||(y++,y===o.columns&&(v=o.tileMargin,g+=o.tileHeight+o.tileSpacing,y=0,P++,P===o.rows))));M++);}return n};r.exports=x},92044:(r,T,i)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72632),x=function(f,u,o){if(!u)return{i:0,layers:f.layers,name:"",opacity:1,visible:!0,x:0,y:0};var n=u.x+d(u,"startx",0)*f.tilewidth+d(u,"offsetx",0),h=u.y+d(u,"starty",0)*f.tileheight+d(u,"offsety",0);return{i:0,layers:u.layers,name:o.name+u.name+"/",opacity:o.opacity*u.opacity,visible:o.visible&&u.visible,x:o.x+n,y:o.y+h}};r.exports=x},8847:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=2147483648,i=1073741824,d=536870912,x=function(f){var u=!!(f&T),o=!!(f&i),n=!!(f&d);f=f&~(T|i|d);var h=0,p=!1;return u&&o&&n?(h=Math.PI/2,p=!0):u&&o&&!n?(h=Math.PI,p=!1):u&&!o&&n?(h=Math.PI/2,p=!1):u&&!o&&!n?(h=0,p=!0):!u&&o&&n?(h=3*Math.PI/2,p=!1):!u&&o&&!n?(h=Math.PI,p=!0):!u&&!o&&n?(h=3*Math.PI/2,p=!0):!u&&!o&&!n&&(h=0,p=!1),{gid:f,flippedHorizontal:u,flippedVertical:o,flippedAntiDiagonal:n,rotation:h,flipped:p}};r.exports=x},78339:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72632),x=i(92044),f=function(u){for(var o=[],n=[],h=x(u);h.i<h.layers.length||n.length>0;){if(h.i>=h.layers.length){if(n.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}h=n.pop();continue}var p=h.layers[h.i];if(h.i++,p.type!=="imagelayer"){if(p.type==="group"){var a=x(u,p,h);n.push(h),h=a}continue}var c=d(p,"offsetx",0)+d(p,"startx",0),v=d(p,"offsety",0)+d(p,"starty",0);o.push({name:h.name+p.name,image:p.image,x:h.x+c+p.x,y:h.y+v+p.y,alpha:h.opacity*p.opacity,visible:h.visible&&p.visible,properties:d(p,"properties",{})})}return o};r.exports=f},2378:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(48646),x=i(14556),f=i(12920),u=i(28699),o=i(93560),n=i(21394),h=i(16586),p=i(78339),a=i(61136),c=i(95925),v=i(93392),g=function(m,y,P){var M=u(y),E=new h({width:M.width,height:M.height,name:m,tileWidth:M.tilewidth,tileHeight:M.tileheight,orientation:n(M.orientation),format:o.TILED_JSON,version:M.version,properties:M.properties,renderOrder:M.renderorder,infinite:M.infinite});E.orientation===f.HEXAGONAL&&(E.hexSideLength=M.hexsidelength,E.staggerAxis=M.staggeraxis,E.staggerIndex=M.staggerindex),E.layers=c(M,P),E.images=p(M);var w=v(M);return E.tilesets=w.tilesets,E.imageCollections=w.imageCollections,E.objects=a(M),E.tiles=x(E),d(E),E};r.exports=g},4281:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(28820),x=i(8847),f=function(n){return{x:n.x,y:n.y}},u=["id","name","type","rotation","properties","visible","x","y","width","height"],o=function(n,h,p){h===void 0&&(h=0),p===void 0&&(p=0);var a=d(n,u);if(a.x+=h,a.y+=p,n.gid){var c=x(n.gid);a.gid=c.gid,a.flippedHorizontal=c.flippedHorizontal,a.flippedVertical=c.flippedVertical,a.flippedAntiDiagonal=c.flippedAntiDiagonal}else n.polyline?a.polyline=n.polyline.map(f):n.polygon?a.polygon=n.polygon.map(f):n.ellipse?a.ellipse=n.ellipse:n.text?a.text=n.text:n.point?a.point=!0:a.rectangle=!0;return a};r.exports=o},61136:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72632),x=i(4281),f=i(15256),u=i(92044),o=function(n){for(var h=[],p=[],a=u(n);a.i<a.layers.length||p.length>0;){if(a.i>=a.layers.length){if(p.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}a=p.pop();continue}var c=a.layers[a.i];if(a.i++,c.opacity*=a.opacity,c.visible=a.visible&&c.visible,c.type!=="objectgroup"){if(c.type==="group"){var v=u(n,c,a);p.push(a),a=v}continue}c.name=a.name+c.name;for(var g=a.x+d(c,"startx",0)+d(c,"offsetx",0),m=a.y+d(c,"starty",0)+d(c,"offsety",0),y=[],P=0;P<c.objects.length;P++){var M=x(c.objects[P],g,m);y.push(M)}var E=new f(c);E.objects=y,h.push(E)}return h};r.exports=o},95925:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(43908),x=i(12920),f=i(92044),u=i(21394),o=i(72632),n=i(94990),h=i(8847),p=i(29633),a=function(c,v){for(var g=o(c,"infinite",!1),m=[],y=[],P=f(c);P.i<P.layers.length||y.length>0;){if(P.i>=P.layers.length){if(y.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}P=y.pop();continue}var M=P.layers[P.i];if(P.i++,M.type!=="tilelayer"){if(M.type==="group"){var E=f(c,M,P);y.push(P),P=E}continue}if(M.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+M.name+"'");continue}else if(M.encoding&&M.encoding==="base64"){if(M.chunks)for(var w=0;w<M.chunks.length;w++)M.chunks[w].data=d(M.chunks[w].data);M.data&&(M.data=d(M.data)),delete M.encoding}var R,O,A,F,L=[],I=0;if(g){var B=o(M,"startx",0)+M.x,b=o(M,"starty",0)+M.y;R=new n({name:P.name+M.name,id:M.id,x:P.x+o(M,"offsetx",0)+B*c.tilewidth,y:P.y+o(M,"offsety",0)+b*c.tileheight,width:M.width,height:M.height,tileWidth:c.tilewidth,tileHeight:c.tileheight,alpha:P.opacity*M.opacity,visible:P.visible&&M.visible,properties:o(M,"properties",[]),orientation:u(c.orientation)}),R.orientation===x.HEXAGONAL&&(R.hexSideLength=c.hexsidelength,R.staggerAxis=c.staggeraxis,R.staggerIndex=c.staggerindex);for(var k=0;k<M.height;k++){L[k]=[null];for(var U=0;U<M.width;U++)L[k][U]=null}for(k=0,K=M.chunks.length;k<K;k++)for(var Y=M.chunks[k],H=Y.x-B,z=Y.y-b,V=0,D=0,G=Y.data.length;D<G;D++){var N=I+H,X=V+z;O=h(Y.data[D]),O.gid>0?(A=new p(R,O.gid,N,X,c.tilewidth,c.tileheight),A.rotation=O.rotation,A.flipX=O.flipped,L[X][N]=A):(F=v?null:new p(R,-1,N,X,c.tilewidth,c.tileheight),L[X][N]=F),I++,I===Y.width&&(V++,I=0)}}else{R=new n({name:P.name+M.name,id:M.id,x:P.x+o(M,"offsetx",0)+M.x,y:P.y+o(M,"offsety",0)+M.y,width:M.width,height:M.height,tileWidth:c.tilewidth,tileHeight:c.tileheight,alpha:P.opacity*M.opacity,visible:P.visible&&M.visible,properties:o(M,"properties",[]),orientation:u(c.orientation)}),R.orientation===x.HEXAGONAL&&(R.hexSideLength=c.hexsidelength,R.staggerAxis=c.staggeraxis,R.staggerIndex=c.staggerindex);for(var W=[],$=0,K=M.data.length;$<K;$++)O=h(M.data[$]),O.gid>0?(A=new p(R,O.gid,I,L.length,c.tilewidth,c.tileheight),A.rotation=O.rotation,A.flipX=O.flipped,W.push(A)):(F=v?null:new p(R,-1,I,L.length,c.tilewidth,c.tileheight),W.push(F)),I++,I===M.width&&(L.push(W),I=0,W=[])}R.data=L,m.push(R)}return m};r.exports=a},93392:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(47975),x=i(97042),f=i(4281),u=i(39642),o=function(n){for(var h=[],p=[],a=null,c,v=0;v<n.tilesets.length;v++){var g=n.tilesets[v];if(g.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(g.image){var m=new d(g.name,g.firstgid,g.tilewidth,g.tileheight,g.margin,g.spacing,void 0,void 0,g.tileoffset);if(n.version>1){var y=void 0,P=void 0;if(Array.isArray(g.tiles)){y=y||{},P=P||{};for(var M=0;M<g.tiles.length;M++){var E=g.tiles[M];if(E.properties){var w={};E.properties.forEach(function(k){w[k.name]=k.value}),P[E.id]=w}if(E.objectgroup&&((y[E.id]||(y[E.id]={})).objectgroup=E.objectgroup,E.objectgroup.objects)){var R=E.objectgroup.objects.map(function(k){return f(k)});y[E.id].objectgroup.objects=R}E.animation&&((y[E.id]||(y[E.id]={})).animation=E.animation),E.type&&((y[E.id]||(y[E.id]={})).type=E.type)}}Array.isArray(g.wangsets)&&(y=y||{},P=P||{},u(g.wangsets,y)),y&&(m.tileData=y,m.tileProperties=P)}else if(g.tileproperties&&(m.tileProperties=g.tileproperties),g.tiles){m.tileData=g.tiles;for(c in m.tileData){var O=m.tileData[c].objectgroup;if(O&&O.objects){var A=O.objects.map(function(k){return f(k)});m.tileData[c].objectgroup.objects=A}}}m.updateTileData(g.imagewidth,g.imageheight),h.push(m)}else{var F=new x(g.name,g.firstgid,g.tilewidth,g.tileheight,g.margin,g.spacing,g.properties),L=0;for(M=0;M<g.tiles.length;M++){E=g.tiles[M];var I=E.image,B=parseInt(E.id,10),b=g.firstgid+B;F.addImage(b,I),L=Math.max(B,L)}F.maxId=L,p.push(F)}a&&(a.lastgid=g.firstgid-1),a=g}return{tilesets:h,imageCollections:p}};r.exports=o},39642:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){for(var x=0;x<i.length;x++){var f=i[x],u=x;if(f.name&&f.name!==""&&(u=f.name),Array.isArray(f.wangtiles)&&f.wangtiles.length>0){var o={},n={},h,p,a;if(Array.isArray(f.edgecolors))for(h=0;h<f.edgecolors.length;h++)a=1+h,p=f.edgecolors[h],p.name!==""&&(o[a]=p.name);if(Array.isArray(f.cornercolors))for(h=0;h<f.cornercolors.length;h++)a=1+h,p=f.cornercolors[h],p.name!==""&&(n[a]=p.name);if(Array.isArray(f.colors))for(h=0;h<f.colors.length;h++)p=f.colors[h],a=1+h,p.name!==""&&(o[a]=n[a]=p.name);for(var c=[o,n,o,n,o,n,o,n],v=0;v<f.wangtiles.length;v++){var g=f.wangtiles[v],m=d[g.tileid]||(d[g.tileid]={});m=m.wangid||(m.wangid={});for(var y=[],P=0;P<Math.min(c.length,g.wangid.length);P++){if(p=g.wangid[P],p===0){y.push(void 0);continue}var M=c[P][p];if(M!==void 0){y.push(M);continue}y.push(p)}m[u]=y}}}};r.exports=T},50044:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AssignTileProperties:i(48646),Base64Decode:i(43908),BuildTilesetIndex:i(14556),CreateGroupLayer:i(92044),ParseGID:i(8847),ParseImageLayers:i(78339),ParseJSONTiled:i(2378),ParseObject:i(4281),ParseObjectLayers:i(61136),ParseTileLayers:i(95925),ParseTilesets:i(93392)}},73779:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(91963),f=i(7599),u=i(57911),o=i(66458),n=new d({initialize:function(p){this.scene=p,this.systems=p.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],p.sys.events.once(f.BOOT,this.boot,this),p.sys.events.on(f.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var h=this.systems.events;h.on(f.PRE_UPDATE,this.preUpdate,this),h.on(f.UPDATE,this.update,this),h.once(f.SHUTDOWN,this.shutdown,this)},addEvent:function(h){var p;return h instanceof u?(p=h,this.removeEvent(p),p.elapsed=p.startAt,p.hasDispatched=!1,p.repeatCount=p.repeat===-1||p.loop?999999999999:p.repeat):p=new u(h),this._pendingInsertion.push(p),p},delayedCall:function(h,p,a,c){return this.addEvent({delay:h,callback:p,args:a,callbackScope:c})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(h){Array.isArray(h)||(h=[h]);for(var p=0;p<h.length;p++){var a=h[p];o(this._pendingRemoval,a),o(this._pendingInsertion,a),o(this._active,a)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var h=this._pendingRemoval.length,p=this._pendingInsertion.length;if(!(h===0&&p===0)){var a,c;for(a=0;a<h;a++){c=this._pendingRemoval[a];var v=this._active.indexOf(c);v>-1&&this._active.splice(v,1),c.destroy()}for(a=0;a<p;a++)c=this._pendingInsertion[a],this._active.push(c);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(h,p){if(this.now=h,!this.paused){p*=this.timeScale;for(var a=0;a<this._active.length;a++){var c=this._active[a];if(!c.paused&&(c.elapsed+=p*c.timeScale,c.elapsed>=c.delay)){var v=c.elapsed-c.delay;if(c.elapsed=c.delay,!c.hasDispatched&&c.callback&&(c.hasDispatched=!0,c.callback.apply(c.callbackScope,c.args)),c.repeatCount>0){if(c.repeatCount--,v>=c.delay)for(;v>=c.delay&&c.repeatCount>0;)c.callback&&c.callback.apply(c.callbackScope,c.args),v-=c.delay,c.repeatCount--;c.elapsed=v,c.hasDispatched=!1}else c.hasDispatched&&this._pendingRemoval.push(c)}}}},shutdown:function(){var h;for(h=0;h<this._pendingInsertion.length;h++)this._pendingInsertion[h].destroy();for(h=0;h<this._active.length;h++)this._active[h].destroy();for(h=0;h<this._pendingRemoval.length;h++)this._pendingRemoval[h].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var p=this.systems.events;p.off(f.PRE_UPDATE,this.preUpdate,this),p.off(f.UPDATE,this.update,this),p.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});x.register("Clock",n,"time"),r.exports=n},20517:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(6659),f=i(61286),u=i(72632),o=i(7599),n=i(52944),h=new d({Extends:x,initialize:function(a,c){x.call(this),this.scene=a,this.systems=a.sys,this.elapsed=0,this.paused=!0,this.complete=!1,this.totalComplete=0,this.events=[];var v=this.systems.events;v.on(o.PRE_UPDATE,this.preUpdate,this),v.on(o.UPDATE,this.update,this),v.once(o.SHUTDOWN,this.destroy,this),c&&this.add(c)},preUpdate:function(p,a){this.paused||(this.elapsed+=a)},update:function(){if(!(this.paused||this.complete)){var p,a=this.events,c=!1,v=this.systems,g;for(p=0;p<a.length;p++){var m=a[p];if(!m.complete&&m.time<=this.elapsed){if(m.complete=!0,this.totalComplete++,g=m.target?m.target:this,m.if&&!m.if.call(g,m))continue;if(m.once&&(c=!0),m.set&&m.target)for(var y in m.set)m.target[y]=m.set[y];m.tween&&v.tweens.add(m.tween),m.sound&&(typeof m.sound=="string"?v.sound.play(m.sound):v.sound.play(m.sound.key,m.sound.config)),m.event&&this.emit(m.event,g),m.run&&m.run.call(g),m.stop&&this.stop()}}if(c)for(p=0;p<a.length;p++)a[p].complete&&a[p].once&&(a.splice(p,1),p--);this.totalComplete>=a.length&&(this.complete=!0),this.complete&&this.emit(n.COMPLETE,this)}},play:function(p){return p===void 0&&(p=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,p&&this.reset(),this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(){this.elapsed=0;for(var p=0;p<this.events.length;p++)this.events[p].complete=!1;return this.play(!1)},add:function(p){Array.isArray(p)||(p=[p]);var a=this.events,c=0;a.length>0&&(c=a[a.length-1].time);for(var v=0;v<p.length;v++){var g=p[v],m=u(g,"at",0),y=u(g,"in",null);y!==null&&(m=this.elapsed+y);var P=u(g,"from",null);P!==null&&(m=c+P),a.push({complete:!1,time:m,if:u(g,"if",null),run:u(g,"run",null),event:u(g,"event",null),target:u(g,"target",null),set:u(g,"set",null),tween:u(g,"tween",null),sound:u(g,"sound",null),once:u(g,"once",!1),stop:u(g,"stop",!1)}),c=m}return this.complete=!1,this},clear:function(){return this.events=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var p=Math.min(this.totalComplete,this.events.length);return p/this.events.length},destroy:function(){var p=this.systems.events;p.off(o.PRE_UPDATE,this.preUpdate,this),p.off(o.UPDATE,this.update,this),p.off(o.SHUTDOWN,this.destroy,this),this.scene=null,this.systems=null,this.events=[]}});f.register("timeline",function(p){return new h(this.scene,p)}),r.exports=h},57911:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(72632),f=new d({initialize:function(o){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(o)},reset:function(u){if(this.delay=x(u,"delay",0),this.repeat=x(u,"repeat",0),this.loop=x(u,"loop",!1),this.callback=x(u,"callback",void 0),this.callbackScope=x(u,"callbackScope",this),this.args=x(u,"args",[]),this.timeScale=x(u,"timeScale",1),this.startAt=x(u,"startAt",0),this.paused=x(u,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay===0&&(this.repeat>0||this.loop))throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var u=this.delay+this.delay*this.repeat,o=this.elapsed+this.delay*(this.repeat-this.repeatCount);return o/u}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(u){u===void 0&&(u=!1),this.elapsed=this.delay,this.hasDispatched=!u,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});r.exports=f},12144:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},52944:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COMPLETE:i(12144)}},97121:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Clock:i(73779),Events:i(52944),Timeline:i(20517),TimerEvent:i(57911)}},64532:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(66458),x=i(56694),f=i(5454),u=i(68710),o=i(91963),n=i(7599),h=i(91944),p=i(39366),a=i(68061),c=i(45641),v=i(56034),g=new x({initialize:function(y){this.scene=y,this.events=y.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(n.BOOT,this.boot,this),this.events.on(n.START,this.start,this)},boot:function(){this.events.once(n.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(n.UPDATE,this.update,this),this.events.once(n.SHUTDOWN,this.shutdown,this)},create:function(m){Array.isArray(m)||(m=[m]);for(var y=[],P=0;P<m.length;P++){var M=m[P];M instanceof p||M instanceof c?y.push(M):Array.isArray(M.tweens)?y.push(v(this,M)):y.push(a(this,M))}return y.length===1?y[0]:y},add:function(m){var y=m,P=this.tweens;return y instanceof p||y instanceof c||(Array.isArray(y.tweens)?y=v(this,y):y=a(this,y)),P.push(y.reset()),y},addMultiple:function(m){for(var y,P=[],M=this.tweens,E=0;E<m.length;E++)y=m[E],y instanceof p||y instanceof c||(Array.isArray(y.tweens)?y=v(this,y):y=a(this,y)),M.push(y.reset()),P.push(y);return P},chain:function(m){var y=v(this,m);return this.tweens.push(y.init()),y},getChainedTweens:function(m){return m.getChainedTweens()},has:function(m){return this.tweens.indexOf(m)>-1},existing:function(m){return this.has(m)||this.tweens.push(m.reset()),this},addCounter:function(m){var y=u(this,m);return this.tweens.push(y.reset()),y},stagger:function(m,y){return h(m,y)},setLagSmooth:function(m,y){return m===void 0&&(m=1/1e-8),y===void 0&&(y=0),this.maxLag=m,this.lagSkip=Math.min(y,this.maxLag),this},setFps:function(m){return m===void 0&&(m=240),this.gap=1e3/m,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(m){var y=Date.now()-this.prevTime;y>this.maxLag&&(this.startTime+=y-this.lagSkip),this.prevTime+=y;var P=this.prevTime-this.startTime,M=P-this.nextTime,E=P-this.time*1e3;return M>0||m?(P/=1e3,this.time=P,this.nextTime+=M+(M>=this.gap?4:this.gap-M)):E=0,E},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(m){m===void 0&&(m=!1);var y=this.getDelta(m);if(!(y<=0)){this.processing=!0;var P,M,E=[],w=this.tweens;for(P=0;P<w.length;P++)M=w[P],M.update(y)&&E.push(M);var R=E.length;if(R&&w.length>0){for(P=0;P<R;P++){M=E[P];var O=w.indexOf(M);O>-1&&(M.isPendingRemove()||M.isDestroyed())&&(w.splice(O,1),M.destroy())}E.length=0}this.processing=!1}},remove:function(m){return this.processing?m.setPendingRemoveState():(d(this.tweens,m),m.setRemovedState()),this},reset:function(m){return this.existing(m),m.seek(),m.setActiveState(),this},makeActive:function(m){return this.existing(m),m.setActiveState(),this},each:function(m,y){var P,M=[null];for(P=1;P<arguments.length;P++)M.push(arguments[P]);return this.tweens.forEach(function(E){M[0]=E,m.apply(y,M)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(m){var y=[],P=this.tweens;Array.isArray(m)?m=f(m):m=[m];for(var M=m.length,E=0;E<P.length;E++)for(var w=P[E],R=0;R<M;R++)!w.isDestroyed()&&w.hasTarget(m[R])&&y.push(w);return y},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(m){return this.timeScale=m,this},isTweening:function(m){for(var y=this.tweens,P,M=0;M<y.length;M++)if(P=y[M],P.isPlaying()&&P.hasTarget(m))return!0;return!1},killAll:function(){for(var m=this.processing?this.getTweens():this.tweens,y=0;y<m.length;y++)m[y].destroy();return this.processing||(m.length=0),this},killTweensOf:function(m){for(var y=this.getTweensOf(m),P=0;P<y.length;P++)y[P].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(n.UPDATE,this.update,this),this.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(n.START,this.start,this),this.scene=null,this.events=null}});o.register("TweenManager",g,"tweens"),r.exports=g},63130:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){return i&&i.hasOwnProperty(d)?i[d]:x};r.exports=T},21902:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(35060),x=i(40587),f=function(u,o){var n=d.Power0;if(typeof u=="string")if(d.hasOwnProperty(u))n=d[u];else{var h="";if(u.indexOf(".")){h=u.substring(u.indexOf(".")+1);var p=h.toLowerCase();p==="in"?h="easeIn":p==="out"?h="easeOut":p==="inout"&&(h="easeInOut")}u=x(u.substring(0,u.indexOf(".")+1)+h),d.hasOwnProperty(u)&&(n=d[u])}else typeof u=="function"&&(n=u);if(!o)return n;var a=o.slice(0);return a.unshift(0),function(c){return a[0]=c,n.apply(this,a)}};r.exports=f},4840:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(63210),x=i(88332),f=i(47614),u={bezier:d,catmull:x,catmullrom:x,linear:f},o=function(n){if(n===null)return null;var h=u.linear;return typeof n=="string"?u.hasOwnProperty(n)&&(h=u[n]):typeof n=="function"&&(h=n),h};r.exports=o},28348:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){var f;if(i.hasOwnProperty(d)){var u=typeof i[d];u==="function"?f=function(o,n,h,p,a,c){return i[d](o,n,h,p,a,c)}:f=function(){return i[d]}}else typeof x=="function"?f=x:f=function(){return x};return f};r.exports=T},92407:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(53709),x=function(f){var u,o=[];if(f.hasOwnProperty("props"))for(u in f.props)u.substring(0,1)!=="_"&&o.push({key:u,value:f.props[u]});else for(u in f)d.indexOf(u)===-1&&u.substring(0,1)!=="_"&&o.push({key:u,value:f[u]});return o};r.exports=x},65868:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(10850),x=function(f){var u=d(f,"targets",null);return u===null||(typeof u=="function"&&(u=u.call()),Array.isArray(u)||(u=[u])),u};r.exports=x},9744:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(17489),x=i(61616);function f(p){return!!p.getActive&&typeof p.getActive=="function"}function u(p){return!!p.getStart&&typeof p.getStart=="function"}function o(p){return!!p.getEnd&&typeof p.getEnd=="function"}function n(p){return u(p)||o(p)||f(p)}var h=function(p,a){var c,v=function(Y,H,z){return z},g=function(Y,H,z){return z},m=null,y=typeof a;if(y==="number")v=function(){return a};else if(Array.isArray(a))g=function(){return a[0]},v=function(){return a[a.length-1]};else if(y==="string"){var P=a.toLowerCase(),M=P.substring(0,6)==="random",E=P.substring(0,3)==="int";if(M||E){var w=P.indexOf("("),R=P.indexOf(")"),O=P.indexOf(",");if(w&&R&&O){var A=parseFloat(P.substring(w+1,O)),F=parseFloat(P.substring(O+1,R));M?v=function(){return x(A,F)}:v=function(){return d(A,F)}}else throw new Error("invalid random() format")}else{P=P[0];var L=parseFloat(a.substr(2));switch(P){case"+":v=function(Y,H,z){return z+L};break;case"-":v=function(Y,H,z){return z-L};break;case"*":v=function(Y,H,z){return z*L};break;case"/":v=function(Y,H,z){return z/L};break;default:v=function(){return parseFloat(a)}}}}else if(y==="function")v=a;else if(y==="object")if(n(a))f(a)&&(m=a.getActive),o(a)&&(v=a.getEnd),u(a)&&(g=a.getStart);else if(a.hasOwnProperty("value"))c=h(p,a.value);else{var I=a.hasOwnProperty("to"),B=a.hasOwnProperty("from"),b=a.hasOwnProperty("start");if(I&&(B||b)){if(c=h(p,a.to),b){var k=h(p,a.start);c.getActive=k.getEnd}if(B){var U=h(p,a.from);c.getStart=U.getEnd}}}return c||(c={getActive:m,getEnd:v,getStart:g}),c};r.exports=h},68710:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(502),x=i(99730),f=i(20494),u=i(63130),o=i(21902),n=i(28348),h=i(10850),p=i(9744),a=i(72066),c=i(39366),v=function(g,m,y){if(m instanceof c)return m.parent=g,m;y===void 0?y=x:y=a(x,y);var P=h(m,"from",0),M=h(m,"to",1),E=[{value:P}],w=h(m,"delay",y.delay),R=h(m,"easeParams",y.easeParams),O=h(m,"ease",y.ease),A=p("value",M),F=new c(g,E),L=F.add(0,"value",A.getEnd,A.getStart,A.getActive,o(h(m,"ease",O),h(m,"easeParams",R)),n(m,"delay",w),h(m,"duration",y.duration),u(m,"yoyo",y.yoyo),h(m,"hold",y.hold),h(m,"repeat",y.repeat),h(m,"repeatDelay",y.repeatDelay),!1,!1);L.start=P,L.current=P,F.completeDelay=f(m,"completeDelay",0),F.loop=Math.round(f(m,"loop",0)),F.loopDelay=Math.round(f(m,"loopDelay",0)),F.paused=u(m,"paused",!1),F.persist=u(m,"persist",!1),F.callbackScope=h(m,"callbackScope",F);for(var I=d.TYPES,B=0;B<I.length;B++){var b=I[B],k=h(m,b,!1);if(k){var U=h(m,b+"Params",[]);F.setCallback(b,k,U)}}return F};r.exports=v},91944:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(21902),x=i(10850),f=i(83392),u=function(o,n){n===void 0&&(n={});var h,p=x(n,"start",0),a=x(n,"ease",null),c=x(n,"grid",null),v=x(n,"from",0),g=v==="first",m=v==="center",y=v==="last",P=typeof v=="number",M=Array.isArray(o),E=parseFloat(M?o[0]:o),w=M?parseFloat(o[1]):0,R=Math.max(E,w);if(M&&(p+=E),c){var O=c[0],A=c[1],F=0,L=0,I=0,B=0,b=[];y?(F=O-1,L=A-1):P?(F=v%O,L=Math.floor(v/O)):m&&(F=(O-1)/2,L=(A-1)/2);for(var k=f.MIN_SAFE_INTEGER,U=0;U<A;U++){b[U]=[];for(var Y=0;Y<O;Y++){I=F-Y,B=L-U;var H=Math.sqrt(I*I+B*B);H>k&&(k=H),b[U][Y]=H}}}var z=a?d(a):null;return c?h=function(V,D,G,N){var X=0,W=N%O,$=Math.floor(N/O);W>=0&&W<O&&$>=0&&$<A&&(X=b[$][W]);var K;if(M){var j=w-E;z?K=X/k*j*z(X/k):K=X/k*j}else z?K=X*E*z(X/k):K=X*E;return K+p}:h=function(V,D,G,N,X){X--;var W;g?W=N:m?W=Math.abs(X/2-N):y?W=X-N:P&&(W=Math.abs(v-N));var $;if(M){var K;m?K=(w-E)/X*(W*2):K=(w-E)/X*W,z?$=K*z(W/X):$=K}else z?$=X*R*z(W/X):$=W*E;return $+p},h};r.exports=u},68061:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(502),x=i(99730),f=i(20494),u=i(63130),o=i(21902),n=i(4840),h=i(28348),p=i(92407),a=i(65868),c=i(10850),v=i(9744),g=i(72066),m=i(39366),y=function(P,M,E){if(M instanceof m)return M.parent=P,M;E===void 0?E=x:E=g(x,E);var w=a(M);!w&&E.targets&&(w=E.targets);for(var R=p(M),O=c(M,"delay",E.delay),A=c(M,"duration",E.duration),F=c(M,"easeParams",E.easeParams),L=c(M,"ease",E.ease),I=c(M,"hold",E.hold),B=c(M,"repeat",E.repeat),b=c(M,"repeatDelay",E.repeatDelay),k=u(M,"yoyo",E.yoyo),U=u(M,"flipX",E.flipX),Y=u(M,"flipY",E.flipY),H=c(M,"interpolation",E.interpolation),z=function(J,Q,_,q){if(_==="texture"){var et=q,ot=void 0;Array.isArray(q)?(et=q[0],ot=q[1]):q.hasOwnProperty("value")?(et=q.value,Array.isArray(q.value)?(et=q.value[0],ot=q.value[1]):typeof q.value=="string"&&(et=q.value)):typeof q=="string"&&(et=q),J.addFrame(Q,et,ot,h(q,"delay",O),c(q,"duration",A),c(q,"hold",I),c(q,"repeat",B),c(q,"repeatDelay",b),u(q,"flipX",U),u(q,"flipY",Y))}else{var ut=v(_,q),lt=n(c(q,"interpolation",H));J.add(Q,_,ut.getEnd,ut.getStart,ut.getActive,o(c(q,"ease",L),c(q,"easeParams",F)),h(q,"delay",O),c(q,"duration",A),u(q,"yoyo",k),c(q,"hold",I),c(q,"repeat",B),c(q,"repeatDelay",b),u(q,"flipX",U),u(q,"flipY",Y),lt,lt?q:null)}},V=new m(P,w),D=0;D<R.length;D++)for(var G=R[D].key,N=R[D].value,X=0;X<w.length;X++)G==="scale"&&!w[X].hasOwnProperty("scale")?(z(V,X,"scaleX",N),z(V,X,"scaleY",N)):z(V,X,G,N);V.completeDelay=f(M,"completeDelay",0),V.loop=Math.round(f(M,"loop",0)),V.loopDelay=Math.round(f(M,"loopDelay",0)),V.paused=u(M,"paused",!1),V.persist=u(M,"persist",!1),V.callbackScope=c(M,"callbackScope",V);for(var W=d.TYPES,$=0;$<W.length;$++){var K=W[$],j=c(M,K,!1);if(j){var Z=c(M,K+"Params",[]);V.setCallback(K,j,Z)}}return V};r.exports=y},56034:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(502),x=i(20494),f=i(63130),u=i(65868),o=i(10850),n=i(68061),h=i(45641),p=function(a,c){if(c instanceof h)return c.parent=a,c;var v=new h(a);v.startDelay=o(c,"delay",0),v.completeDelay=x(c,"completeDelay",0),v.loop=Math.round(x(c,"loop",o(c,"repeat",0))),v.loopDelay=Math.round(x(c,"loopDelay",o(c,"repeatDelay",0))),v.paused=f(c,"paused",!1),v.persist=f(c,"persist",!0),v.callbackScope=o(c,"callbackScope",v);var g,m=d.TYPES;for(g=0;g<m.length;g++){var y=m[g],P=o(c,y,!1);if(P){var M=o(c,y+"Params",[]);v.setCallback(y,P,M)}}var E=o(c,"tweens",null);if(Array.isArray(E)){var w=[],R=u(c),O=void 0;for(R&&(O={targets:R}),g=0;g<E.length;g++)w.push(n(v,E[g],O));v.add(w)}return v};r.exports=p},79619:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={GetBoolean:i(63130),GetEaseFunction:i(21902),GetInterpolationFunction:i(4840),GetNewValue:i(28348),GetProps:i(92407),GetTargets:i(65868),GetValueOp:i(9744),NumberTweenBuilder:i(68710),StaggerBuilder:i(91944),TweenBuilder:i(68061)}},5570:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="active"},6383:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},72582:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loop"},90281:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},80803:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="repeat"},13640:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},10472:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},5379:r=>{/**
 * @author       samme
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"},43449:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"},61541:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="yoyo"},54272:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={TWEEN_ACTIVE:i(5570),TWEEN_COMPLETE:i(6383),TWEEN_LOOP:i(72582),TWEEN_PAUSE:i(90281),TWEEN_RESUME:i(13640),TWEEN_REPEAT:i(80803),TWEEN_START:i(10472),TWEEN_STOP:i(5379),TWEEN_UPDATE:i(43449),TWEEN_YOYO:i(61541)}},75193:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d={States:i(55303),Builders:i(79619),Events:i(54272),TweenManager:i(64532),Tween:i(39366),TweenData:i(15718),TweenFrameData:i(96490),BaseTween:i(502),TweenChain:i(45641)};r.exports=d},502:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(6659),f=i(54272),u=i(55303),o=new d({Extends:x,initialize:function(h){x.call(this),this.parent=h,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=u.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(n){return this.timeScale=n,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(f.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(f.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(f.TWEEN_COMPLETE,"onComplete")},complete:function(n){return n===void 0&&(n=0),n?(this.setCompleteDelayState(),this.countdown=n):this.onCompleteHandler(),this},completeAfterLoop:function(n){return n===void 0&&(n=0),this.loopCounter>n&&(this.loopCounter=n),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(f.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(n){this.countdown-=n,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(f.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(n){return this.countdown-=n,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(f.TWEEN_START,"onStart"),n=0),n},updateCompleteDelay:function(n){this.countdown-=n,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(n,h,p){return p===void 0&&(p=[]),this.callbacks.hasOwnProperty(n)&&(this.callbacks[n]={func:h,params:p}),this},setPendingState:function(){this.state=u.PENDING},setActiveState:function(){this.state=u.ACTIVE},setLoopDelayState:function(){this.state=u.LOOP_DELAY},setCompleteDelayState:function(){this.state=u.COMPLETE_DELAY},setStartDelayState:function(){this.state=u.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=u.PENDING_REMOVE},setRemovedState:function(){this.state=u.REMOVED},setFinishedState:function(){this.state=u.FINISHED},setDestroyedState:function(){this.state=u.DESTROYED},isPending:function(){return this.state===u.PENDING},isActive:function(){return this.state===u.ACTIVE},isLoopDelayed:function(){return this.state===u.LOOP_DELAY},isCompleteDelayed:function(){return this.state===u.COMPLETE_DELAY},isStartDelayed:function(){return this.state===u.START_DELAY},isPendingRemove:function(){return this.state===u.PENDING_REMOVE},isRemoved:function(){return this.state===u.REMOVED},isFinished:function(){return this.state===u.FINISHED},isDestroyed:function(){return this.state===u.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(n){n.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});o.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],r.exports=o},65521:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(56694),x=i(54272),f=i(55303),u=new d({initialize:function(n,h,p,a,c,v,g,m,y,P){this.tween=n,this.targetIndex=h,this.duration=a,this.totalDuration=0,this.delay=0,this.getDelay=p,this.yoyo=c,this.hold=v,this.repeat=g,this.repeatDelay=m,this.repeatCounter=0,this.flipX=y,this.flipY=P,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(o){o===void 0&&(o=this.current),this.tween.targets[this.targetIndex][this.key]=o},setCreatedState:function(){this.state=f.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=f.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=f.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=f.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=f.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=f.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=f.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=f.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===f.CREATED},isDelayed:function(){return this.state===f.DELAY},isPendingRender:function(){return this.state===f.PENDING_RENDER},isPlayingForward:function(){return this.state===f.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===f.PLAYING_BACKWARD},isHolding:function(){return this.state===f.HOLD_DELAY},isRepeating:function(){return this.state===f.REPEAT_DELAY},isComplete:function(){return this.state===f.COMPLETE},setStateFromEnd:function(o){this.yoyo?this.onRepeat(o,!0,!0):this.repeatCounter>0?this.onRepeat(o,!0,!1):this.setCompleteState()},setStateFromStart:function(o){this.repeatCounter>0?this.onRepeat(o,!1):this.setCompleteState()},reset:function(){var o=this.tween,n=o.totalTargets,h=this.targetIndex,p=o.targets[h],a=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(p,a,0,h,n,o),this.repeatCounter=this.repeat===-1?f.MAX:this.repeat,this.setPendingRenderState();var c=this.duration+this.hold;this.yoyo&&(c+=this.duration);var v=c+this.repeatDelay;this.totalDuration=this.delay+c,this.repeat===-1?(this.totalDuration+=v*f.MAX,o.isInfinite=!0):this.repeat>0&&(this.totalDuration+=v*this.repeat),this.totalDuration>o.duration&&(o.duration=this.totalDuration),this.delay<o.startDelay&&(o.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(o,n,h){var p=this.tween,a=p.totalTargets,c=this.targetIndex,v=p.targets[c],g=this.key,m=g!=="texture";if(this.elapsed=o,this.progress=o/this.duration,this.flipX&&v.toggleFlipX(),this.flipY&&v.toggleFlipY(),m&&(n||h)&&(this.start=this.getStartValue(v,g,this.start,c,a,p)),h){this.setPlayingBackwardState(),this.dispatchEvent(x.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,m&&(this.end=this.getEndValue(v,g,this.start,c,a,p)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-o,m&&(this.current=this.start,v[g]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(x.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});r.exports=u},99730:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};r.exports=T},53709:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},39366:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(502),x=i(56694),f=i(54272),u=i(99325),o=i(61286),n=i(83392),h=i(55303),p=i(15718),a=i(96490),c=new x({Extends:d,initialize:function(g,m){d.call(this,g),this.targets=m,this.totalTargets=m.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0},add:function(v,g,m,y,P,M,E,w,R,O,A,F,L,I,B,b){var k=new p(this,v,g,m,y,P,M,E,w,R,O,A,F,L,I,B,b);return this.totalData=this.data.push(k),k},addFrame:function(v,g,m,y,P,M,E,w,R,O){var A=new a(this,v,g,m,y,P,M,E,w,R,O);return this.totalData=this.data.push(A),A},getValue:function(v){v===void 0&&(v=0);var g=null;return this.data&&(g=this.data[v].current),g},hasTarget:function(v){return this.targets&&this.targets.indexOf(v)!==-1},updateTo:function(v,g,m){if(m===void 0&&(m=!1),v!=="texture")for(var y=0;y<this.totalData;y++){var P=this.data[y];P.key===v&&(P.isPlayingForward()||P.isPlayingBackward())&&(P.end=g,m&&(P.start=P.current))}return this},restart:function(){switch(this.state){case h.REMOVED:case h.FINISHED:this.seek(),this.parent.makeActive(this);break;case h.PENDING:case h.PENDING_REMOVE:this.parent.reset(this);break;case h.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(f.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,d.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(v,g,m){if(v===void 0&&(v=0),g===void 0&&(g=16.6),m===void 0&&(m=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;m||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive");var y=this.paused;if(this.paused=!1,v>0){for(var P=Math.floor(v/g),M=v-P*g,E=0;E<P;E++)this.update(g);M>0&&this.update(M)}return this.paused=y,this.isSeeking=!1,this},initTweenData:function(v){v===void 0&&(v=!1),this.duration=0,this.startDelay=n.MAX_SAFE_INTEGER;for(var g=this.data,m=0;m<this.totalData;m++)g[m].reset(v);this.duration=Math.max(this.duration,.01);var y=this.duration,P=this.completeDelay,M=this.loopCounter,E=this.loopDelay;M>0?this.totalDuration=y+P+(y+E)*M:this.totalDuration=y+P},reset:function(v){return v===void 0&&(v=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=h.MAX),v||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive")),this},update:function(v){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.paused||this.isFinished())return!1;if(v*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(v),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(v),!1;this.hasStarted||(this.startDelay-=v,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(f.TWEEN_START,"onStart"),v=0));var g=!1;if(this.isActive())for(var m=this.data,y=0;y<this.totalData;y++)m[y].update(v)&&(g=!0);this.elapsed+=v,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=v,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),g||this.nextState();var P=this.isPendingRemove();return P&&this.persist&&(this.setFinishedState(),P=!1),P},forward:function(v){return this.update(v),this},rewind:function(v){return this.update(-v),this},dispatchEvent:function(v,g){if(!this.isSeeking){this.emit(v,this,this.targets);var m=this.callbacks[g];m&&m.func.apply(this.callbackScope,[this,this.targets].concat(m.params))}},destroy:function(){d.prototype.destroy.call(this),this.targets=null}});o.register("tween",function(v){return this.scene.sys.tweens.add(v)}),u.register("tween",function(v){return this.scene.sys.tweens.create(v)}),r.exports=c},45641:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(66458),x=i(502),f=i(56694),u=i(54272),o=i(99325),n=i(61286),h=i(55303),p=new f({Extends:x,initialize:function(c){x.call(this,c),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?h.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this.dispatchEvent(u.TWEEN_ACTIVE,"onActive"),this},add:function(a){var c=this.parent.create(a);Array.isArray(c)||(c=[c]);for(var v=this.data,g=0;g<c.length;g++){var m=c[g];m.parent=this,v.push(m.reset())}return this.totalData=v.length,this},remove:function(a){return d(this.data,a),a.setRemovedState(),a===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(a){for(var c=this.data,v=0;v<this.totalData;v++)if(c[v].hasTarget(a))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(a){return a.seek(),a.setActiveState(),this},makeActive:function(a){return a.reset(),a.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(u.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var a=this.data,c=this.totalData,v=0;v<c;v++)a[v].reset(!1);this.currentIndex=0,this.currentTween=a[0]},update:function(a){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;a*=this.parent.timeScale,this.isLoopDelayed()?this.updateLoopCountdown(a):this.isCompleteDelayed()?this.updateCompleteDelay(a):this.isStartDelayed()&&(a=this.updateStartCountdown(a));var c=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(a)&&this.nextTween()&&this.nextState(),c=this.isPendingRemove(),c&&this.persist&&(this.setFinishedState(),c=!1)),c},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(a){this.currentIndex=a,this.currentTween=this.data[a],this.currentTween.setActiveState(),this.currentTween.dispatchEvent(u.TWEEN_ACTIVE,"onActive")},dispatchEvent:function(a,c){this.emit(a,this);var v=this.callbacks[c];v&&v.func.apply(this.callbackScope,[this].concat(v.params))},destroy:function(){x.prototype.destroy.call(this),this.currentTween=null}});n.register("tweenchain",function(a){return this.scene.sys.tweens.chain(a)}),o.register("tweenchain",function(a){return this.scene.sys.tweens.create(a)}),r.exports=p},15718:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(65521),x=i(82897),f=i(56694),u=i(54272),o=new f({Extends:d,initialize:function(h,p,a,c,v,g,m,y,P,M,E,w,R,O,A,F,L){d.call(this,h,p,y,P,M,E,w,R,O,A),this.key=a,this.getActiveValue=g,this.getEndValue=c,this.getStartValue=v,this.ease=m,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=F,this.interpolationData=L},reset:function(n){d.prototype.reset.call(this);var h=this.tween.targets[this.targetIndex],p=this.key;n&&(h[p]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(h[p]=this.getActiveValue(h,p,0))},update:function(n){var h=this.tween,p=h.totalTargets,a=this.targetIndex,c=h.targets[a],v=this.key;if(!c)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=n,this.elapsed<=0&&(this.elapsed=0,n=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(u.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(c,v,c[v],a,p,h),this.end=this.getEndValue(c,v,this.start,a,p,h),this.current=this.start,c[v]=this.start,this.setPlayingForwardState(),!0;var g=this.isPlayingForward(),m=this.isPlayingBackward();if(g||m){var y=this.elapsed,P=this.duration,M=0,E=!1;y+=n,y>=P?(M=y-P,y=P,E=!0):y<0&&(y=0);var w=x(y/P,0,1);if(this.elapsed=y,this.progress=w,this.previous=this.current,E)g?(this.current=this.end,c[v]=this.end,this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(M)):(this.current=this.start,c[v]=this.start,this.setStateFromStart(M));else{g||(w=1-w);var R=this.ease(w);this.interpolation?this.current=this.interpolation(this.interpolationData,R):this.current=this.start+(this.end-this.start)*R,c[v]=this.current}this.dispatchEvent(u.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(n,h){var p=this.tween;if(!p.isSeeking){var a=p.targets[this.targetIndex],c=this.key,v=this.current,g=this.previous;p.emit(n,p,c,a,v,g);var m=p.callbacks[h];m&&m.func.apply(p.callbackScope,[p,a,c,v,g].concat(m.params))}},destroy:function(){d.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});r.exports=o},96490:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(65521),x=i(82897),f=i(56694),u=i(54272),o=new f({Extends:d,initialize:function(h,p,a,c,v,g,m,y,P,M,E){d.call(this,h,p,v,g,!1,m,y,P,M,E),this.key="texture",this.startTexture=null,this.endTexture=a,this.startFrame=null,this.endFrame=c,this.yoyo=y!==0},reset:function(n){d.prototype.reset.call(this);var h=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=h.texture.key,this.startFrame=h.frame.name),n&&h.setTexture(this.startTexture,this.startFrame)},update:function(n){var h=this.tween,p=this.targetIndex,a=h.targets[p];if(!a)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=n,this.elapsed<=0&&(this.elapsed=0,n=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(u.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&a.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var c=this.isPlayingForward(),v=this.isPlayingBackward();if(c||v){var g=this.elapsed,m=this.duration,y=0,P=!1;g+=n,g>=m?(y=g-m,g=m,P=!0):g<0&&(g=0);var M=x(g/m,0,1);this.elapsed=g,this.progress=M,P&&(c?(a.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(y)):(a.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(y))),this.dispatchEvent(u.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(n,h){var p=this.tween;if(!p.isSeeking){var a=p.targets[this.targetIndex],c=this.key;p.emit(n,p,c,a);var v=p.callbacks[h];v&&v.func.apply(p.callbackScope,[p,a,c].concat(v.params))}},destroy:function(){d.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});r.exports=o},55303:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};r.exports=T},56694:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(o){return!!o.get&&typeof o.get=="function"||!!o.set&&typeof o.set=="function"}function i(o,n,h){var p=h?o[n]:Object.getOwnPropertyDescriptor(o,n);return!h&&p.value&&typeof p.value=="object"&&(p=p.value),p&&T(p)?(typeof p.enumerable>"u"&&(p.enumerable=!0),typeof p.configurable>"u"&&(p.configurable=!0),p):!1}function d(o,n){var h=Object.getOwnPropertyDescriptor(o,n);return h?(h.value&&typeof h.value=="object"&&(h=h.value),h.configurable===!1):!1}function x(o,n,h,p){for(var a in n)if(n.hasOwnProperty(a)){var c=i(n,a,h);if(c!==!1){var v=p||o;if(d(v.prototype,a)){if(u.ignoreFinals)continue;throw new Error("cannot override final property '"+a+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(o.prototype,a,c)}else o.prototype[a]=n[a]}}function f(o,n){if(n){Array.isArray(n)||(n=[n]);for(var h=0;h<n.length;h++)x(o,n[h].prototype||n[h])}}function u(o){o||(o={});var n,h;if(o.initialize){if(typeof o.initialize!="function")throw new Error("initialize must be a function");n=o.initialize,delete o.initialize}else if(o.Extends){var p=o.Extends;n=function(){p.apply(this,arguments)}}else n=function(){};o.Extends?(n.prototype=Object.create(o.Extends.prototype),n.prototype.constructor=n,h=o.Extends,delete o.Extends):n.prototype.constructor=n;var a=null;return o.Mixins&&(a=o.Mixins,delete o.Mixins),f(n,a),x(n,o,!0,h),n}u.extend=x,u.mixin=f,u.ignoreFinals=!1,r.exports=u},72283:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){};r.exports=T},10618:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){return null};r.exports=T},78991:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f,u){if(u===void 0&&(u=i),x>0){var o=x-i.length;if(o<=0)return null}if(!Array.isArray(d))return i.indexOf(d)===-1?(i.push(d),f&&f.call(u,d),d):null;for(var n=d.length-1;n>=0;)i.indexOf(d[n])!==-1&&d.splice(n,1),n--;if(n=d.length,n===0)return null;x>0&&n>o&&(d.splice(o),n=o);for(var h=0;h<n;h++){var p=d[h];i.push(p),f&&f.call(u,p)}return d};r.exports=T},48522:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f,u,o){if(x===void 0&&(x=0),o===void 0&&(o=i),f>0){var n=f-i.length;if(n<=0)return null}if(!Array.isArray(d))return i.indexOf(d)===-1?(i.splice(x,0,d),u&&u.call(o,d),d):null;for(var h=d.length-1;h>=0;)i.indexOf(d[h])!==-1&&d.pop(),h--;if(h=d.length,h===0)return null;f>0&&h>n&&(d.splice(n),h=n);for(var p=h-1;p>=0;p--){var a=d[p];i.splice(x,0,a),u&&u.call(o,a)}return d};r.exports=T},58742:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){var x=i.indexOf(d);return x!==-1&&x<i.length&&(i.splice(x,1),i.push(d)),d};r.exports=T},30164:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(45838),x=function(f,u,o,n,h){n===void 0&&(n=0),h===void 0&&(h=f.length);var p=0;if(d(f,n,h))for(var a=n;a<h;a++){var c=f[a];c[u]===o&&p++}return p};r.exports=x},36337:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){var f,u=[null];for(f=3;f<arguments.length;f++)u.push(arguments[f]);for(f=0;f<i.length;f++)u[0]=i[f],d.apply(x,u);return i};r.exports=T},46208:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(45838),x=function(f,u,o,n,h){if(n===void 0&&(n=0),h===void 0&&(h=f.length),d(f,n,h)){var p,a=[null];for(p=5;p<arguments.length;p++)a.push(arguments[p]);for(p=n;p<h;p++)a[0]=f[p],u.apply(o,a)}return f};r.exports=x},2406:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){if(d.length){if(d.length===1)return d[0]}else return NaN;var f=1,u,o;if(x){if(i<d[0][x])return d[0];for(;d[f][x]<i;)f++}else for(;d[f]<i;)f++;return f>d.length&&(f=d.length),x?(u=d[f-1][x],o=d[f][x],o-i<=i-u?d[f]:d[f-1]):(u=d[f-1],o=d[f],o-i<=i-u?o:u)};r.exports=T},5454:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){d===void 0&&(d=[]);for(var x=0;x<i.length;x++)Array.isArray(i[x])?T(i[x],d):d.push(i[x]);return d};r.exports=T},71608:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(45838),x=function(f,u,o,n,h){n===void 0&&(n=0),h===void 0&&(h=f.length);var p=[];if(d(f,n,h))for(var a=n;a<h;a++){var c=f[a];(!u||u&&o===void 0&&c.hasOwnProperty(u)||u&&o!==void 0&&c[u]===o)&&p.push(c)}return p};r.exports=x},51463:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(45838),x=function(f,u,o,n,h){if(n===void 0&&(n=0),h===void 0&&(h=f.length),d(f,n,h))for(var p=n;p<h;p++){var a=f[p];if(!u||u&&o===void 0&&a.hasOwnProperty(u)||u&&o!==void 0&&a[u]===o)return a}return null};r.exports=x},72861:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){d===void 0&&(d=0),x===void 0&&(x=i.length);var f=d+Math.floor(Math.random()*x);return i[f]===void 0?null:i[f]};r.exports=T},24218:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){if(d===x)return i;var f=i.indexOf(d),u=i.indexOf(x);if(f<0||u<0)throw new Error("Supplied items must be elements of the same array");return f>u||(i.splice(f,1),u===i.length-1?i.push(d):i.splice(u,0,d)),i};r.exports=T},58258:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){if(d===x)return i;var f=i.indexOf(d),u=i.indexOf(x);if(f<0||u<0)throw new Error("Supplied items must be elements of the same array");return f<u||(i.splice(f,1),u===0?i.unshift(d):i.splice(u,0,d)),i};r.exports=T},51172:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){var x=i.indexOf(d);if(x>0){var f=i[x-1],u=i.indexOf(f);i[x]=f,i[u]=d}return i};r.exports=T},68396:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){var f=i.indexOf(d);if(f===-1||x<0||x>=i.length)throw new Error("Supplied index out of bounds");return f!==x&&(i.splice(f,1),i.splice(x,0,d)),d};r.exports=T},27555:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){var x=i.indexOf(d);if(x!==-1&&x<i.length-1){var f=i[x+1],u=i.indexOf(f);i[x]=f,i[u]=d}return i};r.exports=T},13401:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){var u=[],o,n=!1;if((x||f)&&(n=!0,x||(x=""),f||(f="")),d<i)for(o=i;o>=d;o--)n?u.push(x+o.toString()+f):u.push(o);else for(o=i;o<=d;o++)n?u.push(x+o.toString()+f):u.push(o);return u};r.exports=T},89955:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(67233),x=function(f,u,o){f===void 0&&(f=0),u===void 0&&(u=null),o===void 0&&(o=1),u===null&&(u=f,f=0);for(var n=[],h=Math.max(d((u-f)/(o||1)),0),p=0;p<h;p++)n.push(f),f+=o;return n};r.exports=x},53466:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function T(x,f,u){var o=x[f];x[f]=x[u],x[u]=o}function i(x,f){return x<f?-1:x>f?1:0}var d=function(x,f,u,o,n){for(u===void 0&&(u=0),o===void 0&&(o=x.length-1),n===void 0&&(n=i);o>u;){if(o-u>600){var h=o-u+1,p=f-u+1,a=Math.log(h),c=.5*Math.exp(2*a/3),v=.5*Math.sqrt(a*c*(h-c)/h)*(p-h/2<0?-1:1),g=Math.max(u,Math.floor(f-p*c/h+v)),m=Math.min(o,Math.floor(f+(h-p)*c/h+v));d(x,f,g,m,n)}var y=x[f],P=u,M=o;for(T(x,u,f),n(x[o],y)>0&&T(x,u,o);P<M;){for(T(x,P,M),P++,M--;n(x[P],y)<0;)P++;for(;n(x[M],y)>0;)M--}n(x[u],y)===0?T(x,u,M):(M++,T(x,M,o)),M<=f&&(u=M+1),f<=M&&(o=M-1)}};r.exports=d},75757:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(10850),x=i(18592),f=function(o,n,h){for(var p=[],a=0;a<o.length;a++)for(var c=0;c<n.length;c++)for(var v=0;v<h;v++)p.push({a:o[a],b:n[c]});return p},u=function(o,n,h){var p=d(h,"max",0),a=d(h,"qty",1),c=d(h,"random",!1),v=d(h,"randomB",!1),g=d(h,"repeat",0),m=d(h,"yoyo",!1),y=[];if(v&&x(n),g===-1)if(p===0)g=0;else{var P=o.length*n.length*a;m&&(P*=2),g=Math.ceil(p/P)}for(var M=0;M<=g;M++){var E=f(o,n,a);c&&x(E),y=y.concat(E),m&&(E.reverse(),y=y.concat(E))}return p&&y.splice(p),y};r.exports=u},66458:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72677),x=function(f,u,o,n){n===void 0&&(n=f);var h;if(!Array.isArray(u))return h=f.indexOf(u),h!==-1?(d(f,h),o&&o.call(n,u),u):null;for(var p=u.length-1,a=[];p>=0;){var c=u[p];h=f.indexOf(c),h!==-1&&(d(f,h),a.push(c),o&&o.call(n,c)),p--}return a};r.exports=x},8324:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72677),x=function(f,u,o,n){if(n===void 0&&(n=f),u<0||u>f.length-1)throw new Error("Index out of bounds");var h=d(f,u);return o&&o.call(n,h),h};r.exports=x},47427:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(45838),x=function(f,u,o,n,h){if(u===void 0&&(u=0),o===void 0&&(o=f.length),h===void 0&&(h=f),d(f,u,o)){var p=o-u,a=f.splice(u,p);if(n)for(var c=0;c<a.length;c++){var v=a[c];n.call(h,v)}return a}else return[]};r.exports=x},50147:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(72677),x=function(f,u,o){u===void 0&&(u=0),o===void 0&&(o=f.length);var n=u+Math.floor(Math.random()*o);return d(f,n)};r.exports=x},80402:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){var f=i.indexOf(d),u=i.indexOf(x);return f!==-1&&u===-1?(i[f]=x,!0):!1};r.exports=T},77640:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){d===void 0&&(d=1);for(var x=null,f=0;f<d;f++)x=i.shift(),i.push(x);return x};r.exports=T},38487:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){d===void 0&&(d=1);for(var x=null,f=0;f<d;f++)x=i.pop(),i.unshift(x);return x};r.exports=T},45838:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){var u=i.length;if(d<0||d>u||d>=x||x>u){if(f)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};r.exports=T},27847:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){var x=i.indexOf(d);return x!==-1&&x>0&&(i.splice(x,1),i.unshift(d)),d};r.exports=T},6034:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(45838),x=function(f,u,o,n,h){if(n===void 0&&(n=0),h===void 0&&(h=f.length),d(f,n,h))for(var p=n;p<h;p++){var a=f[p];a.hasOwnProperty(u)&&(a[u]=o)}return f};r.exports=x},18592:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){for(var d=i.length-1;d>0;d--){var x=Math.floor(Math.random()*(d+1)),f=i[d];i[d]=i[x],i[x]=f}return i};r.exports=T},28834:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var d=/\D/g;return i.sort(function(x,f){return parseInt(x.replace(d,""),10)-parseInt(f.replace(d,""),10)}),i};r.exports=T},72677:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){if(!(d>=i.length)){for(var x=i.length-1,f=i[d],u=d;u<x;u++)i[u]=i[u+1];return i.length=x,f}};r.exports=T},17922:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(77290);function x(n,h){return String(n).localeCompare(h)}function f(n,h){var p=n.length;if(p<=1)return n;for(var a=new Array(p),c=1;c<p;c*=2){u(n,h,c,a);var v=n;n=a,a=v}return n}function u(n,h,p,a){var c=n.length,v=0,g=p*2,m,y,P,M,E;for(m=0;m<c;m+=g)for(y=m+p,P=y+p,y>c&&(y=c),P>c&&(P=c),M=m,E=y;;)if(M<y&&E<P)h(n[M],n[E])<=0?a[v++]=n[M++]:a[v++]=n[E++];else if(M<y)a[v++]=n[M++];else if(E<P)a[v++]=n[E++];else break}var o=function(n,h){if(h===void 0&&(h=x),!n||n.length<2)return n;if(d.features.stableSort)return n.sort(h);var p=f(n,h);return p!==n&&u(p,null,n.length,n),n};r.exports=o},96928:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){if(d===x)return i;var f=i.indexOf(d),u=i.indexOf(x);if(f<0||u<0)throw new Error("Supplied items must be elements of the same array");return i[f]=x,i[u]=d,i};r.exports=T},59959:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Matrix:i(13515),Add:i(78991),AddAt:i(48522),BringToTop:i(58742),CountAllMatching:i(30164),Each:i(36337),EachInRange:i(46208),FindClosestInSorted:i(2406),Flatten:i(5454),GetAll:i(71608),GetFirst:i(51463),GetRandom:i(72861),MoveDown:i(51172),MoveTo:i(68396),MoveUp:i(27555),MoveAbove:i(24218),MoveBelow:i(58258),NumberArray:i(13401),NumberArrayStep:i(89955),QuickSelect:i(53466),Range:i(75757),Remove:i(66458),RemoveAt:i(8324),RemoveBetween:i(47427),RemoveRandomElement:i(50147),Replace:i(80402),RotateLeft:i(77640),RotateRight:i(38487),SafeRange:i(45838),SendToBack:i(27847),SetAll:i(6034),Shuffle:i(18592),SortByDigits:i(28834),SpliceOne:i(72677),StableSort:i(17922),Swap:i(96928)}},97494:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){if(!Array.isArray(i)||!Array.isArray(i[0]))return!1;for(var d=i[0].length,x=1;x<i.length;x++)if(i[x].length!==d)return!1;return!0};r.exports=T},68428:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(76400),x=i(97494),f=function(u){var o="";if(!x(u))return o;for(var n=0;n<u.length;n++){for(var h=0;h<u[n].length;h++){var p=u[n][h].toString();p!=="undefined"?o+=d(p,2):o+="?",h<u[n].length-1&&(o+=" |")}if(n<u.length-1){o+=`
`;for(var a=0;a<u[n].length;a++)o+="---",a<u[n].length-1&&(o+="+");o+=`
`}}return o};r.exports=f},59521:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.reverse()};r.exports=T},51995:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){for(var d=0;d<i.length;d++)i[d].reverse();return i};r.exports=T},89011:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(63515),x=function(f){return d(f,180)};r.exports=x},42549:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(63515),x=function(f,u){u===void 0&&(u=1);for(var o=0;o<u;o++)f=d(f,90);return f};r.exports=x},63515:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(97494),x=i(78581),f=function(u,o){if(o===void 0&&(o=90),!d(u))return null;if(typeof o!="string"&&(o=(o%360+360)%360),o===90||o===-270||o==="rotateLeft")u=x(u),u.reverse();else if(o===-90||o===270||o==="rotateRight")u.reverse(),u=x(u);else if(Math.abs(o)===180||o==="rotate180"){for(var n=0;n<u.length;n++)u[n].reverse();u.reverse()}return u};r.exports=f},14305:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(63515),x=function(f,u){u===void 0&&(u=1);for(var o=0;o<u;o++)f=d(f,-90);return f};r.exports=x},27365:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(77640),x=i(38487),f=function(u,o,n){if(o===void 0&&(o=0),n===void 0&&(n=0),n!==0&&(n<0?d(u,Math.abs(n)):x(u,n)),o!==0)for(var h=0;h<u.length;h++){var p=u[h];o<0?d(p,Math.abs(o)):x(p,o)}return u};r.exports=f},78581:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){for(var d=i.length,x=i[0].length,f=new Array(x),u=0;u<x;u++){f[u]=new Array(d);for(var o=d-1;o>-1;o--)f[u][o]=i[o][u]}return f};r.exports=T},13515:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CheckMatrix:i(97494),MatrixToString:i(68428),ReverseColumns:i(59521),ReverseRows:i(51995),Rotate180:i(89011),RotateLeft:i(42549),RotateMatrix:i(63515),RotateRight:i(14305),Translate:i(27365),TransposeMatrix:i(78581)}},40581:r=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(d,x){for(var f=new Uint8Array(d),u=f.length,o=x?"data:"+x+";base64,":"",n=0;n<u;n+=3)o+=T[f[n]>>2],o+=T[(f[n]&3)<<4|f[n+1]>>4],o+=T[(f[n+1]&15)<<2|f[n+2]>>6],o+=T[f[n+2]&63];return u%3===2?o=o.substring(0,o.length-1)+"=":u%3===1&&(o=o.substring(0,o.length-2)+"=="),o};r.exports=i},82329:r=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(256),d=0;d<T.length;d++)i[T.charCodeAt(d)]=d;var x=function(f){f=f.substr(f.indexOf(",")+1);var u=f.length,o=u*.75,n=0,h,p,a,c;f[u-1]==="="&&(o--,f[u-2]==="="&&o--);for(var v=new ArrayBuffer(o),g=new Uint8Array(v),m=0;m<u;m+=4)h=i[f.charCodeAt(m)],p=i[f.charCodeAt(m+1)],a=i[f.charCodeAt(m+2)],c=i[f.charCodeAt(m+3)],g[n++]=h<<2|p>>4,g[n++]=(p&15)<<4|a>>2,g[n++]=(a&3)<<6|c&63;return v};r.exports=x},78417:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ArrayBufferToBase64:i(40581),Base64ToArrayBuffer:i(82329)}},22178:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Array:i(59959),Base64:i(78417),Objects:i(64615),String:i(50379),NOOP:i(72283),NULL:i(10618)}},32742:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var d={};for(var x in i)Array.isArray(i[x])?d[x]=i[x].slice(0):d[x]=i[x];return d};r.exports=T},28699:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){var d,x,f;if(typeof i!="object"||i===null)return i;d=Array.isArray(i)?[]:{};for(f in i)x=i[f],d[f]=T(x);return d};r.exports=T},98611:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(42911),x=function(){var f,u,o,n,h,p,a=arguments[0]||{},c=1,v=arguments.length,g=!1;for(typeof a=="boolean"&&(g=a,a=arguments[1]||{},c=2),v===c&&(a=this,--c);c<v;c++)if((f=arguments[c])!=null)for(u in f)o=a[u],n=f[u],a!==n&&(g&&n&&(d(n)||(h=Array.isArray(n)))?(h?(h=!1,p=o&&Array.isArray(o)?o:[]):p=o&&d(o)?o:{},a[u]=x(g,p,n)):n!==void 0&&(a[u]=n));return a};r.exports=x},20494:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(5923),x=i(10850),f=function(u,o,n){var h=x(u,o,null);if(h===null)return n;if(Array.isArray(h))return d.RND.pick(h);if(typeof h=="object"){if(h.hasOwnProperty("randInt"))return d.RND.integerInRange(h.randInt[0],h.randInt[1]);if(h.hasOwnProperty("randFloat"))return d.RND.realInRange(h.randFloat[0],h.randFloat[1])}else if(typeof h=="function")return h(o);return h};r.exports=f},72632:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){var f=typeof i;return!i||f==="number"||f==="string"?x:i.hasOwnProperty(d)&&i[d]!==void 0?i[d]:x};r.exports=T},94324:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(10850),x=i(82897),f=function(u,o,n,h,p){p===void 0&&(p=n);var a=d(u,o,p);return x(a,n,h)};r.exports=f},10850:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){if(!i&&!f||typeof i=="number")return x;if(i&&i.hasOwnProperty(d))return i[d];if(f&&f.hasOwnProperty(d))return f[d];if(d.indexOf(".")!==-1){for(var u=d.split("."),o=i,n=f,h=x,p=x,a=!0,c=!0,v=0;v<u.length;v++)o&&o.hasOwnProperty(u[v])?(h=o[u[v]],o=o[u[v]]):a=!1,n&&n.hasOwnProperty(u[v])?(p=n[u[v]],n=n[u[v]]):c=!1;return a?h:c?p:x}else return x};r.exports=T},87701:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){for(var x=0;x<d.length;x++)if(!i.hasOwnProperty(d[x]))return!1;return!0};r.exports=T},53523:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){for(var x=0;x<d.length;x++)if(i.hasOwnProperty(d[x]))return!0;return!1};r.exports=T},19256:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return i.hasOwnProperty(d)};r.exports=T},42911:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){if(!i||typeof i!="object"||i.nodeType||i===i.window)return!1;try{if(i.constructor&&!{}.hasOwnProperty.call(i.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};r.exports=T},30657:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(32742),x=function(f,u){var o=d(f);for(var n in u)o.hasOwnProperty(n)||(o[n]=u[n]);return o};r.exports=x},72066:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(32742),x=function(f,u){var o=d(f);for(var n in u)o.hasOwnProperty(n)&&(o[n]=u[n]);return o};r.exports=x},28820:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var d=i(19256),x=function(f,u){for(var o={},n=0;n<u.length;n++){var h=u[n];d(f,h)&&(o[h]=f[h])}return o};r.exports=x},22440:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x){if(!i||typeof i=="number")return!1;if(i.hasOwnProperty(d))return i[d]=x,!0;if(d.indexOf(".")!==-1){for(var f=d.split("."),u=i,o=i,n=0;n<f.length;n++)if(u.hasOwnProperty(f[n]))o=u,u=u[f[n]];else return!1;return o[f[f.length-1]]=x,!0}return!1};r.exports=T},64615:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Clone:i(32742),DeepCopy:i(28699),Extend:i(98611),GetAdvancedValue:i(20494),GetFastValue:i(72632),GetMinMaxValue:i(94324),GetValue:i(10850),HasAll:i(87701),HasAny:i(53523),HasValue:i(19256),IsPlainObject:i(42911),Merge:i(30657),MergeRight:i(72066),Pick:i(28820),SetValue:i(22440)}},69429:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return i.replace(/%([0-9]+)/g,function(x,f){return d[Number(f)-1]})};r.exports=T},76400:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d,x,f){d===void 0&&(d=0),x===void 0&&(x=" "),f===void 0&&(f=3),i=i.toString();var u=0;if(d+1>=i.length)switch(f){case 1:i=new Array(d+1-i.length).join(x)+i;break;case 3:var o=Math.ceil((u=d-i.length)/2),n=u-o;i=new Array(n+1).join(x)+i+new Array(o+1).join(x);break;default:i=i+new Array(d+1-i.length).join(x);break}return i};r.exports=T},76872:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i,d){return d===0?i.slice(1):i.slice(0,d-1)+i.slice(d)};r.exports=T},8051:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i.split("").reverse().join("")};r.exports=T},76583:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var d=Math.random()*16|0,x=i==="x"?d:d&3|8;return x.toString(16)})};r.exports=T},40587:r=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var T=function(i){return i&&i[0].toUpperCase()+i.slice(1)};r.exports=T},50379:(r,T,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Format:i(69429),Pad:i(76400),RemoveAt:i(76872),Reverse:i(8051),UppercaseFirst:i(40587),UUID:i(76583)}}},l={};function C(r){var T=l[r];if(T!==void 0)return T.exports;var i=l[r]={exports:{}};return s[r](i,i.exports,C),i.exports}C.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var S=C(92491);return S})())})(NS);var DR=NS.exports;const Jt=EC(DR);class IR extends Jt.Scene{constructor(){super("preloader")}preload(){this.load.image("tiles2","assets/tilemap/brick2.png"),this.load.tilemapTiledJSON("brick2","assets/tilemap/brick2.json"),this.load.image("tiles","assets/tilemap/forest-tileset.png"),this.load.tilemapTiledJSON("map","assets/tilemap/map.json"),this.load.image("tiles-floor","assets/tilemap/floor/floor.png"),this.load.tilemapTiledJSON("floorMap","assets/tilemap/floor/floor.json"),this.load.atlas("lizard","assets/lizard/lizard.png","assets/lizard/lizard.json"),this.load.atlas("bat","assets/branch/bat.png","assets/branch/bat.json"),this.load.image("ground","assets/world/Tile-1.jpg"),this.load.image("star","assets/star.png"),this.load.image("bg1","assets/branch/bg.jpg"),this.load.image("branch","assets/branch/branch.png"),this.load.image("rope","assets/branch/rope.png"),this.load.image("udochka","assets/branch/udochka.png"),this.load.image("hook","assets/branch/hook.png"),this.load.image("worm","assets/branch/worm.png"),this.load.image("water","assets/branch/water.jpg"),this.load.image("clown","assets/branch/clownfish.png"),this.load.image("hut","assets/branch/Fishing_hut.png"),this.load.image("droplet","assets/branch/droplet.png"),this.load.audio("zabros","assets/branch/zabros.mp3"),this.load.audio("smativanie","assets/branch/smativanie.mp3")}create(){this.scene.start("Game")}}class st{constructor(t){this.scene=t,this.displayList=t.sys.displayList,this.updateList=t.sys.updateList,t.events.once("destroy",this.destroy,this)}destroy(){this.scene=null,this.displayList=null,this.updateList=null}static register(t,s){st.prototype[t]=s}}var BR=function(e){return e===void 0&&(e=bR),this.getFrameNameCallback=e,this},bR=function(e,t,s){return s==="__BASE"?`${e},${t}`:`${s}_${e},${t}`};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var GR=function(e){if(typeof e!="object"||e.nodeType||e===e.window)return!1;try{if(e.constructor&&!{}.hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0},wi=function(e){var t,s,l;if(e==null||typeof e!="object")return e;if(t=Array.isArray(e)?[]:{},GR(e))for(l in e)s=e[l],t[l]=wi(s);else t=e;return t},NR=function(e,t,s,l){Array.isArray(t)&&(l=s,s=t,t=void 0),t==null&&(t="__BASE"),typeof s=="number"&&arguments.length>=6?(s=[arguments[2],void 0,arguments[3]],l=[arguments[4],void 0,arguments[5]]):(s=wi(s),l=wi(l)),this.textureKey=e,this.baseFrameName=t,this.columns.data=s,this.columns.count=s?s.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=l,this.rows.count=l?l.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var C=this.scene.sys.textures.get(e);if(!C)return this.clear(),this;if(!s||!l)return this.clear(),this;for(var S=C.get(t),r=S.width,T=0,i=0,d=s.length;i<d;i++)s[i]===void 0?T++:typeof s[i]=="number"?r-=s[i]:r-=s[i].width;for(var x=r/T,f=S.height,u=0,i=0,d=l.length;i<d;i++)l[i]===void 0?u++:typeof l[i]=="number"?f-=l[i]:f-=l[i].width;for(var o=f/u,n,h,p,a,c,v=0,g=0,m=0,y=l.length;m<y;m++){l[m]===void 0&&(l[m]=o),typeof l[m]=="number"&&(l[m]={height:l[m],stretch:m%2}),n=l[m],p=n.height,this.rows.stretch+=n.stretch|0,this.rows.minHeight+=n.stretch>0?0:p,v=0;for(var i=0,P=s.length;i<P;i++){if(s[i]===void 0&&(s[i]=x),typeof s[i]=="number"&&(s[i]={width:s[i],stretch:i%2}),h=s[i],a=h.width,m===0&&(this.columns.stretch+=h.stretch|0,this.columns.minWidth+=h.stretch>0?0:a),a>=1&&p>=1){c=this.getFrameNameCallback(i,m,t);var M=typeof c;(M==="string"||M==="number")&&C.add(c,0,v+S.cutX,g+S.cutY,a,p)}v+=a}g+=p}return this.updateTexture(),this},zR=function(){if(this.clear(),this.textureKey===void 0)return this;var e=this.scene.sys.textures.get(this.textureKey);if(!e)return this;var t=this.columns.minWidth*this.maxFixedPartScaleX,s=this.rows.minHeight*this.maxFixedPartScaleY,l=this.width-t,C=this.height-s,S=l>=0?this.maxFixedPartScaleX:this.width/t,r=C>=0?this.maxFixedPartScaleY:this.height/s;if(this.preserveRatio){var T=Math.min(S,r);if(S>T){var i=(S-T)*t;l>=0?l+=i:l=i,S=T}if(r>T){var d=(r-T)*s;C>=0?C+=d:C=d,r=T}}this.columns.scale=S,this.rows.scale=r;var x;l>0?x=this.columns.stretch>0?l/this.columns.stretch:0:x=0;var f;C>0?f=this.rows.stretch>0?C/this.rows.stretch:0:f=0;var u,o,n,h,p,a=0,c=0,v;this._beginDraw();for(var g=0,m=this.rows.count;g<m;g++){n=this.rows.data[g],p=n.stretch===0?n.height*r:f*n.stretch,a=0;for(var y=0,P=this.columns.count;y<P;y++)o=this.columns.data[y],h=o.stretch===0?o.width*S:x*o.stretch,u=this.getFrameNameCallback(y,g,this.baseFrameName),e.has(u)&&h>0&&p>0&&(n.stretch===0&&o.stretch===0||this.getStretchMode(y,g)===0?v=0:v=1,v===0?this._drawImage(this.textureKey,u,a,c,h,p):this._drawTileSprite(this.textureKey,u,a,c,h,p)),a+=h;c+=p}this._endDraw()};const kR=Phaser.Utils.Objects.IsPlainObject,Km=Phaser.Utils.Objects.GetValue;var VR=function(e){return kR(e)?(this.stretchMode.edge=yf(Km(e,"edge",0)),this.stretchMode.internal=yf(Km(e,"internal",0))):(e=yf(e),this.stretchMode.edge=e,this.stretchMode.internal=e),this},yf=function(e){return typeof e=="string"&&(e=UR[e]),e};const UR={scale:0,repeat:1};var XR=function(e,t){return e===0||e===this.columns.count-1||t===0||t===this.rows.count-1},YR=function(e,t){return XR.call(this,e,t)?this.stretchMode.edge:this.stretchMode.internal},WR=function(e){return e==null&&(e=!0),this.preserveRatio=e,this},HR=function(e,t){return t===void 0&&(t=e),this.maxFixedPartScaleX=e,this.maxFixedPartScaleY=t,this},Fe=function(){};const $R={_beginDraw:Fe,_drawImage:Fe,_drawTileSprite:Fe,_endDraw:Fe,setGetFrameNameCallback:BR,setBaseTexture:NR,updateTexture:zR,setStretchMode:VR,getStretchMode:YR,setPreserveRatio:WR,setMaxFixedPartScale:HR},Qa=Phaser.Utils.Objects.IsPlainObject,Pt=Phaser.Utils.Objects.GetValue;var zS=function(e,t){class s extends e{constructor(C,S,r,T,i,d,x,f,u,o){if(Qa(S)?(o=S,S=Pt(o,"x",0),r=Pt(o,"y",0),T=Pt(o,"width",1),i=Pt(o,"height",1),d=Pt(o,"key",void 0),x=Pt(o,"baseFrame",void 0),f=Pt(o,"columns",void 0),u=Pt(o,"rows",void 0)):Qa(T)?(o=T,T=Pt(o,"width",1),i=Pt(o,"height",1),d=Pt(o,"key",void 0),x=Pt(o,"baseFrame",void 0),f=Pt(o,"columns",void 0),u=Pt(o,"rows",void 0)):Qa(d)?(o=d,d=Pt(o,"key",void 0),x=Pt(o,"baseFrame",void 0),f=Pt(o,"columns",void 0),u=Pt(o,"rows",void 0)):Qa(x)?(o=x,x=Pt(o,"baseFrame",void 0),f=Pt(o,"columns",void 0),u=Pt(o,"rows",void 0)):Array.isArray(x)?(o=u,u=f,f=x,x=Pt(o,"baseFrame",void 0)):Qa(f)&&(o=f,f=Pt(o,"columns",void 0),u=Pt(o,"rows",void 0)),f===void 0){var n=Pt(o,"leftWidth",void 0),h=Pt(o,"rightWidth",void 0);n!==void 0&&h!==void 0&&(f=[n,void 0,h])}if(u===void 0){var p=Pt(o,"topHeight",void 0),a=Pt(o,"bottomHeight",void 0);p!==void 0&&a!==void 0&&(u=[p,void 0,a])}super(C),this.type=t,this.setPosition(S,r).setSize(T,i).setOrigin(.5,.5),this.columns={},this.rows={},this.stretchMode={},this._tileSprite=void 0,this._image=void 0,this.setGetFrameNameCallback(Pt(o,"getFrameNameCallback",void 0)),this.setStretchMode(Pt(o,"stretchMode",0)),this.setPreserveRatio(Pt(o,"preserveRatio",!0));var c=Pt(o,"maxFixedPartScale",1),v=Pt(o,"maxFixedPartScaleX",c),g=Pt(o,"maxFixedPartScaleY",void 0);this.setMaxFixedPartScale(v,g),this.setBaseTexture(d,x,f,u)}get minWidth(){return this.columns.minWidth}get minHeight(){return this.rows.minHeight}get fixedPartScaleX(){return this.columns.scale}get fixedPartScaleY(){return this.rows.scale}resize(C,S){return this.width===C&&this.height===S?this:(super.resize?super.resize(C,S):super.setSize(C,S),this.updateTexture(),this)}}return Object.assign(s.prototype,$R),s};const KR=Phaser.Game;var jm=function(e){return e instanceof KR};const jR=Phaser.Scene;var ar=function(e){return e instanceof jR},Oa=function(e){if(e==null||typeof e!="object")return null;if(jm(e))return e;if(jm(e.game))return e.game;if(ar(e))return e.sys.game;if(ar(e.scene))return e.scene.sys.game};const ZR=Phaser.GameObjects;var Us=void 0,kS=function(e,t){if(Us||(Us={},Oa(e).events.once("destroy",function(){for(var l in Us)Us[l].destroy();Us=void 0})),!Us.hasOwnProperty(t)){var s=Oa(e).scene.systemScene,e=new ZR[t](s);e.setOrigin(0),Us[t]=e}return Us[t]},JR=function(e,t,s,l,C,S){var r=kS(this,"Image").setTexture(e,t).setDisplaySize(C,S);this.batchDraw(r,s,l)},QR=function(e,t,s,l,C,S){var r=kS(this,"TileSprite").setTexture(e,t).setSize(C,S);this.batchDraw(r,s,l)};const Uv=Phaser.GameObjects.RenderTexture;let _u=class extends zS(Uv,"rexNinePatch"){};var qR={_beginDraw:Uv.prototype.beginDraw,_endDraw:Uv.prototype.endDraw,_drawImage:JR,_drawTileSprite:QR};Object.assign(_u.prototype,qR);var VS=function(e){return e==null||e===""||e.length===0},_R=function(e,t,s){var l=e;if(!VS(t)){typeof t=="string"&&(t=t.split("."));for(var C,S=0,r=t.length;S<r;S++){if(C=t[S],l[C]==null||typeof l[C]!="object"){var T;S===r-1?s===void 0?T={}:T=s:T={},l[C]=T}l=l[C]}}return l},it=function(e,t,s,l){if(l===void 0&&(l="."),typeof e=="object"){if(VS(t)){if(s==null)return;typeof s=="object"&&(e=s)}else{typeof t=="string"&&(t=t.split(l));var C=t.pop(),S=_R(e,t);S[C]=s}return e}};st.register("ninePatch",function(e,t,s,l,C,S,r,T){var i=new _u(this.scene,e,t,s,l,C,S,r,T);return this.scene.add.existing(i),i});it(window,"RexPlugins.UI.NinePatch",_u);const tO=Phaser.GameObjects.GetCalcMatrix;var eO=function(e,t,s,l){var C=t.getRenderList();if(C.length!==0){s.addToRenderList(t);var S=e.pipelines.set(t.pipeline),r=t.frame.glTexture,T=S.setGameObject(t),i=s.roundPixels,d=tO(t,s,l),x=S.calcMatrix.copyFrom(d.calc),f=t._displayOriginX,u=t._displayOriginY,o=s.alpha*t.alpha;e.pipelines.preBatch(t);for(var n=0,h=C.length;n<h;n++)C[n].webglRender(S,x,o,f,u,r,T,i);e.pipelines.postBatch(t)}};const iO=Phaser.Renderer.Canvas.SetTransform;var sO=function(e,t,s,l){var C=e.currentContext,S=t.getRenderList();if(!(S.length===0||!iO(e,C,t,s,l))){s.addToRenderList(t);var r=s.roundPixels,T=-t._displayOriginX,i=-t._displayOriginY;C.translate(T,i);for(var d=0,x=S.length;d<x;d++)S[d].canvasRender(C,T,i,r);C.restore()}};const nO={renderWebGL:eO,renderCanvas:sO};var rO=function(e,t){return this.texture=this.scene.sys.textures.get(e),this.frame=this.texture.get(t),this},Zm=function(e,t){if(this.width===e&&this.height===t)return this;this.width=e,this.height=t,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=e,s.hitArea.height=t),this},aO=function(e){return this.lastAppendedChildren.length=0,Array.isArray(e)?(this.children.add(e),this.lastAppendedChildren.push(...e)):(this.children.add(e),this.lastAppendedChildren.push(e)),this};const oO=Phaser.Utils.Array.Remove;var hO=function(e){return this.poolManager&&this.poolManager.free(e),oO(this.children.list,e),this.lastAppendedChildren.length=0,this.dirty=!0,this},Jm=function(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this},lO=function(){return this.lastAppendedChildren},uO=function(){return this.children.list};const dO={setTint(e){return this.tint=e,this.tintFill=!1,this},setTintFill(e){return this.tint=e,this.tintFill=!0,this},clearTint(){return this.setTint(16777215),this}};var US={setTexture:rO,resize:Zm,setSize:Zm,addChild:aO,removeChild:hO,removeChildren:Jm,clear:Jm,getLastAppendedChildren:lO,getChildren:uO};Object.assign(US,dO);class ls{constructor(){this.items=[]}destroy(){this.clear(),this.items=void 0}pop(){return this.items.length>0?this.items.pop():null}push(t){return this.items.push(t),this}pushMultiple(t){return this.items.push.apply(this.items,t),t.length=0,this}clear(){return this.items.length=0,this}}const fO=Phaser.Utils.Objects.GetValue;var cO={};let vO=class{constructor(t){this.pools=fO(t,"pools",cO)}destroy(){this.pools=void 0}free(t){if(!this.pools)return this;var s=t.type;return this.pools.hasOwnProperty(s)||(this.pools[s]=new ls),this.pools[s].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var s=0,l=t.length;s<l;s++)this.free(t[s]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}};const pO=Phaser.GameObjects.GameObject,gO=Phaser.Utils.Objects.IsPlainObject,qa=Phaser.Utils.Objects.GetValue,mO=Phaser.Structs.List,xO=Phaser.Utils.Array.StableSort;class XS extends pO{constructor(t,s,l,C,S,r){gO(s)&&(r=s,s=qa(r,"x",0),l=qa(r,"y",0),C=qa(r,"texture"),S=qa(r,"frame")),s===void 0&&(s=0),l===void 0&&(l=0),super(t,"rexBlitter"),this.children=new mO,this.renderList=[],this.displayListDirty=!1,this.lastAppendedChildren=[];var T=qa(r,"reuseBob",!0);this.poolManager=T?new vO(r):void 0,this.setTexture(C,S).setPosition(s,l).setOrigin(0,0).clearTint().initPipeline()}preDestroy(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy()}getRenderList(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,s=this.children.list,l=0,C=s.length;l<C;l++){var S=s[l];yO(S)&&(this.renderList.push(S),t||(t=S.depth!==0))}t&&xO(this.renderList,CO),this.displayListDirty=!1}return this.renderList}}var yO=function(e){return e.active&&e.visible&&e.alpha>0},CO=function(e,t){return e._depth-t._depth};const Li=Phaser.GameObjects.Components;Phaser.Class.mixin(XS,[Li.Alpha,Li.BlendMode,Li.ComputedSize,Li.Depth,Li.GetBounds,Li.Mask,Li.Origin,Li.Pipeline,Li.ScrollFactor,Li.Transform,Li.Visible,nO,US]);const YS="image";/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var It=function(e,t,s){if(!e||typeof e=="number")return s;if(e.hasOwnProperty(t))return e[t];if(t.indexOf(".")!==-1){for(var l=t.split("."),C=e,S=s,r=0;r<l.length;r++)if(C.hasOwnProperty(l[r]))S=C[l[r]],C=C[l[r]];else{S=s;break}return S}else return s},As=function(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))e.length=0;else for(var t in e)delete e[t];return e};const td={enableData(){return this.data===void 0&&(this.data={}),this},setData(e,t){if(this.enableData(),arguments.length===1){var s=e;for(e in s)this.data[e]=s[e]}else this.data[e]=t;return this},getData(e,t){return this.enableData(),e===void 0?this.data:It(this.data,e,t)},incData(e,t,s){return s===void 0&&(s=0),this.enableData(),this.setData(e,this.getData(e,s)+t),this},mulData(e,t,s){return s===void 0&&(s=0),this.enableData(),this.setData(e,this.getData(e,s)*t),this},clearData(){return this.data&&As(this.data),this}};let WS=class{constructor(t,s){this.type=s,this.data=void 0,this.setParent(t).reset().setActive()}destroy(){this.parent&&this.parent.removeChild(this)}setParent(t){return this.parent=t,this}setDisplayListDirty(t){return t&&this.parent&&(this.parent.displayListDirty=!0),this}get active(){return this._active}set active(t){this.setDisplayListDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}reset(){this.clearData()}onFree(){this.reset().setActive(!1).setParent()}};Object.assign(WS.prototype,td);const TO=Phaser.Math.DegToRad,SO=Phaser.Math.RadToDeg,wr=Phaser.Utils.Objects.GetValue;let EO=class extends WS{get visible(){return this._visible}set visible(t){this.setDisplayListDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDisplayListDirty(!!this._alpha!=!!t),this._alpha=t}setAlpha(t){return this.alpha=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setPosition(t,s){return this.x=t,this.y=s,this}setRotation(t){return this.rotation=t,this}get angle(){return SO(this.rotation)}set angle(t){this.rotation=TO(t)}setAngle(t){return this.angle=t,this}setScaleX(t){return this.scaleX=t,this}get width(){return this._width}set width(t){this._width=t}setWidth(t,s){return s===void 0&&(s=!1),this.width=t,s&&(this.scaleY=this.scaleX),this}setScaleY(t){return this.scaleY=t,this}setScale(t,s){return s===void 0&&(s=t),this.scaleX=t,this.scaleY=s,this}get height(){return this._height}set height(t){this._height=t}setHeight(t,s){return s===void 0&&(s=!1),this.height=t,s&&(this.scaleX=this.scaleY),this}setScale(t,s){return s===void 0&&(s=t),this.scaleX=t,this.scaleY=s,this}get displayWidth(){return this._width*this.scaleX}set displayWidth(t){this.scaleX=t/this._width}setDisplayWidth(t,s){return s===void 0&&(s=!1),this.displayWidth=t,s&&(this.scaleY=this.scaleX),this}get displayHeight(){return this._height*this.scaleY}set displayHeight(t){this.scaleY=t/this._height}setDisplayHeight(t,s){return s===void 0&&(s=!1),this.displayHeight=t,s&&(this.scaleX=this.scaleY),this}setOriginX(t){return this.originX=t,this._displayOriginX=this.width*t,this}setOriginY(t){return this.originY=t,this._displayOriginY=this.height*t,this}setOrigin(t,s){return s===void 0&&(s=t),this.setOriginX(t).setOriginY(s),this}get depth(){return this._depth}set depth(t){this.setDisplayListDirty(this._depth!=t),this._depth=t}setDepth(t){return t===void 0&&(t=0),this.depth=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var s=wr(t,"width",void 0),l=wr(t,"height",void 0),C=wr(t,"scale",void 0),S=wr(t,"scaleX",C),r=wr(t,"scaleY",C);s!==void 0?l===void 0&&r===void 0?this.setWidth(s,!0):this.setWidth(s):S!==void 0?this.setScaleX(S):t.hasOwnProperty("displayWidth")&&this.setDisplayWidth(t.displayWidth),l!==void 0?s===void 0&&S===void 0?this.setHeight(l,!0):this.setHeight(l):r!==void 0?this.setScaleY(r):t.hasOwnProperty("displayHeight")&&this.setDisplayHeight(t.displayHeight);var T=wr(t,"origin",void 0);return T!==void 0?this.setOrigin(T):(t.hasOwnProperty("originX")&&this.setOriginX(t.originX),t.hasOwnProperty("originY")&&this.setOriginY(t.originY)),t.hasOwnProperty("depth")&&this.setDepth(t.depth),this}reset(){return super.reset(),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}webglRender(t,s,l,C,S,r,T,i){}canvasRender(t,s,l,C){}};const PO=Phaser.GameObjects.Components.TransformMatrix,MO=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var Kh=new PO,wO=function(e,t,s,l,C,S,r,T){var i=this._width,d=this._height,x=i*this.originX,f=d*this.originY,u=this.x-l,o=this.y-C,n=1,h=1;this.flipX&&(u+=i-x*2,n=-1),this.flipY&&(o+=d-f*2,h=-1),Kh.applyITRS(u,o,this.rotation,this.scaleX*n,this.scaleY*h),t.multiply(Kh,Kh);var p=-x,a=-f,c=p+i,v=a+d,g=Kh.setQuad(p,a,c,v,T),m=this.frame.u0,y=this.frame.v0,P=this.frame.u1,M=this.frame.v1,E=MO(this.tint,this.alpha*s);e.batchQuad(this.parent,g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],m,y,P,M,E,E,E,E,this.tintFill,S,r)},RO=function(e,t,s,l){e.save();var C=this._width,S=this._height,r=C*this.originX,T=S*this.originY,i=this.x-r,d=this.y-T,x=1,f=1;this.flipX&&(i+=C,x=-1),this.flipY&&(d+=S,f=-1),l&&(i=Math.round(i),d=Math.round(d)),e.translate(i,d),e.rotate(this.rotation),e.scale(this.scaleX*x,this.scaleY*f);var u=this.frame;e.drawImage(u.source.image,u.cutX,u.cutY,C,S,0,0,C,S),e.restore()};const OO=Phaser.Utils.Objects.IsPlainObject;let HS=class extends EO{constructor(t,s){super(t,YS),this.setFrame(s)}get width(){return this._width}set width(t){}get height(){return this._height}set height(t){}setFrame(t){return arguments.length>0&&!OO(t)&&(t=this.parent.texture.get(t)),this.frame=t,this._width=t?t.width:0,this._height=t?t.height:0,this}setFlipX(t){return t===void 0&&(t=!0),this.flipX=t,this}setFlipY(t){return t===void 0&&(t=!0),this.flipY=t,this}resetFlip(){return this.flipX=!1,this.flipY=!1,this}get tint(){return this._tint===void 0?this.parent.tint:this._tint}set tint(t){this._tint=t}setTint(t){return this.tint=t,this.tintFill=!1,this}setTintFill(t){return this.tint=t,this.tintFill=!0,this}clearTint(){return this.setTint(16777215),this}resetTint(){return this.tint=void 0,this.tintFill=void 0,this}get tintFill(){return this._tintFill===void 0?this.parent.tintFill:this._tintFill}set tintFill(t){this._tintFill=t}reset(){return super.reset(),this.resetFlip().resetTint().setFrame(),this}modifyPorperties(t){return t?(t.hasOwnProperty("width")&&(t.displayWidth=t.width,delete t.width),t.hasOwnProperty("height")&&(t.displayHeight=t.height,delete t.height),t.hasOwnProperty("frame")&&this.setFrame(t.frame),super.modifyPorperties(t),t.hasOwnProperty("flipX")&&this.setFlipX(t.flipX),t.hasOwnProperty("flipY")&&this.setFlipY(t.flipY),t.hasOwnProperty("tint")&&this.setTint(t.tint),t.hasOwnProperty("tintFill")&&this.setTintFill(t.tintFill),this):this}};var AO={webglRender:wO,canvasRender:RO};Object.assign(HS.prototype,AO);var $S=function(e,t){typeof t=="string"&&(t={frame:t});var s=e.poolManager?e.poolManager.allocate(YS):null;return s===null?s=new HS(e):s.setParent(e).setActive(),s.modifyPorperties(t),e.addChild(s),s},LO=function(e,t,s,l,C,S){$S(this,{frame:t,x:s,y:l,width:C,height:S})},FO=function(e,t,s,l,C,S){var r=this.texture.get(t),T=r.width,i=r.height,d=Math.floor(C/T),x=Math.floor(S/i);s+=(C-d*T)/2,l+=(S-x*i)/2;for(var f=0;f<d;f++)for(var u=0;u<x;u++)$S(this,{frame:t,x:s+f*T,y:l+u*i})};const DO={_drawImage:LO,_drawTileSprite:FO};class eg extends zS(XS,"rexNinePatch2"){setBaseTexture(t,s,l,C){return this.setTexture(t,s),super.setBaseTexture(t,s,l,C),this}}Object.assign(eg.prototype,DO);st.register("ninePatch2",function(e,t,s,l,C,S,r,T){var i=new eg(this.scene,e,t,s,l,C,S,r,T);return this.scene.add.existing(i),i});it(window,"RexPlugins.UI.NinePatch2",eg);const Qs=Phaser.Utils.Objects.GetValue;let KS=class{constructor(t,s,l,C,S){t===void 0&&(t=0),s===void 0&&(s=t),l===void 0&&(l=0),C===void 0&&(C=0),S===void 0&&(S=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,s,l,C,S)}setTo(t,s,l,C,S){return this.setPosition(t,s),this.setRadius(S),this.setSize(l,C),this}setPosition(t,s){return this.x=t,this.y=s,this}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setSize(t,s){return this.width=t,this.height=s,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){t==null&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){t==null&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}set radius(t){var s,l;typeof t=="number"?(s=t,l=t):(s=Qs(t,"x",0),l=Qs(t,"y",0));var C=this.cornerRadius;C.tl=jh(Qs(t,"tl",void 0),s,l),C.tr=jh(Qs(t,"tr",void 0),s,l),C.bl=jh(Qs(t,"bl",void 0),s,l),C.br=jh(Qs(t,"br",void 0),s,l)}get radiusTL(){var t=this.cornerRadius.tl;return Math.max(t.x,t.y)}set radiusTL(t){Zh(this.cornerRadius.tl,t)}get radiusTR(){var t=this.cornerRadius.tr;return Math.max(t.x,t.y)}set radiusTR(t){Zh(this.cornerRadius.tr,t)}get radiusBL(){var t=this.cornerRadius.bl;return Math.max(t.x,t.y)}set radiusBL(t){Zh(this.cornerRadius.bl,t)}get radiusBR(){var t=this.cornerRadius.br;return Math.max(t.x,t.y)}set radiusBR(t){Zh(this.cornerRadius.br,t)}};var jh=function(e,t,s){return e===void 0?e={x:t,y:s}:typeof e=="number"&&(e={x:e,y:e}),jS(e),e},Zh=function(e,t){typeof t=="number"?(e.x=t,e.y=t):(e.x=Qs(t,"x",0),e.y=Qs(t,"y",0)),jS(e)},jS=function(e){e.convex=e.x>=0||e.y>=0,e.x=Math.abs(e.x),e.y=Math.abs(e.y)},us=function(e,t,s){var l=s.length;if(l>=2){var C=s[l-2],S=s[l-1];if(e===C&&t===S)return s}return s.push(e,t),s};const Qm=Phaser.Math.DegToRad;var ve=function(e,t,s,l,C,S,r,T,i){r&&S>C?S-=360:!r&&S<C&&(S+=360);var d=S-C,x=Qm(d)/T;C=Qm(C);for(var f=0;f<=T;f++){var u=C+x*f,o=e+s*Math.cos(u),n=t+l*Math.sin(u);us(o,n,i)}return i},IO=Phaser.Renderer.WebGL.Utils,ZS=function(e,t,s,l,C,S){for(var r=IO.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*l),T=s.pathData,i=s.pathIndexes,d=0;d<i.length;d+=3){var x=i[d]*2,f=i[d+1]*2,u=i[d+2]*2,o=T[x+0]-C,n=T[x+1]-S,h=T[f+0]-C,p=T[f+1]-S,a=T[u+0]-C,c=T[u+1]-S,v=t.getX(o,n),g=t.getY(o,n),m=t.getX(h,p),y=t.getY(h,p),P=t.getX(a,c),M=t.getY(a,c);e.batchTri(s,v,g,m,y,P,M,0,0,1,1,r,r,r,2)}},BO=Phaser.Renderer.WebGL.Utils,ed=function(e,t,s,l,C){var S=e.strokeTint,r=BO.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*s);S.TL=r,S.TR=r,S.BL=r,S.BR=r;var T=t.pathData,i=T.length-1,d=t.lineWidth,x=d/2,f=T[0]-l,u=T[1]-C;t.closePath||(i-=2);for(var o=2;o<i;o+=2){var n=T[o]-l,h=T[o+1]-C;e.batchLine(f,u,n,h,x,x,d,o-2,t.closePath?o===i-1:!1),f=n,u=h}};const bO=Phaser.GameObjects.GetCalcMatrix;var GO=function(e,t,s,l){t.dirty&&(t.updateData(),t.dirty=!1),s.addToRenderList(t);var C=e.pipelines.set(t.pipeline),S=bO(t,s,l),r=C.calcMatrix.copyFrom(S.calc),T=t._displayOriginX,i=t._displayOriginY,d=s.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&ZS(C,r,t,d,T,i),t.isStroked&&ed(C,t,d,T,i),e.pipelines.postBatch(t)},fh=function(e,t,s,l){var C=s||t.fillColor,S=l||t.fillAlpha,r=(C&16711680)>>>16,T=(C&65280)>>>8,i=C&255;e.fillStyle="rgba("+r+","+T+","+i+","+S+")"},ch=function(e,t,s,l){var C=s||t.strokeColor,S=l||t.strokeAlpha,r=(C&16711680)>>>16,T=(C&65280)>>>8,i=C&255;e.strokeStyle="rgba("+r+","+T+","+i+","+S+")",e.lineWidth=t.lineWidth};const NO=Phaser.Renderer.Canvas.SetTransform;var zO=function(e,t,s,l){t.dirty&&(t.updateData(),t.dirty=!1),s.addToRenderList(t);var C=e.currentContext;if(NO(e,C,t,s,l)){var S=t._displayOriginX,r=t._displayOriginY,T=t.pathData,i=T.length-1,d=T[0]-S,x=T[1]-r;C.beginPath(),C.moveTo(d,x),t.closePath||(i-=2);for(var f=2;f<i;f+=2){var u=T[f]-S,o=T[f+1]-r;C.lineTo(u,o)}C.closePath(),t.isFilled&&(fh(C,t),C.fill()),t.isStroked&&(ch(C,t),C.stroke()),C.restore()}};const kO={renderWebGL:GO,renderCanvas:zO},VO=Phaser.GameObjects.Shape,UO=Phaser.Utils.Objects.IsPlainObject,qm=Phaser.Utils.Objects.GetValue,XO=Phaser.Geom.Polygon.Earcut;let Pn=class extends VO{constructor(t,s,l,C,S,r,T,i){var d,x,f,u;if(UO(s)){var o=s;s=o.x,l=o.y,C=o.width,S=o.height,r=o.radius,T=o.color,i=o.alpha,d=o.strokeColor,x=o.strokeAlpha,f=o.strokeWidth,u=o.shape}s===void 0&&(s=0),l===void 0&&(l=0),C===void 0&&(C=1),S===void 0&&(S=C),r===void 0&&(r=0),u===void 0&&(u=0);var n=new KS;if(super(t,"rexRoundRectangleShape",n),this.setShapeType(u),this.shapeType===0){var h=qm(r,"radius",r);n.setTo(0,0,C,S,h)}else{var h={x:C/2,y:S/2};n.setTo(0,0,C,S,h)}var p=qm(r,"iteration",void 0);this.setIteration(p),this.setPosition(s,l),this.setFillStyle(T,i),d!==void 0&&f===void 0&&(f=2),this.setStrokeStyle(f,d,x),this.updateDisplayOrigin(),this.dirty=!0}get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.isFilled=t!=null&&this._fillAlpha>0}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this._fillAlpha=t,this.isFilled=t>0&&this._fillColor!=null}setFillStyle(t,s){return s===void 0&&(s=1),this.fillColor=t,this.fillAlpha=s,this}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t,this.isStroked=t!=null&&this._strokeAlpha>0&&this._lineWidth>0}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this._strokeAlpha=t,this.isStroked=t>0&&this._strokeColor!=null&&this._lineWidth>0}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.isStroked=t>0&&this._strokeColor!=null}setStrokeStyle(t,s,l){return l===void 0&&(l=1),this.lineWidth=t,this.strokeColor=s,this.strokeAlpha=l,this}updateData(){var t=this.geom,s=this.pathData;s.length=0;var l=t.width,C=t.height,S=t.cornerRadius,r,T=this.iteration+1;if(r=S.tl,Jh(r))if(r.convex){var i=r.x,d=r.y;ve(i,d,r.x,r.y,180,270,!1,T,s)}else{var i=0,d=0;ve(i,d,r.x,r.y,90,0,!0,T,s)}else us(0,0,s);if(r=S.tr,Jh(r))if(r.convex){var i=l-r.x,d=r.y;ve(i,d,r.x,r.y,270,360,!1,T,s)}else{var i=l,d=0;ve(i,d,r.x,r.y,180,90,!0,T,s)}else us(l,0,s);if(r=S.br,Jh(r))if(r.convex){var i=l-r.x,d=C-r.y;ve(i,d,r.x,r.y,0,90,!1,T,s)}else{var i=l,d=C;ve(i,d,r.x,r.y,270,180,!0,T,s)}else us(l,C,s);if(r=S.bl,Jh(r))if(r.convex){var i=r.x,d=C-r.y;ve(i,d,r.x,r.y,90,180,!1,T,s)}else{var i=0,d=C;ve(i,d,r.x,r.y,360,270,!0,T,s)}else us(0,C,s);return s.push(s[0],s[1]),this.pathIndexes=XO(s),this}setShapeType(t){return typeof t=="string"&&(t=YO[t]),this.shapeType=t,this}get width(){return this.geom.width}set width(t){this.resize(t,this.height)}get height(){return this.geom.height}set height(t){this.resize(this.width,t)}setSize(t,s){if(s===void 0&&(s=t),this.geom.width===t&&this.geom.height===s)return this;this.geom.setSize(t,s),this.shapeType===1&&this.setRadius({x:t/2,y:s/2}),this.updateDisplayOrigin(),this.dirty=!0;var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=t,l.hitArea.height=s),this}resize(t,s){return this.setSize(t,s),this}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.dirty=!0}get radiusTL(){return this.geom.radiusTL}set radiusTL(t){this.geom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.geom.radiusTR}set radiusTR(t){this.geom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.geom.radiusBL}set radiusBL(t){this.geom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.geom.radiusBR}set radiusBR(t){this.geom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}};var Jh=function(e){return e.x>0&&e.y>0};const YO={rectangle:0,circle:1};Object.assign(Pn.prototype,kO);st.register("roundRectangle",function(e,t,s,l,C,S,r){var T=new Pn(this.scene,e,t,s,l,C,S,r);return this.scene.add.existing(T),T});it(window,"RexPlugins.UI.RoundRectangle",Pn);var Xv=function(e,t,s,l){if(s===void 0&&(s="."),l===void 0&&(l={}),!e)return l;if(t in e)return Object.assign(l,e[t]);t+=s;for(var C in e)C.startsWith(t)&&(l[C.replace(t,"")]=e[C]);return l},Cf=function(e,t,s){var l=Xv(e,t);if(s)for(var C in l)s.hasOwnProperty(C)&&(l[s[C]]=l[C],delete l[C]);return l},ig=function(e,t,s){if(s===void 0&&(s={}),Array.isArray(t))for(var l,C=0,S=t.length;C<S;C++)l=t[C],s[l]=e[l];else for(var l in t)s[l]=e[l];return s},sg=function(e,t){for(var s in e)if(!(s in t)||e[s]!==t[s])return!1;for(var s in t)if(!(s in e))return!1;return!0},Rr=function(e,t){if(t){var s=ig(e,t);if(!sg(s,t))return e.modifyStyle(t),s}};const WO={setActiveState(e){return e===void 0&&(e=!0),this.activeState===e?this:(this.activeState=e,e?this.activeStyleSave=Rr(this,this.activeStyle):(Rr(this,this.activeStyleSave),this.activeStyleSave=void 0),this)},setHoverState(e){return e===void 0&&(e=!0),this.hoverState===e?this:(this.hoverState=e,e?this.hoverStyleSave=Rr(this,this.hoverStyle):(Rr(this,this.hoverStyleSave),this.hoverStyleSave=void 0),this)},setDisableState(e){return e===void 0&&(e=!0),this.disableState===e?this:(this.disableState=e,e?this.disableStyleSave=Rr(this,this.disableStyle):(Rr(this,this.disableStyleSave),this.disableStyleSave=void 0),this)}};class id extends Pn{constructor(t,s){s===void 0&&(s={}),super(t,s),this.activeStyle=Cf(s,"active",Tf),this.hoverStyle=Cf(s,"hover",Tf),this.disableStyle=Cf(s,"disable",Tf)}modifyStyle(t){for(var s in t)this[s]=t[s];return this}}const Tf={color:"fillColor",alpha:"fillAlpha",strokeWidth:"lineWidth"};Object.assign(id.prototype,WO);st.register("statesRoundRectangle",function(e){var t=new id(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.StatesRoundRectangle",id);const HO=Phaser.Renderer.WebGL.Utils;var $O=function(e,t,s,l){if(t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)){s.addToRenderList(t);var C=t.frame,S=C.width,r=C.height,T=HO.getTintAppendFloatAlpha,i=e.pipelines.set(t.pipeline,t),d=i.setTexture2D(C.glTexture,t);e.pipelines.preBatch(t),i.batchTexture(t,C.glTexture,S,r,t.x,t.y,S/t.resolution,r/t.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,S,r,T(t.tintTopLeft,s.alpha*t._alphaTL),T(t.tintTopRight,s.alpha*t._alphaTR),T(t.tintBottomLeft,s.alpha*t._alphaBL),T(t.tintBottomRight,s.alpha*t._alphaBR),t.tintFill,0,0,s,l,!1,d),e.pipelines.postBatch(t)}},KO=function(e,t,s,l){t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)&&(s.addToRenderList(t),e.batchSprite(t,t.frame,s,l))};const jO={renderWebGL:$O,renderCanvas:KO},ZO=Phaser.Display.Color,JO={clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill(e){return this.context.fillStyle=e,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},drawFrame(e,t,s,l,C,S,r,T,i,d){var x=this.scene.sys.textures.getFrame(e,t);if(!x)return this;var f=x.cutWidth,u=x.cutHeight;s===void 0&&(s=0),l===void 0&&(l=0),C===void 0&&(C=f),S===void 0&&(S=u),r===void 0&&(r=0),T===void 0&&(T=0),i===void 0&&(i=f),d===void 0&&(d=u);var o=x.cutX+r,n=x.cutY+T;return this.context.drawImage(x.source.image,o,n,i,d,s,l,C,S),this.dirty=!0,this},getDataURL(e,t){return this.canvas.toDataURL(e,t)},getPixel(e,t,s){s===void 0&&(s=new ZO);var l=this.context.getImageData(e,t,1,1);return s.setTo(l.data[0],l.data[1],l.data[2],l.data[3]),s},setPixel(e,t,s,l,C,S){if(typeof s!="number"){var r=s;s=r.red,l=r.green,C=r.blue,S=r.alpha}S===void 0&&(S=s!==0||l!==0||C!==0?255:0);var T=this.context.createImageData(1,1);return T.data[0]=s,T.data[1]=l,T.data[2]=C,T.data[3]=S,this.context.putImageData(T,e,t),this.dirty=!0,this}};var JS=function(e,t,s,l,C,S,r){var T=e.sys.textures,i=e.renderer;l===void 0&&(l=0),C===void 0&&(C=0),S===void 0&&(S=t.width),r===void 0&&(r=t.height);var d;T.exists(s)?d=T.get(s):d=T.createCanvas(s,S,r);var x=d.getSourceImage();x.width!==S&&(x.width=S),x.height!==r&&(x.height=r);var f=x.getContext("2d",{willReadFrequently:!0});f.clearRect(0,0,S,r),f.drawImage(t,l,C,S,r),i.gl&&d&&i.canvasToTexture(x,d.source[0].glTexture,!0,0)};const QO={updateTexture(e,t){e&&(t?e.call(t,this.canvas,this.context):e(this.canvas,this.context)),(this.canvas.width!==this.frame.width||this.canvas.height!==this.frame.height)&&this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!1;var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=this.width,s.hitArea.height=this.height),this},generateTexture(e,t,s,l,C){var S=this.canvas;return l===void 0?l=S.width:l*=this.resolution,C===void 0?C=S.height:C*=this.resolution,JS(this.scene,S,e,t,s,l,C),this},loadTexture(e,t){var s=this.scene.sys.textures.getFrame(e,t);return s?(this.width!==s.cutWidth||this.height!==s.cutHeight?this.setSize(s.cutWidth,s.cutHeight):this.clear(),this.drawFrame(e,t),this.dirty=!0,this):this}},_m=Phaser.Display.Canvas.CanvasPool,qO=Phaser.GameObjects.GameObject;let Mn=class extends qO{constructor(t,s,l,C,S){s===void 0&&(s=0),l===void 0&&(l=0),C===void 0&&(C=1),S===void 0&&(S=1),super(t,"rexCanvas"),this.renderer=t.sys.game.renderer,this.resolution=1,this._width=C,this._height=S,C=Math.max(Math.ceil(C*this.resolution),1),S=Math.max(Math.ceil(S*this.resolution),1),this.canvas=_m.create(this,C,S),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.dirty=!1,this.setPosition(s,l),this.setOrigin(.5,.5),this.initPipeline(),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.dirty=!0}preDestroy(){_m.remove(this.canvas),this.texture.destroy(),this.canvas=null,this.context=null}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setCanvasSize(t,s){return this._width===t&&this._height===s?this:(this._width=t,this._height=s,this.updateDisplayOrigin(),t=Math.max(Math.ceil(t*this.resolution),1),s=Math.max(Math.ceil(s*this.resolution),1),this.canvas.width=t,this.canvas.height=s,this.frame.setSize(t,s),this.dirty=!0,this)}setSize(t,s){return this.setCanvasSize(t,s),this}get displayWidth(){return this.scaleX*this._width}set displayWidth(t){this.scaleX=t/this._width}get displayHeight(){return this.scaleY*this._height}set displayHeight(t){this.scaleY=t/this._height}setDisplaySize(t,s){return this.displayWidth=t,this.displayHeight=s,this}getCanvas(t){return t||(this.dirty=!0),this.canvas}getContext(t){return t||(this.dirty=!0),this.context}needRedraw(){return this.dirty=!0,this}resize(t,s){return this.setSize(t,s),this}};const ke=Phaser.GameObjects.Components;Phaser.Class.mixin(Mn,[ke.Alpha,ke.BlendMode,ke.Crop,ke.Depth,ke.Flip,ke.GetBounds,ke.Mask,ke.Origin,ke.Pipeline,ke.PostPipeline,ke.ScrollFactor,ke.Tint,ke.Transform,ke.Visible,jO,JO,QO]);const _O=Phaser.Utils.String.Pad;var vt=function(e,t,s){if(e==null)return e;switch(typeof e){case"string":return e;case"number":return`#${_O(Math.floor(e).toString(16),6,"0",1)}`;case"function":return e(t,s);case"object":return e.hasOwnProperty("r")?e.hasOwnProperty("a")?`rgba(${e.r},${e.g},${e.b},${e.a})`:`rgb(${e.r},${e.g},${e.b})`:e.hasOwnProperty("h")?e.hasOwnProperty("a")?`hsla(${e.h},${e.s},${e.l},${e.a})`:`hsl(${e.h},${e.s},${e.l})`:e;default:return e}};const tx=Phaser.Math.DegToRad;var QS=function(e,t,s,l,C,S,r){var T=new KS(t,s,l,C,S),i=T.minWidth,d=T.minHeight,x=l>=i?1:l/i,f=C>=d?1:C/d,u=T.cornerRadius,o,n,h,p,a;e.save(),e.beginPath(),e.translate(t,s),o=u.tl,qh(o)?(n=o.x*x,h=o.y*f,Qh(o)?(p=n,a=h,Xs(e,p,a,n,h,180,270,!1,r)):(p=0,a=0,Xs(e,p,a,n,h,90,0,!0,r))):e.lineTo(0,0),o=u.tr,qh(o)?(n=o.x*x,h=o.y*f,Qh(o)?(p=l-n,a=h,Xs(e,p,a,n,h,270,360,!1,r)):(p=l,a=0,Xs(e,p,a,n,h,180,90,!0,r))):e.lineTo(l,0),o=u.br,qh(o)?(n=o.x*x,h=o.y*f,Qh(o)?(p=l-n,a=C-h,Xs(e,p,a,n,h,0,90,!1,r)):(p=l,a=C,Xs(e,p,a,n,h,270,180,!0,r))):e.lineTo(l,C),o=u.bl,qh(o)?(n=o.x*x,h=o.y*f,Qh(o)?(p=n,a=C-h,Xs(e,p,a,n,h,90,180,!1,r)):(p=0,a=C,Xs(e,p,a,n,h,360,270,!0,r))):e.lineTo(0,C),e.closePath(),e.restore()},Qh=function(e){return!e.hasOwnProperty("convex")||e.convex},qh=function(e){return e.x>0&&e.y>0},Xs=function(e,t,s,l,C,S,r,T,i){if(T&&r>S?r-=360:!T&&r<S&&(r+=360),S=tx(S),r=tx(r),i==null)e.ellipse(t,s,l,C,0,S,r,T);else{i+=1;for(var d,x,f,u=(r-S)/i,o=0;o<=i;o++)f=S+u*o,d=t+l*Math.cos(f),x=s+C*Math.sin(f),e.lineTo(d,x)}},tA=function(e,t,s,l,C,S,r,T,i,d,x,f,u){if(QS(t,s,l,C,S,r,u),T!=null){if(x!=null){var o;f?o=t.createLinearGradient(0,0,C,0):o=t.createLinearGradient(0,0,0,S),o.addColorStop(0,T),o.addColorStop(1,x),T=o}t.fillStyle=T,t.fill()}i!=null&&d>0&&(t.strokeStyle=i,t.lineWidth=d,t.stroke())},ng=function(e,t,s,l,C,S,r,T){if(!(t==null&&s==null)){var i=e.canvas.width,d=e.canvas.height;s==null&&(l=0);var x=l/2;i=Math.max(1,i-l),d=Math.max(1,d-l),tA(e.canvas,e.context,x,x,i,d,C,t,s,l,S,r,T)}},eA=function(){ng(this,this.fillStyle,this.strokeStyle,this.lineWidth,this.radius,this.fillColor2,this.isHorizontalGradient,this.iteration)};const ex=Phaser.Utils.Objects.GetValue;let qS=class extends Mn{constructor(t,s,l,C,S,r,T,i,d,x,f){s===void 0&&(s=0),l===void 0&&(l=0),C===void 0&&(C=1),S===void 0&&(S=C),r===void 0&&(r=0),super(t,s,l,C,S),this.type="rexRoundRectangleCanvas";var u=ex(r,"radius",r),o=ex(r,"iteration",void 0);this.setRadius(u),this.setIteration(o),this.setFillStyle(T,x,f),this.setStrokeStyle(i,d)}get radius(){return this._radius}set radius(t){this.dirty|=this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this}get iteration(){return this._iteration}set iteration(t){this.dirty|=this._iteration!=t,this._iteration=t}setIteration(t){return this.iteration=t,this}get fillStyle(){return this._fillStyle}set fillStyle(t){t=vt(t,this.canvas,this.context),this.dirty|=this._fillStyle!=t,this._fillStyle=t}get fillColor2(){return this._fillColor2}set fillColor2(t){t=vt(t,this.canvas,this.context),this.dirty|=this._fillColor2!=t,this._fillColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setFillStyle(t,s,l){return l===void 0&&(l=!0),this.fillStyle=t,this.fillColor2=s,this.isHorizontalGradient=l,this}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){t=vt(t,this.canvas,this.context),this.dirty|=this._strokeStyle!=t,this._strokeStyle=t}get lineWidth(){return this._lineWidth}set lineWidth(t){this.dirty|=this._lineWidth!=t,this._lineWidth=t}setStrokeStyle(t,s){return this.strokeStyle=t,this.lineWidth=s,this}updateTexture(){return this.clear(),eA.call(this),super.updateTexture(),this}};st.register("roundRectangleCanvas",function(e,t,s,l,C,S,r,T,i,d){var x=new qS(this.scene,e,t,s,l,C,S,r,T,i,d);return this.scene.add.existing(x),x});it(window,"RexPlugins.UI.RoundRectangleCanvas",qS);/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var iA=Phaser.Renderer.WebGL.Utils,sA=function(e,t,s,l){if(!(t.width===0||t.height===0)){s.addToRenderList(t);var C=t.frame,S=C.width,r=C.height,T=iA.getTintAppendFloatAlpha,i=e.pipelines.set(t.pipeline,t),d=i.setTexture2D(C.glTexture,t);e.pipelines.preBatch(t),i.batchTexture(t,C.glTexture,S,r,t.x,t.y,S/t.style.resolution,r/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,S,r,T(t.tintTopLeft,s.alpha*t._alphaTL),T(t.tintTopRight,s.alpha*t._alphaTR),T(t.tintBottomLeft,s.alpha*t._alphaBL),T(t.tintBottomRight,s.alpha*t._alphaBR),t.tintFill,0,0,s,l,!1,d),e.pipelines.postBatch(t)}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var nA=function(e,t,s,l){t.width===0||t.height===0||(s.addToRenderList(t),e.batchSprite(t,t.frame,s,l))};const rA={renderWebGL:sA,renderCanvas:nA},Sf=Phaser.Display.Canvas.CanvasPool;var aA=function(e,t,s){s===void 0&&(s={});var l=Sf.create(this),C=l.getContext("2d",{willReadFrequently:!0});e.syncFont(l,C);var S=C.measureText(t),r=Math.ceil(S.width*e.baselineX),T=r,i=2*T;if(T=T*e.baselineY|0,l.width=r,l.height=i,C.fillStyle="#f00",C.fillRect(0,0,r,i),C.font=e._font,C.textBaseline="alphabetic",C.fillStyle="#000",C.fillText(e.testString,0,T),s.left=0,r===0||i===0||!C.getImageData(0,0,r,i))return Sf.remove(l),s;for(var d=C.getImageData(0,0,r,i).data,x=!1,f=0;f<r;f++){for(var u=0;u<i;u++){var o=(u*r+f)*4;if(d[o]!==255){s.left=f,x=!0;break}}if(x)break}return Sf.remove(l),s};const oA=Phaser.GameObjects.GameObject;class _S extends oA{setStyle(t){return this.style.setStyle(t)}setFont(t){return this.style.setFont(t)}setFontFamily(t){return this.style.setFontFamily(t)}setFontSize(t){return this.style.setFontSize(t)}setFontStyle(t){return this.style.setFontStyle(t)}setTestString(t){return this.style.setTestString(t)}setFixedSize(t,s){return this.style.setFixedSize(t,s)}setBackgroundColor(t,s,l){return this.style.setBackgroundColor(t,s,l)}setBackgroundStrokeColor(t,s){return this.style.setBackgroundStrokeColor(t,s)}setBackgroundCornerRadius(t,s){return this.style.setBackgroundCornerRadius(t,s)}setFill(t){return this.style.setFill(t)}setColor(t){return this.style.setColor(t)}setStroke(t,s){return this.style.setStroke(t,s)}setShadow(t,s,l,C,S,r){return this.style.setShadow(t,s,l,C,S,r)}setShadowOffset(t,s){return this.style.setShadowOffset(t,s)}setShadowColor(t){return this.style.setShadowColor(t)}setShadowBlur(t){return this.style.setShadowBlur(t)}setShadowStroke(t){return this.style.setShadowStroke(t)}setShadowFill(t){return this.style.setShadowFill(t)}setWrapMode(t){return this.style.setWrapMode(t)}setWrapWidth(t){return this.style.setWrapWidth(t)}setWordWrapWidth(t){return this.style.setWrapWidth(t)}setAlign(t){return this.style.setHAlign(t)}setHAlign(t){return this.style.setHAlign(t)}setVAlign(t){return this.style.setVAlign(t)}setLineSpacing(t){return this.style.setLineSpacing(t)}set lineSpacing(t){this.setLineSpacing(t)}get lineSpacing(){return this.style.lineSpacing}setXOffset(t){return this.style.setXOffset(t)}setMaxLines(t){return this.style.setMaxLines(t)}setResolution(t){return this.style.setResolution(t)}getTextMetrics(){return this.style.getTextMetrics()}setTextMetrics(t,s){return this.style.setTextMetrics(t,s)}measureTextMargins(t,s){return aA(this.style,t,s)}}const Ie=Phaser.GameObjects.Components;Phaser.Class.mixin(_S,[Ie.Alpha,Ie.BlendMode,Ie.ComputedSize,Ie.Crop,Ie.Depth,Ie.Flip,Ie.GetBounds,Ie.Mask,Ie.Origin,Ie.Pipeline,Ie.PostPipeline,Ie.ScrollFactor,Ie.Tint,Ie.Transform,Ie.Visible,rA]);var hA={backgroundColor:["backgroundColor",null,vt],backgroundColor2:["backgroundColor2",null,vt],backgroundHorizontalGradient:["backgroundHorizontalGradient",!0,null],backgroundStrokeColor:["backgroundStrokeColor",null,vt],backgroundStrokeLineWidth:["backgroundStrokeLineWidth",2,null],backgroundCornerRadius:["backgroundCornerRadius",0,null],backgroundCornerIteration:["backgroundCornerIteration",null,null],fontFamily:["fontFamily","Courier",null],fontSize:["fontSize","16px",null],fontStyle:["fontStyle","",null],color:["color","#fff",vt],stroke:["stroke","#fff",vt],strokeThickness:["strokeThickness",0,null],shadowOffsetX:["shadow.offsetX",0,null],shadowOffsetY:["shadow.offsetY",0,null],shadowColor:["shadow.color","#000",vt],shadowBlur:["shadow.blur",0,null],shadowStroke:["shadow.stroke",!1,null],shadowFill:["shadow.fill",!1,null],underlineColor:["underline.color","#000",vt],underlineThickness:["underline.thickness",0,null],underlineOffset:["underline.offset",0,null],strikethroughColor:["strikethrough.color","#000",vt],strikethroughThickness:["strikethrough.thickness",0,null],strikethroughOffset:["strikethrough.offset",0,null],halign:["halign","left",null],valign:["valign","top",null],maxLines:["maxLines",0,null],fixedWidth:["fixedWidth",0,null],fixedHeight:["fixedHeight",0,null],resolution:["resolution",0,null],lineSpacing:["lineSpacing",0,null],xOffset:["xOffset",0,null],rtl:["rtl",!1,null],testString:["testString","|Mqgy",null],baselineX:["baselineX",1.2,null],baselineY:["baselineY",1.4,null],wrapMode:["wrap.mode",0,null],wrapWidth:["wrap.width",0,null],wrapCallback:["wrap.callback",null],wrapCallbackScope:["wrap.callbackScope",null]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */const _h=Phaser.Display.Canvas.CanvasPool;var ix=function(e){var t=_h.create(this),s=t.getContext("2d",{willReadFrequently:!0});e.syncFont(t,s);var l=s.measureText(e.testString);if("actualBoundingBoxAscent"in l){var C=l.actualBoundingBoxAscent,S=l.actualBoundingBoxDescent,d={ascent:C,descent:S,fontSize:C+S};return _h.remove(t),d}var r=Math.ceil(l.width*e.baselineX),T=r,i=2*T;T=T*e.baselineY|0,t.width=r,t.height=i,s.fillStyle="#f00",s.fillRect(0,0,r,i),s.font=e._font,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(e.testString,0,T);var d={ascent:0,descent:0,fontSize:0};if(!s.getImageData(0,0,r,i))return d.ascent=T,d.descent=T+6,d.fontSize=d.ascent+d.descent,_h.remove(t),d;var x=s.getImageData(0,0,r,i).data,f=x.length,u=r*4,o,n,h=0,p=!1;for(o=0;o<T;o++){for(n=0;n<u;n+=4)if(x[h+n]!==255){p=!0;break}if(!p)h+=u;else break}for(d.ascent=T-o,h=f-u,p=!1,o=i;o>T;o--){for(n=0;n<u;n+=4)if(x[h+n]!==255){p=!0;break}if(!p)h-=u;else break}return d.descent=o-T,d.fontSize=d.ascent+d.descent,_h.remove(t),d},ue={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,SPLITREGEXP:/(?:\r\n|\r|\n)/};const lA=Phaser.Utils.Objects.GetAdvancedValue,qe=Phaser.Utils.Objects.GetValue;let rg=class{constructor(t,s,l){this.parent=t,l===void 0&&(l=hA),this.propertyMap=l,this.backgroundColor,this.backgroundColor2,this.backgroundHorizontalGradient,this.backgroundStrokeColor,this.backgroundStrokeLineWidth,this.backgroundCornerRadius,this.backgroundCornerIteration,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.strikethroughColor,this.strikethroughThickness,this.strikethroughOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.lineSpacing,this.xOffset,this.rtl,this.testString,this.baselineX,this.baselineY,this.wrapMode,this.wrapWidth,this.wrapCallback,this.wrapCallbackScope,this._font,this.setStyle(s,!1,!0)}get isWrapFitMode(){return this.fixedWidth>0&&this.wrapMode!==ue.NO_WRAP&&this.wrapWidth===0}setStyle(t,s,l){if(s===void 0&&(s=!0),l===void 0&&(l=!1),t&&t.hasOwnProperty("wrap")){var C=t.wrap;if(C.hasOwnProperty("mode")){var S=C.mode;typeof S=="string"&&(C.mode=sx[S])}else C.hasOwnProperty("width")&&(C.mode=1)}t&&t.rtl&&l&&!t.hasOwnProperty("halign")&&(t.halign="right"),t&&t.hasOwnProperty("fontSize")&&typeof t.fontSize=="number"&&(t.fontSize=t.fontSize.toString()+"px");var r=this.propertyMap;for(var T in r){var i=r[T],d=i[0],x=l?i[1]:this[T],f=i[2];if(T==="wrapCallback"||T==="wrapCallbackScope")this[T]=qe(t,d,x);else{var u=lA(t,d,x);f&&(u=f(u)),this[T]=u}}var o=qe(t,"font",null);o===null?this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily:this._font=o;var n=qe(t,"fill",null);n!==null&&(this.color=vt(n));var h=qe(t,"metrics",!1);return h?this.metrics={ascent:qe(h,"ascent",0),descent:qe(h,"descent",0),fontSize:qe(h,"fontSize",0)}:(s||!this.metrics)&&(this.metrics=ix(this)),s?this.parent.updateText():this.parent}syncFont(t,s){s.font=this._font}syncStyle(t,s){s.textBaseline="alphabetic",s.fillStyle=this.color,s.strokeStyle=this.stroke,s.lineWidth=this.strokeThickness,s.lineCap="round",s.lineJoin="round"}syncShadow(t,s){s?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim(),this.metrics=ix(this)),this.parent.updateText(t)}buildFont(){var t=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();return t!==this._font&&(this._font=t),this}setFont(t){return typeof t=="string"?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=qe(t,"fontFamily","Courier"),this.fontSize=qe(t,"fontSize","16px"),this.fontStyle=qe(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return typeof t=="number"&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,s){return this.fixedWidth=t,this.fixedHeight=s,t&&(this.parent.width=t),s&&(this.parent.height=s),this.update(this.isWrapFitMode)}setResolution(t){return this.resolution=t,this.update(!1)}setLineSpacing(t){return this.lineSpacing=t,this.update(!1)}setXOffset(t){return this.xOffset=t,this.update(!1)}setBackgroundColor(t,s,l){return l===void 0&&(l=!0),this.backgroundColor=vt(t,this.parent.canvas,this.parent.context),this.backgroundColor2=vt(s,this.parent.canvas,this.parent.context),this.backgroundHorizontalGradient=l,this.update(!1)}setBackgroundStrokeColor(t,s){return this.backgroundStrokeColor=vt(t,this.parent.canvas,this.parent.context),this.backgroundStrokeLineWidth=s,this.update(!1)}setBackgroundCornerRadius(t,s){return this.backgroundCornerRadius=t,this.backgroundCornerIteration=s,this.update(!1)}setFill(t){return this.color=vt(t,this.parent.canvas,this.parent.context),this.update(!1)}setColor(t){return this.color=vt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStroke(t,s){return t===void 0?this.strokeThickness=0:(s===void 0&&(s=this.strokeThickness),this.stroke=vt(t,this.parent.canvas,this.parent.context),this.strokeThickness=s),this.update(!0)}setShadow(t,s,l,C,S,r){return t===void 0&&(t=0),s===void 0&&(s=0),l===void 0&&(l="#000"),C===void 0&&(C=0),S===void 0&&(S=!1),r===void 0&&(r=!0),this.shadowOffsetX=t,this.shadowOffsetY=s,this.shadowColor=vt(l,this.parent.canvas,this.parent.context),this.shadowBlur=C,this.shadowStroke=S,this.shadowFill=r,this.update(!1)}setShadowOffset(t,s){return t===void 0&&(t=0),s===void 0&&(s=t),this.shadowOffsetX=t,this.shadowOffsetY=s,this.update(!1)}setShadowColor(t){return t===void 0&&(t="#000"),this.shadowColor=vt(t,this.parent.canvas,this.parent.context),this.update(!1)}setShadowBlur(t){return t===void 0&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,s,l){return t===void 0&&(t="#000"),s===void 0&&(s=0),l===void 0&&(l=0),this.underlineColor=vt(t,this.parent.canvas,this.parent.context),this.underlineThickness=s,this.underlineOffset=l,this.update(!1)}setUnderlineColor(t){return t===void 0&&(t="#000"),this.underlineColor=vt(t,this.parent.canvas,this.parent.context),this.update(!1)}setUnderlineThickness(t){return t===void 0&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return t===void 0&&(t=0),this.underlineOffset=t,this.update(!1)}setStrikethrough(t,s,l){return t===void 0&&(t="#000"),s===void 0&&(s=0),l===void 0&&(l=0),this.strikethroughColor=vt(t,this.parent.canvas,this.parent.context),this.strikethroughThickness=s,this.strikethroughOffset=l,this.update(!1)}setStrikethroughColor(t){return t===void 0&&(t="#000"),this.strikethroughColor=vt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStrikethroughThickness(t){return t===void 0&&(t=0),this.strikethroughThickness=t,this.update(!1)}setStrikethroughOffset(t){return t===void 0&&(t=0),this.strikethroughOffset=t,this.update(!1)}setWrapMode(t){return typeof t=="string"&&(t=sx[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){return this.wrapWidth=t,this.update(!1)}setAlign(t,s){return t===void 0&&(t="left"),s===void 0&&(s="top"),this.halign=t,this.valign=s,this.update(!1)}setHAlign(t){return t===void 0&&(t="left"),this.halign=t,this.update(!1)}setVAlign(t){return t===void 0&&(t="top"),this.valign=t,this.update(!1)}setMaxLines(t){return t===void 0&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}setTextMetrics(t,s){return this.metrics.ascent=t.ascent,this.metrics.descent=t.descent,this.metrics.fontSize=t.fontSize,s&&(typeof s=="string"?(this.fontFamily=s,this.fontSize="",this.fontStyle=""):(this.fontFamily=qe(s,"fontFamily",this.fontFamily),this.fontSize=qe(s,"fontSize",this.fontSize),this.fontStyle=qe(s,"fontStyle",this.fontStyle))),this.parent.updateText(!0)}get lineHeight(){return this.metrics.fontSize+this.strokeThickness+this.lineSpacing}toJSON(){var t={},s=this.propertyMap;for(var l in s)t[l]=this[l];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}};const sx={none:ue.NO_WRAP,word:ue.WORD_WRAP,char:ue.CHAR_WRAP,character:ue.CHAR_WRAP},uA={draw(e,t,s,l){var C=this.penManager;this.hitAreaManager.clear();var S=this.context;S.save();var r=this.defaultStyle;this.clear(),ng(this,r.backgroundColor,r.backgroundStrokeColor,r.backgroundStrokeLineWidth,r.backgroundCornerRadius,r.backgroundColor2,r.backgroundHorizontalGradient,r.backgroundCornerIteration),e+=this.startXOffset,t+=this.startYOffset;var T=r.halign,i=r.valign,d,x=r.lineHeight,f=C.lines,u=f.length,o=r.maxLines,n,h,p;o>0&&u>o?(n=o,i==="center"?h=Math.floor((u-n)/2):i==="bottom"?h=u-n:h=0):(n=u,h=0),p=h+n;var a,c,v=this.rtl,g=v?this.parent.width:void 0;i==="center"?c=Math.max((l-n*x)/2,0):i==="bottom"?c=Math.max(l-n*x-2,0):c=0,c+=t;for(var m=h;m<p;m++)if(d=C.getLineWidth(m),d!==0){for(var y=f[m],P=y.length,M=T,E=0;E<P;E++){var w=y[E].prop.align;if(w!==void 0){M=w;break}}M==="center"?a=(s-d)/2:M==="right"?a=v?0:s-d:a=v?s-d:0,a+=e;for(var E=0;E<P;E++)this.drawPen(y[E],a,c,g)}S.restore()},drawPen(e,t,s,l){t+=e.x,s+=e.y+(e.prop.y||0),l!==void 0&&(t=l-t);var C=this.canvas,S=this.context;S.save();var r=this.parser.propToContextStyle(this.defaultStyle,e.prop);if(r.buildFont(),r.syncFont(C,S),r.syncStyle(C,S),r.underlineThickness>0&&e.width>0){var T=s+r.underlineOffset-r.underlineThickness/2;this.drawLine(t,T,e.width,r.underlineThickness,r.underlineColor)}if(e.isTextPen&&this.drawText(t,s,e.text,r),e.isImagePen&&this.drawImage(t,s,e.prop.img,r),r.strikethroughThickness>0&&e.width>0){var T=s+r.strikethroughOffset-r.strikethroughThickness/2;this.drawLine(t,T,e.width,r.strikethroughThickness,r.strikethroughColor)}if(S.restore(),e.hasAreaMarker&&e.width>0){var i,d=e.prop.area;if(d)i={key:d};else{var x=e.prop.url;i={key:`url:${x}`,url:x}}this.hitAreaManager.add(t,s-this.startYOffset,e.width,this.defaultStyle.lineHeight,i)}},clear(){var e=this.canvas;this.context.clearRect(0,0,e.width,e.height)},drawLine(e,t,s,l,C){this.autoRound&&(e=Math.round(e),t=Math.round(t));var S=this.context,r=S.lineCap;S.lineCap="butt",S.strokeStyle=C,S.lineWidth=l,S.beginPath(),S.moveTo(e,t),S.lineTo(e+s,t),S.stroke(),S.lineCap=r},drawText(e,t,s,l){this.autoRound&&(e=Math.round(e),t=Math.round(t));var C=this.context;l.stroke&&l.stroke!=="none"&&l.strokeThickness>0&&(l.syncShadow(C,l.shadowStroke),C.strokeText(s,e,t)),l.color&&l.color!=="none"&&(l.syncShadow(C,l.shadowFill),C.fillText(s,e,t))},drawImage(e,t,s,l){t-=this.startYOffset,this.parent.imageManager.draw(s,this.context,e,t,this.autoRound)}},Nn=Phaser.Utils.Objects.GetValue,dA=ue.NO_NEWLINE,nx=ue.RAW_NEWLINE;class fA{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=Nn(t,"text",""),this.x=Nn(t,"x",0),this.y=Nn(t,"y",0),this.width=Nn(t,"width",0);var s=Nn(t,"prop",null);s===null&&(s={}),this.prop=s,this.newLineMode=Nn(t,"newLineMode",0),this.startIndex=Nn(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===nx&&(t+=`
`),t}get wrapText(){var t=this.text;return this.newLineMode!==dA&&(t+=`
`),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===nx&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}get isTextPen(){return this.text!==""}get isImagePen(){return!!this.prop.img}get hasAreaMarker(){return!!this.prop.area||!!this.prop.url}}var fr=function(e,t){var s=Array.isArray(e);if(t===void 0?t=s?[]:{}:As(t),s){t.length=e.length;for(var l=0,C=e.length;l<C;l++)t[l]=e[l]}else for(var S in e)t[S]=e[S];return t};const rx=Phaser.Utils.Objects.GetFastValue,ax=ue.NO_NEWLINE,cA=ue.WRAPPED_NEWLINE;class ag{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.tagToText=rx(t,"tagToText",Fe),this.tagToTextScope=rx(t,"tagToTextScope",void 0)}destroy(){this.clear(),this.tagToText=void 0,this.tagToTextScope=void 0}clear(){for(var t=0,s=this.lines.length;t<s;t++)this.lines[t].length=0;this.pensPool.pushMultiple(this.pens),this.linesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addTextPen(t,s,l,C,S,r){var T=this.pensPool.pop();return T==null&&(T=new fA),zn.text=t,zn.x=s,zn.y=l,zn.width=C,zn.prop=S,zn.newLineMode=r,T.resetFromJSON(zn),this.addPen(T),this}addImagePen(t,s,l,C){return this.addTextPen("",t,s,l,C,ax),this}addNewLinePen(){var t=this.lastPen,s=t?t.lastX:0,l=t?t.y:0,C=t?fr(t.prop):null;return this.addTextPen("",s,l,0,C,cA),this}addPen(t){var s=this.lastPen;s==null?t.startIndex=0:t.startIndex=s.endIndex,this.pens.push(t);var l=this.lastLine;l==null&&(l=this.linesPool.pop()||[],this.lines.push(l)),l.push(t),t.newLineMode!==ax&&(l=this.linesPool.pop()||[],this.lines.push(l)),this.maxLinesWidth=void 0}clone(t){t==null&&(t=new ag),t.clear();for(var s=0,l=this.lines.length;s<l;s++)for(var C=this.lines[s],S=0,r=C.length;S<r;S++){var T=C[S];t.addPen(T.text,T.x,T.y,T.width,fr(T.prop),T.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var s=this.lines[t];return s&&s[0]?s[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var s,l=!1,C;for(s=t;s>=0&&(C=this.lines[s],l=C!=null&&C.length>0,!l);s--);if(!l)return 0;var S=C[C.length-1];return S.endIndex}getLineWidth(t){var s=this.lines[t];if(!s)return 0;var l=s[s.length-1];if(l==null)return 0;var C=l.lastX;return C}getMaxLineWidth(){if(this.maxLinesWidth!==void 0)return this.maxLinesWidth;for(var t,s=0,l=0,C=this.lines.length;l<C;l++)t=this.getLineWidth(l),t>s&&(s=t);return this.maxLinesWidth=s,s}getLineWidths(){for(var t=[],s=0,l=this.lines.length;s<l;s++)t.push(this.getLineWidth(s));return t}get linesCount(){return this.lines.length}get plainText(){for(var t="",s=this.pens,l=0,C=s.length;l<C;l++)t+=s[l].plainText;return t}get rawTextLength(){for(var t=0,s=this.pens,l=0,C=this.pens.length;l<C;l++)t+=s[l].rawTextLength;return t}getSliceTagText(t,s,l){if(t===void 0&&(t=0),s===void 0){var C=this.lastPen;if(C==null)return"";s=C.endIndex}l===void 0&&(l=!1);for(var S="",r,T,i,d,x,f,u,o=0,n=this.pens.length;o<n&&(r=this.pens[o],d=r.endIndex,!(!(d<=t)&&(r=this.pens[o],T=l?r.wrapText:r.plainText,f=r.prop,i=r.startIndex,x=i>=t&&d<=s,x||(T=T.substring(t-i,s-i)),this.tagToTextScope?S+=this.tagToText.call(this.tagToTextScope,T,f,u):S+=this.tagToText(T,f,u),u=f,d>=s)));o++);return S}get length(){return this.lines.length}set length(t){this.clear()}}var zn={};const vA=Phaser.Geom.Rectangle;var ox=new ls;class pA{constructor(){this.hitAreas=[]}destroy(){this.clear()}clear(){for(var t=0,s=this.hitAreas.length;t<s;t++)As(this.hitAreas[t].data);return ox.pushMultiple(this.hitAreas),this}add(t,s,l,C,S){var r=ox.pop();return r===null?r=new vA(t,s,l,C):r.setTo(t,s,l,C),r.data=S,this.hitAreas.push(r),this}getFirst(t,s){for(var l=0,C=this.hitAreas.length;l<C;l++){var S=this.hitAreas[l];if(S.contains(t,s))return S}return null}getByKey(t){for(var s=0,l=this.hitAreas.length;s<l;s++){var C=this.hitAreas[s];if(C.data.key===t)return C}return null}drawBounds(t,s,l){s===void 0&&(s=16777215),l&&t.save().scaleCanvas(l.scaleX,l.scaleY).rotateCanvas(l.rotation).translateCanvas(l.x,l.y);for(var C=0,S=this.hitAreas.length;C<S;C++){var r=this.hitAreas[C];t.lineStyle(1,s).strokeRect(r.x,r.y,r.width,r.height)}return l&&t.restore(),this}}var gA=function(){this.parent.on("pointerdown",mA,this).on("pointerup",xA,this).on("pointermove",Ef,this).on("pointerover",Ef,this).on("pointerout",function(e,t){Ef.call(this,e,null,null,t)},this)},mA=function(e,t,s,l){var C=this.hitAreaManager.getFirst(t,s);if(C!==null){var S=C.data.key;ya.call(this,"areadown",S,e,t,s,l),C.data.isDown=!0}},xA=function(e,t,s,l){var C=this.hitAreaManager.getFirst(t,s);if(C!==null){var S=C.data,r=S.key;if(ya.call(this,"areaup",r,e,t,s,l),S.isDown){ya.call(this,"areaclick",r,e,t,s,l);var T=S.url;T&&window.open(T,"_blank")}S.isDown=!1}},Ef=function(e,t,s,l){if(t===null){this.lastHitAreaKey!==null&&(ya.call(this,"areaout",this.lastHitAreaKey,e,t,s,l),this.hitAreaManager.getByKey(this.lastHitAreaKey).isDown=!1,this.lastHitAreaKey=null);return}var C=this.hitAreaManager.getFirst(t,s),S=C?C.data.key:null;if(this.lastHitAreaKey!==S){if(this.lastHitAreaKey!==null){ya.call(this,"areaout",this.lastHitAreaKey,e,t,s,l);var r=this.hitAreaManager.getByKey(this.lastHitAreaKey);this.urlTagCursorStyle&&r.data.url&&(this.scene.input.manager.canvas.style.cursor=""),r.isDown=!1}S!==null&&(ya.call(this,"areaover",S,e,t,s,l),this.urlTagCursorStyle&&C.data.url&&(this.scene.input.manager.canvas.style.cursor=this.urlTagCursorStyle)),this.lastHitAreaKey=S}},ya=function(e,t,s,l,C,S){this.parent.emit(`${e}-${t}`,s,l,C,S),this.parent.emit(e,t,s,l,C,S)};const yA=ue.NO_NEWLINE,CA=ue.RAW_NEWLINE,Pf=ue.WRAPPED_NEWLINE,hx=ue.NO_WRAP,TA=ue.WORD_WRAP,SA=ue.CHAR_WRAP,EA=ue.SPLITREGEXP;var tE=function(e,t,s,l,C,S){l<=0&&(s=hx);var r=[];if(!e||!e.length)return r;for(var T=s===hx,i=s===TA,d=e.split(EA),x,f,u,o=0,n=d.length;o<n;o++){if(x=d[o],u=o===n-1?yA:CA,T){var h=t(x);r.push(S.getLine(x,h,u));continue}if(f=o===0?l-C:l,x.length<=100){var h=t(x);if(h<=f){r.push(S.getLine(x,h,u));continue}}var p,a;i?(p=x.split(" "),a=p[p.length-1]==="",a&&(p.length-=1)):p=x;for(var c,v,g,m="",y=0,P,M=i?t(" "):void 0,E=0,w=p.length;E<w;E++){if(c=p[E],v=t(c),g=E===w-1,i&&(!g||a)&&(c+=" ",v+=M),i&&v>l){m!==""?r.push(S.getLine(m,y,Pf)):E===0&&C>0&&r.push(S.getLine("",0,Pf)),r.push(...tE(c,t,SA,l,0,S));var R=r.pop();m=R.text,y=R.width,S.freeLine(R),m===" "&&(m="",y=0);continue}P=y+v,P>f?(r.push(S.getLine(m,y,Pf)),m=c,y=v,f=l):(m+=c,y=P),g&&r.push(S.getLine(m,y,u))}}return r};const Mf=Phaser.Utils.Objects.GetValue,PA=ue.NO_WRAP,MA=ue.NO_NEWLINE;class eE{constructor(t){this.parent=t.parent,this.scene=this.parent.scene,this.context=Mf(t,"context",null),this.canvas=this.context.canvas,this.parser=Mf(t,"parser",null),this.defaultStyle=Mf(t,"style",null),this.autoRound=!0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.wrapTextLinesPool=t.wrapTextLinesPool,this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new pA,this.lastHitAreaKey=null,this.urlTagCursorStyle=null;var s=this.context;this.getTextWidth=function(l){return s.measureText(l).width}}destroy(){this.parent=void 0,this.scene=void 0,this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defaultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0),this.pensPool=void 0,this.linesPool=void 0,this.wrapTextLinesPool=void 0}updatePenManager(t,s,l,C,S){if(S===void 0&&(S=this.penManager),S.clear(),t==="")return S;var r=this.parent.style;if(r.isWrapFitMode){var T=this.parent.padding;l=r.fixedWidth-T.left-T.right}for(var i=this.canvas,d=this.context,x=function(L){return d.measureText(L).width},f=0,u=0,o=r.wrapCallback,n=r.wrapCallbackScope,h=!0,p,a,c,v=this.parser.splitText(t),g,m,y=this.wrapTextLinesPool,P=0,M=v.length;P<M;P++)if(g=this.parser.tagTextToProp(v[P],a),p=g.plainText,a=g.prop,a.img){var E=this.imageManager.getOuterWidth(a.img);l>0&&s!==PA&&l<f+E&&(S.addNewLinePen(),u+=C,f=0),S.addImagePen(f,u,E,fr(a)),f+=E}else if(p!==""){if(d.save(),c=this.parser.propToContextStyle(this.defaultStyle,a),c.buildFont(),c.syncFont(i,d),c.syncStyle(i,d),!o)m=tE(p,x,s,l,f,y);else{m=o.call(n,p,x,l,f),typeof m=="string"&&(m=m.split(`
`));for(var O,w=0,R=m.length;w<R;w++)O=m[w],typeof O=="string"?m[w]=y.getLine(O,x(O),w<R-1?2:0):h=!1}for(var O,w=0,R=m.length;w<R;w++)O=m[w],S.addTextPen(O.text,f,u,O.width,fr(a),O.newLineMode),O.newLineMode!==MA?(f=0,u+=C):f+=O.width;h&&y.freeLines(m),m=null,d.restore()}for(var P=0,M=this.lines.length;P<M;P++){var A=this.lines[P],F=A[A.length-1];F&&(F.width+=this.parser.getStrokeThinkness(this.defaultStyle,F.prop))}return S}get startXOffset(){var t=this.defaultStyle;return t.strokeThickness/2+t.xOffset}get startYOffset(){var t=this.defaultStyle;return t.strokeThickness/2+t.metrics.ascent}get lines(){return this.penManager.lines}get desplayLinesCount(){var t=this.penManager.linesCount,s=this.defaultStyle.maxLines;return s>0&&t>s&&(t=s),t}get linesWidth(){return Math.ceil(this.penManager.getMaxLineWidth())}get linesHeight(){var t=this.desplayLinesCount,s=this.defaultStyle.lineHeight*t;return t>0&&(s-=this.defaultStyle.lineSpacing),s}get imageManager(){return this.parent.imageManager}get rtl(){return this.parent.style.rtl}newPenManager(){return new ag({pensPool:this.pensPool,linesPool:this.linesPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}get tmpPenManager(){return this._tmpPenManager===null&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}getPlainText(t,s,l){var C;if(t==null)C=this.penManager.plainText;else{var S=this.parser.splitText(t,1);C="";for(var r=0,T=S.length;r<T;r++)C+=S[r]}return(s!=null||l!=null)&&(s==null&&(s=0),l==null&&(l=C.length),C=C.substring(s,l)),C}getPenManager(t,s){if(t===void 0)return this.copyPenManager(s,this.penManager);s===void 0&&(s=this.newPenManager());var l=this.defaultStyle;return this.updatePenManager(t,l.wrapMode,l.wrapWidth,l.lineHeight,s),s}getText(t,s,l,C){if(t==null)return this.penManager.getSliceTagText(s,l,C);var S=this.tmpPenManager,r=this.defaultStyle;return this.updatePenManager(t,r.wrapMode,r.wrapWidth,r.lineHeight,S),S.getSliceTagText(s,l,C)}copyPenManager(t,s){return s===void 0&&(s=this.penManager),s.copy(t)}getTextWidth(t){return t===void 0&&(t=this.penManager),t.getMaxLineWidth()}getLastPen(t){return t===void 0&&(t=this.penManager),t.lastPen}}var wA={setInteractive:gA};Object.assign(eE.prototype,uA,wA);class lx extends ls{freeLine(t){if(t)return this.push(t),this}freeLines(t){if(t)return this.pushMultiple(t),this}getLine(t,s,l){var C=this.pop();return C===null&&(C={}),C.text=t,C.width=s,C.newLineMode=l,C}}const RA=Phaser.Utils.Objects.IsPlainObject,_a=Phaser.Utils.Objects.GetValue;var wf=function(e,t){RA(e)?(t=e,e=t.key):t===void 0&&(t={key:e}),t.hasOwnProperty("key")||(t.key=e);var s=t.key,l=t.frame,C=t.width,S=t.height;if(C===void 0||S===void 0){var r=this.textureManager.getFrame(s,l),T=r?r.cutWidth:0,i=r?r.cutHeight:0;C===void 0&&S===void 0?(C=T,S=i):C===void 0?C=T*(S/i):S===void 0&&(S=i*(C/T))}this.images[e]={key:s,frame:l,width:C,height:S,y:_a(t,"y",0),left:_a(t,"left",0),right:_a(t,"right",0),originX:_a(t,"originX",0),originY:_a(t,"originY",0)}},OA=function(e,t,s,l,C){var S=this.get(e),r=this.textureManager.getFrame(S.key,S.frame),T=S.width,i=S.height;s+=S.left-S.originX*T,l+=S.y-S.originY*i,C&&(s=Math.round(s),l=Math.round(l)),t.drawImage(r.source.image,r.cutX,r.cutY,r.cutWidth,r.cutHeight,s,l,T,i)};class og{constructor(t){this.textureManager=t.sys.textures,this.images={}}destroy(){this.textureManager=void 0,this.images=void 0}add(t,s){if(typeof t=="string")wf.call(this,t,s);else if(Array.isArray(t))for(var l=t,C=0,S=l.length;C<S;C++)wf.call(this,l[C]);else{var l=t;for(var t in l)wf.call(this,t,l[t])}return this}has(t){return this.images.hasOwnProperty(t)}remove(t){return this.has(t)&&delete this.images[t],this}get(t){return this.has(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}getOuterWidth(t){var s=this.get(t);return s?s.width+s.left+s.right:0}getFrame(t){var s=this.get(t);return s?this.textureManager.getFrame(s.key,s.frame):void 0}hasTexture(t){return!!this.getFrame(t)}}var AA={draw:OA};Object.assign(og.prototype,AA);var iE=function(e,t){!e&&e!==0&&(e=""),t===void 0&&(t=!0),Array.isArray(e)&&(e=e.join(`
`));var s;return t?s=`${this.text}
${e}`:s=`${this.text}${e}`,s!=this.text&&this.setText(s),this};const LA=Phaser.Utils.Objects.IsPlainObject,ux=Phaser.DOM.AddToDOM,dx=Phaser.Display.Canvas.CanvasPool,FA=Phaser.GameObjects.GameObject,Ve=Phaser.Utils.Objects.GetValue,DA=Phaser.DOM.RemoveFromDOM,IA=ue.SPLITREGEXP;var Or=null,Rf=null,Of=null;class hg extends _S{constructor(t,s,l,C,S,r,T){if(LA(s)){var i=s;s=Ve(i,"x",0),l=Ve(i,"y",0),C=Ve(i,"text",""),S=Ve(i,"style")}if(s===void 0&&(s=0),l===void 0&&(l=0),super(t,r),this.renderer=t.sys.game.renderer,this.setPosition(s,l),this.setOrigin(0,0),this.initPipeline(),this.canvas=dx.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this._imageManager=void 0,S){if(S.hasOwnProperty("align")){var d=S.align;delete S.align,S.halign=d}S.hasOwnProperty("stroke")&&!S.hasOwnProperty("strokeThickness")&&(S.strokeThickness=1)}this.style=new rg(this,S);var x=Ve(S,"images",void 0);x&&this.addImage(x),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);var f=Ve(S,"sharedPool",!0),u,o,n;f?(Or||(Or={},Rf=new ls,Of=new lx,this.scene.game.events.once("destroy",function(){Or=null,Rf=null,Of=null})),Or.hasOwnProperty(r)||(Or[r]=new ls),u=Or[r],o=Rf,n=Of):(u=new ls,o=new ls,n=new lx),this.canvasText=new eE({parent:this,context:this.context,parser:T,style:this.style,pensPool:u,linesPool:o,wrapTextLinesPool:n}),this.parser=T,this.initRTL(),S&&S.padding&&this.setPadding(S.padding),this.setText(C),this.setUrlTagCursorStyle(Ve(S,"urlTagCursorStyle","pointer")),Ve(S,"interactive",!1)&&this.setInteractive()}preDestroy(){DA(this.canvas),this.canvasText.destroy(),this.canvasText=void 0,this._imageManager&&(this._imageManager.destroy(),this._imageManager=void 0),dx.remove(this.canvas),this.texture.destroy()}set text(t){this.setText(t)}get text(){return this._text}initRTL(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",ux(this.canvas,this.scene.sys.canvas),this.originX=1)}setRTL(t){t===void 0&&(t=!0);var s=this.style;if(s.rtl===t)return this;if(s.rtl=t,t?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",ux(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),s.halign==="left"?s.halign="right":s.halign==="right"&&(s.halign="left"),this._imageManager){var l=this._imageManager.images;for(var C in l)l[C].originX=1-l[C].originX}return this}setText(t){return t==null?t="":Array.isArray(t)?t=t.join(`
`):t=t.toString(),t===this._text?this:(this._text=t,this.updateText(),this)}setPadding(t,s,l,C){if(typeof t=="object"){var S=t,r=Ve(S,"x",null);r!==null?(t=r,l=r):(t=Ve(S,"left",0),l=Ve(S,"right",t));var T=Ve(S,"y",null);T!==null?(s=T,C=T):(s=Ve(S,"top",0),C=Ve(S,"bottom",s))}else t===void 0&&(t=0),s===void 0&&(s=t),l===void 0&&(l=t),C===void 0&&(C=s);return this.padding.left=t,this.padding.top=s,this.padding.right=l,this.padding.bottom=C,this.updateText(!1)}updateText(t){t===void 0&&(t=!0);var s=this.canvasText,l=this.style;t&&s.updatePenManager(this._text,l.wrapMode,l.wrapWidth,l.lineHeight);var C=this.padding,S,r,T=Math.ceil(s.linesWidth);l.fixedWidth===0?(this.width=T+C.left+C.right,S=T):(this.width=l.fixedWidth,S=this.width-C.left-C.right,S<T&&(S=T)),l.fixedHeight===0?(this.height=s.linesHeight+C.top+C.bottom,r=s.linesHeight):(this.height=l.fixedHeight,r=this.height-C.top-C.bottom,r<s.linesHeight&&(r=s.linesHeight));var i=this.width,d=this.height;this.updateDisplayOrigin();var x=l.resolution;i*=x,d*=x,i=Math.max(Math.ceil(i),1),d=Math.max(Math.ceil(d),1);var f=this.canvas,u=this.context;f.width!==i||f.height!==d?(f.width=i,f.height=d,this.frame.setSize(i,d)):u.clearRect(0,0,i,d),u.save(),u.scale(x,x);var o=this.style.rtl?C.right:C.left,n=C.top;s.draw(o,n,S,r),u.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(f,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=this.width,h.hitArea.height=this.height),this}toJSON(){var t=Components.ToJSON(this),s={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=s,t}setInteractive(t,s,l){var C=!!this.input;return FA.prototype.setInteractive.call(this,t,s,l),C||this.canvasText.setInteractive(),this}setUrlTagCursorStyle(t){return this.urlTagCursorStyle=t,this}get urlTagCursorStyle(){return this.canvasText.urlTagCursorStyle}set urlTagCursorStyle(t){this.canvasText.urlTagCursorStyle=t}getWrappedText(t,s,l){return t=this.canvasText.getText(t,s,l,!0),t.split(IA)}getPlainText(t,s,l){return this.canvasText.getPlainText(t,s,l)}getText(t,s,l,C){return C===void 0&&(C=!1),this.canvasText.getText(t,s,l,C)}getSubString(t,s,l){return this.getText(t,s,l)}copyPenManager(t){return this.canvasText.copyPenManager(t)}getPenManager(t,s){return this.canvasText.getPenManager(t,s)}setSize(t,s){return this.setFixedSize(t,s)}resize(t,s){return this.setFixedSize(t,s)}get imageManager(){return this._imageManager||(this._imageManager=new og(this.scene)),this._imageManager}addImage(t,s){return this.imageManager.add(t,s),this}drawAreaBounds(t,s){return this.canvasText.hitAreaManager.drawBounds(t,s,this),this}generateTexture(t,s,l,C,S){var r=this.canvas;return C===void 0?C=r.width:C*=this.resolution,S===void 0?S=r.height:S*=this.resolution,JS(this.scene,r,t,s,l,C,S),this}}var BA={appendText:iE};Object.assign(hg.prototype,BA);var bA=function(e,t){for(var s=this.tagRegex,l=[],C=0,S=!1,r=!1;;){var T=s.RE_SPLITTEXT.exec(e);if(!T)break;var i=T[0];if(r)if(s.RE_ESC_CLOSE.test(i))r=!1;else continue;else if(S)if(s.RE_RAW_CLOSE.test(i))S=!1;else continue;else s.RE_ESC_OPEN.test(i)?r=!0:s.RE_RAW_OPEN.test(i)&&(S=!0);var d=s.RE_SPLITTEXT.lastIndex,x=d-i.length;if(C<x){var f=e.substring(C,x);l.push(f)}t===void 0&&l.push(i),C=d}var u=e.length;return C<u&&l.push(e.substring(C,u)),l};const se=!1,ee=!0;var GA={plainText:null,prevProp:null},NA=function(e,t){var s=this.tagRegex;t==null&&(t={});var l="";if(t.img&&yt(t,se,"img"),t.esc)s.RE_ESC_CLOSE.test(e)?yt(t,se,"esc"):l=e;else if(t.raw)s.RE_RAW_CLOSE.test(e)?yt(t,se,"raw"):l=e;else if(s.RE_ESC_OPEN.test(e))yt(t,ee,"esc",!0);else if(s.RE_ESC_CLOSE.test(e))yt(t,se,"esc");else if(s.RE_RAW_OPEN.test(e))yt(t,ee,"raw",!0);else if(s.RE_RAW_CLOSE.test(e))yt(t,se,"raw");else if(s.RE_BLOD_OPEN.test(e))yt(t,ee,"b",!0);else if(s.RE_BLOD_CLOSE.test(e))yt(t,se,"b");else if(s.RE_ITALICS_OPEN.test(e))yt(t,ee,"i",!0);else if(s.RE_ITALICS_CLOSE.test(e))yt(t,se,"i");else if(s.RE_WEIGHT_OPEN.test(e)){var C=e.match(s.RE_WEIGHT_OPEN);yt(t,ee,"weight",C[1])}else if(s.RE_WEIGHT_CLOSE.test(e))yt(t,se,"weight");else if(s.RE_SIZE_OPEN.test(e)){var C=e.match(s.RE_SIZE_OPEN);yt(t,ee,"size",`${C[1]}px`)}else if(s.RE_SIZE_CLOSE.test(e))yt(t,se,"size");else if(s.RE_COLOR_OPEN.test(e)){var C=e.match(s.RE_COLOR_OPEN);yt(t,ee,"color",C[1])}else if(s.RE_COLOR_CLOSE.test(e))yt(t,se,"color");else if(s.RE_UNDERLINE_OPEN.test(e))yt(t,ee,"u",!0);else if(s.RE_UNDERLINE_OPENC.test(e)){var C=e.match(s.RE_UNDERLINE_OPENC);yt(t,ee,"u",C[1])}else if(s.RE_UNDERLINE_CLOSE.test(e))yt(t,se,"u");else if(s.RE_STRIKETHROUGH_OPEN.test(e))yt(t,ee,"s",!0);else if(s.RE_STRIKETHROUGH_OPENC.test(e)){var C=e.match(s.RE_STRIKETHROUGH_OPENC);yt(t,ee,"s",C[1])}else if(s.RE_STRIKETHROUGH_CLOSE.test(e))yt(t,se,"s");else if(s.RE_SHADOW_OPEN.test(e))yt(t,ee,"shadow",!0);else if(s.RE_SHADOW_CLOSE.test(e))yt(t,se,"shadow");else if(s.RE_STROKE_OPEN.test(e))yt(t,ee,"stroke",!0);else if(s.RE_STROKE_OPENC.test(e)){var C=e.match(s.RE_STROKE_OPENC);yt(t,ee,"stroke",C[1])}else if(s.RE_STROKE_CLOSE.test(e))yt(t,se,"stroke");else if(s.RE_OFFSETY_OPEN.test(e)){var C=e.match(s.RE_OFFSETY_OPEN);yt(t,ee,"y",parseFloat(C[1]))}else if(s.RE_OFFSETY_CLOSE.test(e))yt(t,se,"y");else if(s.RE_IMAGE_OPEN.test(e)){var C=e.match(s.RE_IMAGE_OPEN);yt(t,ee,"img",C[1])}else if(s.RE_IMAGE_CLOSE.test(e))yt(t,se,"img");else if(s.RE_AREA_OPEN.test(e)){var C=e.match(s.RE_AREA_OPEN);yt(t,ee,"area",C[1])}else if(s.RE_AREA_CLOSE.test(e))yt(t,se,"area");else if(s.RE_URL_OPEN.test(e)){var C=e.match(s.RE_URL_OPEN);yt(t,ee,"url",C[1])}else if(s.RE_URL_CLOSE.test(e))yt(t,se,"url");else if(s.RE_ALIGN_OPEN.test(e)){var C=e.match(s.RE_ALIGN_OPEN);yt(t,ee,"align",C[1])}else s.RE_ALIGN_CLOSE.test(e)?yt(t,se,"align"):l=e;var S=GA;return S.plainText=l,S.prop=t,S},yt=function(e,t,s,l){return t===ee?e[s]=l:e.hasOwnProperty(s)&&delete e[s],e},zA=function(e,t){var s=VA;if(t.hasOwnProperty("img"))s.image=t.img;else{if(s.image=null,t.hasOwnProperty("family")?s.fontFamily=t.family:s.fontFamily=e.fontFamily,t.hasOwnProperty("size")){var l=t.size;typeof l=="number"&&(l=`${l}px`),s.fontSize=l}else s.fontSize=e.fontSize;s.fontStyle=kA(t),t.hasOwnProperty("color")?s.color=t.color:s.color=e.color,t.hasOwnProperty("stroke")?t.stroke===!0?(s.stroke=e.stroke,s.strokeThickness=e.strokeThickness):(s.stroke=t.stroke,s.strokeThickness=e.strokeThickness):(s.stroke=e.stroke,s.strokeThickness=0)}return t.hasOwnProperty("shadow")?t.shadow===!0?(s.shadowColor=e.shadowColor,s.shadowOffsetX=e.shadowOffsetX,s.shadowOffsetY=e.shadowOffsetY,s.shadowBlur=e.shadowBlur,s.shadowStroke=!0,s.shadowFill=!0):(s.shadowColor=t.shadow,s.shadowOffsetX=e.shadowOffsetX,s.shadowOffsetY=e.shadowOffsetY,s.shadowBlur=e.shadowBlur,s.shadowStroke=!0,s.shadowFill=!0):(s.shadowColor="#000",s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowBlur=0,s.shadowStroke=!1,s.shadowFill=!1),t.hasOwnProperty("u")?t.u===!0?(s.underlineColor=e.underlineColor,s.underlineThickness=e.underlineThickness,s.underlineOffset=e.underlineOffset):(s.underlineColor=t.u,s.underlineThickness=e.underlineThickness,s.underlineOffset=e.underlineOffset):(s.underlineColor="#000",s.underlineThickness=0,s.underlineOffset=0),t.hasOwnProperty("s")?t.s===!0?(s.strikethroughColor=e.strikethroughColor,s.strikethroughThickness=e.strikethroughThickness,s.strikethroughOffset=e.strikethroughOffset):(s.strikethroughColor=t.s,s.strikethroughThickness=e.strikethroughThickness,s.strikethroughOffset=e.strikethroughOffset):(s.strikethroughColor="#000",s.strikethroughThickness=0,s.strikethroughOffset=0),s},kA=function(e){var t=e.b,s=e.weight,l=e.i;return t||s||l?l?t?"bold italic":s?`${s} italic`:"italic":t?"bold":s.toString():""},VA=new rg,UA=function(e,t,s){s==null&&(s=XA);var l=this.delimiters[0],C=this.delimiters[1],S=[];for(var r in s)t.hasOwnProperty(r)||S.push(`${l}/${r}${C}`);for(var r in t){var T=t[r];if(s[r]!==T)switch(r){case"size":S.push(`${l}size=${T.replace("px","")}${C}`);break;case"color":case"weight":case"stroke":case"y":case"img":case"area":case"url":case"align":S.push(`${l}${r}=${T}${C}`);break;case"u":case"s":T===!0?S.push(`${l}${r}${C}`):S.push(`${l}${r}=${T}${C}`);break;default:S.push(`${l}${r}${C}`);break}}return S.push(e),S.join("")},XA={},Aa=function(e){return e.replace(YA,"\\$&").replace(WA,"\\x2d")},YA=/[|\\{}()[\]^$+*?.]/g,WA=/-/g,fx,cx,Tt={},ne=function(e,t,s,l){return l===void 0?`${e}${s}${t}`:`${e}${s}=(${l})${t}`},Re=function(e,t,s){return`${e}/${s}${t}`},Af="[-.0-9]+",tl="[a-z]+|#[0-9abcdef]+",el="[^\\]]+",sE=function(e,t){if(t===void 0){var s=e;e=s[0],t=s[1]}if(fx===e&&cx===t)return!1;fx=e,cx=t,e=Aa(e),t=Aa(t);var l="esc",C=ne(e,t,l),S=Re(e,t,l),r="raw",T=ne(e,t,r),i=Re(e,t,r),d="b",x=ne(e,t,d),f=Re(e,t,d),u="i",o=ne(e,t,u),n=Re(e,t,u),h="weight",p=ne(e,t,h,Af),a=Re(e,t,h),c="size",v=ne(e,t,c,Af),g=Re(e,t,c),m="color",y=ne(e,t,m,tl),P=Re(e,t,m),M="u",E=ne(e,t,M),w=ne(e,t,M,tl),R=Re(e,t,M),O="s",A=ne(e,t,O),F=ne(e,t,O,tl),L=Re(e,t,O),I="shadow",B=ne(e,t,I),b=Re(e,t,I),k="stroke",U=ne(e,t,k),Y=ne(e,t,k,tl),H=Re(e,t,k),z="y",V=ne(e,t,z,Af),D=Re(e,t,z),G="img",N=ne(e,t,G,el),X=Re(e,t,G),W="area",$=ne(e,t,W,el),K=Re(e,t,W),j="url",Z=ne(e,t,j,el),J=Re(e,t,j),Q="align",_=ne(e,t,Q,el),q=Re(e,t,Q);return Tt.RE_ESC_OPEN=new RegExp(C,"i"),Tt.RE_ESC_CLOSE=new RegExp(S,"i"),Tt.RE_RAW_OPEN=new RegExp(T,"i"),Tt.RE_RAW_CLOSE=new RegExp(i,"i"),Tt.RE_BLOD_OPEN=new RegExp(x,"i"),Tt.RE_BLOD_CLOSE=new RegExp(f,"i"),Tt.RE_ITALICS_OPEN=new RegExp(o,"i"),Tt.RE_ITALICS_CLOSE=new RegExp(n,"i"),Tt.RE_WEIGHT_OPEN=new RegExp(p,"i"),Tt.RE_WEIGHT_CLOSE=new RegExp(a,"i"),Tt.RE_SIZE_OPEN=new RegExp(v,"i"),Tt.RE_SIZE_CLOSE=new RegExp(g,"i"),Tt.RE_COLOR_OPEN=new RegExp(y,"i"),Tt.RE_COLOR_CLOSE=new RegExp(P,"i"),Tt.RE_UNDERLINE_OPEN=new RegExp(E,"i"),Tt.RE_UNDERLINE_OPENC=new RegExp(w,"i"),Tt.RE_UNDERLINE_CLOSE=new RegExp(R,"i"),Tt.RE_STRIKETHROUGH_OPEN=new RegExp(A,"i"),Tt.RE_STRIKETHROUGH_OPENC=new RegExp(F,"i"),Tt.RE_STRIKETHROUGH_CLOSE=new RegExp(L,"i"),Tt.RE_SHADOW_OPEN=new RegExp(B,"i"),Tt.RE_SHADOW_CLOSE=new RegExp(b,"i"),Tt.RE_STROKE_OPEN=new RegExp(U,"i"),Tt.RE_STROKE_OPENC=new RegExp(Y,"i"),Tt.RE_STROKE_CLOSE=new RegExp(H,"i"),Tt.RE_OFFSETY_OPEN=new RegExp(V,"i"),Tt.RE_OFFSETY_CLOSE=new RegExp(D,"i"),Tt.RE_IMAGE_OPEN=new RegExp(N,"i"),Tt.RE_IMAGE_CLOSE=new RegExp(X,"i"),Tt.RE_AREA_OPEN=new RegExp($,"i"),Tt.RE_AREA_CLOSE=new RegExp(K,"i"),Tt.RE_URL_OPEN=new RegExp(Z,"i"),Tt.RE_URL_CLOSE=new RegExp(J,"i"),Tt.RE_ALIGN_OPEN=new RegExp(_,"i"),Tt.RE_ALIGN_CLOSE=new RegExp(q,"i"),Tt.RE_SPLITTEXT=new RegExp([T,i,C,S,x,f,o,n,p,a,v,g,y,P,E,w,R,A,F,L,B,b,U,Y,H,V,D,N,X,$,K,Z,J,_,q].join("|"),"ig"),!0},vx=function(e,t){return e!==void 0&&sE(e,t),Object.assign({},Tt)};const HA=Phaser.Utils.Objects.GetValue;let nE=class{constructor(t){var s=HA(t,"delimiters","[]");this.tagRegex=vx(s),this.delimiters=s}getStrokeThinkness(t,s){var l;return s.hasOwnProperty("stroke")?l=t.strokeThickness:l=0,l}setDelimiters(t,s){return sE(t,s)&&(this.tagRegex=vx()),this}};var $A={splitText:bA,tagTextToProp:NA,propToContextStyle:zA,propToTagText:UA};Object.assign(nE.prototype,$A);class lg extends hg{constructor(t,s,l,C,S){var r=new nE(S);super(t,s,l,C,S,"rexBBCodeText",r)}setDelimiters(t,s){return this.parse.setDelimiters(t,s),this}}st.register("BBCodeText",function(e,t,s,l){var C=new lg(this.scene,e,t,s,l);return this.scene.add.existing(C),C});it(window,"RexPlugins.UI.BBCodeText",lg);var KA={plainText:null,prevProp:null},jA=new rg;let ZA=class{constructor(t){t===void 0&&(t={}),this.tags=t}addTag(t,s){this.tags[t]=s}getTag(t){return this.tags[t]}splitText(t,s){for(var l=[],C=0;;){var S=Lf.exec(t);if(!S)break;var r=S[0],T=Lf.lastIndex-r.length;if(C<T&&l.push(t.substring(C,T)),s===void 0)l.push(r);else if(s===1){if(gx.test(r)){var i=r.match(mx);l.push(i[2])}else if(xx.test(r)){var i=r.match(yx);l.push(i[2])}}C=Lf.lastIndex}var d=t.length;return C<d&&l.push(t.substring(C,d)),l}tagTextToProp(t,s){var l,C;if(gx.test(t)){var S=t.match(mx);if(S!=null){var r=S[1],T=this.tags;T.hasOwnProperty(r)?C=T[r]:C={},C._class=r,l=S[2]}}else if(xx.test(t)){var S=t.match(yx);if(S!=null){var i=S[1];C=JA(i),C._style=i,l=S[2]}}l==null&&(l=t),C==null&&(C={});var d=KA;return d.plainText=l,d.prop=C,d}propToContextStyle(t,s){var l=jA;if(s.hasOwnProperty("img"))l.image=s.img;else{if(l.image=null,s.hasOwnProperty("family")||s.hasOwnProperty("fontFamily")||s.hasOwnProperty("font-family")){var C=s.hasOwnProperty("family")?s.family:s.hasOwnProperty("fontFamily")?s.fontFamily:s["font-family"];l.fontFamily=C}else l.fontFamily=t.fontFamily;if(s.hasOwnProperty("size")||s.hasOwnProperty("fontSize")||s.hasOwnProperty("font-size")){var S=s.hasOwnProperty("size")?s.size:s.hasOwnProperty("fontSize")?s.fontSize:s["font-size"];typeof S=="number"&&(S=`${S}px`),l.fontSize=S}else l.fontSize=t.fontSize;if(s.hasOwnProperty("style")||s.hasOwnProperty("fontStyle")||s.hasOwnProperty("font-style")){var r=s.hasOwnProperty("style")?s.style:s.hasOwnProperty("fontStyle")?s.fontStyle:s["font-style"];l.fontStyle=r}else l.fontStyle=t.fontStyle;if(s.hasOwnProperty("color")||s.hasOwnProperty("font-color")){var T=s.hasOwnProperty("color")?s.color:s["font-color"];l.color=T}else l.color=t.color;if(s.hasOwnProperty("stroke")){var i=s.stroke;l.stroke=i.hasOwnProperty("color")?i.color:t.stroke,l.strokeThickness=i.hasOwnProperty("thickness")?i.thickness:t.strokeThickness}else l.stroke=t.stroke,l.strokeThickness=t.strokeThickness}if(s.hasOwnProperty("shadow")){var d=s.shadow;l.shadowColor=d.hasOwnProperty("color")?d.color:t.shadowColor,l.shadowOffsetX=d.hasOwnProperty("offsetX")?d.offsetX:t.shadowOffsetX,l.shadowOffsetY=d.hasOwnProperty("offsetY")?d.offsetY:t.shadowOffsetY,l.shadowBlur=d.hasOwnProperty("blur")?d.blur:t.shadowBlur,l.shadowStroke=!0,l.shadowFill=!0}else l.shadowColor=t.shadowColor,l.shadowOffsetX=t.shadowOffsetX,l.shadowOffsetY=t.shadowOffsetY,l.shadowBlur=t.shadowBlur,l.shadowStroke=t.shadowStroke,l.shadowFill=t.shadowFill;if(s.hasOwnProperty("u")||s.hasOwnProperty("underline")){var x=s.hasOwnProperty("u")?s.u:s.underline;l.underlineColor=x.hasOwnProperty("color")?x.color:t.underlineColor,l.underlineThickness=x.hasOwnProperty("thickness")?x.thickness:t.underlineThickness,l.underlineOffset=x.hasOwnProperty("offset")?x.offset:t.underlineOffset}else l.underlineColor=t.underlineColor,l.underlineThickness=t.underlineThickness,l.underlineOffset=t.underlineOffset;if(s.hasOwnProperty("s")||s.hasOwnProperty("strikethrough")){var f=s.hasOwnProperty("s")?s.s:s.strikethrough;l.strikethroughColor=f.hasOwnProperty("color")?f.color:t.strikethroughColor,l.strikethroughThickness=f.hasOwnProperty("thickness")?f.thickness:t.strikethroughThickness,l.strikethroughOffset=f.hasOwnProperty("offset")?f.offset:t.strikethroughOffset}else l.strikethroughColor=t.strikethroughColor,l.strikethroughThickness=t.strikethroughThickness,l.strikethroughOffset=t.strikethroughOffset;return l}getStrokeThinkness(t,s){var l;if(s.hasOwnProperty("stroke")){var C=s.stroke;l=C.hasOwnProperty("thickness")?C.thickness:t.strokeThickness}else l=t.strokeThickness;return l}propToTagText(t,s,l){return s.hasOwnProperty("_class")?t===""&&this.isTextTag(s._class)?"":`<class='${s._class}'>${t}</class>`:s.hasOwnProperty("_style")?`<style='${s._style}'>${t}</style>`:t}destroy(){this.tags=void 0}isTextTag(t){var s=this.tags[t];return s?s.img==null:!1}};var JA=function(e){e=e.split(";");for(var t={},s,l,C,S=0,r=e.length;S<r;S++)if(s=e[S].split(":"),l=s[0],C=s[1],!(px(l)||px(C))){switch(l){case"stroke":var T=C.split(" "),i=T.length;C={},i>=1&&(C.color=T[0]),i>=2&&(C.thickness=parseInt(T[1].replace("px","")));break;case"shadow":var T=C.split(" "),i=T.length;C={},i>=1&&(C.color=T[0]),i>=2&&(C.offsetX=parseInt(T[1].replace("px",""))),i>=3&&(C.offsetY=parseInt(T[2].replace("px",""))),i>=4&&(C.blur=parseInt(T[3].replace("px","")));break;case"u":case"underline":case"s":case"strikethrough":var T=C.split(" "),i=T.length;C={},i>=1&&(C.color=T[0]),i>=2&&(C.thickness=parseInt(T[1].replace("px",""))),i>=3&&(C.offset=parseInt(T[2].replace("px",""))),l==="underline"?l="u":l==="strikethrough"&&(l="s");break;case"y":C=parseFloat(C);break}t[l]=C}return t},px=function(e){return e=e.replace(QA,""),e.length===0},Lf=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,gx=/<\s*class=/i,mx=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,xx=/<\s*style=/i,yx=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,QA=/^\s+|\s+$/;const qA=Phaser.Utils.Objects.GetValue;class rE extends hg{constructor(t,s,l,C,S){var r=qA(S,"tags",void 0),T=new ZA(r);super(t,s,l,C,S,"rexTagText",T)}addTag(t,s){return this.parser.addTag(t,s),this.updateText(!0)}addTags(t){for(var s in t)this.parser.addTag(s,t[s]);return this.updateText(!0)}getTag(t){return this.parser.getTag(t)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}}st.register("tagText",function(e,t,s,l){var C=new rE(this.scene,e,t,s,l);return this.scene.add.existing(C),C});it(window,"RexPlugins.UI.TagText",rE);const il=Phaser.Utils.Objects.GetValue;var tu=function(e,t){return t===void 0?e:e[t]},pn=function(e,t,s){e===void 0&&(e={}),t===void 0&&(t=0);var l=typeof t;return l==="string"?e[t]=s:l==="number"?(e.left=t,e.right=t,e.top=t,e.bottom=t):(e.left=il(t,"left",0),e.right=il(t,"right",0),e.top=il(t,"top",0),e.bottom=il(t,"bottom",0)),e};let ug=class{constructor(t,s){this.setParent(t),this.type=s,this.renderable=!1,this.reset().setActive()}destroy(){this.parent.removeChild(this)}setParent(t){return this.parent=t,this}get scene(){return this.parent.scene}get canvas(){return this.parent?this.parent.canvas:null}get context(){return this.parent?this.parent.context:null}setDirty(t){return t&&this.parent&&(this.parent.dirty=!0),this}get active(){return this._active}set active(t){this.setDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}onFree(){this.reset().setParent()}reset(){return this}render(){}contains(t,s){return!1}};Object.assign(ug.prototype,td);const _A={renderContent(){},render(){if(!this.willRender)return this;var e=this.context;if(e.save(),e.globalAlpha=this.alpha,this.toLocalPosition){var t=this.drawX,s=this.drawY;this.autoRound&&(t=Math.round(t),s=Math.round(s)),e.translate(t,s),e.scale(this.scaleX,this.scaleY),e.rotate(this.rotation)}return this.drawBelowCallback&&this.drawBelowCallback(this),this.renderContent(),this.drawAboveCallback&&this.drawAboveCallback(this),e.restore(),this}},tL=Phaser.Math.RotateAround;var eL=function(e,t,s,l){return l===void 0?l={}:l===!0&&(Ff===void 0&&(Ff={}),l=Ff),l.x=(e-s.drawX)/s.scaleX,l.y=(t-s.drawY)/s.scaleY,s.rotation!==0&&tL(l,0,0,-s.rotation),l},Ff;const iL=Phaser.Geom.Rectangle;var sL=function(e,t){if(this.width===0||this.height===0)return!1;var s=eL(e,t,this,!0);return nL(this).contains(s.x,s.y)},nL=function(e){sl===void 0&&(sl=new iL);var t=e.drawTLX,s=e.drawTLY;return sl.setTo(t,s,e.drawTRX-t,e.drawBLY-s),sl},sl;const rL=Phaser.Math.RotateAround;var aE=function(e,t,s,l){return l===void 0?l={}:l===!0&&(Df===void 0&&(Df={}),l=Df),l.x=t,l.y=s,e.rotation!==0&&rL(l,0,0,e.rotation),l.x=l.x*e.scaleX+e.drawX,l.y=l.y*e.scaleY+e.drawY,l},Df;const Cx=Phaser.GameObjects.Components.TransformMatrix;var aL=function(e,t,s,l){l===void 0?l={}:l===!0&&(l=oL);var C=t-e.width*e.originX,S=s-e.height*e.originY;return to===void 0&&(to=new Cx,Tx=new Cx),e.parentContainer?e.getWorldTransformMatrix(to,Tx):to.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),to.transformPoint(C,S,l),l},to,Tx,oL={},hL=function(e,t,s,l,C){var S=aE(t,s,l,!0),r=aL(e,S.x,S.y,C);return r},oE=function(e,t,s,l,C){typeof s!="number"&&(C=s,s=0,l=0);var S=t.drawCenterX+s,r=t.drawCenterY+l;return hL(e,t,S,r,C)},lL=function(e,t,s){return oE(this.parent,this,e,t,s)},hE={contains:sL,getWorldPosition:lL};Object.assign(hE,_A);const uL=Phaser.Math.DegToRad,dL=Phaser.Math.RadToDeg,nl=Phaser.Utils.Objects.GetValue;class mr extends ug{constructor(t,s){super(t,s),this.renderable=!0,this.toLocalPosition=!0,this.originX=0,this.offsetX=0,this.offsetY=0}get visible(){return this._visible}set visible(t){this.setDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDirty(this._alpha!=t),this._alpha=t}setAlpha(t){return this.alpha=t,this}get x(){return this._x}set x(t){this.setDirty(this._x!=t),this._x=t}setX(t){return this.x=t,this}get y(){return this._y}set y(t){this.setDirty(this._y!=t),this._y=t}setY(t){return this.y=t,this}setPosition(t,s){return this.x=t,this.y=s,this}setInitialPosition(t,s){return this.x0=t,this.y0=s,this}get rotation(){return this._rotation}set rotation(t){this.setDirty(this._rotation!=t),this._rotation=t}setRotation(t){return this.rotation=t,this}get angle(){return dL(this._rotation)}set angle(t){this.rotation=uL(t)}setAngle(t){return this.angle=t,this}get scaleX(){return this._scaleX}set scaleX(t){this.setDirty(this._scaleX!==t),this._scaleX=t}setScaleX(t){return this.scaleX=t,this}get width(){return 0}set width(t){}setWidth(t,s){return s===void 0&&(s=!1),this.width=t,s&&(this.scaleY=this.scaleX),this}get leftSpace(){return this._leftSpace}set leftSpace(t){this.setDirty(this._leftSpace!==t),this._leftSpace=t}setLeftSpace(t){return this.leftSpace=t,this}get rightSpace(){return this._rightSpace}set rightSpace(t){this.setDirty(this._rightSpace!==t),this._rightSpace=t}setRightSpace(t){return this.rightSpace=t,this}get outerWidth(){return this.width+this.leftSpace+this.rightSpace}get scaleY(){return this._scaleY}set scaleY(t){this.setDirty(this._scaleY!==t),this._scaleY=t}setScaleY(t){return this.scaleY=t,this}get height(){return 0}set height(t){}setHeight(t,s){return s===void 0&&(s=!1),this.height=t,s&&(this.scaleX=this.scaleY),this}setScale(t,s){return s===void 0&&(s=t),this.scaleX=t,this.scaleY=s,this}setOrigin(t){return this.originX=t,this}setAlign(t){return this.align=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var s=nl(t,"width",void 0),l=nl(t,"height",void 0),C=nl(t,"scaleX",void 0),S=nl(t,"scaleY",void 0);return s!==void 0?l===void 0&&S===void 0?this.setWidth(s,!0):this.setWidth(s):C!==void 0&&this.setScaleX(C),l!==void 0?s===void 0&&C===void 0?this.setHeight(l,!0):this.setHeight(l):S!==void 0&&this.setScaleY(S),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),this}setDrawBelowCallback(t){return this.drawBelowCallback=t,this}setDrawAboveCallback(t){return this.drawAboveCallback=t,this}reset(){return this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setLeftSpace(0).setRightSpace(0).setOrigin(0).setAlign().setDrawBelowCallback().setDrawAboveCallback(),this}get willRender(){return this.visible&&this.alpha>0}get drawX(){return this.x+this.leftSpace+this.offsetX-this.originX*this.width}get drawY(){return this.y+this.offsetY}get drawTLX(){return 0}get drawTLY(){return 0}get drawBLX(){return 0}get drawBLY(){return 0}get drawTRX(){return 0}get drawTRY(){return 0}get drawBRX(){return 0}get drawBRY(){return 0}get drawCenterX(){return(this.drawTRX+this.drawTLX)/2}get drawCenterY(){return(this.drawBLY+this.drawTLY)/2}}Object.assign(mr.prototype,hE);var an=function(e,t,s){return t.hasOwnProperty(e)?t[e]:s[e]};const kn=Phaser.Utils.Objects.GetValue;class fL extends mr{constructor(t,s){super(t,"background"),this.setColor(kn(s,"color",null),kn(s,"color2",null),kn(s,"horizontalGradient",!0)),this.setStroke(kn(s,"stroke",null),kn(s,"strokeThickness",2)),this.setCornerRadius(kn(s,"cornerRadius",0),kn(s,"cornerIteration",null))}set color(t){t=vt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=vt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,s,l){return l===void 0&&(l=!0),this.color=t,this.color2=s,this.horizontalGradient=l,this}set stroke(t){t=vt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,s){return t!=null&&s===void 0&&(s=2),this.stroke=t,this.strokeThickness=s,this}set cornerRadius(t){this.setDirty(this._cornerRadius!=t),this._cornerRadius=t}get cornerRadius(){return this._cornerRadius}set cornerIteration(t){this.setDirty(this._cornerIteration!=t),this._cornerIteration=t}get cornerIteration(){return this._cornerIteration}modifyStyle(t){return t.hasOwnProperty("color")&&this.setColor(t.color,an("color2",t,this),an("horizontalGradient",t,this)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,an("strokeThickness",t,this)),t.hasOwnProperty("cornerRadius")&&this.setCornerRadius(t.cornerRadius,an("cornerIteration",t,this)),this}modifyPorperties(t){return super.modifyPorperties(t),this.modifyStyle(t),this}setCornerRadius(t,s){return this.cornerRadius=t,this.cornerIteration=s,this}renderContent(){ng(this.parent,this.color,this.stroke,this.strokeThickness,this.cornerRadius,this.color2,this.horizontalGradient,this.cornerIteration)}}const Ys=Phaser.Utils.Objects.GetValue;class cL extends mr{constructor(t,s){super(t,"innerbounds"),this.setColor(Ys(s,"color",null),Ys(s,"color2",null),Ys(s,"horizontalGradient",!0)),this.setStroke(Ys(s,"stroke",null),Ys(s,"strokeThickness",2))}set color(t){t=vt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=vt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,s,l){return l===void 0&&(l=!0),this.color=t,this.color2=s,this.horizontalGradient=l,this}set stroke(t){t=vt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,s){return t!=null&&s===void 0&&(s=2),this.stroke=t,this.strokeThickness=s,this}modifyPorperties(t){super.modifyPorperties(t),t.hasOwnProperty("color")&&this.setColor(t.color,Ys(t,"color2",null),Ys(t,"horizontalGradient",!0)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,Ys(t,"strokeThickness",2))}renderContent(){var t=this.parent.padding,s=t.left,l=t.top,C=this.parent.width-t.left-t.right,S=this.parent.height-t.top-t.bottom,r=this.context;if(this.color!=null){var T;if(this.color2!=null){var i;this.horizontalGradient?i=r.createLinearGradient(0,0,C,0):i=r.createLinearGradient(0,0,0,S),i.addColorStop(0,this.color),i.addColorStop(1,this.color2),T=i}else T=this.color;r.fillStyle=T,r.fillRect(s,l,C,S)}this.stroke!=null&&this.strokeThickness>0&&(r.strokeStyle=this.stroke,r.lineWidth=this.strokeThickness,r.strokeRect(s,l,C,S))}}const re=Phaser.Utils.Objects.GetValue;class sd{constructor(t,s){this.parent=t,this.set(s)}toJSON(){return{bold:this.bold,italic:this.italic,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color,stroke:this.stroke,strokeThickness:this.strokeThickness,shaodwColor:this.shadowColor,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,offsetX:this.offsetX,offsetY:this.offsetY,leftSpace:this.leftSpace,rightSpace:this.rightSpace,backgroundHeight:this.backgroundHeight,backgroundBottomY:this.backgroundBottomY,align:this.align}}set(t){return this.setBold(re(t,"bold",!1)),this.setItalic(re(t,"italic",!1)),this.setFontSize(re(t,"fontSize","16px")),this.setFontFamily(re(t,"fontFamily","Courier")),this.setColor(re(t,"color","#fff")),this.setStrokeStyle(re(t,"stroke",null),re(t,"strokeThickness",0)),this.setShadow(re(t,"shadowColor",null),re(t,"shadowOffsetX",0),re(t,"shadowOffsetY",0),re(t,"shadowBlur",0)),this.setOffset(re(t,"offsetX",0),re(t,"offsetY",0)),this.setSpace(re(t,"leftSpace",0),re(t,"rightSpace",0)),this.setAlign(re(t,"align",void 0)),this.setBackgroundColor(re(t,"backgroundColor",null)),this.setBackgroundHeight(re(t,"backgroundHeight",void 0)),this.setBackgroundBottomY(re(t,"backgroundBottomY",void 0)),this}modify(t){return t.hasOwnProperty("bold")&&this.setBold(t.bold),t.hasOwnProperty("italic")&&this.setItalic(t.italic),t.hasOwnProperty("fontSize")&&this.setFontSize(t.fontSize),t.hasOwnProperty("fontFamily")&&this.setFontFamily(t.fontFamily),t.hasOwnProperty("color")&&this.setColor(t.color),(t.hasOwnProperty("stroke")||t.hasOwnProperty("strokeThickness"))&&this.setStrokeStyle(an("stroke",t,this),an("strokeThickness",t,this)),t.hasOwnProperty("shadowColor")&&this.setShadowColor(t.shadowColor),(t.hasOwnProperty("shadowOffsetX")||t.hasOwnProperty("shadowOffsetY"))&&this.setShadowOffset(an("shadowOffsetX",t,this),an("shadowOffsetY",t,this)),t.hasOwnProperty("shadowBlur")&&this.setShadowBlur(t.shaodwBlur),t.hasOwnProperty("offsetX")&&this.setOffsetX(t.offsetX),t.hasOwnProperty("offsetY")&&this.setOffsetY(t.offsetY),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),t.hasOwnProperty("backgroundColor")&&this.setBackgroundColor(t.backgroundColor),t.hasOwnProperty("backgroundHeight")&&this.setBackgroundHeight(t.backgroundHeight),t.hasOwnProperty("backgroundBottomY")&&this.setBackgroundBottomY(t.backgroundBottomY),this}setUpdateTextFlag(){return this.parent&&(this.parent.updateTextFlag=!0),this}clone(){return new sd(null,this.toJSON())}copyFrom(t){return this.set(t.toJSON()),this}copyTo(t){return t.set(this.toJSON()),this}setBold(t){return t===void 0&&(t=!0),this.bold=t,this.setUpdateTextFlag(),this}setItalic(t){return t===void 0&&(t=!0),this.italic=t,this.setUpdateTextFlag(),this}get fontStyle(){return this.bold&&this.italic?"bold italic":this.bold?"bold":this.italic?"italic":""}setFontSize(t){return typeof t=="number"&&(t=`${t}px`),this.fontSize=t,this.setUpdateTextFlag(),this}setFontFamily(t){return this.fontFamily=t,this.setUpdateTextFlag(),this}get font(){return`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`}setColor(t){return this.color=vt(t),this}get hasFill(){return this.color!=null}setStrokeStyle(t,s){return this.stroke=vt(t),s!==void 0&&(this.strokeThickness=s),this}setStrokeThickness(t){return this.strokeThickness=t,this}get hasStroke(){return this.stroke!=null&&this.strokeThickness>0}setShadowColor(t){return this.shadowColor=vt(t),this}setShadowOffset(t,s){return t===void 0&&(t=0),s===void 0&&(s=0),this.shadowOffsetX=t,this.shadowOffsetY=s,this}setShadowBlur(t){return t===void 0&&(t=0),this.shaodwBlur=t,this}setShadow(t,s,l,C){return this.setShadowColor(t).setShadowOffset(s,l).setShadowBlur(C),this}setBackgroundColor(t){return this.backgroundColor=vt(t),this}get hasBackgroundColor(){return this.backgroundColor!=null}setBackgroundHeight(t){return this.backgroundHeight=t,this}setBackgroundBottomY(t){return this.backgroundBottomY=t,this}setOffsetX(t){return t===void 0&&(t=0),this.offsetX=t,this}setOffsetY(t){return t===void 0&&(t=0),this.offsetY=t,this}setOffset(t,s){return this.setOffsetX(t).setOffsetY(s),this}setLeftSpace(t){return t===void 0&&(t=0),this.leftSpace=t,this}setRightSpace(t){return t===void 0&&(t=0),this.rightSpace=t,this}setSpace(t,s){return this.setLeftSpace(t).setRightSpace(s),this}setAlign(t){return this.align=t,this}syncFont(t){return t.font=this.font,this}syncStyle(t){t.textBaseline="alphabetic";var s=this.hasFill,l=this.hasStroke;return t.fillStyle=s?this.color:"#000",t.strokeStyle=l?this.stroke:"#000",t.lineWidth=l?this.strokeThickness:0,t.lineCap="round",t.lineJoin="round",this}syncShadow(t){t.shadowColor!=null?(t.shadowColor=this.shadowColor,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur):(t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0)}getTextMetrics(t,s){return this.syncFont(t).syncStyle(t),t.measureText(s)}}var vL=function(e,t){e===void 0&&(e=0),t===void 0&&(t=0);var s=this.fixedWidth!==e||this.fixedHeight!==t;return s?(this.fixedWidth=e,this.fixedHeight=t,this.dirty=!0,this.setCanvasSize(e>0?e:this.width,t>0?t:this.height),this):this},pL=function(e,t){var s=this.padding,l=s.left,C=s.right,S=s.top,r=s.bottom;return pn(s,e,t),this.dirty=this.dirty||l!=s.left||C!=s.right||S!=s.top||r!=s.bottom,this},gL=function(e){return tu(this.padding,e)},mL=function(e){return this.textStyle.modify(e),this},xL=function(e){return this.defaultTextStyle.modify(e),this},yL=function(){return this.textStyle.copyFrom(this.defaultTextStyle),this},CL=function(e){return this.testString=e,this};const TL=Phaser.Utils.Array.Remove;var SL=function(e){return this.poolManager.free(e),TL(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},EL=function(){return this.poolManager.freeMultiple(this.children),this.children.length=0,this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this};const PL=Phaser.Utils.Array.Remove;var ML=function(e){return PL(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},wL=function(){return this.setText(),this},lE=function(e,t){var s=Array.isArray(e);return t===void 0||t===this.children.length?s?this.children.push(...e):this.children.push(e):s?this.children.splice(t,0,...e):this.children.splice(t,0,e),this.lastAppendedChildren.length=0,s?this.lastAppendedChildren.push(...e):this.lastAppendedChildren.push(e),this};const wn="text",uE="image",dE="drawer",fE="space",dg="command";var cE=function(e){return e.type===wn&&e.text===`
`},vE=function(e){return e.type===wn&&e.text==="\f"},RL=function(e){return e.type===wn&&e.text===" "},La=function(e){return e.type===wn},OL=function(e){return e.type===dg};class pE extends mr{constructor(t,s,l){super(t,wn),this.updateTextFlag=!1,this.style=new sd(this,l),this.setText(s)}get autoRound(){return this.parent.autoRound}get offsetX(){return this.style.offsetX}set offsetX(t){this.style&&(this.style.offsetX=t)}get offsetY(){return this.style.offsetY}set offsetY(t){this.style&&(this.style.offsetY=t)}get leftSpace(){return this.style.leftSpace*this.scaleX}set leftSpace(t){this.style&&(this.style.leftSpace=t),super.leftSpace=t}get rightSpace(){return this.style.rightSpace*this.scaleX}set rightSpace(t){this.style&&(this.style.rightSpace=t),super.rightSpace=t}get align(){return this.style.align}set align(t){this.style&&(this.style.align=t)}modifyStyle(t){return this.setDirty(!0),this.style.modify(t),this.updateTextFlag&&this.updateTextSize(),this}modifyPorperties(t){return t?(this.modifyStyle(t),super.modifyPorperties(t),this):this}setText(t){return this.setDirty(this.text!=t),this.text=t,this.updateTextSize(),this}updateTextSize(){var t=this.text;if(t===`
`||t==="\f"||t==="")this.textWidth=0,this.textHeight=0,this.ascent=0,this.descent=0;else{var s=this.style.getTextMetrics(this.context,this.text);this.textWidth=s.width;var l,C;"actualBoundingBoxAscent"in s?(l=s.actualBoundingBoxAscent,C=s.actualBoundingBoxDescent):(l=0,C=0),this.textHeight=l+C,this.ascent=l,this.descent=C}return this.updateTextFlag=!1,this}get width(){return this.textWidth*this.scaleX}set width(t){this.textWidth>0?this.scaleX=t/this.textWidth:this.scaleX=1}get height(){return this.textHeight*this.scaleY}set height(t){this.textHeight>0?this.scaleY=t/this.textHeight:this.scaleY=1}get willRender(){var t=this.text;return t===`
`||t==="\f"?!1:super.willRender}renderContent(){var t=this.context,s=this.style;if(s.hasBackgroundColor){t.fillStyle=s.backgroundColor;var l=this.drawTLX,C=this.drawTRX-l,S=s.backgroundBottomY;S==null&&(S=this.drawBLY);var r=s.backgroundHeight;r==null&&(r=S-this.drawTLY);var T=S-r;t.fillRect(l,T,C,r)}var i=s.hasFill,d=s.hasStroke;!i&&!d||(s.syncFont(t).syncStyle(t),d&&(s.syncShadow(t),t.strokeText(this.text,0,0)),i&&(s.syncShadow(t),t.fillText(this.text,0,0)))}get drawTLX(){return-this.leftSpace}get drawTLY(){return-this.ascent}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.descent}get drawTRX(){return this.textWidth+this.rightSpace}get drawTRY(){return-this.ascent}get drawBRX(){return this.textWidth+this.rightSpace}get drawBRY(){return this.descent}}var AL=function(e,t){t&&this.textStyle.modify(t);var s=this.poolManager.allocate(wn);return s===null?s=new pE(this,e,this.textStyle):s.setParent(this).setActive().modifyStyle(this.textStyle).setText(e),s},LL=function(e,t){t&&this.textStyle.modify(t);for(var s=[],l=0,C=e.length;l<C;l++){var S=e.charAt(l),r=this.poolManager.allocate(wn);r===null?r=new pE(this,S,this.textStyle):r.setParent(this).setActive().modifyStyle(this.textStyle).setText(S),s.push(r)}return s},vh=function(e,t){var s=this.createCharChildren(e,t);return this.addChild(s),this},FL=function(e,t){return e===void 0&&(e=""),this.removeChildren(),vh.call(this,e,t),this.dirty=!0,this},DL=function(e,t,s){var l=this.createCharChildren(t,s);return e=this.getCharChildIndex(e,!0),this.addChild(l,e),this},IL=function(e,t){t===void 0&&(t=1);for(var s=0;s<t;s++){var l=this.getCharChildIndex(e,!0);if(l===void 0)break;this.removeChild(this.children[l])}return this},BL=function(e){var t="";return this.forEachCharChild(function(s){t+=s.text},void 0,e),t};class bL extends mr{constructor(t,s,l){super(t,uE),this.setTexture(s,l)}get frameWidth(){return this.frameObj?this.frameObj.cutWidth:0}get frameHeight(){return this.frameObj?this.frameObj.cutHeight:0}get offsetY(){return-this.height}set offsetY(t){}get key(){return this._key}set key(t){this.setDirty(this._key!=t),this._key=t}get frame(){return this._frame}set frame(t){this.setDirty(this._frame!=t),this._frame=t}setTexture(t,s){return this.key=t,this.frame=s,this.frameObj=this.scene.sys.textures.getFrame(t,s),this}get width(){return this.frameWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=t/this.frameWidth}get height(){return this.frameHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=t/this.frameHeight}setHeight(t,s){return s===void 0&&(s=!1),this.height=t,s&&(this.scaleX=this.scaleY),this}renderContent(){var t=this.context,s=this.frameObj,l=this.frameWidth,C=this.frameHeight;t.drawImage(s.source.image,s.cutX,s.cutY,l,C,0,0,l,C)}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.frameHeight}get drawTRX(){return this.frameWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.frameWidth+this.rightSpace}get drawBRY(){return this.frameHeight}}var GL=function(e,t,s){var l=this.poolManager.allocate(uE);return l===null?l=new bL(this,e,t):l.setParent(this).setActive().setTexture(e,t),l.modifyPorperties(s),l},gE=function(e,t,s){var l=this.createImageChild(e,t,s);return this.addChild(l),this};class NL extends mr{constructor(t,s,l,C){super(t,dE),this.setRenderCallback(s),this.setDrawerSize(l,C)}setRenderCallback(t){return t?this.renderContent=t.bind(this):delete this.renderContent,this}setDrawerSize(t,s){return t===!0?(this.toLocalPosition=!1,t=void 0,s=void 0):this.toLocalPosition=!0,t===void 0&&(t=0),s===void 0&&(s=t),this.drawerWidth=t,this.drawerHeight=s,this}onFree(){super.onFree(),this.setRenderCallback()}get width(){return this.drawerWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=this.drawerWidth>0?t/this.drawerWidth:1}get height(){return this.drawerHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=this.drawerHeight>0?t/this.drawerHeight:1}get offsetY(){return-this.height}set offsetY(t){}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.drawerHeight}get drawTRX(){return this.drawerWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.drawerWidth+this.rightSpace}get drawBRY(){return this.drawerHeight}}var zL=function(e,t,s){var l=this.poolManager.allocate(dE);return l===null?l=new NL(this,e,t,s):l.setParent(this).setActive().setRenderCallback(e).setDrawerSize(t,s),l},kL=function(e,t,s){var l=this.createDrawerChild(e,t,s);return this.addChild(l),this};let VL=class extends mr{constructor(t,s){super(t,fE),this.setSpaceWidth(s)}get width(){return this.spaceWidth*this.scaleX}set width(t){this.spaceWidth>0?this.scaleX=t/this.spaceWidth:this.scaleX=1}setSpaceWidth(t){return this.spaceWidth=t,this}};var UL=function(e){var t=this.poolManager.allocate(fE);return t===null?t=new VL(this,e):t.setParent(this).setActive().setSpaceWidth(e),t},mE=function(e){var t=this.createSpaceChild(e);return this.addChild(t),this};class XL extends ug{constructor(t,s,l,C,S){super(t,dg),this.setName(s).setParameter(C).setCallback(l,S)}setName(t){return this.name=t,this}setParameter(t){return this.param=t,this}setCallback(t,s){return this.callback=t,this.scope=s,this}exec(){var t;return this.scope?t=this.callback.call(this.scope,this.param,this.name):t=this.callback(this.param,this.name),t}onFree(){super.onFree(),this.setName().setCallback().setParameter()}}var YL=function(e,t,s,l){var C=this.poolManager.allocate(dg);return C===null?C=new XL(this,e,t,s,l):C.setParent(this).setActive().setName(e).setCallback(t,l).setParameter(s),C},ft=function(e,t,s,l){var C=this.createCommandChild(e,t,s,l);return this.addChild(C),this},WL=function(e){return e===void 0?e={}:typeof e=="object"&&(e=wi(e)),this.wrapConfig=e,this},HL=function(e,t,s,l){l===void 0&&(l={word:[],width:0}),l.word.length=0;for(var C=e.length,S=t,r=l.word,T=0;S<C;){var i=e[S];if(!i.renderable){r.push(i),S++;continue}var d=i.type===wn?i.text:null;if(d!==null&&d!==" "&&d!==`
`&&d!=="\f")r.push(i),T+=i.outerWidth,S++;else{S===t&&(r.push(i),T+=i.outerWidth);break}if(s)break}return l.width=T,l},xE=function(e){for(var t=0,s=e.length;t<s;t++){var l=e[t];if(l.align!==void 0)return l.align}},yE=function(e,t,s){if(!(t===0&&s===0))for(var l=0,C=e.length;l<C;l++){var S=e[l];S.renderable&&(S.x+=t,S.y+=s)}},$L=function(e,t,s){var l=e.hAlign,C=e.vAlign,S,r,T=e.linesHeight;switch(C){case 1:case"center":r=(s-T)/2;break;case 2:case"bottom":r=s-T;break;default:r=0;break}for(var i=e.lines,d=0,x=i.length;d<x;d++){var f=i[d],u=f.width,o=f.children,n=xE(o);switch(n===void 0&&(n=l),n){case 1:case"center":S=(t-u)/2;break;case 2:case"right":S=t-u;break;default:S=0;break}yE(o,S,r)}},Sx=function(){var e=this.defaultTextStyle.getTextMetrics(this.context,this.testString),t,s;return"actualBoundingBoxAscent"in e?(t=e.actualBoundingBoxAscent,s=e.actualBoundingBoxDescent):(t=0,s=0),rl.ascent=t,rl.descent=s,rl.height=t+s,rl},rl={};const _e=Phaser.Utils.Objects.GetValue;var KL=function(e){var t=_e(e,"start",0);pn(this.wrapPadding,_e(e,"padding",0));var s=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,l=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,C=_e(e,"lineHeight"),S=_e(e,"ascent",C),r;if(C===void 0){var T=_e(e,"useDefaultTextHeight",!1);if(r=_e(e,"maxLines",0),this.fixedHeight>0&&!T){var X=this.fixedHeight-s;if(r>0)C=X/r;else{var i=Sx.call(this);C=i.height,S=i.ascent,r=Math.floor((X-S)/C)}}else{var i=Sx.call(this);C=i.height,S=i.ascent}}else if(this.fixedHeight>0){if(r=_e(e,"maxLines"),r===void 0){var X=this.fixedHeight-s;r=Math.floor(X/C)}}else r=_e(e,"maxLines",0);S===void 0&&(S=C);var d=r===0,x=_e(e,"wrapWidth",void 0);x===void 0&&(this.fixedWidth>0?x=this.fixedWidth-l:x=1/0);for(var f=_e(e,"letterSpacing",0),u=_e(e,"hAlign",0),o=_e(e,"vAlign",0),n=_e(e,"charWrap",!1),h={callback:"runWordWrap",start:t,isLastPage:!1,padding:this.wrapPadding,ascent:S,lineHeight:C,maxLines:r,wrapWidth:x,letterSpacing:f,hAlign:u,vAlign:o,charWrap:n,children:[],lines:[],maxLineWidth:0,linesHeight:0},p=this.children,a=0,c=p.length;a<c;a++)p[a].setActive(!1);x+=f;for(var v=this.padding.left+this.wrapPadding.left,g=this.padding.top+this.wrapPadding.top+S,m=v,y=g,P=x,M=t,E=p.length,w=h.children,R=h.lines,O=[],A=0,F=0,L,I=!1;M<E;){L=HL(p,M,n,L);var B=L.word,b=B.length,k=L.width+b*f;M+=b;var U=cE(B[0]);I=vE(B[0]);var Y=U||I;if(P<k||Y){if(Y){var H=B[0];H.setActive().setPosition(m,y),w.push(H),O.push(H)}m=v,y+=C,P=x,R.push({children:O,width:A}),F=Math.max(F,A),A=0,O=[];var z=I||!d&&R.length===r;if(z)break;if(Y)continue}P-=k,A+=k;for(var a=0,c=B.length;a<c;a++){var V=B[a];V.setActive(),w.push(V),O.push(V),V.renderable&&(V.setPosition(m,y),m+=V.outerWidth+f)}}O.length>0&&(R.push({children:O,width:A}),F=Math.max(F,A)),h.start+=w.length,h.isLastPage=!I&&h.start===E,h.maxLineWidth=F,h.linesHeight=R.length*C;var D=this.fixedWidth>0?this.fixedWidth:h.maxLineWidth+l,G=this.fixedHeight>0?this.fixedHeight:h.linesHeight+s,N=D-l,X=G-s;$L(h,N,X),this.setCanvasSize(D,G);for(var a=0,c=w.length;a<c;a++){var V=w[a];V.renderable&&(V.x0=V.x,V.y0=V.y)}return h};const jL=Phaser.Utils.Objects.Merge;var ZL=function(e){return e===void 0&&(e={}),KL.call(this,jL(e,this.wrapConfig))},JL=function(e,t,s){var l=e.hAlign,C=e.vAlign,S,r,T=e.rtl,i=e.lines,d=e.lineWidth,x=e.linesWidth;switch(l){case 1:case"center":S=(t-x)/2;break;case 2:case"right":S=t-x;break;default:S=0;break}T&&(S+=d);for(var f=0,u=i.length;f<u;f++){var o=i[T?u-f-1:f],n=o.children,h=o.height,p=xE(n);switch(p===void 0&&(p=C),p){case 1:case"center":r=(s-h)/2;break;case 2:case"bottom":r=s-h;break;default:r=0;break}yE(n,S,r),S+=d}};const ti=Phaser.Utils.Objects.GetValue;var QL=function(e){var t=ti(e,"start",0);pn(this.wrapPadding,ti(e,"padding",0));var s=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,l=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,C=ti(e,"lineWidth",void 0),S;if(C===void 0)if(S=ti(e,"maxLines",0),this.fixedWidth>0){var H=this.fixedWidth-l;C=H/S}else C=0;else if(this.fixedWidth>0){if(S=ti(e,"maxLines",void 0),S===void 0){var H=this.fixedWidth-l;S=Math.floor(H/C)+1}}else S=ti(e,"maxLines",0);var r=S===0,T=ti(e,"fixedChildHeight",void 0);if(T===void 0){var i=ti(e,"charPerLine",void 0);if(i!==void 0){var z=this.fixedHeight-s;T=Math.floor(z/i)}}var d=ti(e,"wrapHeight",void 0);d===void 0&&(this.fixedHeight>0?d=this.fixedHeight-s:d=1/0);for(var x=ti(e,"letterSpacing",0),f=ti(e,"rtl",!0),u=ti(e,"hAlign",f?2:0),o=ti(e,"vAlign",0),n={callback:"runVerticalWrap",start:t,isLastPage:!1,padding:this.wrapPadding,lineWidth:C,maxLines:S,fixedChildHeight:T,wrapHeight:d,letterSpacing:x,hAlign:u,vAlign:o,rtl:f,children:[],lines:[],maxLineHeight:0,linesWidth:0},h=this.children,p=0,a=h.length;p<a;p++)h[p].setActive(!1);d+=x;for(var c=this.padding.left+this.wrapPadding.left,v=this.padding.top+this.wrapPadding.top,g=c,m=v,y=d,P=t,M=h.length,E=n.children,w=n.lines,R=[],O=0,A=0;P<M;){var F=h[P];if(P++,!F.renderable){F.setActive(),E.push(F),R.push(F);continue}var L=(T!==void 0?T:F.height)+x,I=cE(F),B=vE(F),b=I||B;if(y<L||b){I&&(F.setActive().setPosition(g,m).setOrigin(.5),E.push(F),R.push(F)),g=c,m=v,y=d,w.push({children:R,height:O}),A=Math.max(A,O),O=0,R=[];var k=B||!r&&w.length===S;if(k)break;if(b)continue}y-=L,O+=L,F.setActive().setPosition(g,m).setOrigin(.5),E.push(F),R.push(F),m+=L}R.length>0&&(w.push({children:R,height:O}),A=Math.max(A,O)),n.start+=E.length,n.isLastPage=n.start===M,n.maxLineHeight=A,n.linesWidth=w.length*C;var U=this.fixedWidth>0?this.fixedWidth:n.linesWidth+l,Y=this.fixedHeight>0?this.fixedHeight:n.maxLineHeight+s,H=U-l,z=Y-s;JL(n,H,z),this.setCanvasSize(U,Y);for(var p=0,a=E.length;p<a;p++){var F=E[p];F.renderable&&(F.x0=F.x,F.y0=F.y)}return n};const qL=Phaser.Utils.Objects.Merge;var _L=function(e){return e===void 0&&(e={}),QL.call(this,qL(e,this.wrapConfig))};const Ex=Phaser.Utils.Objects.GetValue;var t3=function(e){var t=Ex(this.wrapConfig,"callback");return t||(t=Ex(e,"callback",this.runWordWrap)),typeof t=="string"&&(t=this[t]),t.call(this,e)};const e3={setVAlign(e){return this.wrapConfig.vAlign=e,this},setHAlign(e){return this.wrapConfig.hAlign=e,this}};var i3=function(){this.clear(),this.setCanvasSize(this.width,this.height),this.background.active&&this.background.render();for(var e,t=0,s=this.children.length;t<s;t++)e=this.children[t],e.active&&e.render();this.innerBounds.active&&this.innerBounds.render()},s3=function(e,t,s){s===void 0&&(s=!0);for(var l=this.children,C=0,S=0,r=l.length;S<r;S++){var T=l[S];if(!(s&&!T.active)){var i;if(t?i=e.call(this,T,C,l):i=e(T,C,l),C++,i)break}}return this},n3=function(e,t,s){s===void 0&&(s=!0);for(var l=this.children,C=0,S=0,r=l.length;S<r;S++){var T=l[S];if(!(s&&!T.active)&&T.renderable&&!T.removed){var i;if(t?i=e.call(this,T,C,l):i=e(T,C,l),C++,i)break}}return this},r3=function(e,t,s){s===void 0&&(s=!0);for(var l=this.children,C=0,S=0,r=l.length;S<r;S++){var T=l[S];if(!(s&&!T.active)&&La(T)&&!T.removed){var i;if(t?i=e.call(this,T,C,l):i=e(T,C,l),C++,i)break}}return this},a3=function(){return this.children};const o3=Phaser.Utils.Array.GetAll;var h3=function(){return o3(this.children,"active",!0)},l3=function(e,t){return t===void 0&&(t=[]),this.forEachCharChild(function(s){t.push(s)},void 0,e),t},u3=function(){return this.lastAppendedChildren},d3=function(e,t,s,l){typeof t!="number"&&(l=t,t=0,s=0);var C=e.drawCenterX+t,S=e.drawCenterY+s;return aE(e,C,S,l)};const f3=Phaser.Math.Distance.BetweenPointsSquared;var c3=function(e,t){var s={x:e,y:t},l=1/0,C=null;return this.forEachRenderableChild(function(S){var r=f3(s,d3(S,!0));l>r&&(l=r,C=S)}),C},v3=function(e,t,s,l){return typeof e=="number"&&(e=this.getCharChild(e,!0)),oE(this,e,t,s,l)},p3=function(){for(var e=this.children,t=0,s=0,l=0,C=e.length;l<C;l++){var S=e[l];if(!(!S.renderable||!S.active||!S.visible)){var r=S.x0!==void 0?S.x0:S.x,T=S.y0!==void 0?S.y0:S.y;t=Math.max(t,r),s=Math.max(s,T)}}var i=t+this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,d=s+this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom;return(this.width!==i||this.height!==d)&&(this.dirty=!0,this.setCanvasSize(i,d)),this},g3=function(e,t){t===void 0&&(t=!0);for(var s=this.children,l=0,C=s.length;l<C;l++){var S=s[l];if(!(t&&!S.active)&&La(S)&&!S.removed){if(e===0)return l;e--}}},m3=function(e,t){t===void 0&&(t=!0);for(var s=this.children,l=0,C=s.length;l<C;l++){var S=s[l];if(!(t&&!S.active)&&La(S)&&!S.removed){if(e===0)return S;e--}}},x3=function(e,t){if(typeof e!="number"&&(e=this.children.indexOf(e),e<0))return null;t===void 0&&(t=!0);var s=this.children;e>=s.length&&(e=s.length);for(var l=0,C=0;C<e;C++){var S=s[C];t&&!S.active||La(S)&&!S.removed&&l++}return l},y3=function(e){return e===void 0&&(e=!0),this.childrenInteractiveEnable!==e&&(this.lastOverChild=null),this.childrenInteractiveEnable=e,this},fg=function(l,t,s){for(var l=l,C=0,S=l.length;C<S;C++){var r=l[C];if(!(!r.active||!r.renderable)&&r.contains(t,s))return r}return null},C3=function(){return this.on("pointerdown",T3,this).on("pointerdown",S3,this).on("pointermove",If,this).on("pointerover",If,this).on("pointerout",function(e,t){If.call(this,e,null,null,t)},this),this},T3=function(e,t,s,l){if(this.childrenInteractiveEnable){var C=fg(this.children,t,s);C&&this.emit("child.pointerdown",C,e,t,s,l)}},S3=function(e,t,s,l){if(this.childrenInteractiveEnable){var C=fg(this.children,t,s);C&&this.emit("child.pointerup",C,e,t,s,l)}},If=function(e,t,s,l){if(this.childrenInteractiveEnable){if(t===null){this.lastOverChild!==null&&(this.emit("child.pointerout",this.lastOverChild,e,t,s,l),this.lastOverChild=null);return}var C=fg(this.children,t,s);C!==this.lastOverChild&&(this.lastOverChild!==null&&this.emit("child.pointerout",this.lastOverChild,e,t,s,l),C!==null&&this.emit("child.pointerover",C,e,t,s,l),this.lastOverChild=C)}};const E3=Phaser.GameObjects.GameObject;var P3=function(e,t,s){var l=!!this.input;return E3.prototype.setInteractive.call(this,e,t,s),l||C3.call(this),this};const M3=Phaser.Utils.Array.BringToTop,w3=Phaser.Utils.Array.SendToBack,R3=Phaser.Utils.Array.MoveUp,O3=Phaser.Utils.Array.MoveDown,A3=Phaser.Utils.Array.MoveAbove,L3=Phaser.Utils.Array.MoveBelow,F3={moveChildToFist(e){return w3(this.children,e),this},moveChildToLast(e){return M3(this.children,e),this},movechildUp(e){return R3(this.children,e),this},movechildDown(e){return O3(this.children,e),this},movechildAbove(e,t){return A3(this.children,e,t),this},movechildBelow(e,t){return L3(this.children,e,t),this}},D3={setBackgroundColor(e,t,s){return this.background.setColor(e,t,s),this},setBackgroundStroke(e,t){return this.background.setStroke(e,t),this},setBackgroundCornerRadius(e,t){return this.background.setCornerRadius(e,t),this}},I3={setInnerBoundsColor(e,t,s){return this.innerBounds.setColor(e,t,s),this},setInnerBoundsStroke(e,t){return this.innerBounds.setStroke(e,t),this}};var CE={setFixedSize:vL,setPadding:pL,getPadding:gL,modifyTextStyle:mL,modifyDefaultTextStyle:xL,resetTextStyle:yL,setTestString:CL,removeChild:SL,removeChildren:EL,popChild:ML,clearContent:wL,addChild:lE,createCharChild:AL,createCharChildren:LL,setText:FL,appendText:vh,insertText:DL,removeText:IL,getText:BL,createImageChild:GL,appendImage:gE,createDrawerChild:zL,appendDrawer:kL,createSpaceChild:UL,appendSpace:mE,createCommandChild:YL,appendCommand:ft,setWrapConfig:WL,runWordWrap:ZL,runVerticalWrap:_L,runWrap:t3,renderContent:i3,forEachChild:s3,forEachRenderableChild:n3,forEachCharChild:r3,getChildren:a3,getActiveChildren:h3,getCharChildren:l3,getLastAppendedChildren:u3,getNearestChild:c3,getCharWorldPosition:v3,setToMinSize:p3,getCharChildIndex:g3,getCharChild:m3,getCharIndex:x3,setChildrenInteractiveEnable:y3,setInteractive:P3};Object.assign(CE,F3,D3,I3,e3);const B3=Phaser.Utils.Objects.GetFastValue;var b3={};class G3{constructor(t){this.pools=B3(t,"pools",b3)}free(t){if(!this.pools)return this;var s=t.type;return this.pools.hasOwnProperty(s)||(this.pools[s]=new ls),this.pools[s].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var s=0,l=t.length;s<l;s++)this.free(t[s]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}}const Px=Phaser.Utils.Objects.IsPlainObject,Ue=Phaser.Utils.Objects.GetValue;class Ga extends Mn{constructor(t,s,l,C,S,r){Px(s)?(r=s,s=Ue(r,"x",0),l=Ue(r,"y",0),C=Ue(r,"width",0),S=Ue(r,"height",0)):Px(C)&&(r=C,C=Ue(r,"width",0),S=Ue(r,"height",0));var T=C===0?1:C,i=S===0?1:S;super(t,s,l,T,i),this.type="rexDynamicText",this.autoRound=!0,this.padding=pn(),this.wrapPadding=pn();var d=Ue(r,"style",void 0);this.defaultTextStyle=new sd(null,d),this.textStyle=this.defaultTextStyle.clone(),this.setTestString(Ue(r,"testString","|Mqgy")),this.background=new fL(this,Ue(r,"background",void 0)),this.innerBounds=new cL(this,Ue(r,"innerBounds",void 0)),this.children=[],this.lastAppendedChildren=[],this.lastOverChild=null,this.poolManager=new G3(r),this.setFixedSize(C,S),this.setPadding(Ue(r,"padding",0)),this.setWrapConfig(Ue(r,"wrap",void 0)),this.setChildrenInteractiveEnable(Ue(r,"childrenInteractive",!1));var x=Ue(r,"text",void 0);x&&this.setText(x)}updateTexture(){return this.renderContent(),super.updateTexture(),this}get text(){return this.getText(!0)}set text(t){this.setText(t)}setSize(t,s){return this.setFixedSize(t,s),this}}Object.assign(Ga.prototype,CE);st.register("dynamicText",function(e,t,s,l,C){var S=new Ga(this.scene,e,t,s,l,C);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.DynamicText",Ga);const Na={setEventEmitter(e,t){return t===void 0&&(t=Phaser.Events.EventEmitter),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},N3={hasProperty(e){var t=this.gameObject;if(t.hasOwnProperty(e))return!0;var s=t[e];return s!==void 0},getProperty(e){return this.gameObject[e]},setProperty(e,t){return this.gameObject[e]=t,this},easeProperty(e,t,s,l,C,S,r){var T=this.tweens,i=T[e];i&&i.remove();var d=this.gameObject,x={targets:d,duration:s,ease:l,repeat:C,yoyo:S,onComplete:function(){T[e].remove(),T[e]=null,r&&r(d,e)},onCompleteScope:this};return x[e]=t,i=this.scene.tweens.add(x),i.timeScale=this.timeScale,T[e]=i,this}},z3={hasMethod(e){return typeof this.gameObject[e]=="function"},call(e,...t){if(!this.hasMethod(e))return this;var s=this.gameObject;return s[e].apply(s,t),this}},k3={hasData(e){var t=this.gameObject;return t.data?t.data.has(e):!1},getData(e){return this.gameObject.getData(e)},setData(e,t){return this.gameObject.setData(e,t),this}};class cg{constructor(t,s,l){this.GOManager=t,this.tweens={},this.setGO(s,l)}get scene(){return this.GOManager.scene}get timeScale(){return this.GOManager.timeScale}destroy(){this.freeGO(),this.GOManager=void 0}freeTweens(){var t=this.tweens,s;for(var l in t)s=t[l],s&&s.remove(),t[l]=null;return this}freeGO(){return this.freeTweens(),this.gameObject.destroy(),this.gameObject=void 0,this}setGO(t,s){return t.setName(s),this.gameObject=t,this.name=s,this.freeTweens(),this}setTimeScale(t){var s=this.tweens;for(var l in s){var C=s[l];C&&(C.timeScale=t)}return this}}Object.assign(cg.prototype,N3,z3,k3);var vg=function(e){for(var t in e)return!1;return!0};const V3={tint:0,alpha:1},U3={setGOFadeMode(e){return typeof e=="string"&&(e=V3[e]),this.fadeMode=e,this},setGOFadeTime(e){return this.fadeTime=e,this},hasTintFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===0)&&this.fadeTime>0&&e.setTint!==void 0},hasAlphaFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===1)&&this.fadeTime>0&&e.setAlpha!==void 0},fadeBob(e,t,s,l){var C=e.gameObject;return this.hasTintFadeEffect(C)?(t!==void 0&&e.setProperty("tintGray",255*t),e.easeProperty("tintGray",Math.floor(255*s),this.fadeTime,"Linear",0,!1,l)):this.hasAlphaFadeEffect(C)?(t!==void 0&&e.setProperty("alpha",t),e.easeProperty("alpha",s,this.fadeTime,"Linear",0,!1,l)):l&&l(C),this}};var th=function(e){return e>>16&255},eh=function(e){return e>>8&255},ih=function(e){return e&255};const X3=~(255<<16)&16777215,Y3=16711935,W3=16776960;var H3=function(e,t){return(t&255)<<16|e&X3},$3=function(e,t){return(t&255)<<8|e&Y3},K3=function(e,t){return t&255|e&W3},j3=function(e,t,s,l){return(t&255)<<16|(s&255)<<8|l&255},Z3=function(e,t){if(e.hasOwnProperty("tintR"))return e;t===void 0&&(t=16777215);var s=th(t),l=eh(t),C=ih(t);return Object.defineProperty(e,"tint",{get:function(){return t},set:function(S){S=Math.floor(S)&16777215,e.setTint&&e.setTint(S),t!==S&&(t=S,s=th(t),l=eh(t),C=ih(t))}}),Object.defineProperty(e,"tintR",{get:function(){return s},set:function(S){S=Math.floor(S)&255,s!==S&&(s=S,e.tint=H3(t,S))}}),Object.defineProperty(e,"tintG",{get:function(){return l},set:function(S){S=Math.floor(S)&255,l!==S&&(l=S,e.tint=$3(t,S))}}),Object.defineProperty(e,"tintB",{get:function(){return C},set:function(S){S=Math.floor(S)&255,C!==S&&(C=S,e.tint=K3(t,S))}}),Object.defineProperty(e,"tintGray",{get:function(){return Math.floor((s+l+C)/3)},set:function(S){S=Math.floor(S)&255,(s!==S||l!==S||C!==S)&&(s=S,l=S,C=S,e.tint=j3(t,S,S,S))}}),e.tint=t,e};const J3=Phaser.Events.EventEmitter;var Q3=function(e){if(e.events)return e;var t=new J3,s=e.x;Object.defineProperty(e,"x",{get:function(){return s},set:function(r){s!==r&&(s=r,t.emit("update",e))}});var l=e.y;Object.defineProperty(e,"y",{get:function(){return l},set:function(r){l!==r&&(l=r,t.emit("update",e))}});var C=e.width;Object.defineProperty(e,"width",{get:function(){return C},set:function(r){C!==r&&(C=r,t.emit("update",e))}});var S=e.height;return Object.defineProperty(e,"height",{get:function(){return S},set:function(r){S!==r&&(S=r,t.emit("update",e))}}),e.events=t,e},q3=function(e,t,s,l,C,S){return S===void 0?S={}:S===!0&&(S=_3),typeof s!="number"&&(s=0,l=0),S.x=C.x+C.width*e+s,S.y=C.y+C.height*t+l,S},_3={},tF=function(e,t,s,l,C,S,r){if(e.hasOwnProperty("vp"))return e;typeof s=="function"&&(r=s,s=void 0),typeof C=="function"&&(r=C,C=void 0),s===void 0&&(s=.5),l===void 0&&(l=.5),C===void 0&&(C=0),S===void 0&&(S=0),r===void 0&&(r=q3),Q3(t);var T=t.events;e.vp=t;var i=function(){r(s,l,C,S,t,e)};T.on("update",i),e.once("destroy",function(){T.off("update",i),e.vp=void 0}),Object.defineProperty(e,"vpx",{get:function(){return s},set:function(d){s!==d&&(s=d,i())}}),Object.defineProperty(e,"vpy",{get:function(){return l},set:function(d){l!==d&&(l=d,i())}}),Object.defineProperty(e,"vpxOffset",{get:function(){return C},set:function(d){C!==d&&(C=d,i())}}),Object.defineProperty(e,"vpyOffset",{get:function(){return S},set:function(d){S!==d&&(S=d,i())}}),i()};const eF=Phaser.Utils.Array.Remove,iF={has(e){return this.bobs.hasOwnProperty(e)},exists(e){return this.bobs.hasOwnProperty(e)},get(e){return this.bobs[e]},getGO(e){var t=this.get(e);return t?t.gameObject:null},addGO(e,t){this.remove(e,!0),this.hasTintFadeEffect(t)&&Z3(t),this.viewportCoordinateEnable&&tF(t,this.viewport),t.once("destroy",function(){eF(this.removedGOs,t),this.isEmpty&&this.emit("empty")},this);var s=new this.BobClass(this,t,e);return this.bobs[e]=s,this},add(e,...t){var s=this.createGameObjectCallback,l=this.createGameObjectScope,C=s.call(l,this.scene,...t);this.addGO(e,C);var S=this.get(e);return this.fadeBob(S,0,1),this},forEachGO(e,t){for(var s in this.bobs){var l=this.bobs[s].gameObject,C;if(t?C=e.call(t,l,s,this):C=e(l,s,this),C)break}return this}},sF={remove(e,t){if(!this.has(e))return this;var s=this.get(e);return delete this.bobs[e],this.removedGOs.push(s.gameObject),t?s.destroy():this.fadeBob(s,void 0,0,function(){s.destroy()}),this},removeAll(){var e=this.bobs;for(var t in e)this.remove(t);return this},clear(e){e===void 0&&(e=!0);var t=this.bobs;for(var s in t)e&&t[s].destroy(),delete t[s];return this.removedGOs.length=0,this}},nF={hasProperty(e,t){return this.has(e)?this.get(e).hasProperty(t):!1},getProperty(e,t){if(this.has(e))return this.get(e).getProperty(t)},isNumberProperty(e,t){var s=this.getProperty(e,t);return typeof s=="number"},setProperty(e,t,s){return this.has(e)?(this.symbols&&typeof s=="string"&&this.isNumberProperty(e,t)&&(s in this.symbols?s=this.symbols[s]:console.warn(`Can't find symbol ${s}`)),this.get(e).setProperty(t,s),this):this},easeProperty(e,t,s,l,C,S,r,T){return this.has(e)?(l===void 0&&(l=1e3),C===void 0&&(C="Linear"),S===void 0&&(S=0),r===void 0&&(r=!1),this.symbols&&typeof s=="string"&&this.isNumberProperty(e,t)&&(s in this.symbols?s=this.symbols[s]:console.warn(`Can't find symbol ${s}`)),this.get(e).easeProperty(t,s,l,C,S,r,T),this):this},hasTweenTask(e,t){if(!this.has(e))return!1;var s=this.get(e).tweens;return s.hasOwnProperty(t)},getTweenTask(e,t){if(!this.has(e))return null;var s=this.get(e).tweens,l=s[t];return l||null}},rF={hasMethod(e,t){return this.has(e)?this.get(e).hasMethod(t):!1},call(e,t,...s){return this.has(e)?(this.get(e).call(t,...s),this):this}},aF={hasData(e,t){return this.has(e)?this.get(e).hasData(t):!1},getData(e,t){if(this.has(e))return this.get(e).getData(t)},setData(e,t,s){return this.has(e)?(this.get(e).setData(t,s),this):this}};var Bt=function(e){return e.displayWidth!==void 0?e.displayWidth:e.width},Ot=function(e){return e.displayHeight!==void 0?e.displayHeight:e.height};const Mx=Phaser.Geom.Rectangle,yn=Phaser.Math.Vector2,oF=Phaser.Math.RotateAround;var pg=function(e,t){if(t===void 0?t=new Mx:t===!0&&(Bf===void 0&&(Bf=new Mx),t=Bf),e.getBounds)return e.getBounds(t);var s,l,C,S,r,T,i,d;if(e.parentContainer){var x=e.parentContainer.getBoundsTransformMatrix();Yv(e,t),x.transformPoint(t.x,t.y,t),s=t.x,l=t.y,Wv(e,t),x.transformPoint(t.x,t.y,t),C=t.x,S=t.y,Hv(e,t),x.transformPoint(t.x,t.y,t),r=t.x,T=t.y,$v(e,t),x.transformPoint(t.x,t.y,t),i=t.x,d=t.y}else Yv(e,t),s=t.x,l=t.y,Wv(e,t),C=t.x,S=t.y,Hv(e,t),r=t.x,T=t.y,$v(e,t),i=t.x,d=t.y;return t.x=Math.min(s,C,r,i),t.y=Math.min(l,S,T,d),t.width=Math.max(s,C,r,i)-t.x,t.height=Math.max(l,S,T,d)-t.y,t},Bf=void 0,Yv=function(e,t,s){return t===void 0?t=new yn:t===!0&&(Ei===void 0&&(Ei=new yn),t=Ei),e.getTopLeft?e.getTopLeft(t):(t.x=e.x-Bt(e)*e.originX,t.y=e.y-Ot(e)*e.originY,nd(e,t,s))},Wv=function(e,t,s){return t===void 0?t=new yn:t===!0&&(Ei===void 0&&(Ei=new yn),t=Ei),e.getTopRight?e.getTopRight(t):(t.x=e.x-Bt(e)*e.originX+Bt(e),t.y=e.y-Ot(e)*e.originY,nd(e,t,s))},Hv=function(e,t,s){return t===void 0?t=new yn:t===!0&&(Ei===void 0&&(Ei=new yn),t=Ei),e.getBottomLeft?e.getBottomLeft(t):(t.x=e.x-Bt(e)*e.originX,t.y=e.y-Ot(e)*e.originY+Ot(e),nd(e,t,s))},$v=function(e,t,s){return t===void 0?t=new yn:t===!0&&(Ei===void 0&&(Ei=new yn),t=Ei),e.getBottomRight?e.getBottomRight(t):(t.x=e.x-Bt(e)*e.originX+Bt(e),t.y=e.y-Ot(e)*e.originY+Ot(e),nd(e,t,s))},Ei=void 0,nd=function(e,t,s){if(s===void 0&&(s=!1),e.rotation!==0&&oF(t,e.x,e.y,e.rotation),s&&e.parentContainer){var l=e.parentContainer.getBoundsTransformMatrix();l.transformPoint(t.x,t.y,t)}return t};const eo=Phaser.Utils.Objects.GetValue;var TE=function(e,t,s){var l,C,S,r,T;if(typeof s=="number"?l=s:(l=eo(s,"color"),C=eo(s,"lineWidth"),S=eo(s,"fillColor"),r=eo(s,"fillAlpha",1),T=eo(s,"padding",0)),Array.isArray(e))for(var i=0,d=e.length;i<d;i++)wx(e[i],t,l,C,S,r,T);else wx(e,t,l,C,S,r,T)},wx=function(e,t,s,l,C,S,r){var T=e.getBounds||e.width!==void 0&&e.height!==void 0;if(T){s===void 0&&(s=16777215),l===void 0&&(l=1),C===void 0&&(C=null),S===void 0&&(S=1),r===void 0&&(r=0);var i=Yv(e,Ar[0]);i.x-=r,i.y-=r;var d=Wv(e,Ar[1]);d.x+=r,d.y-=r;var x=$v(e,Ar[2]);x.x+=r,x.y+=r;var f=Hv(e,Ar[3]);f.x-=r,f.y+=r,C!==null&&t.fillStyle(C,S).fillPoints(Ar,!0,!0),s!==null&&t.lineStyle(l,s).strokePoints(Ar,!0,!0)}},Ar=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],hF=function(e,t){return this.forEachGO(function(s){s.drawBounds?s.drawBounds(e,t):TE(s,e,t)}),this},SE={drawGameObjectsBounds:hF};Object.assign(SE,U3,iF,sF,nF,rF,aF);const lF=Phaser.Cameras.Scene2D.BaseCamera;var uF=function(e){return e instanceof lF};const EE=Phaser.Geom.Rectangle;var za=function(e,t,s){return uF(t)||(s=t,t=void 0),s===void 0?s=new EE:s===!0&&(s=dF),t?e.scale.getViewPort(t,s):e.scale.getViewPort(s)},dF=new EE;const Fi=Phaser.Utils.Objects.GetValue;class rd{constructor(t,s){this.scene=t,this.BobClass=Fi(s,"BobClass",cg),this.setCreateGameObjectCallback(Fi(s,"createGameObject"),Fi(s,"createGameObjectScope")),this.setEventEmitter(Fi(s,"eventEmitter",void 0));var l=Fi(s,"fade",500);typeof l=="number"?(this.setGOFadeMode(),this.setGOFadeTime(l)):(this.setGOFadeMode(Fi(l,"mode")),this.setGOFadeTime(Fi(l,"time",500)));var C=Fi(s,"viewportCoordinate",!1);C!==!1?(this.setViewportCoordinateEnable(Fi(s,"enable",!0)),this.setViewport(Fi(C,"viewport"))):this.setViewportCoordinateEnable(!1),this.setSymbols(Fi(s,"symbols")),this.bobs={},this.removedGOs=[],this._timeScale=1}destroy(t){this.clear(!t),this.createGameObjectCallback=void 0,this.viewport=void 0,this.scene=void 0}set timeScale(t){if(this._timeScale!==t){this._timeScale=t;var s=this.bobs;for(var l in s)s[l].setTimeScale(t)}}get timeScale(){return this._timeScale}setTimeScale(t){return this.timeScale=t,this}setCreateGameObjectCallback(t,s){return this.createGameObjectCallback=t,this.createGameObjectScope=s,this}setViewportCoordinateEnable(t){return t===void 0&&(t=!0),this.viewportCoordinateEnable=t,this}setViewport(t){return t===void 0&&(t=za(this.scene,this.scene.cameras.main)),this.viewport=t,this}setSymbols(t){return this.symbols=t,this}get isEmpty(){return vg(this.bobs)&&this.removedGOs.length===0}}Object.assign(rd.prototype,Na,SE);var Ms=function(e,t){if(e.length<=1)return e;t===void 0&&(t=!1);var s=e[0].scene,l=s.sys.displayList;return l.depthSort(),t?e.sort(function(C,S){return l.getIndex(S)-l.getIndex(C)}):e.sort(function(C,S){return l.getIndex(C)-l.getIndex(S)}),e};const fF=Phaser.Utils.Objects.GetValue;class cF extends rd{constructor(t,s){s===void 0?s={}:Array.isArray(s)&&(s={layers:s}),s.hasOwnProperty("fade")||(s.fade=0),s.viewportCoordinate=!1,super(t,s);var l=fF(s,"layers");if(l)for(var C=0,S=l.length;C<S;C++)this.add(l[C])}setCreateGameObjectCallback(t,s){return t||(t=vF),super.setCreateGameObjectCallback(t,s),this}addGO(t,s){return super.addGO(t,s),s.name=t,this}getLayer(t){return this.getGO(t)}getLayers(t){return t===void 0&&(t=[]),this.forEachGO(function(s){t.push(s)}),Ms(t,!1),t}addToLayer(t,s){var l=this.getGO(t);if(!l){console.warn(`Can't get layer "${t}"`);return}return s.isRexContainerLite?s.addToLayer(l):l.add(s),this}}var vF=function(e,t){var s=e.add.layer();return t!==void 0&&s.setDepth(t),s},pF=function(e){return ar(e)?e.sys.sound:e.sound},ph=function(e){return e==null||typeof e!="object"?null:ar(e)?e:e.scene&&ar(e.scene)?e.scene:e.parent&&e.parent.scene&&ar(e.parent.scene)?e.parent.scene:null};const gF=Phaser.Utils.Objects.GetValue;class ge{constructor(t,s){this.setParent(t),this.isShutdown=!1,this.setEventEmitter(gF(s,"eventEmitter",!0)),this.parent&&(this.parent===this.scene?this.scene.sys.events.once("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.once("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this))}shutdown(t){this.isShutdown||(this.parent&&(this.parent===this.scene?this.scene.sys.events.off("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.off("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this)),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.game=void 0,this.isShutdown=!0)}destroy(t){this.shutdown(t)}onEnvDestroy(){this.destroy(!0)}onParentDestroy(t,s){this.destroy(s)}setParent(t){return this.parent=t,this.scene=ph(t),this.game=Oa(t),this}}Object.assign(ge.prototype,Na);const mF=Phaser.Utils.Objects.GetValue;class ad extends ge{constructor(t,s){super(t,s),this._isRunning=!1,this.isPaused=!1,this.tickingState=!1,this.setTickingMode(mF(s,"tickingMode",1))}boot(){this.tickingMode===2&&!this.tickingState&&this.startTicking()}shutdown(t){this.isShutdown||(this.stop(),this.tickingState&&this.stopTicking(),super.shutdown(t))}setTickingMode(t){typeof t=="string"&&(t=xF[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,this.tickingMode===1&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isPaused=!1,this.isRunning=!0,this}pause(){return this.isRunning&&(this.isPaused=!0,this.isRunning=!1),this}resume(){return this.isPaused&&(this.isRunning=!0),this}stop(){return this.isPaused=!1,this.isRunning=!1,this}complete(){this.isPaused=!1,this.isRunning=!1,this.emit("complete",this.parent,this)}}const xF={no:0,lazy:1,always:2},yF=Phaser.Utils.Objects.GetValue;class CF extends ad{constructor(t,s){super(t,s);var l=this.scene?"update":"step";this.tickEventName=yF(s,"tickEventName",l),this.isSceneTicker=!TF(this.tickEventName)}startTicking(){super.startTicking(),this.isSceneTicker?this.scene.sys.events.on(this.tickEventName,this.update,this):this.game.events.on(this.tickEventName,this.update,this)}stopTicking(){super.stopTicking(),this.isSceneTicker&&this.scene?this.scene.sys.events.off(this.tickEventName,this.update,this):this.game&&this.game.events.off(this.tickEventName,this.update,this)}}var TF=function(e){return e==="step"||e==="poststep"};const gs=Phaser.Utils.Objects.GetValue,Rx=Phaser.Math.Clamp;let PE=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){this.state=gs(t,"state",io),this.timeScale=gs(t,"timeScale",1),this.delay=gs(t,"delay",0),this.repeat=gs(t,"repeat",0),this.repeatCounter=gs(t,"repeatCounter",0),this.repeatDelay=gs(t,"repeatDelay",0),this.duration=gs(t,"duration",0),this.nowTime=gs(t,"nowTime",0),this.justRestart=gs(t,"justRestart",!1)}toJSON(){return{state:this.state,timeScale:this.timeScale,delay:this.delay,repeat:this.repeat,repeatCounter:this.repeatCounter,repeatDelay:this.repeatDelay,duration:this.duration,nowTime:this.nowTime,justRestart:this.justRestart}}destroy(){}setTimeScale(t){return this.timeScale=t,this}setDelay(t){return t===void 0&&(t=0),this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatInfinity(){return this.repeat=-1,this}setRepeatDelay(t){return this.repeatDelay=t,this}start(){return this.nowTime=this.delay>0?-this.delay:0,this.state=this.nowTime>=0?Lr:so,this.repeatCounter=0,this}stop(){return this.state=io,this}update(t,s){this.state===io||this.state===al||s===0||this.timeScale===0||(this.nowTime+=s*this.timeScale,this.justRestart=!1,this.nowTime>=this.duration?this.repeat===-1||this.repeatCounter<this.repeat?(this.repeatCounter++,this.justRestart=!0,this.nowTime-=this.duration,this.repeatDelay>0&&(this.nowTime-=this.repeatDelay,this.state=Ox)):(this.nowTime=this.duration,this.state=al):this.nowTime>=0&&(this.state=Lr))}get t(){var t;switch(this.state){case io:case so:case Ox:t=0;break;case Lr:t=this.nowTime/this.duration;break;case al:t=1;break}return Rx(t,0,1)}set t(t){t=Rx(t,-1,1),t<0?(this.state=so,this.nowTime=-this.delay*t):(this.state=Lr,this.nowTime=this.duration*t,t===1&&this.repeat!==0&&this.repeatCounter++)}setT(t){return this.t=t,this}get isIdle(){return this.state===io}get isDelay(){return this.state===so}get isCountDown(){return this.state===Lr}get isRunning(){return this.state===so||this.state===Lr}get isDone(){return this.state===al}get isOddIteration(){return(this.repeatCounter&1)===1}get isEvenIteration(){return(this.repeatCounter&1)===0}};const io=0,so=1,Lr=2,Ox=3,al=-1;class SF extends CF{constructor(t,s){super(t,s),this.timer=new PE}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}start(){return this.timer.start(),super.start(),this}stop(){return this.timer.stop(),super.stop(),this}complete(){return this.timer.stop(),super.complete(),this}}const no=Phaser.Utils.Objects.GetValue,Ax=Phaser.Utils.Objects.GetAdvancedValue,EF=Phaser.Tweens.Builders.GetEaseFunction;class xr extends SF{resetFromJSON(t){return this.timer.resetFromJSON(no(t,"timer")),this.setEnable(no(t,"enable",!0)),this.setTarget(no(t,"target",this.parent)),this.setDelay(Ax(t,"delay",0)),this.setDuration(Ax(t,"duration",1e3)),this.setEase(no(t,"ease","Linear")),this.setRepeat(no(t,"repeat",0)),this}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setTarget(t){return t===void 0&&(t=this.parent),this.target=t,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return t===void 0&&(t="Linear"),this.ease=t,this.easeFn=EF(t),this}start(){return this.timer.isRunning?this:(super.start(),this)}restart(){return this.timer.stop(),this.start.apply(this,arguments),this}stop(t){return t===void 0&&(t=!1),super.stop(),t&&(this.timer.setT(1),this.updateGameObject(this.target,this.timer),this.complete()),this}update(t,s){if(!this.isRunning||!this.enable||!this.parent.active)return this;var l=this.target,C=this.timer;return C.update(t,s),C.isDelay||this.updateGameObject(l,C),this.emit("update",l,this),C.isDone&&this.complete(),this}updateGameObject(t,s){}}const PF=Phaser.Sound.BaseSound;var gg=function(e){return e instanceof PF};const Lx=Phaser.Utils.Objects.GetValue,Fx=Phaser.Utils.Objects.GetAdvancedValue,MF=Phaser.Math.Linear;let ME=class extends xr{constructor(t,s,l){gg(t)&&(l=s,s=t,t=void 0),s.active=!0,s.scene=t,s.game=s.manager.game,super(s,l),this.volume={},this.resetFromJSON(l)}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(Lx(t,"mode",0)),this.setEnable(Lx(t,"enable",!0)),this.setVolumeRange(Fx(t,"volume.start",this.parent.volume),Fx(t,"volume.end",0)),this}setMode(t){return typeof t=="string"&&(t=wF[t]),this.mode=t,this}setVolumeRange(t,s){return this.volume.start=t,this.volume.end=s,this}start(){return this.timer.isRunning?this:(this.parent.setVolume(this.volume.start),this.timer.setDelay(this.delay).setDuration(this.duration),super.start(),this)}updateGameObject(t,s){t.volume=MF(this.volume.start,this.volume.end,s.t)}complete(){switch(super.complete(),this.mode){case 1:this.parent.stop();break;case 2:this.parent.destroy();break}return this}};const wF={stop:1,destroy:2};var od=function(e,t,s,l,C){gg(e)&&(C=l,l=s,s=t,t=e,e=void 0),l===void 0&&(l=1),C===void 0&&(C=0);var S={mode:0,volume:{start:C,end:l},duration:s};typeof t=="string"&&(t=e.sys.sound.add(t));var r;return t.hasOwnProperty("_fade")?(r=t._fade,r.stop().resetFromJSON(S)):(r=new ME(e,t,S),t._fade=r),r.start(),t.isPlaying||t.setVolume(C).play(),t},Fa=function(e,t,s,l){gg(e)&&(l=s,s=t,t=e,e=void 0),l===void 0&&(l=!0);var C={mode:l?2:1,volume:{start:t.volume,end:0},duration:s},S;return t.hasOwnProperty("_fade")?(S=t._fade,S.stop().resetFromJSON(C)):(S=new ME(e,t,C),t._fade=S),S.start(),t.isPlaying||t.play(),t};const ro=Phaser.Utils.Objects.GetValue,RF={setBackgroundMusicLoop(e){return e===void 0&&(e=!0),this.backgroundMusicLoop=e,this},setBackgroundMusicFadeTime(e){return this.backgroundMusicFadeTime=e,this},getBackgroundMusic(){return this.backgroundMusic},setCurrentBackgroundMusic(e){return this.backgroundMusic=e,e&&(e.once("complete",function(){this.backgroundMusic===e&&(this.backgroundMusic.destroy(),this.backgroundMusic=void 0)},this).once("destroy",function(){this.backgroundMusic===e&&(this.backgroundMusic=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic(e,t){if(this.backgroundMusic&&this.backgroundMusic.key===e)return this;this.stopBackgroundMusic();var s=this.sound.add(e,{loop:ro(t,"loop",this.backgroundMusicLoop),mute:ro(t,"mute",this.backgroundMusicMute),volume:ro(t,"volume",this.backgroundMusicVolume),detune:ro(t,"detune",0),rate:ro(t,"rate",1)});return this.setCurrentBackgroundMusic(s),this.backgroundMusicFadeTime>0&&this.fadeInBackgroundMusic(this.backgroundMusicFadeTime),this},pauseBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.pause(),this},resumeBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.resume(),this},stopBackgroundMusic(){return this.backgroundMusic&&(this.backgroundMusicFadeTime>0?this.fadeOutBackgroundMusic(this.backgroundMusicFadeTime,!0):(this.backgroundMusic.stop(),this.backgroundMusic.destroy(),this.backgroundMusic=void 0)),this},fadeInBackgroundMusic(e){return this.backgroundMusic&&od(this.backgroundMusic,e,this.backgroundMusicVolume,0),this},fadeOutBackgroundMusic(e,t){return this.backgroundMusic&&Fa(this.backgroundMusic,e,t),this},crossFadeBackgroundMusic(e,t){var s=this.backgroundMusicFadeTime;return this.backgroundMusicFadeTime=0,this.fadeOutBackgroundMusic(t,!0).playBackgroundMusic(e).fadeInBackgroundMusic(t),this.backgroundMusicFadeTime=s,this},setBackgroundMusicMute(e){return e===void 0&&(e=!0),this.backgroundMusicMute=e,this},setBackgroundMusicVolume(e){return this.backgroundMusicVolume=e,this},setBackgroundMusicRate(e){return this.backgroundMusic&&this.backgroundMusic.setRate(e),this},setBackgroundMusicDetune(e){return this.backgroundMusic&&this.backgroundMusic.setDetune(e),this}},ao=Phaser.Utils.Objects.GetValue,OF={setBackgroundMusic2Loop(e){return e===void 0&&(e=!0),this.backgroundMusic2Loop=e,this},setBackgroundMusic2FadeTime(e){return this.backgroundMusic2FadeTime=e,this},getBackgroundMusic2(){return this.backgroundMusic2},setCurrentBackgroundMusic2(e){return this.backgroundMusic2=e,e&&(e.once("complete",function(){this.backgroundMusic2===e&&(this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)},this).once("destroy",function(){this.backgroundMusic2===e&&(this.backgroundMusic2=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic2(e,t){if(this.backgroundMusic2&&this.backgroundMusic2.key===e)return this;this.stopBackgroundMusic2();var s=this.sound.add(e,{loop:ao(t,"loop",this.backgroundMusicLoop),mute:ao(t,"mute",this.backgroundMusic2Mute),volume:ao(t,"volume",this.backgroundMusic2Volume),detune:ao(t,"detune",0),rate:ao(t,"rate",1)});return this.setCurrentBackgroundMusic2(s),this.backgroundMusic2FadeTime>0&&this.fadeInBackgroundMusic2(this.backgroundMusic2FadeTime),this},pauseBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.pause(),this},resumeBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.resume(),this},stopBackgroundMusic2(){return this.backgroundMusic2&&(this.backgroundMusic2FadeTime>0?this.fadeOutBackgroundMusic2(this.backgroundMusic2FadeTime,!0):(this.backgroundMusic2.stop(),this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)),this},fadeInBackgroundMusic2(e){return this.backgroundMusic2&&od(this.backgroundMusic2,e,this.backgroundMusic2Volume,0),this},fadeOutBackgroundMusic2(e,t){return this.backgroundMusic2&&Fa(this.backgroundMusic2,e,t),this},crossFadeBackgroundMusic2(e,t){var s=this.backgroundMusic2FadeTime;return this.backgroundMusic2FadeTime=0,this.fadeOutBackgroundMusic2(t,!0).playBackgroundMusic2(e).fadeInBackgroundMusic2(t),this.backgroundMusic2FadeTime=s,this},setBackgroundMusic2Mute(e){return e===void 0&&(e=!0),this.backgroundMusic2Mute=e,this},setBackgroundMusic2Volume(e){return this.backgroundMusic2Volume=e,this},setBackgroundMusic2Rate(e){return this.backgroundMusic2&&this.backgroundMusic2.setRate(e),this},setBackgroundMusic2Detune(e){return this.backgroundMusic2&&this.backgroundMusic2.setDetune(e),this}},Dx=Phaser.Utils.Array.Remove,ol=Phaser.Utils.Objects.GetValue,AF={getSoundEffects(){return this.soundEffects},getLastSoundEffect(){return this.soundEffects[this.soundEffects.length-1]},playSoundEffect(e,t){var s=this.sound.add(e,{mute:ol(t,"mute",this.soundEffectsMute),volume:ol(t,"volume",this.soundEffectsVolume),detune:ol(t,"detune",0),rate:ol(t,"rate",1)});return this.soundEffects.push(s),s.once("complete",function(){s.destroy(),this.sound&&Dx(this.soundEffects,s)},this).once("destroy",function(){this.sound&&Dx(this.soundEffects,s)},this).play(),this},stopAllSoundEffects(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect(e){var t=this.getLastSoundEffect();return t&&od(t,e,this.soundEffectsVolume,0),this},fadeOutSoundEffect(e,t){var s=this.getLastSoundEffect();return s&&Fa(s,e,t),this},fadeOutAllSoundEffects(e,t){for(var s=this.soundEffects.length-1;s>=0;s--)Fa(this.soundEffects[s],e,t);return this},setSoundEffectMute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var s=this.getLastSoundEffect();s&&s.setMute(e)}else this.soundEffectsMute=e;return this},setSoundEffectVolume(e,t){if(t===void 0&&(t=!1),t){var s=this.getLastSoundEffect();s&&s.setVolume(e)}else this.soundEffectsVolume=e;return this},setSoundEffectDetune(e,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect()]:s=this.soundEffects;for(var l=0,C=s.length;l<C;l++)s[l].setDetune(e);return this},setSoundEffectRate(e,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect()]:s=this.soundEffects;for(var l=0,C=s.length;l<C;l++)s[l].setRate(e);return this}},Ix=Phaser.Utils.Array.Remove,hl=Phaser.Utils.Objects.GetValue,LF={getSoundEffects2(){return this.soundEffects2},getLastSoundEffect2(){return this.soundEffects2[this.soundEffects2.length-1]},playSoundEffect2(e,t){var s=this.sound.add(e,{mute:hl(t,"mute",this.soundEffects2Mute),volume:hl(t,"volume",this.soundEffects2Volume),detune:hl(t,"detune",0),rate:hl(t,"rate",1)});return this.soundEffects2.push(s),s.once("complete",function(){s.destroy(),this.sound&&Ix(this.soundEffects2,s)},this).once("destroy",function(){this.sound&&Ix(this.soundEffects2,s)},this).play(),this},stopAllSoundEffects2(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect2(e){var t=this.getLastSoundEffect2();return t&&od(t,e,this.soundEffects2Volume,0),this},fadeOutSoundEffect2(e,t){var s=this.getLastSoundEffect2();return s&&Fa(s,e,t),this},fadeOutAllSoundEffects2(e,t){for(var s=this.soundEffects2.length-1;s>=0;s--)Fa(this.soundEffects2[s],e,t);return this},setSoundEffect2Mute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var s=this.getLastSoundEffect2();s&&s.setMute(e)}else this.soundEffects2Mute=e;return this},setSoundEffect2Volume(e,t){if(t===void 0&&(t=!1),t){var s=this.getLastSoundEffect2();s&&s.setVolume(e)}else this.soundEffects2Volume=e;return this},setSoundEffect2Detune(e,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect2()]:s=this.soundEffects2;for(var l=0,C=s.length;l<C;l++)s[l].setDetune(e);return this},setSoundEffect2Rate(e,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect2()]:s=this.soundEffects2;for(var l=0,C=s.length;l<C;l++)s[l].setRate(e);return this}};var wE={};Object.assign(wE,RF,OF,AF,LF);const fi=Phaser.Utils.Objects.GetValue;class RE{constructor(t,s){this.sound=pF(t),this.backgroundMusic=void 0,this._backgroundMusicVolume=fi(s,"bgm.volume",1),this._backgroundMusicMute=fi(s,"bgm.mute",!1),this.setBackgroundMusicLoop(fi(s,"bgm.loop",!0)),this.setBackgroundMusicFadeTime(fi(s,"bgm.fade",500)),this.backgroundMusic2=void 0,this._backgroundMusic2Volume=fi(s,"bgm2.volume",1),this._backgroundMusic2Mute=fi(s,"bgm2.mute",!1),this.setBackgroundMusic2Loop(fi(s,"bgm2.loop",!0)),this.setBackgroundMusic2FadeTime(fi(s,"bgm2.fade",500)),this.soundEffects=[],this._soundEffectsVolume=fi(s,"soundEffect.volume",1),this.soundEffects2=[],this._soundEffects2Volume=fi(s,"soundEffect2.volume",1);var l=fi(s,"bgm.initial",void 0);l&&this.setCurrentBackgroundMusic(l);var C=fi(s,"bgm2.initial",void 0);C&&this.setCurrentBackgroundMusic2(C)}destroy(){if(this.backgroundMusic&&this.backgroundMusic.destroy(),this.backgroundMusic=void 0,this.backgroundMusic2&&this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0,this.soundEffects.length)for(var t=this.soundEffects.length-1;t>=0;t--)this.soundEffects[t].destroy();if(this.soundEffects.length=0,this.soundEffects2.length)for(var t=this.soundEffects2.length-1;t>=0;t--)this.soundEffects2[t].destroy();return this.soundEffects2.length=0,this.sound=void 0,this}get backgroundMusicMute(){return this._backgroundMusicMute}set backgroundMusicMute(t){this._backgroundMusicMute=t,this.backgroundMusic&&this.backgroundMusic.setMute(mute)}get backgroundMusicVolume(){return this._backgroundMusicVolume}set backgroundMusicVolume(t){this._backgroundMusicVolume=t,this.backgroundMusic&&this.backgroundMusic.setVolume(t)}get backgroundMusic2Mute(){return this._backgroundMusic2Mute}set backgroundMusic2Mute(t){this._backgroundMusic2Mute=t,this.backgroundMusic2&&this.backgroundMusic2.setMute(mute)}get backgroundMusic2Volume(){return this._backgroundMusic2Volume}set backgroundMusic2Volume(t){this._backgroundMusic2Volume=t,this.backgroundMusic2&&this.backgroundMusic2.setVolume(t)}get soundEffectsMute(){return this._soundEffectsMute}set soundEffectsMute(t){this._soundEffectsMute=t;for(var s=this.soundEffects,l=0,C=s.length;l<C;l++)s[l].setMute(t)}get soundEffectsVolume(){return this._soundEffectsVolume}set soundEffectsVolume(t){this._soundEffectsVolume=t;for(var s=this.soundEffects,l=0,C=s.length;l<C;l++)s[l].setVolume(t)}get soundEffects2Mute(){return this._soundEffects2Mute}set soundEffects2Mute(t){this._soundEffects2Mute=t;for(var s=this.soundEffects,l=0,C=soundEffects2.length;l<C;l++)s[l].setMute(t)}get soundEffects2Volume(){return this._soundEffects2Volume}set soundEffects2Volume(t){this._soundEffects2Volume=t;for(var s=this.soundEffects2,l=0,C=s.length;l<C;l++)s[l].setVolume(t)}}Object.assign(RE.prototype,wE);const bf=Phaser.Utils.Objects.GetValue;class FF extends ad{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.isRunning=bf(t,"isRunning",!1),this.timeScale=bf(t,"timeScale",1),this.now=bf(t,"now",0),this}toJSON(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}start(t){return t===void 0&&(t=0),this.delta=0,this.now=t,super.start(),this}seek(t){return this.now=t,this}setTimeScale(t){return this.timeScale=t,this}tick(t){return t*=this.timeScale,this.now+=t,this.delta=t,this.emit("update",this.now,this.delta),this}}class OE extends FF{startTicking(){super.startTicking(),this.scene.sys.events.on("update",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&this.scene.sys.events.off("update",this.update,this)}update(t,s){return!this.isRunning||this.timeScale===0?this:(this.tick(s),this)}}var cr=function(e,t){return t===void 0&&(t=.5),e<=t?e=e/t:e=1-(e-t)/(1-t),e};const Bx=Phaser.Math.Clamp;class DF{constructor(t,s){this.setTimeline(t).reset(s)}setTimeline(t){return this.timeline=t,this}setName(t){return this.name=t,this}setCallbacks(t,s,l,C){return this.target=t,this.onStart=s,this.onProgress=l,this.onComplete=C,this}setDuration(t,s){return s===void 0&&(s=!1),this.duration=t,this.remainder=t,this.t=0,this.yoyo=s,this}setPaused(t){return this.isPaused=t,this}pause(){return this.isPaused=!0,this}resume(){return this.isPaused=!1,this}setRemoved(t){return this.removed=t,this}remove(){return this.removed=!0,this}seek(t){return this.remainder=this.duration*(1-t),this}reset(t){return this.setName(t.name).setDuration(t.duration,t.yoyo).setCallbacks(t.target,t.onStart,t.onProgress,t.onComplete).setPaused(!1).setRemoved(!1),this}onFree(){this.setTimeline().setCallbacks()}getProgress(){var t=1-this.remainder/this.duration;return t=Bx(t,0,1),this.yoyo&&(t=cr(t)),t}setProgress(t){t=Bx(t,0,1),this.remainder=this.duration*(1-t)}runCallback(t){t&&t(this.target,this.t,this)}update(t,s){if(this.removed)return!0;if(this.isPaused)return!1;this.remainder-=s,this.t=this.getProgress(),this.runCallback(this.onProgress);var l=this.remainder<=0;return l&&this.runCallback(this.onComplete),l}}let IF=class extends ls{allocate(){return this.pop()}free(t){t.onFree(),this.push(t)}freeMultiple(t){for(var s=0,l=t.length;s<l;s++)this.free(t[s]);return this}};const BF=Phaser.Utils.Objects.GetValue,bF=new IF;class GF extends OE{constructor(t,s){super(t,s),this.addedTimers=[],this.timers=[],this.timerPool=BF(s,"pool",bF)}shutdown(){this.isShutdown||(this.timerPool.freeMultiple(this.addedTimers).freeMultiple(this.timers),this.timerPool=void 0,this.addedTimers=void 0,this.timers=void 0,super.shutdown())}addTimer(t){var s=this.timerPool.allocate();return s?s.setTimeline(this).reset(t):s=new DF(this,t),this.addedTimers.push(s),s.runCallback(s.onStart),this.isRunning||this.start(),s}delayCall(t,s,l,C){var S=this.addTimer({duration:t,onComplete:function(r,T,i){l===void 0&&(l=[]),l.push(i),s.apply(C,l)}});return S}delayEvent(t,s){this.removeDelayEvent(s);var l=this.delayCall(t,function(){this.removeDelayEvent(s),this.emit(s)},[],this);return this.once(`_remove.${s}`,function(){l.remove(),l=void 0}),this}removeDelayEvent(t){return this.emit(`_remove.${t}`),this}getTimers(t){for(var s=[],l=[this.addedTimers,this.timers],C=0,S=l.length;C<S;C++)for(var r=l[C],T=0,i=r.length;T<i;T++){var d=r[T];d.name===t&&s.push(d)}return s}update(t,s){if(super.update(t,s),!!this.isRunning){this.timers.push(...this.addedTimers),this.addedTimers.length=0;for(var l=[],C=0,S=this.timers.length;C<S;C++){var r=this.timers[C],T=r.update(this.now,this.delta);T?this.timerPool.free(r):l.push(r)}this.timers=l,this.timers.length===0&&this.addedTimers.length===0&&this.complete()}}}const NF="_wait.complete",Au="_remove.wait",zF={waitTime(e){var t=this.parent.timeline;return t.delayEvent(e,"delay"),this.parent.once(Au,function(){t.removeDelayEvent("delay")}),this.waitEvent(t,"delay")}};var kF=function(e,t){var s=`(?<!\\\\)\\${t}`,l=`\\${t}`;return e.split(new RegExp(s,"g")).map(function(C){return C.replace(l,t)})};const VF={setClickTarget(e){this.clickTarget=e,e?ar(e)?this.clickEE=e.input:this.clickEE=e.setInteractive():this.clickEE=null},waitClick(){return this.clickEE?this.waitEvent(this.clickEE,"pointerdown"):this.waitTime(0)},waitKeyDown(e){var t=this.scene.input.keyboard;if(typeof e=="string"){if(e.indexOf("|")===-1)return this.waitEvent(t,`keydown-${e.toUpperCase()}`);for(var s=kF(e,"|"),l=0,C=s.length;l<C;l++)this.waitEvent(t,`keydown-${e.toUpperCase()}`);return this.parent}else return this.waitEvent(t,"keydown")}},UF={waitGameObjectTweenComplete(e,t,s){var l=this.parent.getGameObjectTweenTask(e,t,s);return l?this.waitEvent(l,"complete"):this.waitTime(0)},waitGameObjectDataFlag(e,t,s,l){var C=this.parent.getGameObject(e,t);if(!C)return this.waitTime(0);if(C.getData(s)===l)return this.waitTime(0);var S=`changedata-${s}`,r=function(T,i,d){i=!!i,i===l&&T.emit("_dataFlagMatch")};return C.on(S,r),this.parent.once(Au,function(){C.off(S,r)}),this.waitEvent(C,"_dataFlagMatch")},waitGameObjectDestroy(e,t){var s=this.parent.getGameObject(e,t);return s?this.waitEvent(s,"destroy"):this.waitTime(0)},waitGameObjectManagerEmpty(e){if(e){var t=this.parent.getGameObjectManager(e);return t?this.waitEvent(t,"empty"):this.waitTime(0)}else{var s=this.parent.gameObjectManagers,l=!1;for(var C in s)l=!0,this.waitEvent(s[C],"empty");return l?this.parent:this.waitTime(0)}}},XF={setCameraTarget(e){return this.cameraTarget=e,this},waitCameraEffectComplete(e){var t=this.cameraTarget;if(!t)return this.waitTime(0);var s,l;switch(e){case"camera.fadein":s=t.fadeEffect,l="camerafadeincomplete";break;case"camera.fadeout":s=t.fadeEffect,l="camerafadeoutcomplete";break;case"camera.flash":s=t.flashEffect,l="cameraflashcomplete";break;case"camera.shake":s=t.shakeEffect,l="camerashakecomplete";break;case"camera.zoom":s=t.zoomEffect,l="camerazoomcomplete";break;case"camera.rotate":s=t.rotateToEffect,l="camerarotatecomplete";break;case"camera.scroll":s=t.panEffect,l="camerapancomplete";break}return s.isRunning?this.waitEvent(t,l):this.waitTime(0)}},YF={waitSoundEffectComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitSoundEffect2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect2();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusicComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusic2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic2();return e?this.waitEvent(e,"complete"):this.waitTime(0)}};var WF=function(e){if(!e)return this.waitTime(0);var t=!1;for(var s in e)switch(s){case"time":t=!0,this.waitTime(e.time);break;case"click":t=!0,this.waitClick(e.key);break;case"key":t=!0,this.waitKeyDown(e.key);break;case"bgm":t=!0,this.waitBackgroundMusicComplete();break;case"bgm2":t=!0,this.waitBackgroundMusic2Complete();break;case"se":t=!0,this.waitSoundEffectComplete();break;case"se2":t=!0,this.waitSoundEffect2Complete();break;case"camera":t=!0,this.waitCameraEffectComplete(`camera.${e.camera.toLowerCase()}`);break;default:var l=s.split(".");if(l.length===2){var C=l[0],S=l[1],r=this.parent.getGameObjectManager(void 0,C);if(!r)continue;if(S==="destroy")return this.waitGameObjectDestroy(void 0,C);var T=r.getProperty(C,S);if(typeof T=="number"){t=!0,this.waitGameObjectTweenComplete(void 0,C,S);continue}var i=S,d=i.startsWith("!");d&&(i=i.substring(1)),r.hasData(C,S)&&(t=!0,this.waitGameObjectDataFlag(void 0,C,i,!d))}break}return t||this.waitTime(0),this.parent},HF=function(e,t,s,l,C){var S=ph(e),r=S.time.delayedCall(t,function(){S.sys.events.once("preupdate",function(){s.call(l,C)})});return r};class AE{constructor(t,s){this.parent=t,this.waitCompleteEventName=It(s,"completeEventName",NF),this.setClickTarget(It(s,"clickTarget",this.scene)),this.setCameraTarget(It(s,"camera",this.scene.cameras.main)),this.waitId=0}get clickTarget(){return this.parent.clickTarget}set clickTarget(t){this.parent.clickTarget=t}get cameraTarget(){return this.parent.cameraTarget}set cameraTarget(t){this.parent.cameraTarget=t}destroy(){this.removeWaitEvents(),this.clearWaitCompleteCallbacks(),this.setClickTarget(),this.setCameraTarget()}get scene(){return this.parent.managersScene}waitEvent(t,s,l){var C=this.getWaitCompleteTriggerCallback(l);return t.once(s,C,this),this.parent.once(Au,function(){t.off(s,C,this)}),this.parent}getWaitCompleteTriggerCallback(t){t===void 0&&(t=!0);var s=this.waitId,l=this,C=function(){s<l.waitId||(l.waitId++,l.removeWaitEvents(),l.parent.emit(l.waitCompleteEventName))};if(t){var S=function(){HF(l.parent,0,C)};return S}else return C}removeWaitEvents(){return this.parent.emit(Au),this}addWaitCompleteCallback(t,s){return this.parent.on(this.waitCompleteEventName,t,s),this}clearWaitCompleteCallbacks(){return this.parent.off(this.waitCompleteEventName),this}}var $F={waitAny:WF};Object.assign(AE.prototype,zF,VF,UF,XF,YF,$F);const bx=Phaser.Utils.Objects.GetValue;var KF=function(e,t){this.clickTarget=void 0,this.cameraTarget=void 0,this.managersScene=e,this.gameObjectManagers={};var s=bx(t,"layers",!1);s!==!1&&(this.gameObjectManagers.layer=new cF(e,s));var l=bx(t,"sounds");return l!==!1&&(this.soundManager=new RE(e,l)),this.timeline=new GF(this),this.waitEventManager=new AE(this,t),this},jF=function(e){this.timeline.timeScale=e;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].setTimeScale(e);return this},ZF=function(){return this.timeline.timeScale},JF=function(e){this.waitEventManager.destroy(),this.waitEventManager=void 0;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].destroy(e),delete this.gameObjectManagers[t];this.soundManager&&(this.soundManager.destroy(),this.soundManager=void 0),this.timeline&&(this.timeline.destroy(),this.timeline=void 0),this.clickTarget=void 0,this.cameraTarget=void 0,this.managersScene=void 0};const LE={addGameObjectManager(e,t){e===void 0&&(e={}),t===void 0&&(t=rd),e.createGameObjectScope||(e.createGameObjectScope=this);var s=new t(this.managersScene,e);return this.gameObjectManagers[e.name]=s,this},getGameObjectManager(e,t){if(e){var s=this.gameObjectManagers[e];return s}else for(var e in this.gameObjectManagers){var s=this.gameObjectManagers[e];if(s.has(t))return s}},getGameObjectManagerNames(){var e=[];for(var t in this.gameObjectManagers)e.push(t);return e},getGameObjectManagerName(e){for(var t in this.gameObjectManagers)if(this.gameObjectManagers[t].has(e))return t},hasGameObjectMananger(e){return e in this.gameObjectManagers}},QF={createGameObject(e,t,...s){return this.getGameObjectManager(e,t).add(t,...s),this},destroyGameObject(e,t){var s=this.getGameObjectManager(e,t);return t===void 0?s.removeAll():s.remove(t),this},hasGameObject(e,t){return!!this.getGameObjectManager(e,t)},callGameObjectMethod(e,t,s,...l){return this.getGameObjectManager(e,t).call(t,s,...l),this},setGameObjectProperty(e,t,s,l){return this.getGameObjectManager(e,t).setProperty(t,s,l),this},easeGameObjectProperty(e,t,s,l,C,S,r,T){return this.getGameObjectManager(e,t).easeProperty(t,s,l,C,S,r,T),this},getGameObjectTweenTask(e,t,s){return this.getGameObjectManager(e,t).getTweenTask(t,s)},getGameObject(e,t,s){var l=this.getGameObjectManager(e,t);if(typeof t=="string")return l.getGO(t);var C=t;C===void 0&&(C=l.bobs),s===void 0&&(s={});for(t in C)s[t]=l.getGO(t);return s},addGameObject(e,t,s){var l=this.getGameObjectManager(e,t);if(typeof t=="string")l.addGO(t,s);else{var C=t;for(t in C)l.addGO(t,C[t])}return this},drawGameObjectsBounds(e,t,s){e instanceof Phaser.GameObjects.Graphics&&(s=t,t=e,e=void 0),e===void 0&&(e=this.getGameObjectManagerNames()),Array.isArray(e)||(e=[e]);for(var l=0,C=e.length;l<C;l++)this.getGameObjectManager(e[l]).drawGameObjectsBounds(t,s);return this}};var qF=function(e){class t extends e{}var s={initManagers:KF,setTimeScale:jF,getTimeScale:ZF,destroyManagers:JF};return Object.assign(t.prototype,s,LE,QF),t},_F=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,t5=/^0x[0-9A-F]+$/i,mg=function(e){return typeof e!="string"||(e===""?e=null:_F.test(e)?e=parseFloat(e):t5.test(e)?e=parseInt(e,16):e==="false"?e=!1:e==="true"&&(e=!0)),e};let FE=class{constructor(t){this.setEventEmitter(It(t,"eventEmitter",void 0)),this.setValueConverter(It(t,"valueConvert",!0)),this.setLoopEnable(It(t,"loop",!1)),this.setMultipleLinesTagEnable(It(t,"multipleLinesTag",!1));var s=It(t,"delimiters","<>");this.setDelimiters(s[0],s[1]),this.setTranslateTagNameCallback(It(t,"translateTagNameCallback")),this.isRunning=!1,this.isPaused=!1,this.skipEventFlag=!1,this.justCompleted=!1,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}setMultipleLinesTagEnable(t){return t===void 0&&(t=!0),this.multipleLinesTagEnable=t,this}setDelimiters(t,s){s===void 0&&(s=t[1],t=t[0]),this.delimiterLeft=t,this.delimiterRight=s,t=Aa(this.delimiterLeft),s=Aa(this.delimiterRight);var l=this.multipleLinesTagEnable?"gs":"gi";return this.reSplit=RegExp(`${t}(.+?)${s}`,l),this}setTranslateTagNameCallback(t){return this.translateTagNameCallback=t,this}setValueConverter(t){return t===!0?t=mg:t||(t=e5),this.valueConverter=t,this}setLoopEnable(t){return t===void 0&&(t=!0),this.loopEnable=t,this}setSource(t){return this.source=t,this}resetIndex(t){return t===void 0&&(t=0),this.progressIndex=t,this.reSplit.lastIndex=t,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null,this.justCompleted=!1,this.isRunning=!1,this}start(t){return this.setSource(t).restart(),this}restart(){this.resetIndex().next()}next(){if(this.isPaused&&this.onResume(),this.isRunning)return this;if(this.isRunning=!0,this.justCompleted)return this.isRunning=!1,this;this.reSplit.lastIndex===0&&this.onStart();var t=this.source,s=t.length;for(this.reSplit.lastIndex=this.progressIndex;;){var l=this.reSplit.exec(t);if(!l){if(this.progressIndex<s&&(this.onContent(t.substring(this.progressIndex,s)),this.isPaused)){this.progressIndex=s;break}this.onComplete(),this.isRunning=!1;return}var C=this.reSplit.lastIndex,S=C-l[0].length;if(this.progressIndex<S&&(this.onContent(t.substring(this.progressIndex,S)),this.isPaused)){this.progressIndex=S;break}if(this.onTag(l[1]),this.progressIndex=C,this.isPaused)break}return this.isRunning=!1,this}skipEvent(){return this.skipEventFlag=!0,this}pause(){return this.isPaused||this.onPause(),this}pauseUntilEvent(t,s){return this.isPaused?this:(this.pause(),t.once(s,function(){this.next()},this),this)}onContent(t){this.skipEventFlag=!1,this.emit("content",t),this.lastContent=t}onTag(t){}onStart(){this.isRunning=!0,this.emit("start",this)}onComplete(){this.isRunning=!1,this.justCompleted=!0,this.emit("complete",this),this.loopEnable&&this.resetIndex()}onPause(){this.isPaused=!0,this.emit("pause",this)}onResume(){this.isPaused=!1,this.emit("resume",this)}};const e5=function(e){return e};Object.assign(FE.prototype,Na);var i5=function(e,t){if(e==null)return[];t===void 0&&(t=mg);for(var s=e.split(","),l=0,C=s.length;l<C;l++)s[l]=t(s[l]);return s};class s5 extends FE{constructor(t){t===void 0&&(t={}),t.hasOwnProperty("multipleLinesTag")||(t.multipleLinesTag=!1),super(t),this.setTagExpression(It(t,"regex.tag",void 0)),this.setValueExpression(It(t,"regex.value",void 0));var s=It(t,"delimiters","<>");this.setDelimiters(s[0],s[1])}setTagExpression(t){return t||(t=ll),this.tagExpression=t,this}setValueExpression(t){return t||(t=ll),this.valueExpression=t,this}setDelimiters(t,s){super.setDelimiters(t,s);var l=`(${this.tagExpression})(=(${this.valueExpression}))?`;if(this.reTag=RegExp(l,"i"),this.tagExpression!==ll||this.valueExpression!==ll){var C=`${this.tagExpression}(=${this.valueExpression})?`,S=`/${this.tagExpression}`;t=Aa(this.delimiterLeft),s=Aa(this.delimiterRight);var r=this.multipleLinesTagEnable?"gs":"gi";this.reSplit=RegExp(`${t}((${C})|(${S}))${s}`,r)}return this}onTag(t){var s=t.match(this.reTag),l=s[1],C=l.charAt(0)==="/";if(C&&(l=l.substring(1,l.length)),this.translateTagNameCallback&&(l=this.translateTagNameCallback(l)),this.skipEventFlag=!1,C)this.emit(`-${l}`),this.skipEventFlag||this.emit("-",l),this.lastTagEnd=l;else{var S=i5(s[3],this.valueConverter);this.emit(`+${l}`,...S),this.skipEventFlag||this.emit("+",l,...S),this.lastTagStart=l}}}const ll="[^=]+";var n5=function(e,t,s){var l="color",C;t.on("start",function(){C=e.textStyle.color}).on(`+${l}`,function(S){e.textStyle.setColor(S),t.skipEvent()}).on(`-${l}`,function(){e.textStyle.setColor(C),t.skipEvent()}).on("complete",function(){e.textStyle.setColor(C)})},r5=function(e,t,s){var l="stroke",C;t.on("start",function(){C=e.textStyle.stroke,e.textStyle.setStrokeStyle(null)}).on(`+${l}`,function(S){S===void 0&&(S=C),e.textStyle.setStrokeStyle(S),t.skipEvent()}).on(`-${l}`,function(){e.textStyle.setStrokeStyle(null),t.skipEvent()}).on("complete",function(){e.textStyle.setStrokeStyle(C)})},a5=function(e,t,s){var l="b";t.on("start",function(){e.textStyle.setBold(!1)}).on(`+${l}`,function(){e.textStyle.setBold(!0),t.skipEvent()}).on(`-${l}`,function(){e.textStyle.setBold(!1),t.skipEvent()})},o5=function(e,t,s){var l="i";t.on("start",function(){e.textStyle.setItalic(!1)}).on(`+${l}`,function(){e.textStyle.setItalic(!0),t.skipEvent()}).on(`-${l}`,function(){e.textStyle.setItalic(!1),t.skipEvent()})},h5=function(e,t,s){var l="size",C;t.on("start",function(){C=e.textStyle.fontSize}).on(`+${l}`,function(S){e.textStyle.setFontSize(S),t.skipEvent()}).on(`-${l}`,function(){e.textStyle.setFontSize(C),t.skipEvent()}).on("complete",function(){e.textStyle.setFontSize(C)})},l5=function(e,t,s){var l="y",C;t.on("start",function(){C=e.textStyle.offsetY,e.textStyle.setOffsetY(0)}).on(`+${l}`,function(S){S===void 0&&(S=C),e.textStyle.setOffsetY(S),t.skipEvent()}).on(`-${l}`,function(){e.textStyle.setOffsetY(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetY(0)})},u5=function(e,t,s){var l="x",C;t.on("start",function(){C=e.textStyle.offsetY,e.textStyle.setOffsetX(0)}).on(`+${l}`,function(S){S===void 0&&(S=C),e.textStyle.setOffsetX(S),t.skipEvent()}).on(`-${l}`,function(){e.textStyle.setOffsetX(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetX(0)})},d5=function(e,t,s){var l="left",C;t.on("start",function(){C=e.textStyle.leftSpace,e.textStyle.setLeftSpace(0)}).on(`+${l}`,function(S){S===void 0&&(S=C),e.textStyle.setLeftSpace(S),t.skipEvent()}).on(`-${l}`,function(){e.textStyle.setLeftSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setLeftSpace(0)})},f5=function(e,t,s){var l="right",C;t.on("start",function(){C=e.textStyle.rightSpace,e.textStyle.setRightSpace(0)}).on(`+${l}`,function(S){S===void 0&&(S=C),e.textStyle.setRightSpace(S),t.skipEvent()}).on(`-${l}`,function(){e.textStyle.setRightSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setRightSpace(0)})},c5=function(e,t,s){var l="shadow",C;t.on("start",function(){C=e.textStyle.shadowColor,e.textStyle.setShadowColor(null)}).on(`+${l}`,function(S){S===void 0&&(S=C),e.textStyle.setShadowColor(S),t.skipEvent()}).on(`-${l}`,function(){e.textStyle.setShadowColor(null),t.skipEvent()}).on("complete",function(){e.textStyle.setShadowColor(C)})},v5=function(e,t,s){var l="align";t.on(`+${l}`,function(C){e.textStyle.setAlign(C),t.skipEvent()}).on(`-${l}`,function(){e.textStyle.setAlign(),t.skipEvent()}).on("complete",function(){e.textStyle.setAlign()})},p5=function(e,t,s){var l="img";t.on(`+${l}`,function(C){var S=e.imageManager.get(C);gE.call(e,S.key,S.frame,{width:S.width,hieght:S.height,leftSpace:S.left,rightSpace:S.right}),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()})},g5=function(e,t,s){var l="space";t.on(`+${l}`,function(C){mE.call(e,C),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()})},m5=function(e,t,s){var l="speed";t.on(`+${l}`,function(C){Gx(e,C),t.skipEvent()}).on(`-${l}`,function(){Gx(e,void 0),t.skipEvent()})},x5=function(e){this.typeWriter.setTypingSpeed(e)},Gx=function(e,t){ft.call(e,"speed",x5,t,e)},y5=function(e,t,s){var l="se";t.on(`+${l}`,function(C,S){ft.call(e,l,C5,[C,S],e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()});var l="se2";t.on(`+${l}`,function(C,S){ft.call(e,l,T5,[C,S],e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()})},C5=function(e){if(!this.skipSoundEffect){var t=e[0],s=e[1];this.soundManager.playSoundEffect(t),s&&this.soundManager.fadeInSoundEffect(s)}},T5=function(e){if(!this.skipSoundEffect){var t=e[0],s=e[1];this.soundManager.playSoundEffect2(t),s&&this.soundManager.fadeInSoundEffect2(s)}},S5=function(e,t,s){var l="se.fadein";t.on(`+${l}`,function(C){ft.call(e,l,E5,C,e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()});var l="se2.fadein";t.on(`+${l}`,function(C){ft.call(e,l,P5,C,e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()})},E5=function(e){this.soundManager.fadeInSoundEffect(e)},P5=function(e){this.soundManager.fadeInSoundEffect2(e)},M5=function(e,t,s){var l="se.fadeout";t.on(`+${l}`,function(C,S){S=S==="stop",ft.call(e,l,w5,[C,S],e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()});var l="se2.fadeout";t.on(`+${l}`,function(C,S){S=S==="stop",ft.call(e,l,R5,[C,S],e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()})},w5=function(e){this.soundManager.fadeOutSoundEffect(...e)},R5=function(e){this.soundManager.fadeOutSoundEffect2(...e)},O5=function(e,t,s){var l="se.volume";t.on(`+${l}`,function(C){ft.call(e,l,A5,C,e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()});var l="se2.volume";t.on(`+${l}`,function(C){ft.call(e,l,L5,C,e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()})},A5=function(e){this.soundManager.setSoundEffectVolume(e,!0)},L5=function(e){this.soundManager.setSoundEffectVolume2(e,!0)},F5=function(e,t,s){var l="se.mute";t.on(`+${l}`,function(){ft.call(e,l,D5,void 0,e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()});var l="se2.mute";t.on(`+${l}`,function(){ft.call(e,l,I5,void 0,e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()});var l="se.unmute";t.on(`+${l}`,function(){ft.call(e,l,B5,void 0,e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()});var l="se2.unmute";t.on(`+${l}`,function(){ft.call(e,l,b5,void 0,e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()})},D5=function(){this.soundManager.setSoundEffectMute(!0)},I5=function(){this.soundManager.setSoundEffect2Mute(!0)},B5=function(){this.soundManager.setSoundEffectMute(!1)},b5=function(){this.soundManager.setSoundEffect2Mute(!1)},G5=function(e,t,s){var l="bgm";t.on(`+${l}`,function(C,S){ft.call(e,l,N5,[C,S],e),t.skipEvent()}).on(`-${l}`,function(){ft.call(e,"bgm.stop",z5,void 0,e),t.skipEvent()});var l="bgm2";t.on(`+${l}`,function(C,S){ft.call(e,l,k5,[C,S],e),t.skipEvent()}).on(`-${l}`,function(){ft.call(e,"bgm2.stop",V5,void 0,e),t.skipEvent()})},N5=function(e){var t=e[0],s=e[1];this.soundManager.playBackgroundMusic(t),s&&this.soundManager.fadeInBackgroundMusic(s)},z5=function(){this.soundManager.stopBackgroundMusic()},k5=function(e){var t=e[0],s=e[1];this.soundManager.playBackgroundMusic2(t),s&&this.soundManager.fadeInBackgroundMusic2(s)},V5=function(){this.soundManager.stopBackgroundMusic2()},U5=function(e,t,s){var l="bgm.fadein";t.on(`+${l}`,function(C){ft.call(e,l,X5,C,e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()});var l="bgm2.fadein";t.on(`+${l}`,function(C){ft.call(e,l,Y5,C,e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()})},X5=function(e){this.soundManager.fadeInBackgroundMusic(e)},Y5=function(e){this.soundManager.fadeInBackgroundMusic2(e)},W5=function(e,t,s){var l="bgm.fadeout";t.on(`+${l}`,function(C,S){S=S==="stop",ft.call(e,l,H5,[C,S],e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()});var l="bgm2.fadeout";t.on(`+${l}`,function(C,S){S=S==="stop",ft.call(e,l,$5,[C,S],e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()})},H5=function(e){this.soundManager.fadeOutBackgroundMusic(...e)},$5=function(e){this.soundManager.fadeOutBackgroundMusic2(...e)},K5=function(e,t,s){var l="bgm.cross";t.on(`+${l}`,function(C,S){ft.call(e,l,j5,[C,S],e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()});var l="bgm2.cross";t.on(`+${l}`,function(C,S){ft.call(e,l,Z5,[C,S],e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()})},j5=function(e){this.soundManager.crossFadeBackgroundMusic(...e)},Z5=function(e){this.soundManager.crossFadeBackgroundMusic2(...e)},J5=function(e,t,s){var l="bgm.pause";t.on(`+${l}`,function(){ft.call(e,l,Q5,void 0,e),t.skipEvent()}).on(`-${l}`,function(){ft.call(e,"bgm.resume",q5,void 0,e),t.skipEvent()});var l="bgm2.pause";t.on(`+${l}`,function(){ft.call(e,l,_5,void 0,e),t.skipEvent()}).on(`-${l}`,function(){ft.call(e,"bgm2.resume",t6,void 0,e),t.skipEvent()})},Q5=function(){this.soundManager.pauseBackgroundMusic()},q5=function(){this.soundManager.resumeBackgroundMusic()},_5=function(){this.soundManager.pauseBackgroundMusic2()},t6=function(){this.soundManager.resumeBackgroundMusic2()},e6=function(e,t,s){var l="bgm.volume";t.on(`+${l}`,function(C){ft.call(e,l,i6,C,e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()});var l="bgm2.volume";t.on(`+${l}`,function(C){ft.call(e,l,s6,C,e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()})},i6=function(e){this.soundManager.setBackgroundMusicVolume(e)},s6=function(e){this.soundManager.setBackgroundMusicVolume2(e)},n6=function(e,t,s){var l="bgm.mute";t.on(`+${l}`,function(){ft.call(e,l,r6,void 0,e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()});var l="bgm2.mute";t.on(`+${l}`,function(){ft.call(e,l,a6,void 0,e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()});var l="bgm.unmute";t.on(`+${l}`,function(){ft.call(e,l,o6,void 0,e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()});var l="bgm2.unmute";t.on(`+${l}`,function(){ft.call(e,l,h6,void 0,e),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()})},r6=function(){this.soundManager.setBackgroundMusicMute(!0)},a6=function(){this.soundManager.setBackgroundMusic2Mute(!0)},o6=function(){this.soundManager.setBackgroundMusicMute(!1)},h6=function(){this.soundManager.setBackgroundMusic2Mute(!1)},l6=function(e,t,s){var l="camera.fadein";t.on(`+${l}`,function(C,S,r,T){ft.call(e,l,u6,[C,S,r,T],e),t.skipEvent()})},u6=function(e){this.cameraTarget.fadeIn(...e)},d6=function(e,t,s){var l="camera.fadeout";t.on(`+${l}`,function(C,S,r,T){ft.call(e,l,f6,[C,S,r,T],e),t.skipEvent()})},f6=function(e){this.cameraTarget.fadeOut(...e)},c6=function(e,t,s){var l="camera.shake";t.on(`+${l}`,function(C,S){ft.call(e,l,v6,[C,S],e),t.skipEvent()})},v6=function(e){this.cameraTarget.shake(...e)},p6=function(e,t,s){var l="camera.flash";t.on(`+${l}`,function(C,S,r,T){ft.call(e,l,g6,[C,S,r,T],e),t.skipEvent()})},g6=function(e){this.cameraTarget.flash(...e)},m6=function(e,t,s){var l="camera.zoom";t.on(`+${l}`,function(C){ft.call(e,l,x6,C,e),t.skipEvent()}).on(`+${l}.to`,function(C,S,r){ft.call(e,"camera.zoom.to",y6,[C,S,r],e),t.skipEvent()})},x6=function(e){this.cameraTarget.setZoom(e)},y6=function(e){this.cameraTarget.zoomTo(...e)};const Nx=Phaser.Math.DegToRad;var C6=function(e,t,s){var l="camera.rotate";t.on(`+${l}`,function(C){C=Nx(C),ft.call(e,l,T6,C,e),t.skipEvent()}).on(`+${l}.to`,function(C,S,r){C=Nx(C),ft.call(e,"camera.rotate.to",S6,[C,S,r],e),t.skipEvent()})},T6=function(e){this.cameraTarget.setRotation(e)},S6=function(e){var t=e[0],s=e[1],l=e[2];this.cameraTarget.rotateTo(t,!1,s,l)},E6=function(e,t,s){var l="camera.scroll";t.on(`+${l}`,function(C,S){ft.call(e,l,P6,[C,S],e),t.skipEvent()}).on(`+${l}.to`,function(C,S,r,T){ft.call(e,"camera.scroll.to",M6,[C,S,r,T],e),t.skipEvent()})},P6=function(e){this.cameraTarget.setScroll(...e)},M6=function(e){var t=e[0],s=e[1],l=e[2],C=e[3],S=this.cameraTarget,r=S.scrollX,T=S.scrollY;S.setScroll(t,s),t+=S.centerX,s+=S.centerY,S.setScroll(r,T),S.pan(t,s,l,C)},w6=function(e,t,s){var l="wait",C="click";t.on(`+${l}`,function(S){zx(e,S),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()}).on(`+${C}`,function(){zx(e,"click"),t.skipEvent()}).on(`-${C}`,function(){t.skipEvent()})},R6=function(e){this.typeWriter.wait(e)},zx=function(e,t){ft.call(e,"wait",R6,t,e)},O6=function(e,t,s){var l="r";t.on(`+${l}`,function(){vh.call(e,`
`),t.skipEvent()}).on(`-${l}`,function(){t.skipEvent()})},A6=function(e,t,s){for(var l=["pagebreak","pb"],C=0,S=l.length;C<S;C++){var r=l[C];t.on(`+${r}`,function(){vh.call(e,"\f"),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})}},L6=function(e,t,s){var l="content.off";t.on(`+${l}`,function(){t.setContentOutputEnable(!1),t.skipEvent()})},F6=function(e,t,s){var l="content.on";t.on(`+${l}`,function(){t.setContentOutputEnable(),t.skipEvent()})},D6=function(e,t,s){t.on("content",function(l){if(t.contentOutputEnable)vh.call(e,l);else{var C=`+${t.lastTagStart}`;e.emit(`parser.${C}#content`,t,l)}})},I6=function(e,t,s){t.on("start",function(){e.emit("parser.start",t)}).on("+",function(l,...C){if(!t.skipEventFlag){var S=`+${l}`,r=C;e.emit(`parser.${S}`,t,...C,r),kx(e,S,r)}}).on("-",function(l){if(!t.skipEventFlag){var C=`-${l}`,S=[];e.emit(`parser.${C}`,t,S),kx(e,C,S)}}).on("complete",function(){e.emit("parser.complete",t)})},B6=function(e,t){var s=`tag.${t}`;e==null?this.emit(s):this.emit(s,...e)},kx=function(e,t,s){ft.call(e,t,B6,s,e)};const Vx=[n5,r5,a5,o5,h5,c5,v5,l5,u5,d5,f5,p5,g5,m5,y5,S5,M5,O5,F5,G5,U5,W5,K5,J5,e6,n6,l6,d6,c6,p6,m6,C6,E6,w6,O6,A6,L6,F6,D6,I6];var b6=function(e,t,s){for(var l=0,C=Vx.length;l<C;l++)Vx[l](e,t,s)},G6=function(e,t){for(var s=e.commentLineStart,l=t.split(`
`),C=0,S=l.length;C<S;C++){var r=l[C];r===""||(r.trim().length===0||s&&r.startsWith(s))&&(l[C]="")}return l.join("")};const N6=Phaser.Utils.Objects.GetValue;class z6 extends s5{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("delimiters")||(s.delimiters="[]"),super(s),b6(t,this,s),this.setCommentLineStartSymbol(N6(s,"comment","//")),this.setContentOutputEnable()}setCommentLineStartSymbol(t){return this.commentLineStart=t,this}setContentOutputEnable(t){return t===void 0&&(t=!0),this.contentOutputEnable=t,this}start(t){return super.start(G6(this,t)),this}}const k6={setDefaultTypingSpeed(e){return this.defaultSpeed=e,this},setTypingSpeed(e){return e===void 0&&(e=this.defaultSpeed),this.speed=e,this}},tr="page.fadeout",Kv="_remove.play",Ux=[tr,Kv];var V6=function(){if(!this.fadeOutPageCallback||!this.children)return this.emit(tr),this;var e=this.children.filter(function(l){return l.renderable}),t=this.fadeOutPageCallback(e,this.fadeOutPageDuration);if(!t)this.emit(tr);else if(t.once)t.once("complete",function(){this.emit(tr)},this);else if(t.then){var s=this;t.then(function(){s.emit(tr)})}else this.emit(tr);return this},hd=function(e,t){return new Promise(function(s,l){e.once(t,function(){s()})})},Se=function(e){return hd(e,"complete")},U6=function(e){return this.children=e,this.index=0,this.isPageTyping=!0,this.onTypeStart&&this.onTypeStart(e),this.typing(),Se(this)};const X6="delay",DE="anim";var IE=function(e){e===void 0&&(e=0);var t=0;for(this.inTypingProcessLoop=!0;this.inTypingProcessLoop;){var s=this.getNextChild();if(!s){this.timeline.isRunning?this.timeline.once("complete",function(){this.isPageTyping=!1,this.emit("complete")},this):(this.isPageTyping=!1,this.emit("complete"));break}if(s.renderable){var l=this.animationConfig;if(l.duration>0){var C=this.timeline.addTimer({name:DE,target:s,duration:l.duration,yoyo:l.yoyo,onStart:l.onStart,onProgress:l.onProgress,onComplete:l.onComplete});this.skipTypingAnimation&&C.seek(1)}else l.onStart&&l.onStart(s,0);this.minSizeEnable&&this.textPlayer.setToMinSize(),this.textPlayer.emit("typing",s);var S=this.nextChild;if(S&&!(this.skipSpaceEnable&&RL(S))){if(t+=this.speed+e,e=0,t>0){this.typingTimer=this.timeline.addTimer({name:X6,target:this,duration:t,onComplete:function(r,T,i){r.typingTimer=void 0,IE.call(r,i.remainder)}});break}}}else OL(s)&&s.exec()}this.minSizeEnable&&this.textPlayer.setToMinSize(),this.inTypingProcessLoop=!1},Y6=function(){return this.timeline.pause(),this},W6=function(){return this.timeline.resume(),this},H6=function(){return this.isTypingPaused?this:(this.typingTimer?(this.typingTimer.pause(),this.isTypingPaused=!0):this.inTypingProcessLoop&&(this.inTypingProcessLoop=!1,this.isTypingPaused=!0),this)},$6=function(e){return this.isTypingPaused?(e===void 0&&(e=0),this.typingTimer?(this.isTypingPaused=!1,this.typingTimer.resume(),this.typingTimer.remainder+=e):this.isTypingPaused&&(this.isTypingPaused=!1,this.typing(e)),this):this},K6=function(e){switch(e){case"camera.fadein":case"camera.fadeout":case"camera.flash":case"camera.shake":case"camera.zoom":case"camera.rotate":case"camera.scroll":return!0;default:return!1}},j6=function(e,t){var s=t.split(".");return e.gameObjectManagers.hasOwnProperty(s[0])},Z6=function(e,t,s,l){var C=e.waitEventManager,S=t.split("."),r=S[0],T=e.getGameObjectManager(r),i=`wait.${r}`;switch(S.length){case 1:C.waitGameObjectManagerEmpty(r),e.emit(i);return;case 2:var d=S[1];C.waitGameObjectDestroy(r,d),e.emit(i,d);return;case 3:var d=S[1],x=S[2],f=T.getProperty(d,x);if(typeof f=="number"){C.waitGameObjectTweenComplete(r,d,x),e.emit(i,d,x);return}var u=x,o=u.startsWith("!");if(o&&(u=u.substring(1)),T.hasData(d,u)){C.waitGameObjectDataFlag(r,d,u,!o),e.emit(i,d,u);return}else{C.waitTime(0);return}}};const J6=Phaser.Input.Keyboard.KeyCodes;var BE=function(e,t,s,l){var C=e.waitEventManager;C.clearWaitCompleteCallbacks().addWaitCompleteCallback(s,l),typeof t=="string"&&t.length>1&&t.indexOf("|")!==-1?t=t.split("|"):t=[t];for(var S=0,r=t.length;S<r;S++){var T=t[S];if(T==null||T==="wait"){var i=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit("wait",i)}else if(typeof T=="number"||!isNaN(T)){var d=parseFloat(T);C.waitTime(d),e.emit("wait.time",d)}else if(T==="click")C.waitClick(),e.emit("wait.click");else if(T==="se"){C.waitSoundEffectComplete();var x=e.soundManager.getLastSoundEffect();e.emit("wait.music",x)}else if(T==="se2"){C.waitSoundEffect2Complete();var x=e.soundManager.getLastSoundEffect2();e.emit("wait.music",x)}else if(T==="bgm"){C.waitBackgroundMusicComplete();var x=e.soundManager.getBackgroundMusic();e.emit("wait.music",x)}else if(T==="bgm2"){C.waitBackgroundMusic2Complete();var x=e.soundManager.getBackgroundMusic2();e.emit("wait.music",x)}else if(J6.hasOwnProperty(T.toUpperCase()))C.waitKeyDown(T),e.emit("wait.keydown",T);else if(K6(T))C.waitCameraEffectComplete(T),e.emit("wait.camera",T);else if(j6(e,T))Z6(e,T);else{var i=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit(`wait.${T}`,i)}}},Q6=function(e){return this.ignoreWait?this:(this.pauseTyping(),BE(this.textPlayer,e,this.resumeTyping,this),this)},q6=function(e){return e===void 0&&(e=!0),this.ignoreWait=e,this},_6=function(e){return e===void 0&&(e=!0),this.skipSpaceEnable=e,this},tD=function(e){if(e===void 0&&(e=!0),this.skipTypingAnimation=e,e)for(var t=this.timeline.getTimers(DE),s=0,l=t.length;s<l;s++)t[s].seek(1);return this},eD=function(e){if(e===void 0&&(e=!0),this.skipSoundEffect=e,e){var t=this.textPlayer._soundManager;t&&t.fadeOutAllSoundEffects(100,!0)}return this},iD=function(){return this.typingTimer&&this.typingTimer.seek(1),this},bE={fadeOutPage:V6,start:U6,typing:IE,pause:Y6,resume:W6,pauseTyping:H6,resumeTyping:$6,wait:Q6,setIgnoreWait:q6,setSkipSpaceEnable:_6,setSkipTypingAnimation:tD,setSkipSoundEffect:eD,skipCurrentTypingDelay:iD};Object.assign(bE,k6);const Fr=Phaser.Utils.Objects.GetValue;class GE{constructor(t,s){this.setEventEmitter(),this.textPlayer=t,this.isPageTyping=!1,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.inTypingProcessLoop=!1,this.isTypingPaused=!1,this.setIgnoreWait(!1),this.setSkipTypingAnimation(!1),this.setTypingStartCallback(Fr(s,"onTypingStart",nD)),this.setDefaultTypingSpeed(Fr(s,"speed",250)),this.setTypingSpeed(),this.setSkipSpaceEnable(Fr(s,"skipSpace",!1)),this.setAnimationConfig(Fr(s,"animation",void 0)),this.setMinSizeEnable(Fr(s,"minSizeEnable",!1)),this.setFadeOutPageCallback(Fr(s,"fadeOutPage"))}destroy(){this.destroyEventEmitter(),this.textPlayer=void 0,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.onTypeStart=void 0,this.animationConfig=void 0}get timeline(){return this.textPlayer.timeline}setTypingStartCallback(t){return this.onTypeStart=t,this}setAnimationConfig(t){return t||(t={}),t.hasOwnProperty("duration")||(t.duration=0),t.hasOwnProperty("onStart")||(t.onStart=sD),this.animationConfig=t,this}setFadeOutPageCallback(t){return this.fadeOutPageCallback=t,this}setMinSizeEnable(t){return t===void 0&&(t=!0),this.minSizeEnable=t,this}getNextChild(){var t=this.nextChild;return this.index=Math.min(this.index+1,this.children.length),this._nextChild=void 0,t}get nextChild(){return this._nextChild||(this._nextChild=this.children[this.index]),this._nextChild}}var sD=function(e){e.setVisible&&e.setVisible()},nD=function(e){for(var t=0,s=e.length;t<s;t++){var l=e[t];l.setVisible&&l.setVisible(!1)}};Object.assign(GE.prototype,Na,bE);class rD extends cg{playAnimation(t){return this.gameObject.anims.timeScale=this.timeScale,this.gameObject.play(t),this}stopAnimation(){return this.gameObject.stop(),this}chainAnimation(t){return this.gameObject.chain(t),this}pauseAnimation(){return this.gameObject.anims.pause(),this}setTimeScale(t){return super.setTimeScale(t),this.gameObject.anims&&(this.gameObject.anims.timeScale=t),this}}const aD={playAnimation(e,t){return this.has(e)||this.add(e),this.get(e).playAnimation(t),this},stopAnimation(e){return this.has(e)?(this.get(e).stopAnimation(),this):this},chainAnimation(e,t){return this.has(e)?(this.get(e).chainAnimation(t),this):this},pauseAnimation(e){return this.has(e)?(this.get(e).pauseAnimation(),this):this}};var NE={};Object.assign(NE,aD);class zE extends rd{constructor(t,s){s===void 0&&(s={}),s.BobClass=rD,super(t,s)}setCreateGameObjectCallback(t,s){return!t||t==="sprite"?t=oD:t==="image"&&(t=hD),super.setCreateGameObjectCallback(t,s),this}}var oD=function(e,t,s){return typeof s!="string"&&typeof s!="number"&&(s=void 0),e.add.sprite(0,0,t,s)},hD=function(e,t,s){return typeof s!="string"&&typeof s!="number"&&(s=void 0),e.add.image(0,0,t,s)};Object.assign(zE.prototype,NE);var Xx=function(e,t){return e.length===3&&e[0]===t&&e[2]==="play"},lD=function(e,t){return e.length===3&&e[0]===t&&e[2]==="stop"},uD=function(e,t,s){var l=s.name;t.on("+",function(C,...S){if(!t.skipEventFlag){var r=C.split("."),T;if(Xx(r,l))T=r[1];else return;ft.call(e,`${l}.play`,dD,[l,T,S],e),t.skipEvent()}}).on("+",function(C){if(!t.skipEventFlag){var S=C.split("."),r;if(lD(S,l))r=S[1];else return;ft.call(e,`${l}.stop`,Yx,[l,r],e),t.skipEvent()}}).on("-",function(C){if(!t.skipEventFlag){var S=C.split("."),r;if(Xx(S,l))r=S[1];else return;ft.call(e,`${l}.stop`,Yx,[l,r],e),t.skipEvent()}})},dD=function(e){var t,s,l;[t,s,l]=e;var C=l.shift(),S=this.getGameObjectManager(t);S.playAnimation(s,C),l.length>0&&S.chainAnimation(s,l)},Yx=function(e){var t,s;[t,...s]=e;var l=this.getGameObjectManager(t);l.stopAnimation(...s)},fD=function(e,t){return e.length===3&&e[0]===t&&e[2]==="pause"},cD=function(e,t,s){var l=s.name;t.on("+",function(C){if(!t.skipEventFlag){var S=C.split("."),r;if(fD(S,l))r=S[1];else return;ft.call(e,`${l}.pause`,vD,[l,r],e),t.skipEvent()}})},vD=function(e){var t,s;[t,...s]=e;var l=this.getGameObjectManager(t);l.pauseAnimation(...s)},pD=function(e,t){return e.length===3&&e[0]===t&&e[2]==="chain"},gD=function(e,t,s){var l=s.name;t.on("+",function(C){if(!t.skipEventFlag){var S=C.split("."),r;if(pD(S,l))r=S[1];else return;var T=Array.prototype.slice.call(arguments,1);ft.call(e,`${l}.chain`,mD,[l,r,T],e),t.skipEvent()}})},mD=function(e){var t,s;[t,...s]=e;var l=this.getGameObjectManager(t);l.chainAnimation(...s)};const xD=[uD,cD,gD];var yD=function(e){e===void 0&&(e={}),e.name="sprite",e.parseCallbacks=xD,this.addGameObjectManager(e,zE)},Wx=function(e,t){return e.length===2&&e[0]===t},CD=function(e,t,s){var l=s.name;t.on("+",function(C,...S){if(!t.skipEventFlag){var r=C.split("."),T;if(Wx(r,l))T=r[1];else return;ft.call(e,`${l}.add`,TD,[l,T,...S],e),t.skipEvent()}}).on("-",function(C){if(!t.skipEventFlag){var S=C.split("."),r;if(Wx(S,l))r=S[1];else return;ft.call(e,`${l}.remove`,SD,[l,r],e),t.skipEvent()}})},TD=function(e){var t,s;[t,...s]=e;var l=this.getGameObjectManager(t);l.add(...s)},SD=function(e){var t,s;[t,...s]=e;var l=this.getGameObjectManager(t);l.remove(...s)},ED=function(e,t,s){var l=s.name;t.on("-",function(C){t.skipEventFlag||C===l&&(ft.call(e,`${l}.removeall`,PD,l,e),t.skipEvent())})},PD=function(e){var t=this.getGameObjectManager(e);t.removeAll()},MD=function(e,t){return e.length===3&&e[0]===t},wD=function(e,t,s){var l=s.name;t.on("+",function(C,...S){if(!t.skipEventFlag){var r=C.split("."),T,i;if(MD(r,l))T=r[1],i=r[2];else return;ft.call(e,`${l}.call`,RD,[l,T,i,...S],e),t.skipEvent()}})},RD=function(e){var t,s,l,C;[t,s,l,...C]=e;var S=`${t}.${l}`;if(this.emit(S,s,...C),!(this.listenerCount(S)>0)){var r=this.getGameObjectManager(t);r.hasMethod(s,l)?r.call(s,l,...C):r.setProperty(s,l,C[0])}},OD={to:!0,yoyo:!0,from:!0,toLeft:!0,toRight:!0,toUp:!0,toDown:!0,yoyoLeft:!0,yoyoRight:!0,yoyoUp:!0,yoyoDown:!0,fromLeft:!0,fromRight:!0,fromUp:!0,fromDown:!0},AD=function(e,t){return e.length===4&&e[0]===t&&OD[e[3]]},LD=function(e,t,s){var l=s.name;e.getGameObjectManager(l),t.on("+",function(C,S,r,T,i){if(!t.skipEventFlag){var d=C.split("."),x,f,u;if(AD(d,l))x=d[1],f=d[2],u=d[3];else return;typeof T=="number"&&(i=T,T=void 0),ft.call(e,`${l}.ease`,FD,[l,x,f,S,r,T,i,u],e),t.skipEvent()}})},FD=function(e){var t,s,l,C,S,r,T,i;[t,s,l,C,S,r,T,i]=e;var d=this.getGameObjectManager(t),x=d.getProperty(s,l);if(typeof x=="number"){i.endsWith("Left")||i.endsWith("Up")?i.startsWith("to")||i.startsWith("yoyo")?C=x-C:i.startsWith("from")&&(d.setProperty(s,l,x-C),C=x):i.endsWith("Right")||i.endsWith("Down")?i.startsWith("to")||i.startsWith("yoyo")?C=x+C:i.startsWith("from")&&(d.setProperty(s,l,x+C),C=x):i==="from"&&(d.setProperty(s,l,C),C=x);var f=i.startsWith("yoyo");d.easeProperty(s,l,C,S,r,T,f)}};const Hx=[CD,ED,wD,LD],DD=LE.addGameObjectManager,ID={addGameObjectManager(e,t){e===void 0&&(e={});var s=e.name;s||console.warn("Parameter 'name' is required in TextPlayer.addGameObjectManager(config) method"),DD.call(this,e,t);var l=e.parseCallbacks;l?l=[...l,...Hx]:l=Hx;for(var C=0,S=l.length;C<S;C++)l[C](this,this.parser,e);return this}};var BD=function(e){return this.waitEventManager.setClickTarget(e),this},bD=function(e){return this.waitEventManager.setCameraTarget(e),this},GD=function(e){var t=this;e?typeof e=="function"?this.nextPageInput=function(s,l){var C=t.waitEventManager;C.clearWaitCompleteCallbacks().addWaitCompleteCallback(s,l);var S=C.getWaitCompleteTriggerCallback();e.call(t,S)}:this.nextPageInput=function(s,l){BE(t,e,s,l)}:this.nextPageInput=null},ND=function(e,t){return this.imageManager.add(e,t),this};const zD={play(e){return this.isPlaying?this:(this.removeChildren(),this.parser.start(e),this.isPlaying=!0,this.once("complete",function(){this.isPlaying=!1},this),this.lastWrapResult=void 0,this.typingNextPage(),this)},playPromise(e){var t=Se(this);return this.play(e),t}};var jv=function(){return!this.isPlaying||this.isPageTyping?this:(this.typeWriter.once(tr,kD,this).fadeOutPage(),this)},kD=function(){var e=this.runWrap(this.lastWrapResult);this.lastWrapResult=e,this.emit("page.start");var t=function(){this.emit(Kv),e.isLastPage?this.emit("complete"):(this.emit("page.complete"),this.ignoreNextPageInput?jv.call(this):this.nextPageInput&&this.nextPageInput(jv,this))};this.once(Kv,function(){this.typeWriter.off("complete",t,this)},this),this.typeWriter.once("complete",t,this).start(e.children)};const VD={pause(){return this.timeline.pause(),this},pauseTyping(){return this.typeWriter.pauseTyping(),this}},UD={resume(){return this.timeline.resume(),this},resumeTyping(e){return this.typeWriter.resumeTyping(e),this}};var XD=function(e){return this.typeWriter.wait(e),this};const YD={setDefaultTypingSpeed(e){return this.defaultTypingSpeed=e,this},setTypingSpeed(e){return this.typingSpeed=e,this}};var WD=function(e){return this.typeWriter.setIgnoreWait(e),this},HD=function(e){return e===void 0&&(e=!0),this.ignoreNextPageInput=e,this},$D=function(){if(!this.isPlaying||!this.isPageTyping)return this;var e=this.typeWriter.speed,t=this.typeWriter.ignoreWait,s=this.typeWriter.skipTypingAnimation,l=this.typeWriter.skipSoundEffect;return this.typeWriter.once("complete",function(){this.typeWriter.setTypingSpeed(e).setIgnoreWait(t).setSkipTypingAnimation(s).setSkipSoundEffect(l)},this).setTypingSpeed(0).skipCurrentTypingDelay().setIgnoreWait(!0).setSkipTypingAnimation(!0).setSkipSoundEffect(!0),this};const KD={getSprite(e){return this.getGameObject("sprite",e)},addSprite(e,t){return this.addGameObject("sprite",e,t),this}},jD={setContentOutputEnable(e){return this.parser.setContentOutputEnable(e),this},setContentCallback(e,t){return this.contentCallback=e,this.contentCallbackScope=t,this}};var kE={setClickTarget:BD,setCameraTarget:bD,setNextPageInput:GD,addImage:ND,typingNextPage:jv,wait:XD,setIgnoreWait:WD,setIgnoreNextPageInput:HD,showPage:$D};Object.assign(kE,ID,zD,VD,UD,YD,KD,jD);var ZD=function(e){for(var t=0,s=Ux.length;t<s;t++)e.emit(Ux[t])};const $x=Phaser.Utils.Objects.IsPlainObject,Dr=Phaser.Utils.Objects.GetValue;class xg extends qF(Ga){constructor(t,s,l,C,S,r){$x(s)?r=s:$x(C)&&(r=C),r===void 0&&(r={});var T=r.text;delete r.text,super(t,s,l,C,S,r),this.type="rexTextPlayer",this.initManagers(t,r),this.parser=new z6(this,Dr(r,"parser",void 0)),this.typeWriter=new GE(this,Dr(r,"typing",void 0)),this._imageManager=void 0;var i=Dr(r,"images",void 0);i&&this.addImage(i);var d=Dr(r,"sprites");d!==!1&&d!==null&&yD.call(this,d),this.setIgnoreNextPageInput(Dr(r,"ignoreNextPageInput",!1)),this.setNextPageInput(Dr(r,"nextPageInput",null)),this.isPlaying=!1,T&&this.play(T)}get imageManager(){return this._imageManager===void 0&&(this._imageManager=new og(this.scene)),this._imageManager}get spriteManager(){return this.getGameObjectManager("sprite")}destroy(t){!this.scene||this.ignoreDestroy||(ZD(this),this.parser.destroy(),this.parser=void 0,this.typeWriter.destroy(t),this.typeWriter=void 0,this._imageManager&&this._imageManager.destroy(t),this._imageManager=void 0,this.destroyManagers(t),super.destroy(t))}get isPageTyping(){return this.typeWriter.isPageTyping}set defaultTypingSpeed(t){this.typeWriter.setDefaultTypingSpeed(t)}get defaultTypingSpeed(){return this.typeWriter.defaultTypingSpeed}set typingSpeed(t){this.typeWriter.setTypingSpeed(t)}get typingSpeed(){return this.typeWriter.speed}set timeScale(t){this.setTimeScale(t)}get timeScale(){return this.getTimeScale()}}Object.assign(xg.prototype,kE);st.register("textPlayer",function(e,t,s,l,C){var S=new xg(this.scene,e,t,s,l,C);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.TextPlayer",xg);const VE={maxLength:["maxLength",void 0],minLength:["minLength",void 0],readOnly:["readOnly",!1]},UE={direction:["direction",void 0]};var tn=function(e,t,s){if(typeof s=="string")e.hasOwnProperty(s)&&(t[s]=e[s]);else{var l=s;if(Array.isArray(l))for(var C=0,S=l.length;C<S;C++)tn(e,t,l[C]);else for(var s in l)tn(e,t,s)}},JD=function(e){e===void 0&&(e={});var t={};return tn(e,t,"inputType"),tn(e,t,"type"),tn(e,t,"style"),tn(e,t,UE),tn(e,t,VE),t},yg=function(e,t,s,l){if(t)return!(s&&!s(e,t)||!Kx(e,t)||l&&!l(e,t));for(var C=e.scene.input.manager,S=C.pointersTotal,r=C.pointers,t,T=0;T<S;T++)if(t=r[T],!(s&&!s(e,t))&&Kx(e,t)&&!(l&&!l(e,t)))return!0;return!1},Kx=function(e,t){for(var s=e.scene,l=s.input.cameras.getCamerasBelowPointer(t),C=s.input.manager,S=[e],r,T=0,i=l.length;T<i;T++)if(r=C.hitTest(t,S,l[T]),r.length>0)return!0;return!1},da=void 0,QD=function(e){e!==da&&(da!==void 0&&da.close(),da=e)},qD=function(e){e===da&&(da=void 0)};const _D=Phaser.Utils.Objects.GetValue;var Lu=function(e,t,s){s===void 0&&(s={});var l,C;for(var S in e)l=e[S],C=_D(t,S,l[1]),C!==void 0&&(s[l[0]]=C);return s},XE=function(e){e.addEventListener("touchstart",Ir,!1),e.addEventListener("touchmove",Ir,!1),e.addEventListener("touchend",Ir,!1),e.addEventListener("mousedown",Ir,!1),e.addEventListener("mouseup",Ir,!1),e.addEventListener("mousemove",Ir,!1)},Ir=function(e){e.stopPropagation()};const Gf=Phaser.Utils.Objects.GetValue;var t4=function(e,t){var s,l=Gf(t,"inputType",void 0);l===void 0&&(l=Gf(t,"type","text")),l==="textarea"?(s=document.createElement("textarea"),s.style.resize="none"):(s=document.createElement("input"),s.type=l);var C=Gf(t,"style",void 0),S=s.style;Lu(UE,C,S),S.position="absolute",S.opacity=0,S.pointerEvents="none",S.zIndex=0,S.transform="scale(0)",Lu(VE,t,s),XE(s);var r=e.scene.sys.scale,T=r.isFullscreen?r.fullscreenTarget:document.body;return T.appendChild(s),s},e4=function(){return this.isOpened?this:this.readOnly?this:(QD(this),this.isOpened=!0,this.node||(this.node=t4(this,this.nodeConfig)),this.setFocus(),this.initText(),this.enterCloseEnable&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.scene.sys.events.on("postupdate",this.updateText,this),this.scene.input.on("pointerdown",this.onClickOutside,this),this.onOpenCallback&&this.onOpenCallback(this.parent,this),this.emit("open",this),this)},i4=function(e){if(e){var t=e.parentElement;t&&t.removeChild(e)}},s4=function(){return this.isOpened?(qD(this),this.setBlur(),this.isOpened=!1,this.updateText(),this.scene.sys.events.off("postupdate",this.updateText,this),this.scene.input.off("pointerdown",this.onClickOutside,this),this.onCloseCallback&&this.onCloseCallback(this.parent,this),i4(this.node),this.node=void 0,this.emit("close",this),this):this},n4={open:e4,close:s4};const Ws=Phaser.Utils.Objects.GetValue;class Cg extends ge{constructor(t,s){super(t);var l=Ws(s,"inputType",void 0);l===void 0&&(l=Ws(s,"type","text")),this.setEnterCloseEnable(Ws(s,"enterClose",l!=="textarea"));var C=Ws(s,"onOpen",void 0);C||(C=Ws(s,"onFocus",void 0)),this.onOpenCallback=C;var S=Ws(s,"onClose",void 0);S||(S=Ws(s,"onBlur",void 0)),this.onCloseCallback=S,this.onUpdateCallback=Ws(s,"onUpdate",void 0),this.isOpened=!1,t.on("pointerdown",function(){this.open()},this).setInteractive(),this.nodeConfig=JD(s),this.node=void 0}destroy(){this.close(),super.destroy()}onClickOutside(t){yg(this.parent,t)||this.close()}setEnterCloseEnable(t){return t===void 0&&(t=!0),this.enterCloseEnable=t,this}initText(){}updateText(){}get text(){return this.node?this.node.value:""}set text(t){this.node&&(this.node.value=t)}setText(t){return this.text=t,this}get maxLength(){return this.nodeConfig.maxLength}set maxLength(t){this.nodeConfig.maxLength=t,this.node&&(this.node.maxLength=t)}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.nodeConfig.minLength}set minLength(t){this.nodeConfig.minLength=t,this.node&&(this.node.minLength=t)}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node&&(this.node.placeholder=t)}setPlaceholder(t){return this.placeholder=t,this}selectText(t,s){return this.node?(t===void 0?this.node.select():this.node.setSelectionRange(t,s),this):this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node?this.node.selectionStart:0}get selectionEnd(){return this.node?this.node.selectionEnd:0}get selectedText(){if(!this.node)return"";var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node?this.node.selectionStart:0}set cursorPosition(t){this.node&&this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node?this.node.title:""}set tooltip(t){if(!this.node)return this;this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.nodeConfig.readOnly}set readOnly(t){this.nodeConfig.readOnly=t,this.node&&(this.node.readOnly=t)}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node?this.node.spellcheck:""}set spellCheck(t){this.node&&(this.node.spellcheck=t)}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){if(this.node)return this.node.style.color}set fontColor(t){this.node&&(this.node.style.color=t)}setFontColor(t){return this.fontColor=t,this}setStyle(t,s){return this.node?(this.node.style[t]=s,this):this}getStyle(t){if(this.node)return this.node.style[t]}scrollToBottom(){return this.node?(this.node.scrollTop=this.node.scrollHeight,this):this}setEnabled(t){return this.node?(t===void 0&&(t=!0),this.node.disabled=!t,this):this}setBlur(){return this.node?(this.node.blur(),this):this}setFocus(){return this.node?(this.node.focus(),this):this}get isFocused(){return this.isOpened}}Object.assign(Cg.prototype,n4);var YE=function(e,t,s){e=e.replace(" ","");var l=s.previousText;if(e===l)return e;if(isNaN(e)){s.emit("nan",e,s),e=l;var C=s.cursorPosition-1;s.setText(e),s.setCursorPosition(C)}else s.previousText=e;return e},r4=function(e){var t=e.parent,s=e.isOpened?e.selectionStart:null,l=e.isOpened?e.selectionEnd:null,C=e.prevSelectionStart,S=e.prevSelectionEnd;if(!(C===s&&S===l)){var r,T;C===null?(r=s,T=l):(r=Math.min(C,s),T=Math.max(S,l));for(var i=r;i<T;i++){var d=C===null?!1:i>=C&&i<S,x=i>=s&&i<l;if(!(d&&x)){var f=t.getCharChild(i);f&&(d?t.emit("cursorout",f,i,t):t.emit("cursorin",f,i,t))}}e.prevSelectionStart=s,e.prevSelectionEnd=l}},a4=function(e){var t=e.parent,s=t.text,l=e.cursorPosition;if(e.prevCursorPosition!==l){if(e.prevCursorPosition!==null&&e.prevCursorPosition>s.length&&(e.prevCursorPosition=null),e.prevCursorPosition!==null){var C=t.getCharChild(e.prevCursorPosition);C&&t.emit("cursorout",C,e.prevCursorPosition,t)}if(l!=null){var C=t.getCharChild(l);C&&t.emit("cursorin",C,l,t)}t.emit("movecursor",l,e.prevCursorPosition,t),e.prevCursorPosition=l}},jx=function(e){var t=e.prevSelectionStart;if(t!==null){for(var s=e.prevSelectionEnd,l=e.parent,C=t;C<s;C++){var S=l.getCharChild(C);S&&l.emit("cursorout",S,C,l)}e.prevSelectionStart=null,e.prevSelectionEnd=null}},Zx=function(e){var t=e.prevCursorPosition;if(t!==null){var s=e.parent,l=s.getCharChild(t);l&&s.emit("cursorout",l,t,s),e.prevCursorPosition=null}};const o4=Phaser.Utils.Objects.GetValue;let h4=class extends Cg{constructor(t,s){super(t,s),this.setSelectAllWhenFocusEnable(o4(s,"selectAll",!1)),this.cursorMoveStartIndex=null,this.prevCursorPosition=null,this.prevSelectionStart=null,this.prevSelectionEnd=null,this.firstClickAfterOpen=!1,t.on("pointerdown",function(l,C,S,r){var T=t.getNearestChild(C,S),i=t.getCharIndex(T);(!this.selectAllWhenFocus||!this.firstClickAfterOpen)&&this.setCursorPosition(i),this.cursorMoveStartIndex=i,this.firstClickAfterOpen=!1},this).on("pointermove",function(l,C,S,r){if(l.isDown){var T=t.getNearestChild(C,S),i=t.getCharIndex(T);this.cursorMoveStartIndex<i?this.selectText(this.cursorMoveStartIndex,i+1):this.selectText(i,this.cursorMoveStartIndex+1)}},this),this.on("open",function(){this.selectAllWhenFocus&&this.selectAll(),this.firstClickAfterOpen=!0,t.emit("open")},this).on("close",function(){t.emit("close")},this)}initText(){var t=this.parent;return this.prevCursorPosition=null,this.setText(t.text),this}updateText(){var t=this.parent,s=this.text;if(this.onUpdateCallback){var l=this.onUpdateCallback(s,t,this);l!=null&&(s=l)}return t.text!==s&&(t.setText(s),t.emit("textchange",s,t,this)),this.isOpened?this.selectionStart!==this.selectionEnd?(Zx(this),r4(this)):(jx(this),a4(this)):(jx(this),Zx(this)),this}setNumberInput(){return this.onUpdateCallback=YE,this}setSelectAllWhenFocusEnable(t){return t===void 0&&(t=!0),this.selectAllWhenFocus=t,this}};const l4=Phaser.Utils.Objects.GetValue,u4=["inputType","onOpen","onFocus","onClose","onBlur","onUpdate","enterClose","readOnly","maxLength","minLength","selectAll"];var d4=function(e,t){var s=l4(t,"edit");return s===void 0&&(s={}),tn(t,s,u4),new h4(e,s)},hs=function(e,t){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(t))return!0;if(t.indexOf(".")!==-1){for(var s=t.split("."),l=e,C=0;C<s.length;C++)if(l.hasOwnProperty(s[C]))l=l[s[C]];else return!1;return!0}else return!1},f4=function(e){var t=!e.textArea;if(!hs(e,"wrap.vAlign")){var s=t?"center":"top";it(e,"wrap.vAlign",s)}if(hs(e,"wrap.charWrap")||it(e,"wrap.charWrap",!0),!hs(e,"wrap.maxLines")){var s=t?1:void 0;it(e,"wrap.maxLines",s)}if(hs(e,"wrap.useDefaultTextHeight")||it(e,"wrap.useDefaultTextHeight",!0),e.edit||(e.edit={}),!hs(e.edit,"inputType")){var s=t?"text":"textarea";it(e.edit,"inputType",s)}return e},c4=function(e){vg(e)||this.setCursorStyle(e).on("cursorin",function(t){var s=this.cursorStyle,l=ig(t.style,s);sg(s,l)||(t.styleSave=l,t.modifyStyle(s))},this).on("cursorout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},v4=function(e){vg(e)||this.setFocusStyle(e).on("open",function(){var t=this.background,s=this.focusStyle,l=ig(t,s);sg(s,l)||(t.styleSave=l,t.modifyStyle(s))},this).on("close",function(){var t=this.background;t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},p4=function(e){var t=e.createCharChild("|");return t.text="",lE.call(e,t),t};function Ns(){}Ns.prototype={diff(e,t,s={}){let l=s.callback;typeof s=="function"&&(l=s,s={}),this.options=s;let C=this;function S(o){return l?(setTimeout(function(){l(void 0,o)},0),!0):o}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));let r=t.length,T=e.length,i=1,d=r+T;s.maxEditLength&&(d=Math.min(d,s.maxEditLength));let x=[{newPos:-1,components:[]}],f=this.extractCommon(x[0],t,e,0);if(x[0].newPos+1>=r&&f+1>=T)return S([{value:this.join(t),count:t.length}]);function u(){for(let o=-1*i;o<=i;o+=2){let n,h=x[o-1],p=x[o+1],a=(p?p.newPos:0)-o;h&&(x[o-1]=void 0);let c=h&&h.newPos+1<r,v=p&&0<=a&&a<T;if(!c&&!v){x[o]=void 0;continue}if(!c||v&&h.newPos<p.newPos?(n=m4(p),C.pushComponent(n.components,void 0,!0)):(n=h,n.newPos++,C.pushComponent(n.components,!0,void 0)),a=C.extractCommon(n,t,e,o),n.newPos+1>=r&&a+1>=T)return S(g4(C,n.components,t,e,C.useLongestToken));x[o]=n}i++}if(l)(function o(){setTimeout(function(){if(i>d)return l();u()||o()},0)})();else for(;i<=d;){let o=u();if(o)return o}},pushComponent(e,t,s){let l=e[e.length-1];l&&l.added===t&&l.removed===s?e[e.length-1]={count:l.count+1,added:t,removed:s}:e.push({count:1,added:t,removed:s})},extractCommon(e,t,s,l){let C=t.length,S=s.length,r=e.newPos,T=r-l,i=0;for(;r+1<C&&T+1<S&&this.equals(t[r+1],s[T+1]);)r++,T++,i++;return i&&e.components.push({count:i}),e.newPos=r,T},equals(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty(e){let t=[];for(let s=0;s<e.length;s++)e[s]&&t.push(e[s]);return t},castInput(e){return e},tokenize(e){return e.split("")},join(e){return e.join("")}};function g4(e,t,s,l,C){let S=0,r=t.length,T=0,i=0;for(;S<r;S++){let x=t[S];if(x.removed){if(x.value=e.join(l.slice(i,i+x.count)),i+=x.count,S&&t[S-1].added){let f=t[S-1];t[S-1]=t[S],t[S]=f}}else{if(!x.added&&C){let f=s.slice(T,T+x.count);f=f.map(function(u,o){let n=l[i+o];return n.length>u.length?n:u}),x.value=e.join(f)}else x.value=e.join(s.slice(T,T+x.count));T+=x.count,x.added||(i+=x.count)}}let d=t[r-1];return r>1&&typeof d.value=="string"&&(d.added||d.removed)&&e.equals("",d.value)&&(t[r-2].value+=d.value,t.pop()),t}function m4(e){return{newPos:e.newPos,components:e.components.slice(0)}}const x4=new Ns;function y4(e,t,s){return x4.diff(e,t,s)}const Jx=/^[a-zA-Z\u{C0}-\u{FF}\u{D8}-\u{F6}\u{F8}-\u{2C6}\u{2C8}-\u{2D7}\u{2DE}-\u{2FF}\u{1E00}-\u{1EFF}]+$/u,Qx=/\S/,WE=new Ns;WE.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!Qx.test(e)&&!Qx.test(t)};WE.tokenize=function(e){let t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(let s=0;s<t.length-1;s++)!t[s+1]&&t[s+2]&&Jx.test(t[s])&&Jx.test(t[s+2])&&(t[s]+=t[s+2],t.splice(s+1,2),s--);return t};const HE=new Ns;HE.tokenize=function(e){let t=[],s=e.split(/(\n|\r\n)/);s[s.length-1]||s.pop();for(let l=0;l<s.length;l++){let C=s[l];l%2&&!this.options.newlineIsToken?t[t.length-1]+=C:(this.options.ignoreWhitespace&&(C=C.trim()),t.push(C))}return t};const C4=new Ns;C4.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};const T4=new Ns;T4.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};const S4=Object.prototype.toString,sh=new Ns;sh.useLongestToken=!0;sh.tokenize=HE.tokenize;sh.castInput=function(e){const{undefinedReplacement:t,stringifyReplacer:s=(l,C)=>typeof C>"u"?t:C}=this.options;return typeof e=="string"?e:JSON.stringify(Zv(e,null,null,s),s,"  ")};sh.equals=function(e,t){return Ns.prototype.equals.call(sh,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function Zv(e,t,s,l,C){t=t||[],s=s||[],l&&(e=l(C,e));let S;for(S=0;S<t.length;S+=1)if(t[S]===e)return s[S];let r;if(S4.call(e)==="[object Array]"){for(t.push(e),r=new Array(e.length),s.push(r),S=0;S<e.length;S+=1)r[S]=Zv(e[S],t,s,l,C);return t.pop(),s.pop(),r}if(e&&e.toJSON&&(e=e.toJSON()),typeof e=="object"&&e!==null){t.push(e),r={},s.push(r);let T=[],i;for(i in e)e.hasOwnProperty(i)&&T.push(i);for(T.sort(),S=0;S<T.length;S+=1)i=T[S],r[i]=Zv(e[i],t,s,l,i);t.pop(),s.pop()}else r=e;return r}const Jv=new Ns;Jv.tokenize=function(e){return e.slice()};Jv.join=Jv.removeEmpty=function(e){return e};const E4=Phaser.Utils.Array.Remove;var P4=function(e,t){var s=e.text;if(t!==s){if(E4(e.children,e.lastInsertCursor),t==="")e.removeChildren();else for(var l=y4(s,t),C=0,S=0,r=l.length;S<r;S++){var T=l[S];T.removed?e.removeText(C,T.count):(T.added&&e.insertText(C,T.value),C+=T.count)}e.children.push(e.lastInsertCursor),e.runWordWrap()}};const qx=Phaser.Utils.Objects.IsPlainObject;class Tg extends Ga{constructor(t,s,l,C,S,r){qx(s)?r=s:qx(C)&&(r=C),r===void 0&&(r={}),f4(r);var T=r.text;T&&delete r.text;var i=Xv(r.background,"focus"),d=Xv(r.style,"cursor");super(t,s,l,C,S,r),this.type="rexCanvasInput",this._text="",this.textEdit=d4(this,r),r.focusStyle&&Object.assign(i,r.focusStyle),v4.call(this,i),r.cursorStyle&&Object.assign(d,r.cursorStyle),c4.call(this,d);var x=r.onAddChar;x&&this.on("addchar",x);var f=r.onCursorOut;f&&this.on("cursorout",f);var u=r.onCursorIn;u&&this.on("cursorin",u);var o=r.onMoveCursor;o&&this.on("movecursor",o),this.setParseTextCallback(r.parseTextCallback),this.lastInsertCursor=p4(this),T?this.setText(T):this.runWordWrap()}addChild(t,s){if(super.addChild(t,s),Array.isArray(t))for(var l=t,C=0,S=l.length;C<S;C++){var t=l[C];La(t)&&this.emit("addchar",t,s+C,this)}else La(t)&&this.emit("addchar",t,s,this);return this}get text(){return this._text}set text(t){t==null?t="":t=t.toString(),this._text!==t&&(P4(this,t),this._text=t)}setText(t){return this.text=t,this}appendText(t){return this.setText(this.text+t),this}setSize(t,s){return this.width===t&&this.height===s?this:(super.setSize(t,s),this.runWrap(),this)}get displayText(){return this.text}set displayText(t){this.text=t}setDisplayText(t){return this.displayText=t,this}get inputText(){return this.textEdit.text}set inputText(t){this.textEdit.text=t}setInputText(t){return this.inputText=t,this}setParseTextCallback(t){return t||(t=M4),this.parseTextCallback=t,this}get value(){return this.parseTextCallback(this.text)}set value(t){this.setText(t)}getValue(){return this.value}setValue(t){return this.value=t,this}get readOnly(){return this.textEdit.readOnly}set readOnly(t){this.textEdit.readOnly=t}setReadOnly(t){return this.textEdit.setReadOnly(t),this}open(t){return t&&this.textEdit.once("close",t),this.textEdit.open(),this}close(){return this.textEdit.close(),this}get isOpened(){return this.textEdit.isOpened}setFocusStyle(t){return this.focusStyle=t,this}setCursorStyle(t){return this.cursorStyle=t,this}setNumberInput(){return this.textEdit.setNumberInput(),this.parseTextCallback=Number,this}get maxLength(){return this.textEdit.maxLength}set maxLength(t){this.textEdit.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.textEdit.minLength}set minLength(t){this.textEdit.minLength=t}setMinLength(t){return this.minLength=t,this}}var M4=function(e){return e};st.register("canvasInput",function(e,t,s,l,C){var S=new Tg(this.scene,e,t,s,l,C);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.CanvasInput",Tg);var Sg=function(e){return Oa(e).loop.delta};const _x=Phaser.Utils.Objects.GetValue,w4=Phaser.Math.Wrap;class $E extends Cg{constructor(t,s){s===void 0&&(s={}),s.onUpdate==="number"&&(s.onUpdate=YE),super(t,s),this.setCursor(_x(s,"cursor","|")),this.setCursorFlashDuration(_x(s,"cursorFlashDuration",1e3)),this.cursorFlashTimer=0}initText(){return this.cursorFlashTimer=0,this.prevCursorPosition=void 0,this.setText(this.parent.text),this.setCursorPosition(),this}updateText(){var t=this.parent,s=this.text;if(this.onUpdateCallback){var l=this.onUpdateCallback(s,t,this);l!=null&&(s=l)}if(this.isOpened&&this.hasCursor){var C=this.cursorPosition;s=s.substring(0,C)+this.cursor+s.substring(C),this.prevCursorPosition!==C&&(this.prevCursorPosition=C)}return t.text!==s&&(t.setText(s),this.emit("textchange",s,t,this)),this}setCursor(t){return this._cursor=t,this.hasCursor=t&&t!=="",t}setCursorFlashDuration(t){return this.cursorFlashDuration=t,this}get cursor(){if(!this._isFocused)return this._cursor;var t;this.cursorFlashTimer<this.cursorFlashDuration/2?t=this._cursor:t=" ";var s=this.cursorFlashTimer+Sg(this.scene);return this.cursorFlashTimer=w4(s,0,this.cursorFlashDuration),t}}st.register("hiddenEdit",function(e,t){var s=new $E(e,t);return s});it(window,"RexPlugins.UI.HiddenEdit",$E);const R4=Phaser.GameObjects.GetCalcMatrix;var O4=function(e,t,s,l){t.updateData(),s.addToRenderList(t);var C=e.pipelines.set(t.pipeline),S=R4(t,s,l),r=C.calcMatrix.copyFrom(S.calc),T=t._displayOriginX,i=t._displayOriginY,d=s.alpha*t.alpha;e.pipelines.preBatch(t);for(var x=t.geom,f=0,u=x.length;f<u;f++)x[f].webglRender(C,r,d,T,i);e.pipelines.postBatch(t)};const A4=Phaser.Renderer.Canvas.SetTransform;var L4=function(e,t,s,l){t.updateData(),s.addToRenderList(t);var C=e.currentContext;if(A4(e,C,t,s,l)){for(var S=t._displayOriginX,r=t._displayOriginY,T=t.geom,i=0,d=T.length;i<d;i++)T[i].canvasRender(C,S,r);C.restore()}};const F4={renderWebGL:O4,renderCanvas:L4},D4=Phaser.GameObjects.Shape,I4=Phaser.Utils.Array.Remove;class yr extends D4{constructor(t,s,l,C,S){s===void 0&&(s=0),l===void 0&&(l=0),C===void 0&&(C=2),S===void 0&&(S=C),super(t,"rexShapes",[]),this._width=-1,this._height=-1,this.dirty=!0,this.isSizeChanged=!0,this.shapes={},this.setPosition(s,l),this.setSize(C,S),this.updateDisplayOrigin()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSize(t,s){this.isSizeChanged=this.isSizeChanged||this._width!==t||this._height!==s,this.dirty=this.dirty||this.isSizeChanged,this._width=t,this._height=s,this.updateDisplayOrigin();var l=this.input;return l&&!l.customHitArea&&(l.hitArea.width=t,l.hitArea.height=s),this}resize(t,s){return this.setSize(t,s),this}get fillColor(){return this._fillColor}set fillColor(t){this.setFillStyle(t,this._fillAlpha)}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this.setFillStyle(this._fillColor,t)}setFillStyle(t,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.fillColor!==t||this.fillAlpha!==s,this._fillColor=t,this._fillAlpha=s,this}get lineWidth(){return this._lineWidth}set lineWidth(t){this.setStrokeStyle(t,this._strokeColor,this._strokeAlpha)}get strokeColor(){return this._strokeColor}set strokeColor(t){this.setStrokeStyle(this._lineWidth,t,this._strokeAlpha)}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this.setStrokeStyle(this._lineWidth,this._strokeColor,t)}setStrokeStyle(t,s,l){return l===void 0&&(l=1),this.dirty=this.dirty||this.lineWidth!==t||this.strokeColor!==s||this.strokeAlpha!==l,this._lineWidth=t,this._strokeColor=s,this._strokeAlpha=l,this}updateShapes(){}updateData(){if(!this.dirty)return this;this.updateShapes();for(var t=this.geom,s=0,l=t.length;s<l;s++){var C=t[s];C.dirty&&C.updateData()}return this.isSizeChanged=!1,this.dirty=!1,this}clear(){return this.geom.length=0,As(this.shapes),this}getShape(t){return this.shapes[t]}getShapes(){return this.geom}addShape(t){this.geom.push(t);var s=t.name;return s&&(this.shapes[s]=t),this.dirty=!0,this}deleteShape(t){var s=this.getShape(t);return s&&(delete this.shapes[t],I4(this.geom,s)),this}}Object.assign(yr.prototype,F4);const B4={setBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.boxFillColor!==e||this.boxFillAlpha!==t,this.boxFillColor=e,this.boxFillAlpha=t,this},setUncheckedBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.uncheckedBoxFillColor!==e||this.uncheckedBoxFillAlpha!==t,this.uncheckedBoxFillColor=e,this.uncheckedBoxFillAlpha=t,this},setBoxStrokeStyle(e,t,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.boxLineWidth!==e||this.boxStrokeColor!==t||this.boxStrokeAlpha!==s,this.boxLineWidth=e,this.boxStrokeColor=t,this.boxStrokeAlpha=s,this},setUncheckedBoxStrokeStyle(e,t,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.uncheckedBoxLineWidth!==e||this.uncheckedBoxStrokeColor!==t||this.uncheckedBoxStrokeAlpha!==s,this.uncheckedBoxLineWidth=e,this.uncheckedBoxStrokeColor=t,this.uncheckedBoxStrokeAlpha=s,this},setCheckerStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.checkerColor!==e||this.checkAlpha!==t,this.checkerColor=e,this.checkAlpha=t,this},setBoxShape(e){return e===void 0&&(e=!1),this.isCircleShape===e?this:(this.isCircleShape=e,this.isSizeChanged=!0,this.dirty=!0,this)}},b4={setBoxSize(e){return this.dirty=this.dirty||this.boxSize!==e,this.boxSize=e,this},setCheckerSize(e){return this.dirty=this.dirty||this.checkerSize!==e,this.checkerSize=e,this}};var G4=function(e,t){return e==null?this.isFilled=!1:(t===void 0&&(t=1),this.isFilled=!0,this.fillColor=e,this.fillAlpha=t),this},N4=function(e,t,s){return e==null||t==null?this.isStroked=!1:(s===void 0&&(s=1),this.isStroked=!0,this.lineWidth=e,this.strokeColor=t,this.strokeAlpha=s),this};const z4={fillStyle:G4,lineStyle:N4};class ld{constructor(){this.name=void 0,this.dirty=!0,this.data=void 0,this.isFilled=!1,this.fillColor=void 0,this.fillAlpha=1,this.isStroked=!1,this.lineWidth=1,this.strokeColor=void 0,this.strokeAlpha=1}setName(t){return this.name=t,this}reset(){return this.fillStyle().lineStyle(),this}webglRender(t,s,l,C,S){}canvasRender(t,s,l){}updateData(){this.dirty=!1}}Object.assign(ld.prototype,z4,td);const k4=Phaser.Geom.Polygon.Earcut;class gh extends ld{constructor(){super(),this.pathData=[],this.pathIndexes=[],this.closePath=!1}updateData(){return this.pathIndexes=k4(this.pathData),super.updateData(),this}webglRender(t,s,l,C,S){this.isFilled&&ZS(t,s,this,l,C,S),this.isStroked&&ed(t,this,l,C,S)}canvasRender(t,s,l){var C=this.pathData,S=C.length-1,r=C[0]-s,T=C[1]-l;t.beginPath(),t.moveTo(r,T),this.closePath||(S-=2);for(var i=2;i<S;i+=2){var d=C[i]-s,x=C[i+1]-l;t.lineTo(d,x)}this.closePath&&t.closePath(),this.isFilled&&(fh(t,this),t.fill()),this.isStroked&&(ch(t,this),t.stroke())}}const ty=Phaser.Math.DegToRad;class ud extends gh{constructor(t,s,l,C,S,r,T,i){t===void 0&&(t=0),s===void 0&&(s=0),l===void 0&&(l=0),C===void 0&&(C=0),S===void 0&&(S=0),r===void 0&&(r=360),T===void 0&&(T=!1),i===void 0&&(i=!1),super(),this.setCenterPosition(t,s),this.setRadius(l,C),this.setAngle(S,r,T),this.setPie(i),this.setIterations(32)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setCenterPosition(t,s){return s===void 0&&(s=t),this.x=t,this.y=s,this}get radiusX(){return this._radiusX}set radiusX(t){this.dirty=this.dirty||this._radiusX!==t,this._radiusX=t}get radiusY(){return this._radiusY}set radiusY(t){this.dirty=this.dirty||this._radiusY!==t,this._radiusY=t}setRadius(t,s){return s===void 0&&(s=t),this.radiusX=t,this.radiusY=s,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!==t,this._startAngle=t}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!==t,this._endAngle=t}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!==t,this._anticlockwise=t}setAngle(t,s,l){return l===void 0&&(l=!1),this.startAngle=t,this.endAngle=s,this.anticlockwise=l,this}get pie(){return this._pie}set pie(t){this.dirty=this.dirty||this._pie!==t,this._pie=t}setPie(t){return t===void 0&&(t=!0),this.pie=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){return this.pathData.length=0,this.pie&&this.pathData.push(this.x,this.y),ve(this.x,this.y,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise,this.iterations,this.pathData),this.pie&&this.pathData.push(this.x,this.y),this.pathData.push(this.pathData[0],this.pathData[1]),super.updateData(),this}canvasRender(t,s,l){t.beginPath();var C=this.x-s,S=this.y-l,r=ty(this.startAngle),T=ty(this.endAngle);this.pie&&(t.moveTo(C,S),t.lineTo(C+Math.cos(r)*this.radiusX,S+Math.sin(r)*this.radiusY)),t.ellipse(C,S,this.radiusX,this.radiusY,0,r,T,this.anticlockwise),this.pie&&t.lineTo(C,S),this.isFilled&&(fh(t,this),t.fill()),this.isStroked&&(ch(t,this),t.stroke())}}class Qv extends ud{constructor(t,s,l){super(t,s,l,l,0,360)}}class V4 extends gh{constructor(t){super(),this.setCurve(t),this.setIterations(32)}get curve(){return this._curve}set curve(t){this.dirty=this.dirty||this._curve!==t,this._curve=t}setCurve(t){return this.curve=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){this.pathData.length=0;for(var t=this.curve.getPoints(this.iterations),s=0,l=t.length;s<l;s++)this.pathData.push(t[s].x,t[s].y);return this.pathData.push(t[0].x,t[0].y),super.updateData(),this}}class U4 extends ud{constructor(t,s,l,C){super(t,s,l,C,0,360)}}class X4 extends gh{constructor(t,s,l,C){t===void 0&&(t=0),s===void 0&&(s=0),l===void 0&&(l=0),C===void 0&&(C=0),super(),this.setP0(t,s),this.setP1(l,C)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,s){return this.x0=t,this.y0=s,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,s){return this.x1=t,this.y1=s,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x0,this.y0),super.updateData(),this}}var Y4=function(e,t,s){return s.length=0,e!=null&&s.push(e,t),s};const ey=Phaser.Math.Interpolation.QuadraticBezier;var W4=function(e,t,s,l,C,S){for(var r=S.length,T=S[r-2],i=S[r-1],d=1,x=C-1;d<=x;d++){var f=d/x;S.push(ey(f,T,e,s),ey(f,i,t,l))}return S};const iy=Phaser.Math.Interpolation.CubicBezier;var H4=function(e,t,s,l,C,S,r,T){for(var i=T.length,d=T[i-2],x=T[i-1],f=1,u=r-1;f<=u;f++){var o=f/u;T.push(iy(o,d,e,s,C),iy(o,x,t,l,S))}return T},KE=function(e){var t=e.length;if(t<2)return e;var s=e[t-2],l=e[t-1];return e.push(s),e.push(l),e};const $4={clear(){return this.start(),this},start(){return this.startAt(),this},startAt(e,t){return this.restorePathData(),this.accumulationLengths=void 0,Y4(e,t,this.pathData),this.firstPointX=e,this.firstPointY=t,this.lastPointX=e,this.lastPointY=t,this},lineTo(e,t,s){return s===void 0&&(s=!1),s&&(e+=this.lastPointX,t+=this.lastPointY),us(e,t,this.pathData),this.lastPointX=e,this.lastPointY=t,this},verticalLineTo(e,t){return this.lineTo(e,this.lastPointY,t),this},horizontalLineTo(e,t){return this.lineTo(this.lastPointX,e,t),this},ellipticalArc(e,t,s,l,C,S,r){return r===void 0&&(r=!1),ve(e,t,s,l,C,S,r,this.iterations,this.pathData),this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this},arc(e,t,s,l,C,S){return this.ellipticalArc(e,t,s,s,l,C,S),this},quadraticBezierTo(e,t,s,l){return W4(e,t,s,l,this.iterations,this.pathData),this.lastPointX=s,this.lastPointY=l,this.lastCX=e,this.lastCY=t,this},smoothQuadraticBezierTo(e,t){var s=this.lastPointX*2-this.lastCX,l=this.lastPointY*2-this.lastCY;return this.quadraticBezierTo(s,l,e,t),this},cubicBezierCurveTo(e,t,s,l,C,S){return H4(e,t,s,l,C,S,this.iterations,this.pathData),this.lastPointX=C,this.lastPointY=S,this.lastCX=s,this.lastCY=l,this},smoothCubicBezierCurveTo(e,t,s,l){var C=this.lastPointX*2-this.lastCX,S=this.lastPointY*2-this.lastCY;return this.cubicBezierCurveTo(C,S,e,t,s,l),this},close(){return this.closePath=!0,this},end(){return KE(this.pathData),this}},K4=Phaser.Math.RotateAround;var j4=function(e,t,s,l){for(var C={x:0,y:0},S=0,r=l.length-1;S<r;S+=2)C.x=l[S],C.y=l[S+1],K4(C,e,t,s),l[S]=C.x,l[S+1]=C.y;return l},Z4=function(e,t,s,l,C){for(var S=0,r=C.length-1;S<r;S+=2){var T=C[S]-e,i=C[S+1]-t;T*=s,i*=l,C[S]=T+e,C[S+1]=i+t}return C},jE=function(e,t,s){for(var l=0,C=s.length-1;l<C;l+=2)s[l]+=e,s[l+1]+=t;return s};const J4=Phaser.Math.DegToRad,Q4=Phaser.Math.RotateAround,q4={rotateAround(e,t,s){if(this.pathData.length===0)return this;s=J4(s),j4(e,t,s,this.pathData);var l=this.pathData.length;if(this.lastPointX=this.pathData[l-2],this.lastPointY=this.pathData[l-1],this.lastCX!==void 0){var C={x:this.lastCX,y:this.lastCY};Q4(C,e,t,s),this.lastCX=C.x,this.lastCY=C.y}return this},scale(e,t,s,l){if(this.pathData.length===0)return this;if(Z4(e,t,s,l,this.pathData),this.lastPointX=this.pathData[pathDataCnt-2],this.lastPointY=this.pathData[pathDataCnt-1],this.lastCX!==void 0){var C=this.lastCX-e,S=this.lastCY-t;C*=s,S*=l,this.lastCX=C+e,this.lastCY=S+t}return this},offset(e,t){return jE(e,t,this.pathData),this}};var Eg=function(e,t,s,l){s===void 0&&(s=0),l===void 0&&(l=t.length),e.length=l-s;for(var C=0,S=e.length;C<S;C++)e[C]=t[C+s];return e};const _4={savePathData(){return this.pathDataSaved?this:(this.pathDataSave=[...this.pathData],this.pathData.length=0,this.pathDataSaved=!0,this)},restorePathData(){return this.pathDataSaved?(Eg(this.pathData,this.pathDataSave),this.pathDataSave=void 0,this.pathDataSaved=!1,this):this}},t9=Phaser.Math.Distance.Between,e9=Phaser.Math.Wrap,i9=Phaser.Math.Linear;var sy=function(e,t,s,l,C){if(l===void 0&&(l=s,s=0),s=ny(s),l=ny(l),s!==l){var S=t[t.length-1],r=S*s,T=S*l;s<l?Nf(e,t,r,T,C):(Nf(e,t,r,S,C),Nf(e,t,0,T,C)),KE(C)}},Nf=function(e,t,s,l,C){for(var S=s>0,r=0,T=t.length;r<T;r++){var i=r*2,d=t[r];if(S){if(d<s)continue;if(d==s)S=!1;else{var x=d-t[r-1],f=1-(d-s)/x;C.push(ul(e,i-2,i,f)),C.push(ul(e,i-1,i+1,f)),S=!1}}if(d<=l){if(C.push(e[i]),C.push(e[i+1]),d===l)break}else{var x=d-t[r-1],f=1-(d-l)/x;C.push(ul(e,i-2,i,f)),C.push(ul(e,i-1,i+1,f));break}}},ul=function(e,t,s,l){var C=e[t],S=e[s];return i9(C,S,l)},ny=function(e){return e===0?0:e%1===0?1:e9(e,0,1)};const s9={updateAccumulationLengths(){if(this.accumulationLengths==null)this.accumulationLengths=[];else if(this.accumulationLengths.length===this.pathData.length/2)return this;for(var e=this.accumulationLengths,t=this.pathData,s,l,C,S,r,T=0,i=0,d=t.length;i<d;i+=2)C=t[i],S=t[i+1],r=s===void 0?0:t9(s,l,C,S),T+=r,e.push(T),s=C,l=S;return this.totalPathLength=T,this},setDisplayPathSegment(e,t){return this.pathDataSaved||(this.updateAccumulationLengths(),this.savePathData()),this.pathData.length=0,sy(this.pathDataSave,this.accumulationLengths,e,t,this.pathData),this},appendFromPathSegment(e,t,s){return t===void 0?this.pathData.push(...e.pathData):(e.updateAccumulationLengths(),sy(e.pathData,e.accumulationLengths,t,s,this.pathData)),this.firstPointX=this.pathData[0],this.firstPointY=this.pathData[1],this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this}},n9={draw(e,t,s){var l=this.toPoints();return t&&e.fillPoints(l,this.closePath,this.closePath),s&&e.strokePoints(l,this.closePath,this.closePath),this}};var r9=function(e,t){t===void 0&&(t=[]);for(var s=0,l=e.length-1;s<l;s+=2)t.push({x:e[s],y:e[s+1]});return t};const a9=Phaser.Geom.Polygon;var o9=function(e,t){return t===void 0&&(t=new a9),t.setTo(e),t};class ZE{constructor(t){t===void 0&&(t=[]),this.pathData=t,this.closePath=!1,this.setIterations(32),this.firstPointX=void 0,this.firstPointY=void 0,this.lastPointX=void 0,this.lastPointY=void 0,this.accumulationLengths=void 0}setIterations(t){return this.iterations=t,this}toPoints(){return r9(this.pathData)}toPolygon(t){return o9(this.pathData,t)}}Object.assign(ZE.prototype,$4,q4,_4,s9,n9);class Ca extends gh{constructor(){super(),this.builder=new ZE(this.pathData)}get iterations(){return this.builder.iterations}set iterations(t){this.dirty=this.dirty||this.builder.iterations!==t,this.builder.setIterations(t)}setIterations(t){return this.iterations=t,this}get lastPointX(){return this.builder.lastPointX}get lastPointY(){return this.builder.lastPointY}start(){return this.builder.start(),this.dirty=!0,this}startAt(t,s){return this.builder.startAt(t,s),this.dirty=!0,this}lineTo(t,s,l){return this.builder.lineTo(t,s,l),this.dirty=!0,this}verticalLineTo(t,s){return this.builder.verticalLineTo(t,s),this.dirty=!0,this}horizontalLineTo(t,s){return this.builder.horizontalLineTo(t,s),this.dirty=!0,this}ellipticalArc(t,s,l,C,S,r,T){return this.builder.ellipticalArc(t,s,l,C,S,r,T),this.dirty=!0,this}arc(t,s,l,C,S,r){return this.builder.arc(t,s,l,C,S,r),this.dirty=!0,this}quadraticBezierTo(t,s,l,C){return this.builder.quadraticBezierTo(t,s,l,C),this.dirty=!0,this}smoothQuadraticBezierTo(t,s){return this.builder.smoothQuadraticBezierTo(t,s),this.dirty=!0,this}cubicBezierCurveTo(t,s,l,C,S,r){return this.builder.cubicBezierCurveTo(t,s,l,C,S,r),this.dirty=!0,this}smoothCubicBezierCurveTo(t,s,l,C){return this.builder.smoothCubicBezierCurveTo(t,s,l,C),this.dirty=!0,this}close(){return this.builder.close(),this.closePath=this.builder.closePath,this.dirty=!0,this}end(){return this.builder.end(),this.dirty=!0,this}rotateAround(t,s,l){return this.builder.rotateAround(t,s,l),this.dirty=!0,this}scale(t,s,l,C){return this.builder.scale(t,s,l,C),this.dirty=!0,this}offset(t,s){return this.builder.offset(t,s),this.dirty=!0,this}toPolygon(t){return this.builder.toPolygon(t)}appendPathFrom(t,s,l){return this.builder.appendFromPathSegment(t.builder,s,l),this}copyPathFrom(t,s,l){return this.builder.clear().appendFromPathSegment(t.builder,s,l),this}setDisplayPathSegment(t,s){return this.builder.setDisplayPathSegment(t,s),this}}const h9=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let l9=class extends ld{constructor(t,s,l,C){t===void 0&&(t=0),s===void 0&&(s=0),l===void 0&&(l=0),C===void 0&&(C=l),super(),this.pathData=[],this.closePath=!0,this.setTopLeftPosition(t,s),this.setSize(l,C)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,s){return this.x=t,this.y=s,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,s){return this.width=t,this.height=s,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,s){return this.centerX=t,this.centerY=s,this}updateData(){this.pathData.length=0;var t=this.x,s=t+this.width,l=this.y,C=l+this.height;return this.pathData.push(t,l),this.pathData.push(s,l),this.pathData.push(s,C),this.pathData.push(t,C),this.pathData.push(t,l),super.updateData(),this}webglRender(t,s,l,C,S){if(this.isFilled){var r=t.fillTint,T=h9(this.fillColor,this.fillAlpha*l);r.TL=T,r.TR=T,r.BL=T,r.BR=T,t.batchFillRect(-C+this.x,-S+this.y,this.width,this.height)}this.isStroked&&ed(t,this,l,C,S)}canvasRender(t,s,l){this.isFilled&&(fh(t,this),t.fillRect(-s,-l,this.width,this.height)),this.isStroked&&(ch(t,this),t.beginPath(),t.rect(-s,-l,this.width,this.height),t.stroke())}};const dl=Phaser.Utils.Objects.GetValue;class Fu extends gh{constructor(t,s,l,C,S,r){t===void 0&&(t=0),s===void 0&&(s=0),l===void 0&&(l=0),C===void 0&&(C=l),S===void 0&&(S=0),r===void 0&&(r=6),super(),this.setTopLeftPosition(t,s),this.setSize(l,C),this.setRadius(S),this.setIterations(r),this.closePath=!0}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,s){return this.x=t,this.y=s,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,s){return this.width=t,this.height=s,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,s){return this.centerX=t,this.centerY=s,this}get radiusTL(){return this._radiusTL}set radiusTL(t){var s=t>0;this.dirty=this.dirty||this._radiusTL!==t||this._convexTL!==s,this._convexTL=s,this._radiusTL=Math.abs(t)}get radiusTR(){return this._radiusTR}set radiusTR(t){var s=t>0;this.dirty=this.dirty||this._radiusTR!==t||this._convexTR!==s,this._convexTR=s,this._radiusTR=Math.abs(t)}get radiusBL(){return this._radiusBL}set radiusBL(t){var s=t>0;this.dirty=this.dirty||this._radiusBL!==t||this._convexBL!==s,this._convexBL=s,this._radiusBL=Math.abs(t)}get radiusBR(){return this._radiusBR}set radiusBR(t){var s=t>0;this.dirty=this.dirty||this._radiusBR!==t||this._convexBR!==s,this._convexBR=s,this._radiusBR=Math.abs(t)}get radius(){return Math.max(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR)}set radius(t){typeof t=="number"?(this.radiusTL=t,this.radiusTR=t,this.radiusBL=t,this.radiusBR=t):(this.radiusTL=dl(t,"tl",0),this.radiusTR=dl(t,"tr",0),this.radiusBL=dl(t,"bl",0),this.radiusBR=dl(t,"br",0))}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){var t=this.pathData;t.length=0;var s=this.width,l=this.height,C,S=this.iterations+1;if(C=this.radiusTL,C>0)if(this._convexTL){var r=C,T=C;ve(r,T,C,C,180,270,!1,S,t)}else{var r=0,T=0;ve(r,T,C,C,90,0,!0,S,t)}else us(0,0,t);if(C=this.radiusTR,C>0)if(this._convexTR){var r=s-C,T=C;ve(r,T,C,C,270,360,!1,S,t)}else{var r=s,T=0;ve(r,T,C,C,180,90,!0,S,t)}else us(s,0,t);if(C=this.radiusBR,C>0)if(this._convexBR){var r=s-C,T=l-C;ve(r,T,C,C,0,90,!1,S,t)}else{var r=s,T=l;ve(r,T,C,C,270,180,!0,S,t)}else us(s,l,t);if(C=this.radiusBL,C>0)if(this._convexBL){var r=C,T=l-C;ve(r,T,C,C,90,180,!1,S,t)}else{var r=0,T=l;ve(r,T,C,C,360,270,!0,S,t)}else us(0,l,t);return t.push(t[0],t[1]),jE(this.x,this.y,t),super.updateData(),this}}const u9=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let d9=class extends ld{constructor(t,s,l,C,S,r){t===void 0&&(t=0),s===void 0&&(s=0),l===void 0&&(l=0),C===void 0&&(C=0),S===void 0&&(S=0),r===void 0&&(r=0),super(),this.pathData=[],this.closePath=!0,this.setP0(t,s),this.setP1(l,C),this.setP2(S,r)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,s){return this.x0=t,this.y0=s,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,s){return this.x1=t,this.y1=s,this}get x2(){return this._x2}set x2(t){this.dirty=this.dirty||this._x2!==t,this._x2=t}get y2(){return this._y2}set y2(t){this.dirty=this.dirty||this._y2!==t,this._y2=t}setP2(t,s){return this.dirty=this.dirty||this.x2!==t||this.y2!==s,this.x2=t,this.y2=s,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x2,this.y2),this.pathData.push(this.x0,this.y0),super.updateData(),this}webglRender(t,s,l,C,S){if(this.isFilled){var r=u9(this.fillColor,this.fillAlpha*l),T=this.x0-C,i=this.y0-S,d=this.x1-C,x=this.y1-S,f=this.x2-C,u=this.y2-S,o=s.getX(T,i),n=s.getY(T,i),h=s.getX(d,x),p=s.getY(d,x),a=s.getX(f,u),c=s.getY(f,u);t.batchTri(o,n,h,p,a,c,r,r,r)}this.isStroked&&ed(t,this,l,C,S)}canvasRender(t,s,l){var C=this.x1-s,S=this.y1-l,r=this.x2-s,T=this.y2-l,i=this.x3-s,d=this.y3-l;t.beginPath(),t.moveTo(C,S),t.lineTo(r,T),t.lineTo(i,d),t.closePath(),this.isFilled&&(fh(t,this),t.fill()),this.isStroked&&(ch(t,this),t.stroke())}};const f9={buildShapes(){this.addShape(new Fu().setName("box")).addShape(new Ca().setName("checker"))},updateShapes(){var e=this.width/2,t=this.height/2,s=Math.min(e,t),l=s*2,C=e-s,S=t-s,r=this.boxLineWidth,T=Math.max(l/10,2),i=this.getShape("box"),d=this.getShape("checker");if(this.isSizeChanged){var u=l*(1-this.boxSize)/2,x=r/2,f=l*this.boxSize-r;i.setTopLeftPosition(C+x+u,S+x+u).setSize(f,f),this.isCircleShape?i.setRadius(f/2):i.setRadius(0);var u=l*(1-this.checkerSize)/2,o=l*this.checkerSize/4,n=o*1,h=o*2,p=o*3;d.startAt(n,h).lineTo(h,p).lineTo(p,n).offset(C+u,S+u).end()}this.checked?(i.fillStyle(this.boxFillColor,this.boxFillAlpha).lineStyle(r,this.boxStrokeColor,this.boxStrokeAlpha),d.lineStyle(T,this.checkerColor)):(i.fillStyle(this.uncheckedBoxFillColor,this.uncheckedBoxFillAlpha).lineStyle(r,this.uncheckedBoxStrokeColor,this.uncheckedBoxStrokeAlpha),d.lineStyle()),this.checked&&d.setDisplayPathSegment(this.checkerAnimProgress)}},Hs=Phaser.Utils.Objects.GetValue,c9=Phaser.Math.Linear;class Cr extends xr{constructor(t,s){super(t,s),this.resetFromJSON(),this.boot()}start(t){if(this.timer.isRunning)return this;var s=this.target;this.propertyKey=Hs(t,"key","value");var l=s[this.propertyKey];return this.fromValue=Hs(t,"from",l),this.toValue=Hs(t,"to",l),this.setEase(Hs(t,"ease",this.ease)),this.setDuration(Hs(t,"duration",this.duration)),this.setRepeat(Hs(t,"repeat",0)),this.setDelay(Hs(t,"delay",0)),this.setRepeatDelay(Hs(t,"repeatDelay",0)),this.timer.setDuration(this.duration).setRepeat(this.repeat).setDelay(this.delay).setRepeatDelay(this.repeatDelay),s[this.propertyKey]=this.fromValue,super.start(),this}updateGameObject(t,s){var l=s.t;l=this.easeFn(l),t[this.propertyKey]=c9(this.fromValue,this.toValue,l)}}const v9={setCheckerAnimationDuration(e){return e===void 0&&(e=0),this.checkerAnimDuration=e,this},playCheckerAnimation(){return this.checkerAnimProgressTask===void 0&&(this.checkerAnimProgressTask=new Cr(this,{eventEmitter:null})),this.checkerAnimProgressTask.restart({key:"checkerAnimProgress",from:0,to:1,duration:this.checkerAnimDuration}),this},stopCheckerAnimation(){return this.checkerAnimProgressTask===void 0?this:(this.checkerAnimProgressTask.stop(),this)}};var JE={};Object.assign(JE,B4,b4,f9,v9);const Kt=Phaser.Utils.Objects.GetValue,ry=Phaser.Utils.Objects.IsPlainObject,zf=23730,p9=16777215;class QE extends yr{constructor(t,s,l,C,S,r,T){ry(s)?(T=s,s=Kt(T,"x",0),l=Kt(T,"y",0),C=Kt(T,"width",2),S=Kt(T,"height",2),r=Kt(T,"color",zf)):ry(r)&&(T=r,r=Kt(T,"color",zf)),super(t,s,l,C,S),this.type="rexCheckbox",r===void 0&&(r=zf),this.setBoxShape(Kt(T,"circleBox",!1)),this.setBoxFillStyle(r,Kt(T,"boxFillAlpha",1)),this.setUncheckedBoxFillStyle(Kt(T,"uncheckedColor",null),Kt(T,"uncheckedBoxFillAlpha",1)),this.setBoxStrokeStyle(Kt(T,"boxLineWidth",4),Kt(T,"boxStrokeColor",r),Kt(T,"boxStrokeAlpha",1)),this.setUncheckedBoxStrokeStyle(this.boxLineWidth,Kt(T,"uncheckedBoxStrokeColor",this.boxStrokeColor),Kt(T,"uncheckedBoxStrokeAlpha",this.boxStrokeAlpha)),this.setCheckerStyle(Kt(T,"checkerColor",p9),Kt(T,"checkerAlpha",1)),this.setBoxSize(Kt(T,"boxSize",1)),this.setCheckerSize(Kt(T,"checkerSize",1)),this.setCheckerAnimationDuration(Kt(T,"animationDuration",150)),this.buildShapes();var i=Kt(T,"checked");i===void 0&&(i=Kt(T,"value",!1)),this.setValue(i)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,t?this.playCheckerAnimation():this.stopCheckerAnimation(),this.emit("valuechange",t))}setValue(t){return this.value=t,this}toggleValue(){return this.setValue(!this.value),this}get checked(){return this.value}set checked(t){this.value=t}setChecked(t){return t===void 0&&(t=!0),this.setValue(t),this}toggleChecked(){return this.toggleValue(),this}get checkerAnimProgress(){return this._checkerAnimProgress}set checkerAnimProgress(t){this._checkerAnimProgress!==t&&(this._checkerAnimProgress=t,this.dirty=!0)}}Object.assign(QE.prototype,JE);const oo=Phaser.Utils.Objects.GetValue;class Rn extends ge{constructor(t,s){super(t,s),this._enable=void 0,t.setInteractive(oo(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(oo(t,"enable",!0)),this.setMode(oo(t,"mode",1)),this.setClickInterval(oo(t,"clickInterval",100)),this.setDragThreshold(oo(t,"threshold",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this),t.on("pointerover",this.onOver,this),t.on("pointerout",this.onOut,this)}shutdown(t){this.isShutdown||(this.pointer=null,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var s=t?"enable":"disable";this.emit(s,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=g9[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t,s,l,C){this.pointer===void 0&&(this.pointer=t,this.mode===0&&this.click(t.downTime,t,C))}onRelease(t,s,l,C){this.pointer===t&&(this.mode===1&&this.click(t.upTime,t,C),this.pointer=void 0)}onPointOut(t,s){this.pointer===t&&this.cancel()}onMove(t,s,l,C){this.pointer===t&&this.dragThreshold!==void 0&&t.getDistance()>=this.dragThreshold&&this.cancel()}click(t,s,l){if(!this.enable)return this;if(t===void 0)return this.emit("click",this,this.parent,s,l),this;this.pointer=void 0;var C=this.lastClickTime;return C!==void 0&&t-C<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.parent,s,l),this)}cancel(){return this.pointer=void 0,this}onOver(t,s,l,C){return this.enable?(this.emit("over",this,this.parent,t,C),this):this}onOut(t,s){return this.enable?(this.emit("out",this,this.parent,t,s),this):this}}const g9={press:0,pointerdown:0,release:1,pointerup:1},ay=Phaser.Utils.Objects.GetValue;class Pg extends QE{constructor(t,s,l,C,S,r,T){super(t,s,l,C,S,r,T),this._click=new Rn(this,ay(T,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(ay(T,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}st.register("checkbox",function(e,t,s,l,C,S){var r=new Pg(this.scene,e,t,s,l,C,S);return this.scene.add.existing(r),r});it(window,"RexPlugins.UI.Checkbox",Pg);const m9={setTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.trackFillColor!==e||this.trackFillAlpha!==t,this.trackFillColor=e,this.trackFillAlpha=t,this},setFalseValueTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.falseValueTrackColor!==e||this.uncheckedTrackFillAlpha!==t,this.falseValueTrackColor=e,this.falseValueTrackFillAlpha=t,this},setThumbStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.thumbColor!==e||this.checkAlpha!==t,this.thumbColor=e,this.thumbAlpha=t,this}},x9={setTrackSize(e,t){return this.dirty=this.dirty||this.trackWidth!==e||this.trackHeight!==t,this.trackWidth=e,this.trackHeight=t,this},setTrackRadius(e){return this.dirty=this.dirty||this.trackRadius!==e,this.trackRadius=e,this},setThumbSize(e,t){return t===void 0&&(t=e),this.dirty=this.dirty||this.thumbWidth!==e||this.thumbHeight!==t,this.thumbWidth=e,this.thumbHeight=t,this},setThumbRadius(e){return this.dirty=this.dirty||this.thumbRadius!==e,this.thumbRadius=e,this}},y9={setThumbPosition(e,t){return t===void 0&&(t=1-e),this.thumbLeftX=e,this.thumbRightX=t,this},setRTL(e){return e===void 0&&(e=!0),this.rtl=e,this}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var kf=function(e,t,s){return(t-e)*s+e},C9=function(e,t,s){var l=kf(th(e),th(t),s),C=kf(eh(e),eh(t),s),S=kf(ih(e),ih(t),s);return(l&255)<<16|(C&255)<<8|S&255};const oy=Phaser.Math.Linear,T9={buildShapes(){this.addShape(new Fu().setName("track")).addShape(new Fu().setName("thumb"))},updateShapes(){var e=this.width,t=this.height,s=this.value?this.toggleAnimProgress:1-this.toggleAnimProgress,l=this.getShape("track");if(this.isSizeChanged){var C=e*this.trackWidth,S=t*this.trackHeight,r=(e-C)/2,T=(t-S)/2,i=t*this.trackRadius;l.setTopLeftPosition(r,T).setSize(C,S).setRadius(i)}var d=C9(this.falseValueTrackColor,this.trackFillColor,s),x=oy(this.falseValueTrackFillAlpha,this.trackFillAlpha,s);l.fillStyle(d,x);var f=this.getShape("thumb");if(this.isSizeChanged){var u=e*this.thumbWidth,o=t*this.thumbHeight,n=t*this.thumbRadius;f.setSize(u,o).setRadius(n)}var h=oy(this.thumbLeftX,this.thumbRightX,s)*e;this.rtl&&(h=e-h);var p=t/2;f.setCenterPosition(h,p),f.fillStyle(this.thumbColor,this.thumbAlpha)}},S9={setToggleAnimationDuration(e){return e===void 0&&(e=0),this.toggleAnimDuration=e,this},playToggleAnimation(){return this.toggleAnimProgressTask===void 0&&(this.toggleAnimProgressTask=new Cr(this,{eventEmitter:null})),this.toggleAnimProgressTask.restart({key:"toggleAnimProgress",from:0,to:1,duration:this.toggleAnimDuration}),this},stopToggleAnimation(){return this.toggleAnimProgressTask===void 0?this:(this.toggleAnimProgressTask.stop(),this)}};var qE={};Object.assign(qE,m9,x9,y9,T9,S9);var E9=function(e){var t=.3*th(e)+.59*eh(e)+.11*ih(e);return(t&255)<<16|(t&255)<<8|t&255};const jt=Phaser.Utils.Objects.GetValue,hy=Phaser.Utils.Objects.IsPlainObject,Vf=23730,P9=16777215;class _E extends yr{constructor(t,s,l,C,S,r,T){hy(s)?(T=s,s=jt(T,"x",0),l=jt(T,"y",0),C=jt(T,"width",2),S=jt(T,"height",2),r=jt(T,"color",Vf)):hy(r)&&(T=r,r=jt(T,"color",Vf)),super(t,s,l,C,S),this.type="rexToggleSwitch",r===void 0&&(r=Vf),this.setTrackFillStyle(r,jt(T,"trackFillAlpha",1)),this.setFalseValueTrackFillStyle(jt(T,"falseValueTrackColor",E9(r)),jt(T,"falseValueTrackFillAlpha",1)),this.setThumbStyle(jt(T,"thumbColor",P9),jt(T,"thumbAlpha",1)),this.setTrackSize(jt(T,"trackWidth",.9),jt(T,"trackHeight",.5)),this.setTrackRadius(jt(T,"trackRadius",this.trackHeight*.5));var i=jt(T,"thumbHeight",void 0),d=jt(T,"thumbWidth",i);d===void 0&&(d=this.trackHeight*.9),this.setThumbSize(d,i),this.setThumbRadius(jt(T,"thumbRadius",this.thumbHeight*.5)),this.setThumbPosition(jt(T,"thumbLeft",.3),jt(T,"thumbRight",void 0)),this.setRTL(jt(T,"rtl",!1)),this.setToggleAnimationDuration(jt(T,"animationDuration",150)),this.buildShapes(),this.setValue(jt(T,"value",!1),0)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,this.playToggleAnimation(),this.emit("valuechange",t))}setValue(t,s){s===void 0&&(s=this.toggleAnimDuration);var l=this.toggleAnimDuration;return this.toggleAnimDuration=s,this.value=t,this.toggleAnimDuration=l,this}toggleValue(t){return this.setValue(!this.value,t),this}get toggleAnimProgress(){return this._toggleAnimProgress}set toggleAnimProgress(t){this._toggleAnimProgress!==t&&(this._toggleAnimProgress=t,this.dirty=!0)}}Object.assign(_E.prototype,qE);const ly=Phaser.Utils.Objects.GetValue;class Mg extends _E{constructor(t,s,l,C,S,r,T){super(t,s,l,C,S,r,T),this._click=new Rn(this,ly(T,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(ly(T,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}st.register("toggleSwitch",function(e,t,s,l,C,S){var r=new Mg(this.scene,e,t,s,l,C,S);return this.scene.add.existing(r),r});it(window,"RexPlugins.UI.ToggleSwitch",Mg);const M9={loadFromURL(e,t){var s=this,l=new Image;return l.onload=function(){s.width!==l.width||s.height!==l.height?s.resize(l.width,l.height):s.clear(),s.context.drawImage(l,0,0),s.updateTexture(),t&&t(),l.onload=null,l.src="",l.remove()},l.src=e,this},loadFromURLPromise(e){var t=this;return new Promise(function(s,l){t.loadFromURL(e,s)})},loadFromFile(e,t){var s=URL.createObjectURL(e);return this.loadFromURL(s,function(){URL.revokeObjectURL(s),t&&t()}),this},loadFromFilePromise(e){var t=this;return new Promise(function(s,l){t.loadFromFile(e,s)})}};class ka extends Mn{}Object.assign(ka.prototype,M9);st.register("canvas",function(e,t,s,l){var C=new ka(this.scene,e,t,s,l);return this.scene.add.existing(C),C});it(window,"RexPlugins.UI.Canvas",ka);const Br=Phaser.Utils.Objects.GetValue;class t2 extends Mn{constructor(t,s,l,C,S,r){super(t,s,l),this.type="rexCircleMaskImage",this.setTexture(C,S,r)}setTexture(t,s,l){typeof s=="object"&&(l=s,s=void 0),typeof l=="string"&&(l={maskType:l});var C=Br(l,"maskType",0),S=Br(l,"backgroundColor",void 0),r=Br(l,"strokeColor",void 0),T=r!=null?10:0,i=Br(l,"strokeWidth",T);if(C===void 0?C=0:typeof C=="string"&&(C=w9[C]),this._textureKey=t,this._frameName=s,C===null)return this.loadTexture(t,s),this.dirty=!0,this;var d=this.scene.sys.textures.getFrame(t,s);if(!d)return this;d.cutWidth!==this.width||d.cutHeight!==this.height?this.setCanvasSize(d.cutWidth,d.cutHeight):this.clear();var x=this.canvas,f=this.context,u=x.width,o=x.height;S!=null&&(f.fillStyle=S,f.fillRect(0,0,u,o)),f.save(),f.beginPath();var n=i/2;switch(C){case 1:var v=Math.floor(u/2),g=Math.floor(o/2),h=v-n,p=g-n;f.ellipse(v,g,h,p,0,0,2*Math.PI);break;case 2:var a=Br(l,"radius",0),c=Br(l,"iteration",void 0);QS(f,n,n,u-i,o-i,a,c);break;default:var v=Math.floor(u/2),g=Math.floor(o/2),m=Math.min(v,g)-n;f.arc(v,g,m,0,2*Math.PI);break}return r!=null&&(f.strokeStyle=r,f.lineWidth=i,f.stroke()),f.clip(),this.loadTexture(t,s),f.restore(),this.dirty=!0,this}resize(t,s){return this.setDisplaySize(t,s),this}}const w9={circle:0,ellipse:1,roundRectangle:2};st.register("circleMaskImage",function(e,t,s,l,C){var S=new t2(this.scene,e,t,s,l,C);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.CircleMaskImage",t2);const ho=Phaser.Utils.Objects.GetValue;class e2 extends Mn{constructor(t,s,l,C,S,r){super(t,s,l),this.type="rexAlphaMaskImage",this.maskFrame=null,this.setTexture(C,S,r)}setTexture(t,s,l){typeof s=="object"&&(l=s,s=void 0),typeof l=="string"&&(l={mask:{key:l}});var C=ho(l,"mask.key"),S=ho(l,"mask.frame"),r=ho(l,"mask.invertAlpha",!1),T=ho(l,"mask.scale"),i=ho(l,"backgroundColor");if(C){this._maskKey=C,this._maskFrame=S,this._maskScale=T;var d=C?this.scene.sys.textures.get(C):null;this.maskFrame=d?d.get(S):null}this._textureKey=t,this._frameName=s;var x=this.maskFrame;if(x===null)return this.loadTexture(t,s),this.dirty=!0,this;var f=i!=null;this.loadTexture(t,s);var u=this.canvas,o=this.context,n=u.width,h=u.height;o.save(),o.globalCompositeOperation=r?"destination-out":"destination-in";var p,a;this._maskScale!=null?(p=x.cutWidth*this._maskScale,a=x.cutHeight*this._maskScale):(p=n,a=h);var c=(n-p)/2,v=(h-a)/2;return this.drawFrame(this._maskKey,this._maskFrame,c,v,p,a),o.restore(),f&&(o.save(),o.globalCompositeOperation="destination-over",o.fillStyle=i,o.fillRect(0,0,n,h),o.restore()),this.dirty=!0,this}resize(t,s){return this.setDisplaySize(t,s),this}}st.register("alphaMaskImage",function(e,t,s,l,C){var S=new e2(this.scene,e,t,s,l,C);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.AlphaMaskImage",e2);const R9=Phaser.Math.Linear,uy=Phaser.Math.Percent,O9={setValue(e,t,s){return e==null?this:(t!==void 0&&(e=uy(e,t,s)),this.value=e,this)},addValue(e,t,s){return t!==void 0&&(e=uy(e,t,s)),this.value+=e,this},getValue(e,t){var s=this.value;return e!==void 0&&(s=R9(e,t,s)),s}},A9=Phaser.Math.Percent;var L9=function(e){return this.easeValuePropName=e,this},F9=function(e){return this.easeValueDuration=e,this},D9=function(e){return this.easeFunction=e,this},I9=function(){return this.easeValueTask&&this.easeValueTask.stop(),this},B9=function(e,t,s){return e==null?this:(t!==void 0&&(e=A9(e,t,s)),this.easeValueTask===void 0&&(this.easeValueTask=new Cr(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,to:e,duration:this.easeValueDuration,ease:this.easeFunction}),this)},b9=function(e,t,s,l){return s===void 0&&(s=-1),l===void 0&&(l=0),this.easeValueTask===void 0&&(this.easeValueTask=new Cr(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,from:e,to:t,duration:this.easeValueDuration,ease:this.easeFunction,repeat:s,repeatDelay:l}),this};const G9={setEaseValuePropName:L9,setEaseValueDuration:F9,setEaseValueFunction:D9,stopEaseValue:I9,easeValueTo:B9,easeValueRepeat:b9},lo=Phaser.Utils.Objects.GetValue,N9=Phaser.Math.Clamp;function Tr(e){class t extends e{bootProgressBase(l){this.eventEmitter=lo(l,"eventEmitter",this);var C=lo(l,"valuechangeCallback",null);if(C!==null){var S=lo(l,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",C,S)}return this.setEaseValuePropName("value").setEaseValueDuration(lo(l,"easeValue.duration",0)).setEaseValueFunction(lo(l,"easeValue.ease","Linear")),this}get value(){return this._value}set value(l){l=N9(l,0,1);var C=this._value,S=C!=l;this.dirty=this.dirty||S,this._value=l,S&&this.eventEmitter.emit("valuechange",this._value,C,this.eventEmitter)}}return Object.assign(t.prototype,O9,G9),t}const z9=Phaser.Math.RadToDeg,k9={buildShapes(){this.addShape(new Qv().setName("track")).addShape(new ud().setName("bar")).addShape(new Qv().setName("center"))},updateShapes(){var e=this.radius,t=this.thickness*this.radius,s=this.radius-t/2,l=this.radius-t,C=this.getShape("track");this.trackColor!=null&&t>0?C.setCenterPosition(e,e).setRadius(s).lineStyle(t,this.trackColor):C.reset();var S=this.getShape("bar");if(this.barColor!=null&&s>0){var r,T,i;if(this.value===1)r=!1,T=0,i=361;else{r=this.anticlockwise,T=z9(this.startAngle);var d=360*(r?1-this.value:this.value);i=d+T}S.setCenterPosition(e,e).setRadius(s).setAngle(T,i,r).lineStyle(t,this.barColor)}else S.reset();var x=this.getShape("center");this.centerColor&&l>0?x.setCenterPosition(e,e).setRadius(l).fillStyle(this.centerColor):x.reset()}},Zi=Phaser.Utils.Objects.GetValue,V9=Phaser.Utils.Objects.IsPlainObject,U9=Phaser.Math.Clamp,X9=Phaser.Math.DegToRad(270);let dd=class extends Tr(yr){constructor(t,s,l,C,S,r,T){V9(s)&&(T=s,s=Zi(T,"x",0),l=Zi(T,"y",0),C=Zi(T,"radius",1),S=Zi(T,"barColor",void 0),r=Zi(T,"value",0)),C===void 0&&(C=1);var i=C*2;super(t,s,l,i,i),this.type="rexCircularProgress",this.bootProgressBase(T),this.setRadius(C),this.setTrackColor(Zi(T,"trackColor",void 0)),this.setBarColor(S),this.setCenterColor(Zi(T,"centerColor",void 0)),this.setThickness(Zi(T,"thickness",.2)),this.setStartAngle(Zi(T,"startAngle",X9)),this.setAnticlockwise(Zi(T,"anticlockwise",!1)),this.buildShapes(),this.setValue(r)}resize(t,s){return t=Math.floor(Math.min(t,s)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var s=t*2;this.resize(s,s)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=U9(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}setCenterColor(t){return this.centerColor=t,this}};Object.assign(dd.prototype,k9);st.register("circularProgress",function(e,t,s,l,C,S){var r=new dd(this.scene,e,t,s,l,C,S);return this.scene.add.existing(r),r});it(window,"RexPlugins.UI.CircularProgress",dd);var Uf=function(e,t,s,l,C,S,r,T,i,d,x,f){d===void 0&&(d=0),x===void 0&&(x=2*Math.PI),f===void 0&&(f=!1),t.beginPath(),t.ellipse(s,l,C,S,0,d,x,f),r!=null&&(t.fillStyle=r,t.fill()),T!=null&&(t.strokeStyle=T,t.lineWidth=i,t.stroke())},Y9=function(e,t,s,l,C,S,r,T,i,d,x){i===void 0&&T!=null&&(i=2),d===void 0&&(d="start"),x===void 0&&(x="alphabetic"),t.font=S,t.textAlign=d,t.textBaseline=x,t.fillStyle=r,t.strokeStyle=T,t.lineWidth=i,t.lineCap="round",t.lineJoin="round",T!=null&&T!=="none"&&i>0&&t.strokeText(C,s,l),r!=null&&r!=="none"&&t.fillText(C,s,l)},W9=function(){var e=this.radius,t=this.thickness*this.radius,s=this.radius-t/2,l=this.radius-t,C=this.canvas,S=this.context;if(this.trackColor&&t>0&&(S.save(),Uf(C,S,e,e,s,s,void 0,this.trackColor,t),S.restore()),this.barColor&&s>0){var r,T,i;if(this.value===1)r=!1,T=0,i=2*Math.PI;else{r=this.anticlockwise,T=this.startAngle;var d=2*Math.PI*(r?1-this.value:this.value);i=d+T}S.save(),Uf(C,S,e,e,s,s,void 0,this.barColor,t,T,i,r),S.restore()}if(this.centerColor&&l>0){var x;this.centerColor2?(x=this.context.createRadialGradient(e,e,0,e,e,l),x.addColorStop(0,this.centerColor),x.addColorStop(1,this.centerColor2)):x=this.centerColor,S.save(),Uf(C,S,e,e,l,l,x),S.restore()}this.textFormatCallback&&(this.textColor||this.textStrokeColor)&&(S.save(),Y9(C,S,e,e,this.getFormatText(),this.textFont,this.textColor,this.textStrokeColor,this.textStrokeThickness,"center","middle"),S.restore())};const ae=Phaser.Utils.Objects.GetValue,H9=Phaser.Utils.Objects.IsPlainObject,$9=Phaser.Math.Clamp,K9=Phaser.Math.DegToRad(270);class i2 extends Tr(Mn){constructor(t,s,l,C,S,r,T){H9(s)&&(T=s,s=ae(T,"x",0),l=ae(T,"y",0),C=ae(T,"radius",1),S=ae(T,"barColor",void 0),r=ae(T,"value",0));var i=C*2;super(t,s,l,i,i),this.type="rexCircularProgressCanvas",this.bootProgressBase(T),this.setRadius(C),this.setTrackColor(ae(T,"trackColor",void 0)),this.setBarColor(S),this.setCenterColor(ae(T,"centerColor",void 0)),this.setThickness(ae(T,"thickness",.2)),this.setStartAngle(ae(T,"startAngle",K9)),this.setAnticlockwise(ae(T,"anticlockwise",!1)),this.setTextColor(ae(T,"textColor",void 0)),this.setTextStrokeColor(ae(T,"textStrokeColor",void 0),ae(T,"textStrokeThickness",void 0));var d=ae(T,"textFont",void 0);d?this.setTextFont(d):this.setTextFont(ae(T,"textSize","16px"),ae(T,"textFamily","Courier"),ae(T,"textStyle","")),this.setTextFormatCallback(ae(T,"textFormatCallback",void 0),ae(T,"textFormatCallbackScope",void 0)),this.setValue(r)}resize(t,s){return t=Math.floor(Math.min(t,s)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var s=t*2;this.resize(s,s)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){t=vt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){t=vt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=$9(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){t=vt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}get centerColor2(){return this._centerColor2}set centerColor2(t){t=vt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor2!=t,this._centerColor2=t}setCenterColor(t,s){return this.centerColor=t,this.centerColor2=s,this}get textColor(){return this._textColor}set textColor(t){t=vt(t,this.canvas,this.context),this.dirty=this.dirty||this._textColor!=t,this._textColor=t}setTextColor(t){return this.textColor=t,this}get textStrokeColor(){return this._textStrokeColor}set textStrokeColor(t){t=vt(t,this.canvas,this.context),this.dirty=this.dirty||this._textStrokeColor!=t,this._textStrokeColor=t}get textStrokeThickness(){return this._textStrokeThickness}set textStrokeThickness(t){this.dirty=this.dirty||this._textStrokeThickness!=t,this._textStrokeThickness=t}setTextStrokeColor(t,s){return s===void 0&&(s=2),this.textStrokeColor=t,this.textStrokeThickness=s,this}get textFont(){return this._textFont}set textFont(t){this.dirty=this.dirty||this._textFont!=t,this._textFont=t}setTextFont(t,s,l){var C;return s===void 0?C=t:C=l+" "+t+" "+s,this.textFont=C,this}setTextFormatCallback(t,s){return this.textFormatCallback=t,this.textFormatCallbackScope=s,this}updateTexture(){return this.clear(),W9.call(this),super.updateTexture(),this}getFormatText(t){t===void 0&&(t=this.value);var s;return this.textFormatCallbackScope?s=this.textFormatCallback(t):s=this.textFormatCallback.call(this.textFormatCallbackScope,t),s}}st.register("circularProgressCanvas",function(e,t,s,l,C,S){var r=new i2(this.scene,e,t,s,l,C,S);return this.scene.add.existing(r),r});it(window,"RexPlugins.UI.CircularProgressCanvas",i2);var j9=function(){var e=this.skewX,t=this.width-Math.abs(e),s=this.height,l=this.getShape("trackFill");l.fillStyle(this.trackColor),l.isFilled&&Xf(l,0,0,t,s,e).close();var C=this.getShape("bar");if(C.fillStyle(this.barColor),C.isFilled){var S,r;this.rtl?(S=t*(1-this.value),r=t):(S=0,r=t*this.value),Xf(C,S,0,r,s,e).close()}var T=this.getShape("trackStroke");T.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),T.isStroked&&Xf(T,0,0,t,s,e).end()},Xf=function(e,t,s,l,C,S){return S>=0?e.startAt(t+S,s).lineTo(l+S,s).lineTo(l,C).lineTo(t,C).lineTo(t+S,s):e.startAt(t,s).lineTo(l,s).lineTo(l-S,C).lineTo(t-S,C).lineTo(t,s),e};const xe=Phaser.Utils.Objects.GetValue,Yf=Phaser.Utils.Objects.IsPlainObject;let wg=class extends Tr(yr){constructor(t,s,l,C,S,r,T,i){Yf(s)?(i=s,s=xe(i,"x",0),l=xe(i,"y",0),C=xe(i,"width",2),S=xe(i,"height",2),r=xe(i,"barColor",void 0),T=xe(i,"value",0)):Yf(C)?(i=C,C=xe(i,"width",2),S=xe(i,"height",2),r=xe(i,"barColor",void 0),T=xe(i,"value",0)):Yf(r)&&(i=r,r=xe(i,"barColor",void 0),T=xe(i,"value",0)),super(t,s,l,C,S,i),this.type="rexLineProgress",this.bootProgressBase(i),this.addShape(new Ca().setName("trackFill")).addShape(new Ca().setName("bar")).addShape(new Ca().setName("trackStroke")),this.setTrackColor(xe(i,"trackColor",void 0)),this.setBarColor(r),this.setTrackStroke(xe(i,"trackStrokeThickness",2),xe(i,"trackStrokeColor",void 0)),this.setSkewX(xe(i,"skewX",0)),this.setRTL(xe(i,"rtl",!1)),this.setValue(T)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,s){return this.trackStrokeThickness=t,this.trackStrokeColor=s,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}};var Z9={updateShapes:j9};Object.assign(wg.prototype,Z9);st.register("lineProgress",function(e,t,s,l,C,S,r){var T=new wg(this.scene,e,t,s,l,C,S,r);return this.scene.add.existing(T),T});it(window,"RexPlugins.UI.LineProgress",wg);var J9=function(e,t){e.save(),e.beginPath();var s=t[0];e.moveTo(s.x,s.y);for(var l=1,C=t.length;l<C;l++)s=t[l],e.lineTo(s.x,s.y);e.closePath(),e.restore()},Wf=function(e,t,s,l,C,S,r){r===void 0&&(r="round"),J9(t,s),t.lineJoin=r,l!=null&&(t.fillStyle=l,t.fill()),C!=null&&(t.strokeStyle=C,t.lineWidth=S,t.stroke())},Q9=function(){var e=this.skewX,t=this.width-Math.abs(e),s=this.height,l=this.canvas,C=this.context;(this.trackColor||this.trackStrokeColor)&&dy(0,0,t,s,e,this.trackPoints);var S,r;if(this.barColor&&(this.rtl?(S=t*(1-this.value),r=t):(S=0,r=t*this.value),dy(S,0,r,s,e,this.barPoints)),this.trackColor&&(C.save(),Wf(l,C,this.trackPoints,this.trackColor),C.restore()),this.barColor){C.save();var T;if(this.barColor2){var i;if(this.isHorizontalGradient){var d=s/2;i=C.createLinearGradient(S,d,r,d)}else{var x=t/2;i=C.createLinearGradient(x,0,x,s)}i.addColorStop(0,this.rtl?this.barColor:this.barColor2),i.addColorStop(1,this.rtl?this.barColor2:this.barColor),T=i}else T=this.barColor;Wf(l,C,this.barPoints,T),C.restore()}this.trackStrokeColor&&this.trackStrokeThickness>0&&(C.save(),Wf(l,C,this.trackPoints,void 0,this.trackStrokeColor,this.trackStrokeThickness),C.restore())},dy=function(e,t,s,l,C,S){S===void 0&&(S=[]),S.length=4;for(var r=0;r<4;r++)S[r]||(S[r]={});var T;return C>=0?(T=S[0],T.x=e+C,T.y=t,T=S[1],T.x=s+C,T.y=t,T=S[2],T.x=s,T.y=l,T=S[3],T.x=e,T.y=l):(T=S[0],T.x=e,T.y=t,T=S[1],T.x=s,T.y=t,T=S[2],T.x=s-C,T.y=l,T=S[3],T.x=e-C,T.y=l),S};const oe=Phaser.Utils.Objects.GetValue,Hf=Phaser.Utils.Objects.IsPlainObject;class Rg extends Tr(Mn){constructor(t,s,l,C,S,r,T,i){Hf(s)?(i=s,s=oe(i,"x",0),l=oe(i,"y",0),C=oe(i,"width",2),S=oe(i,"height",2),r=oe(i,"barColor",void 0),T=oe(i,"value",0)):Hf(C)?(i=C,C=oe(i,"width",2),S=oe(i,"height",2),r=oe(i,"barColor",void 0),T=oe(i,"value",0)):Hf(r)&&(i=r,r=oe(i,"barColor",void 0),T=oe(i,"value",0)),super(t,s,l,C,S),this.type="rexLineProgressCanvas",this.trackPoints=[],this.barPoints=[],this.bootProgressBase(i),this.setTrackColor(oe(i,"trackColor",void 0)),this.setBarColor(r,oe(i,"barColor2",void 0),oe(i,"isHorizontalGradient",void 0)),this.setTrackStroke(oe(i,"trackStrokeThickness",2),oe(i,"trackStrokeColor",void 0)),this.setSkewX(oe(i,"skewX",0)),this.setRTL(oe(i,"rtl",!1)),this.setValue(T)}get trackColor(){return this._trackColor}set trackColor(t){t=vt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){t=vt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,s){return this.trackStrokeThickness=t,this.trackStrokeColor=s,this}get barColor(){return this._barColor}set barColor(t){t=vt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}get barColor2(){return this._barColor2}set barColor2(t){t=vt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setBarColor(t,s,l){return l===void 0&&(l=!0),this.barColor=t,this.barColor2=s,this.isHorizontalGradient=l,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}updateTexture(){return this.clear(),Q9.call(this),super.updateTexture(),this}}st.register("circularProgressCanvas",function(e,t,s,l,C,S,r){var T=new Rg(this.scene,e,t,s,l,C,S,r);return this.scene.add.existing(T),T});it(window,"RexPlugins.UI.LineProgressCanvas",Rg);Phaser.Math.Wrap;const br=Phaser.Math.Linear;var q9=function(){var e=this.getShape("triangle"),t=this.padding,s=this.width-t.right,l=0+t.left,C=this.height-t.bottom,S=0+t.top,r=(l+s)/2,T=(S+C)/2,i={0:{a:{x:l,y:S},b:{x:s,y:T},c:{x:l,y:C}},1:{a:{x:l,y:S},b:{x:r,y:C},c:{x:s,y:S}},2:{a:{x:s,y:S},b:{x:l,y:T},c:{x:s,y:C}},3:{a:{x:l,y:C},b:{x:r,y:S},c:{x:s,y:C}}},d,x,f,u,o,n;if(this.previousDirection===void 0){var h=i[this.direction],p=h.a,a=h.b,c=h.c;d=p.x,x=p.y,f=a.x,u=a.y,o=c.x,n=c.y}else{var v=i[this.previousDirection],g=i[this.direction],m=this.easeDirectionProgress;d=br(v.a.x,g.a.x,m),x=br(v.a.y,g.a.y,m),f=br(v.b.x,g.b.x,m),u=br(v.b.y,g.b.y,m),o=br(v.c.x,g.c.x,m),n=br(v.c.y,g.c.y,m)}e.startAt(d,x).lineTo(f,u).lineTo(o,n),this.arrowOnly?e.end():e.close()};const _9=Phaser.Math.DegToRad,fl=_9(120);var tI=function(t){var t=this.getShape("triangle"),s=this.width/2,l=this.height/2,C=Math.min(s,l)*this.radius,S=this.verticeRotation;t.startAt(s+C*Math.cos(S+fl),l+C*Math.sin(S+fl)).lineTo(s+C*Math.cos(S),l+C*Math.sin(S)).lineTo(s+C*Math.cos(S-fl),l+C*Math.sin(S-fl)),this.arrowOnly?t.end():t.close()};const eI={buildShapes(){this.addShape(new Ca().setName("triangle"))},updateShapes(){var e=this.getShape("triangle");this.arrowOnly?e.fillStyle().lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha):e.fillStyle(this.fillColor,this.fillAlpha).lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha),this.shapeMode===0?q9.call(this):tI.call(this)}},iI={setEaseDuration(e){return e===void 0&&(e=0),this.easeDuration=e,this},playEaseDirectionation(){return this.easeDirectionProgressTask===void 0&&(this.easeDirectionProgressTask=new Cr(this,{eventEmitter:null})),this.easeDirectionProgressTask.restart({key:"easeDirectionProgress",from:0,to:1,duration:this.easeDuration}),this},stopEaseDirection(){return this.easeDirectionProgressTask===void 0?this:(this.easeDirectionProgressTask.stop(),this)}},Gr=Phaser.Utils.Objects.GetValue,sI=Phaser.Utils.Objects.IsPlainObject,nI=Phaser.Math.DegToRad,rI=Phaser.Math.RadToDeg;class fd extends yr{constructor(t,s,l,C,S,r,T){var i,d,x,f,u,o,n,h;if(sI(s)){var p=s;s=p.x,l=p.y,C=p.width,S=p.height,r=p.color,T=p.alpha,i=p.strokeColor,d=p.strokeAlpha,x=p.strokeWidth,f=p.arrowOnly,u=p.direction,o=p.easeDuration,n=p.padding,h=p.radius}s===void 0&&(s=0),l===void 0&&(l=0),C===void 0&&(C=1),S===void 0&&(S=C),f===void 0&&(f=!1),u===void 0&&(u=0),o===void 0&&(o=0),n===void 0&&(n=0),h===void 0&&(h=void 0),super(t,s,l,C,S),this.type="rexTriangle",this.setFillStyle(r,T),i!==void 0&&x===void 0&&(x=2),this.setStrokeStyle(x,i,d),this.setArrowOnly(f),this.setDirection(u,o),this.setPadding(n),this.setRadius(h),this.buildShapes()}get arrowOnly(){return this._arrowOnly}set arrowOnly(t){this.dirty=this.dirty||this._arrowOnly!=t,this._arrowOnly=t}setArrowOnly(t){return t===void 0&&(t=!0),this.arrowOnly=t,this}get direction(){return this._direction}set direction(t){t=oI(t),this._direction!==t&&(this.easeDuration>0&&this._direction!==void 0?this.previousDirection=this._direction:this.previousDirection=void 0,this._direction=t,this.verticeAngle=t*90,this.dirty=!0,this.previousDirection!==void 0?this.playEaseDirectionation():this.stopEaseDirection())}setDirection(t,s){return s!==void 0&&this.setEaseDuration(s),this.direction=t,this}toggleDirection(t){return this.setDirection(this.direction+2,t),this}get easeDirectionProgress(){return this._easeDirectionProgress}set easeDirectionProgress(t){this._easeDirectionProgress!==t&&(this._easeDirectionProgress=t,this.dirty=!0)}setPadding(t,s,l,C){if(typeof t=="object"){var S=t,r=Gr(S,"x",null);r!==null?(t=r,l=r):(t=Gr(S,"left",0),l=Gr(S,"right",t));var T=Gr(S,"y",null);T!==null?(s=T,C=T):(s=Gr(S,"top",0),C=Gr(S,"bottom",s))}else t===void 0&&(t=0),s===void 0&&(s=t),l===void 0&&(l=t),C===void 0&&(C=s);return this.padding===void 0&&(this.padding={}),this.dirty=this.dirty||this.padding.left!=t||this.padding.top!=s||this.padding.right!=l||this.padding.bottom!=C,this.padding.left=t,this.padding.top=s,this.padding.right=l,this.padding.bottom=C,this.setRadius(),this}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this.shapeMode=t==null?0:1,this}get verticeRotation(){return this._verticeRotation}set verticeRotation(t){this.dirty=this.dirty||this._verticeRotation!=t,this._verticeRotation=t}setVerticeRotation(t){return this.verticeRotation=t,this}get verticeAngle(){return rI(this.verticeRotation)}set verticeAngle(t){this.verticeRotation=nI(t)}setVerticeAngle(t){return this.verticeAngle=t,this}}const aI={right:0,down:1,left:2,up:3};var oI=function(e){return typeof e=="string"&&(e=aI[e]),e=e%4,e};Object.assign(fd.prototype,eI,iI);st.register("triangle",function(e,t,s,l,C,S){var r=new fd(this.scene,e,t,s,l,C,S);return this.scene.add.existing(r),r});it(window,"RexPlugins.UI.Triangle",fd);const hI=Phaser.GameObjects.Zone,lI=Phaser.Utils.Array.Add,uI=Phaser.Utils.Array.Remove;let mh=class extends hI{constructor(t,s,l,C,S){s===void 0&&(s=0),l===void 0&&(l=0),C===void 0&&(C=1),S===void 0&&(S=1),super(t,s,l,C,S),this.children=[]}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var s,l=this.children.length-1;l>=0;l--)s=this.children[l],!s.parentContainer&&!s.displayList&&s.destroy(t);this.clear(!t),super.destroy(t)}}contains(t){return this.children.indexOf(t)!==-1}add(t){var s=this;return lI(this.children,t,0,function(l){l.once("destroy",s.onChildDestroy,s)},this),this}remove(t,s){var l=this;return uI(this.children,t,function(C){C.off("destroy",l.onChildDestroy,l),s&&C.destroy()}),this}onChildDestroy(t,s){this.remove(t,!1)}clear(t){for(var s=this,l,C=0,S=this.children.length;C<S;C++)l=this.children[C],l.off("destroy",s.onChildDestroy,s),t&&l.destroy();return this.children.length=0,this}};const fy=Phaser.GameObjects.Components;Phaser.Class.mixin(mh,[fy.Alpha,fy.Flip]);var Ri=function(e,t){var s;if(t===void 0)e.hasOwnProperty("rexContainer")&&(s=e.rexContainer.parent);else for(s=Ri(e);s&&s.name!==t;)s=Ri(s);return s},s2=function(e){for(var t=Ri(e);t;)e=t,t=Ri(t);return e};const dI=Phaser.Math.DegToRad,fI=Phaser.Math.RadToDeg;var wt=function(e){if(!e.hasOwnProperty("rexContainer")){var t={parent:null,self:null,layer:null,x:0,y:0,syncPosition:!0,rotation:0,syncRotation:!0,scaleX:0,scaleY:0,syncScale:!0,alpha:0,syncAlpha:!0,visible:!0,active:!0};Object.defineProperty(t,"angle",{get:function(){return fI(this.rotation)},set:function(s){this.rotation=dI(s)}}),Object.defineProperty(t,"displayWidth",{get:function(){return e.width*this.scaleX},set:function(s){this.scaleX=s/e.width}}),Object.defineProperty(t,"displayHeight",{get:function(){return e.height*this.scaleY},set:function(s){this.scaleY=s/e.height}}),e.rexContainer=t}return e.rexContainer};const cI={setParent(e,t){t===void 0&&(t=this);var s=wt(e);return t?(s.parent=t,s.self=e):(s.parent=null,s.self=null),this},getParent(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),Ri(e,t)},getTopmostParent(e){return e===void 0&&(e=this),s2(e)}},uo=Phaser.Utils.Objects.GetValue,n2=mh.prototype.add;var $f=function(e,t){this.setParent(e);var s=wt(e);return r2(s,t),this.resetChildState(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e),n2.call(this,e),this.addToParentContainer(e),this.addToRenderLayer(e),this},Kf=function(e,t){this.setParent(e);var s=wt(e);return r2(s,t),s.x=e.x,s.y=e.y,s.rotation=e.rotation,s.scaleX=e.scaleX,s.scaleY=e.scaleY,s.alpha=e.alpha,s.visible=e.visible,s.active=e.active,this.updateChildPosition(e).updateChildAlpha(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e),n2.call(this,e),this.addToRenderLayer(e),this},r2=function(e,t){t===void 0&&(t=!0),typeof t=="boolean"?(e.syncPosition=t,e.syncRotation=t,e.syncScale=t,e.syncAlpha=t,e.syncScrollFactor=t):(e.syncPosition=uo(t,"syncPosition",!0),e.syncRotation=uo(t,"syncRotation",!0),e.syncScale=uo(t,"syncScale",!0),e.syncAlpha=uo(t,"syncAlpha",!0),e.syncScrollFactor=uo(t,"syncScrollFactor",!0))};const vI={add(e){return Array.isArray(e)?this.addMultiple(e):$f.call(this,e),this},pin(e,t){return Array.isArray(e)?this.addMultiple(e,t):$f.call(this,e,t),this},addMultiple(e){for(var t=0,s=e.length;t<s;t++)$f.call(this,e[t]);return this},addLocal(e){return Array.isArray(e)?this.addMultiple(e):Kf.call(this,e),this},pinLocal(e,t){return Array.isArray(e)?this.addMultiple(e,t):Kf.call(this,e,t),this},addLocalMultiple(e){for(var t=0,s=e.length;t<s;t++)Kf.call(this,e[t]);return this}},cy=mh.prototype.remove,pI=mh.prototype.clear,gI={remove(e,t){return Ri(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),cy.call(this,e,t),this)},unpin(e,t){return Ri(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),cy.call(this,e,t),this)},clear(e){for(var t=this.children,s=0,l=t.length;s<l;s++){var C=t[s];this.setParent(C,null),e||this.removeFromRenderLayer(C)}return pI.call(this,e),this}},mI={getLocalState(e){return wt(e)},resetChildState(e){return this.resetChildPositionState(e).resetChildVisibleState(e).resetChildAlphaState(e).resetChildActiveState(e),this},resetChildrenState(e){for(var t=0,s=e.length;t<s;t++)this.resetChildState(e[t]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},vy=Phaser.Math.RotateAround,xI={worldToLocal(e){return e.x-=this.x,e.y-=this.y,vy(e,0,0,-this.rotation),e.x/=this.scaleX,e.y/=this.scaleY,e},localToWorld(e){return e.x*=this.scaleX,e.y*=this.scaleY,vy(e,0,0,this.rotation),e.x+=this.x,e.y+=this.y,e}};var nh=function(e,t){return e===t?1:e/t};const yI={updateChildPosition(e){e.isRexContainerLite&&(e.syncChildrenEnable=!1);var t=wt(e),s=t.parent;return t.syncPosition&&(e.x=t.x,e.y=t.y,s.localToWorld(e)),t.syncRotation&&(e.rotation=t.rotation+s.rotation),t.syncScale&&(e.scaleX=t.scaleX*s.scaleX,e.scaleY=t.scaleY*s.scaleY),e.isRexContainerLite&&(e.syncChildrenEnable=!0,e.syncPosition()),this},syncPosition(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState(e){var t=wt(e),s=t.parent;return t.x=e.x,t.y=e.y,s.worldToLocal(t),t.scaleX=nh(e.scaleX,s.scaleX),t.scaleY=nh(e.scaleY,s.scaleY),t.rotation=e.rotation-s.rotation,this},setChildPosition(e,t,s){return e.x=t,e.y=s,this.resetChildPositionState(e),this},setChildLocalPosition(e,t,s){var l=wt(e);return l.x=t,l.y=s,this.updateChildPosition(e),this},resetLocalPositionState(){var e=wt(this).parent;return e&&e.resetChildPositionState(this),this}},CI=Phaser.Math.DegToRad,TI={updateChildRotation(e){var t=wt(e),s=t.parent;return t.syncRotation&&(e.rotation=s.rotation+t.rotation),this},syncRotation(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildRotation,this),this},resetChildRotationState(e){var t=wt(e),s=t.parent;return t.rotation=e.rotation-s.rotation,this},setChildRotation(e,t){return e.rotation=t,this.resetChildRotationState(e),this},setChildAngle(e,t){return e.angle=t,this.resetChildRotationState(e),this},setChildLocalRotation(e,t){var s=wt(e);return s.rotation=t,this.updateChildRotation(e),this},setChildLocalAngle(e,t){var s=wt(e);return s.rotation=CI(t),this.updateChildRotation(e),this},resetLocalRotationState(){var e=wt(this).parent;return e&&e.resetChildRotationState(this),this}},SI={updateChildScale(e){var t=wt(e),s=t.parent;return t.syncScale&&(e.scaleX=s.scaleX*t.scaleX,e.scaleY=s.scaleY*t.scaleY),this},syncScale(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScale,this),this},resetChildScaleState(e){var t=wt(e),s=t.parent;return t.scaleX=nh(e.scaleX,s.scaleX),t.scaleY=nh(e.scaleY,s.scaleY),this},setChildScale(e,t,s){return s===void 0&&(s=t),e.scaleX=t,e.scaleY=s,this.resetChildScaleState(e),this},setChildLocalScale(e,t,s){s===void 0&&(s=t);var l=wt(e);return l.scaleX=t,l.scaleY=s,this.updateChildScale(e),this},setChildDisplaySize(e,t,s){return e.setDisplaySize(t,s),this.resetChildScaleState(e),this},resetLocalScaleState(){var e=wt(this).parent;return e&&e.resetChildScaleState(this),this}},EI={updateChildVisible(e){var t=wt(e),s=t.parent,l=t.hasOwnProperty("maskVisible")?t.maskVisible:!0;return e.visible=s.visible&&t.visible&&l,this},syncVisible(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState(e){var t=wt(e);return t.hasOwnProperty("maskVisible")&&delete t.maskVisible,t.visible=e.visible,this},setChildVisible(e,t){return this.setChildLocalVisible(e,t),this},setChildLocalVisible(e,t){t===void 0&&(t=!0);var s=wt(e);return s.visible=t,this.updateChildVisible(e),this},setChildMaskVisible(e,t){t===void 0&&(t=!0);var s=wt(e);return s.maskVisible=t,this.updateChildVisible(e),this},resetLocalVisibleState(){var e=wt(this).parent;return e&&e.resetChildVisibleState(this),this}},PI={updateChildAlpha(e){var t=wt(e),s=t.parent;return t.syncAlpha&&(e.alpha=s.alpha*t.alpha),this},syncAlpha(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState(e){var t=wt(e),s=t.parent;return t.alpha=nh(e.alpha,s.alpha),this},setChildAlpha(e,t){return e.alpha=t,this.resetChildAlphaState(e),this},setChildLocalAlpha(e,t){var s=wt(e);return s.alpha=t,this.updateChildAlpha(e),this},resetLocalAlphaState(){var e=wt(this).parent;return e&&e.resetChildAlphaState(this),this}},MI={updateChildActive(e){var t=wt(e),s=t.parent;return e.active=s.active&&t.active,this},syncActive(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState(e){var t=wt(e);return t.active=e.active,this},setChildActive(e,t){return e.active=t,this.resetChildActiveState(e),this},setChildLocalActive(e,t){t===void 0&&(t=!0);var s=wt(e);return s.active=t,this.updateChildActive(e),this},resetLocalActiveState(){var e=wt(this).parent;return e&&e.resetChildActiveState(this),this}},wI={updateChildScrollFactor(e){var t=wt(e),s=t.parent;return t.syncScrollFactor&&e.setScrollFactor(s.scrollFactorX,s.scrollFactorY),this},syncScrollFactor(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}},RI={updateChildMask(e){if(this.mask==null)return this;var t=this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask;return t!==e&&(e.mask=this.mask),this},syncMask(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask(e){return this.mask=e,this},clearMask(e){return e===void 0&&(e=!1),this._mask=null,this.children.forEach(function(t){t.clearMask(!1)}),e&&this.mask&&this.mask.destroy(),this}},OI={setDepth(e,t){if(this.depth=e,!t&&this.children)for(var s=this.getAllChildren(),l=0,C=s.length;l<C;l++)s[l].depth=e;return this},swapDepth(e){var t=this.depth,s=e.depth;return this.setDepth(s),e.setDepth(t),this},incDepth(e){if(this.depth+=e,this.children)for(var t=this.getAllChildren(),s=0,l=t.length;s<l;s++)t[s].depth+=e;return this},bringToTop(){var e=this.displayList,t=this.getAllChildren([this]);Ms(t,!1);for(var s=0,l=t.length;s<l;s++){var C=t[s];e.exists(C)&&e.bringToTop(C)}return this},moveDepthBelow(e){var t=this.displayList;if(e.displayList!==t)return this;var s=this.getAllChildren([this]);Ms(s,!1);for(var l=0,C=s.length;l<C;l++){var S=s[l];if(t.exists(S)){t.moveBelow(e,S);break}}return this},moveDepthAbove(e){var t=this.displayList;if(e.displayList!==t)return this;var s=this.getAllChildren([this]);Ms(s,!0);for(var l=0,C=s.length;l<C;l++){var S=s[l];if(t.exists(S)){t.moveAbove(e,S);break}}return this},bringChildToTop(e){var t=this.getAllChildren([this]);Ms(t,!0);var s=t[0];return s===e?this:s.displayList!==e.displayList?this:(s.displayList.moveAbove(e,s),this)},sendChildToBack(e){var t=this.getAllChildren([this]);Ms(t,!1);var s=t[0];return s===e?this:s.displayList!==e.displayList?this:(s.displayList.moveBelow(e,s),this)}};var a2=function(e,t){var s=t(e);if(!s&&e.isRexContainerLite)for(var l=e.children,C=0,S=l.length;C<S;C++)a2(l[C],t)},jf=function(e,t){for(var s=[e];s.length>0;){var l=s.shift(),C=t(l);!C&&l.isRexContainerLite&&s.push(...l.children)}};const Vn=Phaser.Utils.Array,AI={getChildren(e){if(!e)e=this.children;else for(var t=0,s=this.children.length;t<s;t++)e.push(this.children[t]);return e},getAllChildren(e){e===void 0&&(e=[]);var t=this;return jf(t,function(s){s!==t&&e.push(s)}),e},getAllVisibleChildren(e){e===void 0&&(e=[]);var t=this;return jf(t,function(s){if(s!==t){if(!s.visible)return!0;e.push(s)}}),e},bfs(e,t){return t===void 0&&(t=this),jf(t,e),this},dfs(e,t){return t===void 0&&(t=this),a2(t,e),this},contains(e){var t=Ri(e);return t?t===this?!0:this.contains(t):!1},getByName(e,t){if(t){for(var s=[this],l,C;s.length;){l=s.shift();for(var S=0,r=l.children.length;S<r;S++){if(C=l.children[S],C.name===e)return C;C.isRexContainerLite&&s.push(C)}}return null}else return Vn.GetFirst(this.children,"name",e)},getRandom(e,t){return Vn.GetRandom(this.children,e,t)},getFirst(e,t,s,l){return Vn.GetFirstElement(this.children,e,t,s,l)},getAll(e,t,s,l){return Vn.GetAll(this.children,e,t,s,l)},count(e,t,s,l){return Vn.CountAllMatching(this.children,e,t,s,l)},swap(e,t){return Vn.Swap(this.children,e,t),this},setAll(e,t,s,l){return Vn.SetAll(this.children,e,t,s,l),this}};var py=function(e){for(var t=[],s=0,l=e.length;s<l;s++){var C=e[s];C.hasOwnProperty("rexContainer")&&t.push(C.rexContainer)}return t},LI=function(e){for(var t=0,s=e.length;t<s;t++){var l=e[t].scene;if(l)return l}return null},gy=function(e,t,s){if(!s.parent){e.remove();return}var l=s.parent,C=s.self;switch(t){case"x":case"y":l.updateChildPosition(C);break;case"angle":case"rotation":l.updateChildRotation(C);break;case"scaleX":case"scaleY":case"displayWidth":case"displayHeight":l.updateChildScale(C);break;case"alpha":l.updateChildAlpha(C);break;default:l.updateChildPosition(C),l.updateChildRotation(C),l.updateChildScale(C),l.updateChildAlpha(C);break}};const FI={tweenChild(e){var t=e.targets;Array.isArray(t)||(t=[t]);var s=this.scene||LI(t);if(s){e.targets=py(t);var l=s.tweens.add(e);return l.on("update",gy),l}},tweenSelf(e){return e.targets=[this],this.tweenChild(e)},createTweenChildConfig(e){var t=e.targets;t&&(Array.isArray(t)||(t=[t]),e.targets=py(t));var s=e.onUpdate;return e.onUpdate=function(l,C){s&&s(l,C),gy(l,void 0,C)},e},tween(e){var t=this.scene;return e.targets||(e.targets=this),t.tweens.add(e)}},DI={addToContainer(e){this._setParentContainerFlag=!0;var t=this.getAllChildren([this]);return Ms(t),e.add(t),this._setParentContainerFlag=!1,this},addToLayer(e){return this.addToContainer(e),this},removeFromContainer(){if(!this.parentContainer)return this;var e=this.getAllChildren([this]).filter(function(t){return!!t.scene});return e.length===0?this:(this._setParentContainerFlag=!0,e.length>1&&(Ms(e),e.reverse()),this.parentContainer.remove(e),this._setParentContainerFlag=!1,this)},getParentContainer(){if(this.parentContainer)return this.parentContainer;for(var e=this.getParent();e;){var t=e.parentContainer;if(t)return t;e=e.getParent()}return null},addToParentContainer(e){if(!e.displayList)return this;var t=this.getParentContainer();return t?(e.isRexContainerLite?e.addToContainer(t):t.add(e),this):this}},II={enableLayer(){if(this.privateRenderLayer)return this;var e=this.scene.add.layer();return this.moveDepthBelow(e),this.addToLayer(e),this.privateRenderLayer=e,this},getLayer(){return this.privateRenderLayer||this.enableLayer(),this.privateRenderLayer},getRenderLayer(){if(this.privateRenderLayer)return this.privateRenderLayer;for(var e=this.getParent();e;){var t=e.privateRenderLayer;if(t)return t;e=e.getParent()}return null},addToRenderLayer(e){if(!e.displayList)return this;var t=this.getRenderLayer();if(!t)return this;e.isRexContainerLite?e.addToLayer(t):t.add(e);var s=wt(e);return s.layer=t,this},removeFromRenderLayer(e){var t=wt(e),s=t.layer;return s?(s.remove(e),t.layer=null,this):this}},my=Phaser.Geom.Rectangle,BI=Phaser.Geom.Rectangle.Union;var bI=function(e,t){t===void 0?t=new my:t===!0&&(Zf===void 0&&(Zf=new my),t=Zf),t.setTo(0,0,0,0);for(var s,l=!0,C=0,S=e.length;C<S;C++)if(s=e[C],!!s.getBounds){var r=pg(s,!0);l?(t.setTo(r.x,r.y,r.width,r.height),l=!1):BI(r,t,t)}return t},Zf;const GI=Phaser.GameObjects.GameObject;var On=function(e){return e instanceof GI},Un=Phaser.Utils.Objects.GetValue,NI=Phaser.Textures.DynamicTexture,zI=Phaser.Utils.String.UUID,Og=function(e){if(e){var t=e.gameObjects,s=e.renderTexture,l=Un(e,"x",void 0),C=Un(e,"y",void 0),S=Un(e,"width",void 0),r=Un(e,"height",void 0),T=Un(e,"originX",0),i=Un(e,"originY",0),d=Un(e,"padding",0),x,f;if(S===void 0||r===void 0||l===void 0||C===void 0){var u=bI(t,!0),o=l!==void 0&&C!==void 0;o?(S=Math.max(l-u.left,u.right-l)*2,r=Math.max(C-u.top,u.bottom-C)*2,T=.5,i=.5):(l=u.x,C=u.y,S=u.width,r=u.height,T=0,i=0),x=u.x,f=u.y}else x=l+(0-T)*S,f=C+(0-i)*r;x-=d,f-=d,S+=d*2,r+=d*2;var n=t[0].scene;h&&!s&&(s=new NI(n.sys.textures,zI(),S,r)),s||(s=n.add.renderTexture(0,0,S,r)),s.setPosition&&s.setPosition(l,C),(s.width!==S||s.height!==r)&&s.setSize(S,r),s.setOrigin&&s.setOrigin(T,i),s.camera.setScroll(x,f),t=Ms(fr(t)),s.draw(t);var h=e.saveTexture;if(h)if(On(s))s.saveTexture(h);else{var p=s,a=p.manager;a.exists(p.key)?a.renameTexture(p.key,key):(p.key=key,a.list[key]=p,a.emit("addtexture",key,p),a.emit(`addtexture-${key}`,p))}return s}};const kI={snapshot(e){var t=this.scaleX,s=this.scaleY,l=t===1&&s===1;l||this.setScale(1),e===void 0&&(e={}),e.gameObjects=this.getAllVisibleChildren(),e.x=this.x,e.y=this.y,e.originX=this.originX,e.originY=this.originY;var C=Og(e),S=!!C.scene;return l||(this.setScale(t,s),S&&C.setScale(t,s)),S?C:this}},xy=Phaser.Utils.Objects.GetValue;var VI=function(e,t){var s=xy(t,"drawContainer",!0),l=xy(t,"children");return l===void 0&&(l=this.getAllVisibleChildren([this])),s||(l=l.filter(function(C){return!C.isRexContainerLite})),TE(l,e,t),this};const UI=Phaser.Math.RotateAround;var XI=function(e,t,s){s===void 0&&(s=t);var l={x:(t-e.originX)*e.displayWidth,y:(s-e.originY)*e.displayHeight};return UI(l,0,0,e.rotation),e.originX=t,e.originY=s,e.x=e.x+l.x,e.y=e.y+l.y,e},YI=function(e,t){this.syncChildrenEnable=!1,XI(this,e,t),this.syncChildrenEnable=!0;for(var s=this.getAllChildren(),l=0,C=s.length;l<C;l++)this.resetChildPositionState(s[l]);return this},o2={changeOrigin:YI,drawBounds:VI};Object.assign(o2,cI,vI,gI,mI,xI,yI,TI,SI,EI,PI,MI,wI,RI,OI,AI,FI,DI,II,kI);class di extends mh{constructor(t,s,l,C,S,r){Array.isArray(C)&&(r=C,C=void 0,S=void 0),super(t,s,l,C,S),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,this.privateRenderLayer=void 0,r&&this.add(r)}destroy(t){!this.scene||this.ignoreDestroy||(this.syncChildrenEnable=!1,super.destroy(t),this.privateRenderLayer&&(this.privateRenderLayer.list.length=0,this.privateRenderLayer.destroy()))}resize(t,s){return this.setSize(t,s),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get scale(){return super.scale}set scale(t){this.scale!==t&&(super.scale=t,this.syncPosition())}get visible(){return super.visible}set visible(t){super.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return super.alpha}set alpha(t){super.alpha!==t&&(super.alpha=t,this.syncAlpha())}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.syncActive())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get list(){return this.children}static GetParent(t){return Ri(t)}get parentContainer(){return this._parentContainer}set parentContainer(t){if(!this._parentContainer&&!t){this._parentContainer=t;return}if(this.setParentContainerFlag){this._parentContainer=t;return}this._parentContainer&&!t?(this.removeFromContainer(),this._parentContainer=t):t?(this._parentContainer=t,this.addToContainer(t)):this._parentContainer=t}get setParentContainerFlag(){if(this._setParentContainerFlag)return!0;var t=Ri(this);return t?t.setParentContainerFlag:!1}}Object.assign(di.prototype,o2);var cd=function(e){return e.hasOwnProperty("rexSizer")||(e.rexSizer={}),e.rexSizer};function WI(e){return e===void 0&&(e=this),cd(e)}var HI=function(e){var t=cd(e);return t.hasOwnProperty("prevState")||(t.prevState={}),t.prevState},$I=function(e){return e===void 0&&(e=za(this.scene)),this.left=Math.max(this.left,e.left),this.right=Math.min(this.right,e.right),this.top=Math.max(this.top,e.top),this.bottom=Math.min(this.bottom,e.bottom),this};const Xe=Phaser.Display.Align,xi={center:Xe.CENTER,left:Xe.LEFT_CENTER,right:Xe.RIGHT_CENTER,top:Xe.TOP_CENTER,bottom:Xe.BOTTOM_CENTER,"left-top":Xe.TOP_LEFT,"left-center":Xe.LEFT_CENTER,"left-bottom":Xe.BOTTOM_LEFT,"center-top":Xe.TOP_CENTER,"center-center":Xe.CENTER,"center-bottom":Xe.BOTTOM_CENTER,"right-top":Xe.TOP_RIGHT,"right-center":Xe.RIGHT_CENTER,"right-bottom":Xe.BOTTOM_RIGHT};var qv=new Phaser.GameObjects.Zone({sys:{queueDepthSort:Fe,events:{once:Fe}}},0,0,1,1);qv.setOrigin(0);var zs={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},Ag=function(e){var t=Ot(e);return e.y+t-t*e.originY},Lg=function(e){var t=Bt(e);return e.x-t*e.originX+t*.5},Fg=function(e,t){var s=Ot(e);return e.y=t-s+s*e.originY,e},Dg=function(e,t){var s=Bt(e),l=s*e.originX;return e.x=t+l-s*.5,e},KI=function(e,t,s,l){return s===void 0&&(s=0),l===void 0&&(l=0),Dg(e,Lg(t)+s),Fg(e,Ag(t)+l),e},Ig=function(e){var t=Bt(e);return e.x-t*e.originX},Bg=function(e,t){var s=Bt(e);return e.x=t+s*e.originX,e},jI=function(e,t,s,l){return s===void 0&&(s=0),l===void 0&&(l=0),Bg(e,Ig(t)-s),Fg(e,Ag(t)+l),e},bg=function(e){var t=Bt(e);return e.x+t-t*e.originX},Gg=function(e,t){var s=Bt(e);return e.x=t-s+s*e.originX,e},ZI=function(e,t,s,l){return s===void 0&&(s=0),l===void 0&&(l=0),Gg(e,bg(t)+s),Fg(e,Ag(t)+l),e},Ng=function(e,t){var s=Ot(e),l=s*e.originY;return e.y=t+l-s*.5,e},JI=function(e,t,s){return Dg(e,t),Ng(e,s)},zg=function(e){var t=Ot(e);return e.y-t*e.originY+t*.5},QI=function(e,t,s,l){return s===void 0&&(s=0),l===void 0&&(l=0),JI(e,Lg(t)+s,zg(t)+l),e},qI=function(e,t,s,l){return s===void 0&&(s=0),l===void 0&&(l=0),Bg(e,Ig(t)-s),Ng(e,zg(t)+l),e},_I=function(e,t,s,l){return s===void 0&&(s=0),l===void 0&&(l=0),Gg(e,bg(t)+s),Ng(e,zg(t)+l),e},kg=function(e){var t=Ot(e);return e.y-t*e.originY},Vg=function(e,t){var s=Ot(e);return e.y=t+s*e.originY,e},tB=function(e,t,s,l){return s===void 0&&(s=0),l===void 0&&(l=0),Dg(e,Lg(t)+s),Vg(e,kg(t)-l),e},eB=function(e,t,s,l){return s===void 0&&(s=0),l===void 0&&(l=0),Bg(e,Ig(t)-s),Vg(e,kg(t)-l),e},iB=function(e,t,s,l){return s===void 0&&(s=0),l===void 0&&(l=0),Gg(e,bg(t)+s),Vg(e,kg(t)-l),e},ps=[];ps[zs.BOTTOM_CENTER]=KI;ps[zs.BOTTOM_LEFT]=jI;ps[zs.BOTTOM_RIGHT]=ZI;ps[zs.CENTER]=QI;ps[zs.LEFT_CENTER]=qI;ps[zs.RIGHT_CENTER]=_I;ps[zs.TOP_CENTER]=tB;ps[zs.TOP_LEFT]=eB;ps[zs.TOP_RIGHT]=iB;var h2=function(e,t,s,l,C){return ps[s](e,t,l,C)},xh=function(e,t,s,l,C,S){qv.setPosition(t,s).setSize(l,C),h2(e,qv,S)};const Nr=Phaser.Utils.Objects.GetValue,sB=Phaser.GameObjects.Group;var nB=function(e,t){var s=e.scene,l,C,S,r,T;if(typeof t=="number")l=t;else{l=Nr(t,"color"),C=Nr(t,"lineWidth");var i=Nr(t,"name",!1);i&&(S=Nr(i,"createTextCallback",rB),r=Nr(i,"createTextCallbackScope",void 0),T=Nr(i,"align","left-top"),typeof T=="string"&&(T=xi[T]))}if(l===void 0&&(l=16777215),C===void 0&&(C=1),S&&!e.children){e.children=new sB(s),e.once("destroy",function(h,p){h.children.destroy(!p),h.children=void 0});var d=e.clear.bind(e);e.clear=function(){d(),e.children.clear(!1,!0)}}for(var x=this.getAllShownChildren([this]),f,u,o=0,n=x.length;o<n;o++){if(f=x[o],f.getBounds||f.width!==void 0&&f.height!==void 0)Xn=pg(f,Xn);else continue;l!=null&&e.lineStyle(C,l).strokeRectShape(Xn),f.name&&S&&(r?u=S.call(r,s):u=S(s),u&&(u.setText(f.name),e.children.add(u),xh(u,Xn.x,Xn.y,Xn.width,Xn.height,T)))}return this},rB=function(e,t,s){return e.add.text(0,0,"")},Xn=void 0;const cl=Phaser.Utils.Objects.GetValue;var Va=function(e,t){return t===void 0&&(t={}),typeof e=="number"?(t.left=e,t.right=e,t.top=e,t.bottom=e):(t.left=cl(e,"left",0),t.right=cl(e,"right",0),t.top=cl(e,"top",0),t.bottom=cl(e,"bottom",0)),t};const aB=di.prototype.add;var yh=function(e){return aB.call(this,e),this.sizerEventsEnable&&(e.emit("sizer.add",e,this),this.emit("add",e,this)),this};const oB={addBackground(e,t,s){this.backgroundChildren===void 0&&(this.backgroundChildren=[]),typeof t=="string"&&(s=t,t=void 0),t===void 0&&(t=0),yh.call(this,e),this.backgroundChildren.push(e);var l=this.getSizerConfig(e);return l.padding=Va(t),s!==void 0&&this.addChildrenMap(s,e),this},isBackground(e){return this.backgroundChildren===void 0?!1:this.backgroundChildren.indexOf(e)!==-1}},hB=Phaser.Utils.Array.Remove,lB=di.prototype.remove;var Ch=function(e,t){return this.isBackground(e)&&hB(this.backgroundChildren,e),lB.call(this,e,t),!t&&this.sizerEventsEnable&&(e.emit("sizer.remove",e,this),this.emit("remove",e,this)),this},gn=function(e,t){var s=null;if(t===void 0)e.hasOwnProperty("rexContainer")&&(s=e.rexContainer.parent,s?s.isRexSizer||(s=gn(s)):s=null);else for(s=gn(e);s&&s.name!==t;)s=gn(s);return s},uB=function(e){for(var t=gn(e);t;)e=t,t=gn(t);return e};const Th={getParentSizer(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),gn(e,t)},getTopmostSizer(e){return e===void 0&&(e=this),uB(e)},hasParentSizer(e,t){t===void 0&&(t=this);for(var s=gn(t);s;){if(s===e)return!0;s=gn(s)}return!1},hasChild(e,t){return t===void 0&&(t=this),this.hasParentSizer(t,e)}},dB=Phaser.Utils.Array.Remove,fB={removeFromParentSizer(){var e=Th.getParentSizer(gameObject);return e&&e.remove(this),this},removeBackground(e,t){return this.backgroundChildren===void 0?this:this.getParentSizer(e)!==this?this:(dB(this.backgroundChildren,e),Ch.call(this,e,t),this)},removeAllBackgrounds(e){if(this.backgroundChildren===void 0)return this;for(var t=this.backgroundChildren.length-1;t>=0;t--)this.remove(this.backgroundChildren[t],e);return this}};var yy=function(e,t){if(typeof e=="string")this.childrenMap[e]=t;else{var s=e;for(e in s)this.childrenMap[e]=s[e]}return this},cB=function(e){if(typeof e=="object"){var t=e;for(var e in this.childrenMap)if(this.childrenMap[e]===t)return delete this.childrenMap[e],this}return delete this.childrenMap[e],this},vB=function(e,t){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){var s=e.shift(),l=null;if(s.charAt(0)==="#")s=s.substring(1),l=this.getByName(s,t);else if(s.indexOf("[")===-1)this.childrenMap&&(l=this.childrenMap[s]);else{var C=s.match(pB);if(C!=null&&this.childrenMap){var S=this.childrenMap[C[1]];S&&(l=S[C[2]])}}return e.length===0?l:l&&l.childrenMap?l.getElement(e):null}};const pB=/(\S+)\[(\d+)\]/i,gB={getInnerPadding(e){return tu(this.space,e)},setInnerPadding(e,t){return pn(this.space,e,t),this},getOuterPadding(e){return tu(this.getSizerConfig(this).padding,e)},setOuterPadding(e,t){return pn(this.getSizerConfig(this).padding,e,t),this},getChildOuterPadding(e,t){return typeof e=="string"&&(e=this.getElement(e)),tu(this.getSizerConfig(e).padding,t)},setChildOuterPadding(e,t,s){return typeof e=="string"&&(e=this.getElement(e)),pn(this.getSizerConfig(e).padding,t,s),this}};var Ug=function(e){var t=this.childrenWidth,s=this.minWidth!==void 0?this.minWidth:0;return e===void 0?(e=Math.max(s,t),s>0&&t>s&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${s}) < childrenWidth (${t})`)):(s>e||t>e)&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${s}) or childrenWidth (${t} > targetWidth ${e}`),e},mB=function(e){var t,s;for(var l in this.sizerChildren)t=this.sizerChildren[l],t&&t.isRexSizer&&!t.ignoreLayout&&(s=this.getExpandedChildWidth(t,e),s=t.resolveWidth(s),t.resolveChildrenWidth(s))},Xg=function(e){var t=this.childrenHeight,s=this.minHeight!==void 0?this.minHeight:0;return e===void 0?(e=Math.max(s,t),s>0&&t>s&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${s}) < childrenHeight (${t})`)):(s>e||t>e)&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${s}) or childrenHeight (${t}) > targetHeight (${e})`),e},xB=function(e,t){},yB=function(e){var t;return e.isRexSizer?t=Math.max(e.minWidth,e.childrenWidth):e.minWidth!==void 0?t=e.minWidth:t=Bt(e),t},CB=function(e){var t;return e.isRexSizer?t=Math.max(e.minHeight,e.childrenHeight):e.minHeight!==void 0?t=e.minHeight:t=Ot(e),t},TB=function(e,t){return t},SB=function(e,t){return t},EB=function(){return 0},PB=function(){return 0},MB=function(e){e===void 0&&(e=[]);for(var t=e.length,s=this.getChildrenSizers(e),l=e.length,C=t;C<l;C++)s[C].getAllChildrenSizers(e);return e},wB=function(e){return e===void 0&&(e=[]),e};const RB={getShownChildren(e){e===void 0&&(e=[]);for(var t=this.children,s,l=0,C=t.length;l<C;l++)s=t[l],!(s.rexSizer&&s.rexSizer.hidden)&&e.push(s);return e},getAllShownChildren(e){e===void 0&&(e=[]);for(var t=[this];t.length>0;){var s=t.shift();s.rexSizer&&s.rexSizer.hidden||(s!==this&&e.push(s),s.isRexContainerLite&&t.push(...s.children))}return e}};var Sh=function(){this._childrenWidth=void 0,this._childrenHeight=void 0;for(var e=this.getChildrenSizers(),t,s=0,l=e.length;s<l;s++)t=e[s],!t.ignoreLayout&&t.preLayout()},OB=function(){var e=this.scaleX,t=this.scaleY,s=e===1&&t===1;return s||this.setScale(1),this.runLayout(),s||this.setScale(e,t),this},AB=function(e,t,s){if(this.ignoreLayout)return this;var l=!e;return l&&this.preLayout(),t=this.resolveWidth(t),l&&(this.resolveChildrenWidth(t),this.runWidthWrap(t)),s=this.resolveHeight(s),this.postResolveSize(t,s),this.resize(t,s),this.sizerEventsEnable&&this.layoutedChildren===void 0&&(this.layoutedChildren=[]),this.layoutChildren(),this.layoutBackgrounds(),this.sizerEventsEnable&&(this.emit("postlayout",this.layoutedChildren,this),this.layoutedChildren.length=0),this.postLayout()},LB=function(){},FB=function(e,t,s){return this._anchor&&this._anchor.updatePosition(),this},l2=function(e){var t,s;for(var l in this.sizerChildren)t=this.sizerChildren[l],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(s=this.getExpandedChildWidth(t,e),t.isRexSizer&&(s=t.resolveWidth(s)),t.runWidthWrap(s));return this};class Yg extends ge{constructor(t,s){super(t,{eventEmitter:!1}),this.viewport=void 0,this.resetFromJSON(s)}shutdown(t){this.isShutdown||(this.autoAnchor(!1),this.viewport=void 0,this.onUpdateViewportCallback=void 0,this.onUpdateViewportCallbackScope=void 0,this.onResizeCallback=void 0,this.onResizeCallbackScope=void 0,super.shutdown(t))}resetFromJSON(t){t===void 0&&(t={});var s,l;t.x!==void 0?(s=null,l=t.x):t.left!==void 0?(s=0,l=t.left):t.right!==void 0?(s=1,l=t.right):t.centerX!==void 0&&(s=.5,l=t.centerX);var C,S;t.y!==void 0?(C=null,S=t.y):t.top!==void 0?(C=0,S=t.top):t.bottom!==void 0?(C=1,S=t.bottom):t.centerY!==void 0&&(C=.5,S=t.centerY);var r,T;l!==void 0&&(l=l.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),r=parseFloat(l[0])/100,T=l[1]===""?0:parseFloat(l[1]));var i,d;S!==void 0&&(S=S.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),i=parseFloat(S[0])/100,d=S[1]===""?0:parseFloat(S[1]));var x=t.width,f,u;x!==void 0&&(x=x.split("%"),f=parseFloat(x[0])/100,u=x[1]===""?0:parseFloat(x[1]));var o=t.height,n,h;o!==void 0&&(o=o.split("%"),n=parseFloat(o[0])/100,h=o[1]===""?0:parseFloat(o[1])),this.setAlign(s,C),this.setPercentage(r,i),this.setOffset(T,d),this.setSizePercentage(f,n),this.setSizePadding(u,h);var p=t.onResizeCallback,a=t.onResizeCallbackScope;p!==void 0&&this.setResizeCallback(p,a);var c=t.onUpdateViewportCallback,v=t.onUpdateViewportCallbackScope;return c!==void 0&&this.setUpdateViewportCallback(c,v),this.autoAnchor(t.enable),this}autoAnchor(t){return t===void 0&&(t=!0),t=!!t,this.autoAnchorEnable===t?this:(t?(this.scene.sys.scale.on("resize",this.anchor,this),this.anchor()):this.scene.sys.scale.off("resize",this.anchor,this),this.autoAnchorEnable=t,this)}setAlign(t,s){return this.alignX=t,this.alignY=s,this}setPercentage(t,s){return this.percentageX=t,this.percentageY=s,this}setOffset(t,s){return this.offsetX=t,this.offsetY=s,this}setSizePercentage(t,s){return this.percentageWidth=t,this.percentageHeight=s,this}setSizePadding(t,s){return this.paddingWidth=t,this.paddingHeight=s,this}setResizeCallback(t,s){return this.onResizeCallback=t,this.onResizeCallbackScope=s,this}setUpdateViewportCallback(t,s){return this.onUpdateViewportCallback=t,this.onUpdateViewportCallbackScope=s,this}anchor(){return this.updateViewport(),this.updateSize(),this.updatePosition(),this}updateSize(){var t=this.onResizeCallback,s=this.onResizeCallbackScope,l=this.anchorWidth,C=this.anchorHeight;if(!(l===void 0&&C===void 0||!t)){var S=this.parent;l===void 0&&(l=S.width),C===void 0&&(C=S.height),s?t.call(s,l,C,S,this):t(l,C,S,this)}}updatePosition(){var t=this.parent;return this.alignX===null?t.x=this.anchorX:this.alignX!==void 0&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),this.alignY===null?t.y=this.anchorY:this.alignY!==void 0&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}get anchorX(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get anchorY(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}get anchorWidth(){if(this.percentageWidth!==void 0)return this.viewport.width*this.percentageWidth+this.paddingWidth}get anchorHeight(){if(this.percentageHeight!==void 0)return this.viewport.height*this.percentageHeight+this.paddingHeight}updateViewport(){var t=this.parent.scene.cameras.main;this.viewport=za(this.scene,t,this.viewport);var s=this.viewport,l=this.onUpdateViewportCallback,C=this.onUpdateViewportCallbackScope;l&&(C?l.call(C,s,this.parent,this):l(s,this.parent,this))}}var DB=function(e){e===void 0&&(e={});var t=e.hasOwnProperty("width"),s=e.hasOwnProperty("height"),l=e.hasOwnProperty("onResizeCallback");return(t||s)&&!l&&(e.onResizeCallback=function(C,S,r){t&&r.setMinWidth(C),s&&r.setMinHeight(S),r.layout()}),this._anchor===void 0?this._anchor=new Yg(this,e):this._anchor.resetFromJSON(e),this};const IB=Phaser.Utils.Objects.GetValue,zr=Phaser.Utils.Objects.GetAdvancedValue,Cy=Phaser.Math.Linear;class rh extends xr{constructor(t,s){super(t,s),this.scaleStart={},this.scaleEnd={},this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(IB(t,"mode",0)),this.setScaleRange(zr(t,"start",void 0),zr(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=BB[t]),this.mode=t,this}setScaleRange(t,s){return typeof t=="number"?(this.startX=t,this.startY=t):(this.startX=zr(t,"x",this.parent.scaleX),this.startY=zr(t,"y",this.parent.scaleY)),typeof s=="number"?(this.endX=s,this.endY=s):(this.endX=zr(s,"x",void 0),this.endY=zr(s,"y",void 0)),this.hasScaleX=this.startX!==void 0&&this.endX!==void 0,this.hasScaleY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;this.hasScaleX&&(t.scaleX=this.startX),this.hasScaleY&&(t.scaleY=this.startY);var s=this.repeat;return this.mode===2&&s!==-1&&(s=(s+1)*2-1),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(s),super.start(),this}updateGameObject(t,s){var l=s.t;s.isOddIteration&&(l=1-l),l=this.easeFn(l),this.hasScaleX&&(t.scaleX=Cy(this.startX,this.endX,l)),this.hasScaleY&&(t.scaleY=Cy(this.startY,this.endY,l))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const BB={stop:0,destroy:1,yoyo:2};var Wg=function(e,t,s,l,C){l===void 0&&(l="Cubic");var S,r;switch(s){case 0:case"x":S={x:0},r={x:e.scaleX};break;case 1:case"y":S={y:0},r={y:e.scaleY};break;default:S=0,r=e.scale;break}var T={mode:0,start:S,end:r,duration:t,ease:l};return C===void 0?C=new rh(e,T):C.resetFromJSON(T),C.restart(),C},u2=function(e,t,s,l,C,S){l===void 0&&(l="Linear"),C instanceof rh&&(S=C,C=void 0),C===void 0&&(C=!0);var r={};switch(r.mode=C?1:0,s){case 0:case"x":r.end={x:0};break;case 1:case"y":r.end={y:0};break;default:r.end=0;break}return r.duration=t,r.ease=l,S===void 0?S=new rh(e,r):S.resetFromJSON(r),S.restart(),S},bB=function(e,t,s,l,C,S,r){s===void 0&&(s=1.2),l===void 0&&(l=0),S===void 0&&(S="Cubic");var T,i;switch(C){case 0:case"x":T={x:e.scaleX},i={x:s};break;case 1:case"y":T={y:e.scaleX},i={y:s};break;default:T=e.scaleX,i=s;break}var d={mode:2,start:T,end:i,duration:t/2,ease:S,repeat:l};return r===void 0?r=new rh(e,d):r.resetFromJSON(d),r.restart(),r};const Jf=Phaser.Utils.Objects.IsPlainObject;var Qf=function(e,t){t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)}),t.on("update",function(){var s=Th.getParentSizer(e);s&&s.resetChildPositionState(e)})};const Hg={popUp(e,t,s){if(Jf(e)){var l=e;e=l.duration,t=l.orientation,s=l.ease}var C=this._scaleBehavior===void 0;return this._scaleBehavior=Wg(this,e,t,s,this._scaleBehavior),C&&Qf(this,this._scaleBehavior),this._scaleBehavior.completeEventName="popup.complete",this},popUpPromise(e,t,s){return this.popUp(e,t,s),Se(this._scaleBehavior)},scaleDownDestroy(e,t,s,l){if(Jf(e)){var C=e;e=C.duration,t=C.orientation,s=C.ease,l=C.destroy}var S=this._scaleBehavior===void 0;return this._scaleBehavior=u2(this,e,t,s,l,this._scaleBehavior),S&&Qf(this,this._scaleBehavior),this._scaleBehavior.completeEventName="scaledown.complete",this},scaleDownDestroyPromise(e,t,s,l){return this.scaleDownDestroy(e,t,s,l),Se(this._scaleBehavior)},scaleDown(e,t,s){return this.scaleDownDestroy(e,t,s,!1),this},scaleDownPromise(e,t,s){return this.scaleDown(e,t,s),Se(this._scaleBehavior)},scaleYoyo(e,t,s,l,C){if(Jf(e)){var S=e;e=S.duration,t=S.peakValue,s=S.repeat,l=S.orientation,C=S.ease}var r=this._scaleBehavior===void 0;return this._scaleBehavior=bB(this,e,t,s,l,C,this._scaleBehavior),r&&Qf(this,this._scaleBehavior),this._scaleBehavior.completeEventName="scaleyoyo.complete",this},scaleYoyoPromise(e,t,s,l,C){return this.scaleYoyo(e,t,s,l,C),Se(this._scaleBehavior)}},GB=Phaser.Utils.Objects.GetValue,Ty=Phaser.Utils.Objects.GetAdvancedValue,NB=Phaser.Math.Linear;let _v=class extends xr{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(GB(t,"mode",0)),this.setAlphaRange(Ty(t,"start",this.parent.alpha),Ty(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=zB[t]),this.mode=t,this}setAlphaRange(t,s){return this.alphaStart=t,this.alphaEnd=s,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return t.setAlpha(this.alphaStart),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateGameObject(t,s){var l=s.t;s.isOddIteration&&(l=1-l),t.alpha=NB(this.alphaStart,this.alphaEnd,l)}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}};const zB={stop:0,destroy:1,yoyo:2},kB=Phaser.Utils.Objects.IsPlainObject;var vd=function(e,t,s,l){var C,S;kB(s)?(C=s.start,S=s.end):S=s,C===void 0&&(C=0),S===void 0&&(S=1);var r={mode:0,start:C,end:S,duration:t};return l===void 0?l=new _v(e,r):l.resetFromJSON(r),l.restart(),l},pd=function(e,t,s,l){s instanceof _v&&(l=s,s=void 0),s===void 0&&(s=!0);var C={mode:s?1:0,end:0,duration:t};return l===void 0?l=new _v(e,C):l.resetFromJSON(C),l.restart(),l};const Sy=Phaser.Utils.Objects.IsPlainObject;var Ey=function(e,t){t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)}),t.on("update",function(){var s=Th.getParentSizer(e);s&&s.resetChildAlphaState(e)})};const VB={fadeIn(e,t){if(Sy(e)){var s=e;e=s.duration,t=s.alpha}var l=this._fade===void 0;return this._fade=vd(this,e,t,this._fade),l&&Ey(this,this._fade),this._fade.completeEventName="fadein.complete",this},fadeInPromise(e,t){return this.fadeIn(e,t),Se(this._fade)},fadeOutDestroy(e,t){if(Sy(e)){var s=e;e=s.duration,t=s.destroy}var l=this._fade===void 0;return this._fade=pd(this,e,t,this._fade),l&&Ey(this,this._fade),this._fade.completeEventName="fadeout.complete",this},fadeOutDestroyPromise(e,t){return this.fadeOutDestroy(e,t),Se(this._fade)},fadeOut(e){return this.fadeOutDestroy(e,!1),this},fadeOutPromise(e){return this.fadeOut(e),Se(this._fade)}},UB=Phaser.Utils.Objects.GetValue,kr=Phaser.Utils.Objects.GetAdvancedValue,Py=Phaser.Math.Linear;class Du extends xr{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){if(super.resetFromJSON(t),this.setMode(UB(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var s=kr(t,"x",void 0),l=kr(t,"y",void 0);this.setTargetPosition(s,l)}else this.setTargetPosition(t);return this}setMode(t){return typeof t=="string"&&(t=XB[t]),this.mode=t,this}setTargetPosition(t,s){if(typeof t=="number"||typeof s=="number")this.startX=this.parent.x,this.startY=this.parent.y,this.endX=t,this.endY=s;else{var l=t;this.startX=kr(l,"startX",void 0),this.startY=kr(l,"startY",void 0),this.endX=kr(l,"endX",void 0),this.endY=kr(l,"endY",void 0)}return this.hasMoveX=this.startX!==void 0&&this.endX!==void 0,this.hasMoveY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.hasMoveX&&(t.x=this.startX),this.hasMoveY&&(t.y=this.startY),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateGameObject(t,s){var l=s.t;s.isOddIteration&&(l=1-l),l=this.easeFn(l),this.hasMoveX&&(t.x=Py(this.startX,this.endX,l)),this.hasMoveY&&(t.y=Py(this.startY,this.endY,l))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const XB={stop:0,destroy:1,yoyo:2};var Iu=function(e,t){if(typeof e=="number")return e;var s=e[0],l=parseFloat(e.substr(2));switch(s){case"+":return t+l;case"-":return t-l;case"*":return t*l;case"/":return t/l}},d2=function(e,t,s,l,C,S,r){S instanceof Du&&(r=S,S=void 0),S===void 0&&(S=!1);var T={};return T.mode=S?1:0,s!==void 0&&(T.startX=e.x,T.endX=Iu(s,e.x)),l!==void 0&&(T.startY=e.y,T.endY=Iu(l,e.y)),T.duration=t,T.ease=C===void 0?"Linear":C,r===void 0?r=new Du(e,T):r.resetFromJSON(T),r.restart(),r},f2=function(e,t,s,l,C,S,r){S instanceof Du&&(r=S,S=void 0),S===void 0&&(S=!1);var T={};return T.mode=S?1:0,s!==void 0&&(T.startX=Iu(s,e.x),T.endX=e.x),l!==void 0&&(T.startY=Iu(l,e.y),T.endY=e.y),T.duration=t,T.ease=C===void 0?"Linear":C,r===void 0?r=new Du(e,T):r.resetFromJSON(T),r.restart(),r};const My=Phaser.Utils.Objects.IsPlainObject,wy=Phaser.Math.Distance.Between;var Ry=function(e,t){t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)}),t.on("update",function(){var s=Th.getParentSizer(e);s&&s.resetChildPositionState(e)})};const YB={moveFrom(e,t,s,l,C){if(My(e)){var S=e;t=S.x,s=S.y,S.hasOwnProperty("speed")?e=wy(t,s,this.x,this.y)*1e3/S.speed:e=S.duration,l=S.ease}var r=this._easeMove===void 0;return this._easeMove=f2(this,e,t,s,l,C,this._easeMove),r&&Ry(this,this._easeMove),this._easeMove.completeEventName="movefrom.complete",this},moveFromPromise(e,t,s,l,C){return this.moveFrom(e,t,s,l,C),Se(this._easeMove)},moveFromDestroy(e,t,s,l){return this.moveFrom(e,t,s,l,!0),this},moveFromDestroyPromise(e,t,s,l){return this.moveFromDestroy(e,t,s,l),Se(this._easeMove)},moveTo(e,t,s,l,C){if(My(e)){var S=e;t=S.x,s=S.y,S.hasOwnProperty("speed")?e=wy(t,s,this.x,this.y)*1e3/S.speed:e=S.duration,l=S.ease}var r=this._easeMove===void 0;return this._easeMove=d2(this,e,t,s,l,C,this._easeMove),r&&Ry(this,this._easeMove),this._easeMove.completeEventName="moveto.complete",this},moveToPromise(e,t,s,l,C){return this.moveTo(e,t,s,l,C),Se(this._easeMove)},moveToDestroy(e,t,s,l){return this.moveTo(e,t,s,l,!0),this},moveToDestroyPromise(e,t,s,l){return this.moveToDestroy(e,t,s,l,!0),Se(this._easeMove)},moveStop(e){return this._easeMove?(this._easeMove.stop(e),this):this}},ci=Phaser.Utils.Objects.GetValue;class $g extends ad{constructor(t,s){super(t,s),this.timer=new PE,this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.timer.resetFromJSON(ci(t,"timer")),this.setEnable(ci(t,"enable",!0)),this.setMode(ci(t,"mode",1)),this.isRunning=ci(t,"isRunning",!1),this.setMagnitudeMode(ci(t,"magnitudeMode",1)),this.setAxisMode(ci(t,"axis",0)),this.setDuration(ci(t,"duration",500)),this.setMagnitude(ci(t,"magnitude",10)),this.ox=ci(t,"ox",void 0),this.oy=ci(t,"oy",void 0),this}toJSON(){return{timer:this.timer.toJSON(),enable:this.enable,mode:this.mode,isRunning:this.isRunning,magnitudeMode,duration:this.duration,magnitude:this.magnitude,ox:this.ox,oy:this.oy}}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}startTicking(){super.startTicking(),this.mode===0?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("prestep",this.backToOrigin,this)):this.scene.sys.events.on("preupdate",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&(this.mode===0?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("prestep",this.backToOrigin,this)):this.scene.sys.events.off("preupdate",this.update,this))}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setMode(t){return typeof t=="string"&&(t=WB[t]),this.mode=t,this}setMagnitudeMode(t){return typeof t=="string"&&(t=$B[t]),this.magnitudeMode=t,this}setAxisMode(t){return typeof t=="string"&&(t=HB[t]),this.axisMode=t,this}setDuration(t){return this.duration=t,this}setMagnitude(t){return this.magnitude=t,this}start(t,s){if(typeof t!="number"){var l=t;s=ci(l,"magnitude",void 0),t=ci(l,"duration",void 0)}return s!==void 0&&this.setMagnitude(s),t!==void 0&&this.setDuration(t),this.timer.setDuration(this.duration).start(),super.start(),this}shake(t,s){return this.start(t,s),this}update(t,s){if(!this.isRunning||!this.enable)return this;var l=this.parent;if(!l.active)return this;if(this.timer.update(t,s),this.timer.isDone)this.backToOrigin(),this.complete();else{this.ox===void 0&&(this.ox=l.x,this.oy=l.y);var C=this.magnitude;this.magnitudeMode===1&&(C*=1-this.timer.t);var S=Math.random()*Math.PI*2,r=this.ox+Math.cos(S)*C,T=this.oy+Math.sin(S)*C;switch(this.axisMode){case 1:l.x=r;break;case 2:l.y=T;break;default:l.x=r,l.y=T;break}}return this}backToOrigin(){if(!this.isRunning||!this.enable)return this;if(this.ox===void 0)return this;var t=this.parent;switch(this.axisMode){case 1:t.x=this.ox;break;case 2:t.y=this.oy;break;default:t.x=this.ox,t.y=this.oy;break}return this.ox=void 0,this.oy=void 0,this}}const WB={effect:0,behavior:1},HB={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},$B={constant:0,decay:1},KB=Phaser.Utils.Objects.IsPlainObject;var jB=function(e,t){t.on("complete",function(){e.emit("shake.complete",e)})};const ZB={shake(e,t,s){if(KB(e)){var l=e;e=l.duration,t=l.magnitude,s=l.magnitudeMode}return this._shake===void 0&&(this._shake=new $g(this,{mode:0,magnitudeMode:1}),jB(this,this._shake)),e!==void 0&&this._shake.setDuration(e),t!==void 0&&this._shake.setMagnitude(t),s!==void 0&&this._shake.setMagnitudeMode(s),this._shake.shake(),this},shakePromise(e,t){return this.shake(e,t),Se(this._shake)}},Oy=Phaser.Utils.Objects.IsPlainObject;class JB extends ge{constructor(t,s){super(t,s),this.parent.setDataEnabled(),this.easeTasks={}}complete(t){this.emit(`complete-${t}`,this.parent,this),this.emit("complete",t,this.parent,this)}getEaseTask(t){var s=this.easeTasks[t];return s===void 0&&(s=new Cr(this.parent),this.easeTasks[t]=s,s.setTarget(this.parent.data.values).on("complete",function(){this.complete(t)},this)),s}easeTo(t,s,l,C){if(Oy(t)){var S=t;t=S.key,s=S.value,l=S.duration,C=S.ease;var r=S.speed;l===void 0&&r!==void 0&&(l=Math.abs(s-this.parent.data.values[t])/r*1e3)}l===void 0&&(l=1e3),C===void 0&&(C="Linear");var T=this.getEaseTask(t);return T.restart({key:t,to:s,duration:l,ease:C}),this}easeFrom(t,s,l,C){if(Oy(t)){var S=t;t=S.key,s=S.value,l=S.duration,C=S.ease;var r=S.speed;l===void 0&&r!==void 0&&(l=Math.abs(s-this.parent.data.values[t])/r*1e3)}l===void 0&&(l=1e3),C===void 0&&(C="Linear");var T=this.getEaseTask(t);return T.restart({key:t,from:s,duration:l,ease:C}),this}stopEase(t,s){s===void 0&&(s=!0);var l=this.easeTasks[t];return l&&l.stop(s),this}stopAll(t){t===void 0&&(t=!0);for(var s in this.easeTasks)this.stopEase(s,t);return this}}var QB=function(e,t){t.on("complete",function(s){e.emit(`easedata.${s}.complete`,e),e.emit("easedata.complete",s,e)})};const qB={easeDataTo(e,t,s,l){return this._easeData||(this._easeData=new JB(this),QB(this,this._easeData)),this._easeData.easeTo(e,t,s,l),this},easeDataToPromise(e,t,s,l){return this.easeDataTo(e,t,s,l),hd(this._easeData,`complete-${e}`)},stopEaseData(e,t){return this._easeData?(this._easeData.stopEase(e,t),this):this},stopAllEaseData(e){return this._easeData?(this._easeData.stopAll(e),this):this}};var en=function(e){c2(e,!1)},sn=function(e){c2(e,!0)},Kg=function(e){if(!e)return!1;var t=cd(e);return!t.hidden},c2=function(e,t){if(e){var s=cd(e);s.hidden=t;var l=Ri(e);l?l.setChildVisible(e,!t):e.setVisible(!t)}};const _B={show(e){return e===void 0&&(e=this),en(e),this},hide(e){return e===void 0&&(e=this),sn(e),this},isShow(e){return e===void 0&&(e=this),Kg(e)}},tb=["next","exit","enter"];let v2=class{constructor(t){var s=It(t,"states",void 0);s&&this.addStates(s);var l=It(t,"extend",void 0);if(l)for(var C in l)(!this.hasOwnProperty(C)||this[C]===void 0)&&(this[C]=l[C]);var S=It(t,"eventEmitter",void 0),r=It(t,"EventEmitterClass",void 0);this.setEventEmitter(S,r),this._stateLock=!1,this.resetFromJSON(t)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(t){this.setEnable(It(t,"enable",!0)),this.start(It(t,"start",void 0));var s=It(t,"init",void 0);return s&&s.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}set state(t){if(!(!this.enable||this._stateLock)&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),this._prevState!=null){var s="exit_"+this._prevState,l=this[s];l&&l.call(this),this.emit(s,this)}if(this._stateLock=!1,this._state!=null){var C="enter_"+this._state,S=this[C];S&&S.call(this),this.emit(C,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return t!=null&&(this.state=t),this}next(){var t,s=this["next_"+this.state];return s&&(typeof s=="string"?t=s:t=s.call(this)),this.goto(t),this}get stateProperties(){return tb}addState(t,s){typeof t!="string"&&(s=t,t=s.name);for(var l=this.stateProperties,C=0,S=l.length;C<S;C++){var r=l[C],T=s[r];T&&(this[`${r}_${t}`]=T)}return this}addStates(t){if(Array.isArray(t))for(var s=0,l=t.length;s<l;s++)this.addState(t[s]);else for(var C in t)this.addState(C,t[C]);return this}runMethod(t,s,l,C,S,r){var T=this[t+"_"+this.state];if(T){var i=arguments.length;switch(i){case 1:return T.call(this);case 2:return T.call(this,s);case 3:return T.call(this,s,l);case 4:return T.call(this,s,l,C);case 5:return T.call(this,s,l,C,S);case 6:return T.call(this,s,l,C,S,r)}for(var d=new Array(i-1),x=1;x<i;x++)d[x-1]=arguments[x];return T.apply(this,d)}}};Object.assign(v2.prototype,Na);var qf=function(e,t,s,l,C){C===void 0&&(C=!1);var S=e._events[t];if(!S)return!1;for(var r=0,T=S.length;r<T;r++){var i=S[r];if(i.fn===s&&i.context===l&&i.once===C)return!0}return!1};const eb=["next","exit","enter","update","preupdate","postupdate"];class ks extends v2{shutdown(){this.stopUpdate(),this.stopPreUpdate(),this.stopPostUpdate(),this._scene=void 0,super.shutdown()}resetFromJSON(t){return super.resetFromJSON(t),this._scene=It(t,"scene",void 0),this}get stateProperties(){return eb}update(t,s){this.runMethod("update",t,s)}preupdate(t,s){this.runMethod("preupdate",t,s)}postupdate(t,s){this.runMethod("postupdate",t,s)}startUpdate(t){t||(t=this._scene);var s=t.sys.events;return qf(s,"update",this.update,this)?this:(this._scene=t,s.on("update",this.update,this),this)}stopUpdate(){return this._scene?(this._scene.sys.events.off("update",this.update,this),this):this}startPreUpdate(t){t||(t=this._scene);var s=t.sys.events;return qf(s,"preupdate",this.preupdate,this)?this:(this._scene=t,s.on("preupdate",this.preupdate,this),this)}stopPreUpdate(){return this._scene?(this._scene.sys.events.off("preupdate",this.preupdate,this),this):this}startPostUpdate(t){t||(t=this._scene);var s=t.sys.events;return qf(s,"postupdate",this.postupdate,this)?this:(this._scene=t,s.on("postupdate",this.postupdate,this),this)}stopPostUpdate(){return this._scene?(this._scene.sys.events.off("postupdate",this.postupdate,this),this):this}}let ib=class extends ks{constructor(t,s){super(s),this.parent=t;var l=s.initState||"IDLE";this.start(l)}init(){this.start("IDLE")}next_IDLE(){return"TRANS_OPNE"}next_TRANS_OPNE(){return"OPEN"}enter_TRANS_OPNE(){var t=this.parent;if(t.transitInTime>0){var s=t.runTransitionInCallback();t.delayCall(s,this.next,this)}else this.next()}exit_TRANS_OPNE(){var t=this.parent;t.removeDelayCall()}next_OPEN(){return"TRANS_CLOSE"}enter_OPEN(){var t=this.parent;t.onOpen()}exit_OPEN(){var t=this.parent;t.removeDelayCall()}next_TRANS_CLOSE(){return"CLOSE"}enter_TRANS_CLOSE(){var t=this.parent;if(t.transitOutTime>0){var s=t.runTransitionOutCallback();t.delayCall(s,this.next,this)}else this.next()}exit_TRANS_CLOSE(){var t=this.parent;t.removeDelayCall()}next_CLOSE(){return"TRANS_OPNE"}enter_CLOSE(){var t=this.parent;t.onClose()}exit_CLOSE(){}canOpen(){return this.state==="IDLE"||this.state==="CLOSE"}canClose(){return this.state==="IDLE"||this.state==="OPEN"}};var sb=function(e,t,s,l,C){var S=ph(e),r=S.time.delayedCall(t,function(){S.game.events.once("poststep",function(){s.call(l,C)})});return r};const nb={delayCall(e,t,s){return this.delayCallTimer=sb(this,e,t,s),this},removeDelayCall(){return this.delayCallTimer&&(this.delayCallTimer.remove(!1),this.delayCallTimer=void 0),this}},rb={setTransitInTime(e){return this.transitInTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInCallback(e){return e||(e=Fe),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=Fe),this.transitOutCallback=e,this}},ab={runTransitionInCallback(){return this.transitInCallback(this.parent,this.transitInTime),this.transitInTime},onOpen(){},requestOpen(e,t){if(!this._state.canOpen())return this;this.openEventData=arguments.length>0?e:this.parent;var s=this.transitInTime;return t!==void 0&&(this.transitInTime=t),this._state.goto("TRANS_OPNE"),this.transitInTime=s,this}},ob={runTransitionOutCallback(){return this.transitOutCallback(this.parent,this.transitOutTime),this.transitOutTime},onClose(){this.oneShotMode&&this.parent.destroy()},requestClose(e,t){if(!this._state.canClose)return this;this.closeEventData=arguments.length>0?e:this.parent;var s=this.transitOutTime;return t!==void 0&&(this.transitOutTime=t),this._state.goto("TRANS_CLOSE"),this.transitOutTime=s,this}};var p2={};Object.assign(p2,nb,rb,ab,ob);const Vr=Phaser.Utils.Objects.GetValue;class gd extends ge{constructor(t,s){super(t,s),this.setTransitInTime(Vr(s,"duration.in",200)),this.setTransitOutTime(Vr(s,"duration.out",200)),this.setTransitInCallback(Vr(s,"transitIn")),this.setTransitOutCallback(Vr(s,"transitOut")),this.oneShotMode=Vr(s,"destroy",!1),this.delayCallTimer=void 0,this._state=new ib(this,{eventEmitter:!1,initState:Vr(s,"initState","IDLE")}),this.openEventData=void 0,this.closeEventData=void 0}get state(){return this._state.state}shutdown(t){this.isShutdown||(this.transitInCallback=void 0,this.transitOutCallback=void 0,this.openEventData=void 0,this.closeEventData=void 0,this.removeDelayCall(),super.shutdown(t))}}Object.assign(gd.prototype,p2);const hb=Phaser.GameObjects.Rectangle;class jg extends hb{constructor(t,s,l){super(t,0,0,2,2,s,1),this.setAlpha(l),this.setScrollFactor(0),this.boot()}boot(){var t=this.scene;t.sys.events.on("prerender",this.resize,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.sys.events.off("prerender",this.resize,this),super.destroy(t))}get tint(){return this.fillColor}set tint(t){this.setFillStyle(t,this.fillAlpha)}resize(){var t=this.scene,s=t.sys.scale.gameSize,l=t.sys.cameras.main,C=s.width,S=s.height,r=1/l.zoom,T=C/2,i=S/2,d=C*r,x=S*r;(this.x!==T||this.y!==i)&&this.setPosition(T,i),(this.width!==d||this.height!==x)&&this.setSize(d,x).setOrigin(.5)}}const _f=Phaser.Utils.Objects.GetValue;class md extends ge{constructor(t,s){super(t,{eventEmitter:!1}),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setHitAreaMode(_f(t,"hitAreaMode",0)),this.setEnable(_f(t,"enable",!0)),this.setStopMode(_f(t,"stopAllLevels",!0)),this}boot(){this.parent.on("pointerdown",function(t,s,l,C){this.stopAllLevels&&C.stopPropagation()},this).on("pointerup",function(t,s,l,C){this.stopAllLevels&&C.stopPropagation()},this).on("pointermove",function(t,s,l,C){this.stopAllLevels&&C.stopPropagation()},this).on("pointerover",function(t,s,l,C){this.stopAllLevels&&C.stopPropagation()},this).on("pointerout",function(t,s){this.stopAllLevels&&s.stopPropagation()},this)}setHitAreaMode(t){typeof t=="string"&&(t=lb[t]);var s=this.parent;return s.input&&s.removeInteractive(),t===0?s.setInteractive():s.setInteractive({hitArea:{},hitAreaCallback:function(){return!0}}),this}setEnable(t){return t===void 0&&(t=!0),t?this.parent.setInteractive():this.parent.disableInteractive(),this.enable=t,this}setStopMode(t){return t===void 0&&(t=!0),this.stopAllLevels=t,this}toggleEnable(){return this.setEnable(!this.enable),this}}var lb={default:0,fullWindow:1};const Ay=Phaser.Utils.Objects.GetValue;class Zg extends jg{constructor(t,s){var l=Ay(s,"color",0),C=Ay(s,"alpha",.8);super(t,l,C),this.touchEventStop=new md(this,{hitAreaMode:1})}}var ub=function(e,t){var s=e.scene,l=new Zg(s,t);return s.add.existing(l),e.isRexContainerLite?(e.moveDepthBelow(l),e.pin(l,{syncPosition:!1,syncRotation:!1,syncScale:!1,syncAlpha:!1,syncScrollFactor:!1})):s.children.moveBelow(l,e),l};const vl={popUp(e,t){e._modalScaleSave!==void 0?(e.scaleX=e._modalScaleSave,e.scaleY=e._modalScaleSave):e._modalScaleSave=e.scaleX,Wg(e,t)},scaleDown(e,t){u2(e,t,void 0,void 0,!1)},fadeIn(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,vd(e,t)},fadeOut(e,t){pd(e,t,!1)}};var db=function(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,vd(e,t,e.alpha)},fb=function(e,t){pd(e,t,!1)},ah=function(e,t,s,l,C){if(!e||l&&!l(e,t,s))return!1;var S=pg(e,!0);return!(!S.contains(t,s)||C&&!C(e,t,s))};const Ji=Phaser.Utils.Objects.GetValue;let cb=class extends gd{constructor(t,s){s===void 0&&(s={}),s.transitIn==null&&(s.transitIn=$s.popUp),s.transitOut==null&&(s.transitOut=$s.scaleDown),s.destroy=Ji(s,"destroy",!0),super(t,s);var l=Ji(s,"cover");this.cover=l!==!1?ub(t,l):void 0,this.cover&&(this.setCoverTransitInCallback(Ji(l,"transitIn",db)),this.setCoverTransitOutCallback(Ji(l,"transitOut",fb)));var C=Ji(s,"touchOutsideClose",!1),S=Ji(s,"duration.hold",-1),r=Ji(s,"timeOutClose",S>=0),T=Ji(s,"anyTouchClose",!1),i=Ji(s,"manualClose",!1);i&&(C=!1,T=!1,r=!1),T&&(C=!1),r?this.setDisplayTime(S):this.setDisplayTime(-1),T?this.once("open",this.anyTouchClose,this):C&&this.once("open",this.touchOutsideClose,this),Ji(s,"openOnStart",!0)&&this.delayCall(0,this.requestOpen,this)}shutdown(t){this.isShutdown||(this.cover||this.scene.input.off("pointerup",this.touchCloseCallback,this),this.cover&&!t&&(this.cover.destroy(),this.cover=void 0),super.shutdown(t))}touchOutsideClose(){return this.cover?this.cover.on("pointerup",this.touchCloseCallback,this):this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.cover?this.cover.once("pointerup",this.touchCloseCallback,this):this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&ah(this.parent,t.worldX,t.worldY)||this.requestClose()}runTransitionInCallback(){var t=super.runTransitionInCallback(),s=this.cover;return s&&this.coverTransitInCallback&&this.coverTransitInCallback(s,t),t}runTransitionOutCallback(){var t=super.runTransitionOutCallback(),s=this.cover;return s&&this.coverTransitOutCallback&&this.coverTransitOutCallback(s,t),t}onOpen(){var t=this.displayTime;t>=0&&this.delayCall(t,this.requestClose,this),this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.closeEventData),super.onClose()}setDisplayTime(t){return this.displayTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=$s[t]),t){case $s.popUp:t=vl.popUp;break;case $s.fadeIn:t=vl.fadeIn;break}return super.setTransitInCallback(t),this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=$s[t]),t){case $s.scaleDown:t=vl.scaleDown;break;case $s.fadeOut:t=vl.fadeOut;break}return super.setTransitOutCallback(t),this}setCoverTransitInCallback(t){return this.coverTransitInCallback=t,this}setCoverTransitOutCallback(t){return this.coverTransitOutCallback=t,this}};const $s={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var Jg=function(e,t){var s=new cb(e,t);return s.on("open",function(){e.emit("modal.open",s)}),s.on("close",function(l){e.emit("modal.close",l,s)}),e.on("modal.requestClose",s.requestClose,s),s},vb=function(e,t){var s=Jg(e,t);return new Promise(function(l,C){s.once("close",function(S){l(S)})})},g2=function(e,t){e.emit("modal.requestClose",t)},Cn=function(e){return e&&typeof e=="function"};const Qg={modal(e,t){return Cn(e)&&(t=e,e=void 0),this._modalBehavior===void 0&&(this.onCreateModalBehavior&&this.onCreateModalBehavior(this,e),this._modalBehavior=Jg(this,e)),t&&this._modalBehavior.once("close",t),this._modalBehavior.requestOpen(),this},modalPromise(e){var t=this;return new Promise(function(s,l){t.modal(e,s)})},modalClose(e){return g2(this,e),this}};var xd=function(e,t,s,l){if(t)return ah(e,t.worldX,t.worldY,s,l);for(var C=e.scene.input.manager,S=C.pointersTotal,r=C.pointers,T=0;T<S;T++)if(t=r[T],ah(e,t.worldX,t.worldY,s,l))return!0;return!1},pb=function(e,t){return(On(e)||typeof e=="string")&&(t=e,e=void 0),t===void 0?t=this:typeof t=="string"&&(t=this.getElement(t)),xd(t,e)},Hi=function(e){return Object.prototype.toString.call(e)==="[object Array]"},tp=function(e,t,s,l,C){return ah(e,t,s,gb(l),mb(C))},Ly=function(e){var t=e.rexSizer&&e.rexSizer.hidden;return!t},gb=function(e){return e?function(t,s,l){return Ly(t)?(e(t,s,l),!0):!1}:Ly},mb=function(e){return e},xb=function(e,t,s,l,C){if(Cn(s)||(C=s,s=void 0,l=void 0),C===void 0&&(this.sizerChildren?C=this.sizerChildren:C=this.children),Hi(C)){for(var S,r=0,T=C.length;r<T;r++)if(S=C[r],tp(S,e,t,s,l))return S}else{var S;for(var i in C)if(S=C[i],tp(S,e,t,s,l))return S}return null},$i=function(e,t,s){!e||t===void 0&&s===void 0||(e.resize||e.setSize?(t===void 0&&(t=e.width),s===void 0&&(s=e.height),e.resize?e.resize(t,s):e.setSize(t,s)):(t!==void 0&&(e.displayWidth=t),s!==void 0&&(e.displayHeight=s)))},yb=function(e,t){return t===void 0?t={}:t===!0&&(t=Cb),t.x=e.x,t.y=e.y,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.width=e.width,t.height=e.height,t.displayWidth=e.displayWidth,t.displayHeight=e.displayHeight,t},Cb={},Eh=function(e){this.sizerEventsEnable&&(yb(e,this.getChildPrevState(e)),this.layoutedChildren.push(e))},Ph=function(e,t,s,l,C,S,r,T){xh(e,t,s,l,C,S),r!==void 0&&(e.x+=r),T!==void 0&&(e.y+=T),this.resetChildPositionState(e),this.sizerEventsEnable&&e.emit("sizer.postlayout",e,this)};const Tb=Phaser.Display.Align.CENTER;var Sb=function(){if(this.backgroundChildren!==void 0)for(var e=this.backgroundChildren,t=this.left,s=this.top,l=this.width,C=this.height,S,r,T,i,d,x,f,u=0,o=e.length;u<o;u++)S=e[u],r=S.rexSizer,!r.hidden&&(T=r.padding,Eh.call(this,S),i=t+T.left,d=s+T.top,x=l-T.left-T.right,f=C-T.top-T.bottom,$i(S,x,f),Ph.call(this,S,i,d,x,f,Tb))},Eb=function(e,t){var s=typeof e;if(s==="string"){var l=e;if(e=this.getElement(l),!e)return console.error(`Can get element '${l}'`),this}else(e===void 0||s!="object")&&(t=e,e=this);return t===void 0&&(t=!0),e.input&&e.input._dragTopmostSizer?e.input.draggable=t:t&&(e.setInteractive(),e.scene.input.setDraggable(e),e.on("drag",function(C,S,r){var T=this.getTopmostSizer();T.x+=S-e.x,T.y+=r-e.y,T.emit("sizer.drag",C,S,r)},this).on("dragstart",function(C,S,r){var T=this.getTopmostSizer();T.emit("sizer.dragstart",C,S,r)},this).on("dragend",function(C,S,r,T){var i=this.getTopmostSizer();i.emit("sizer.dragend",C,S,r,T)},this),e.input._dragTopmostSizer=!0),this};const m2={onClick(e,t,s,l){return e?(typeof e=="function"&&(l=s,s=t,t=e,e=this),e._click===void 0&&(e._click=new Rn(e,l)),e._click.on("click",t,s),this):this},offClick(e,t,s){return typeof e=="function"&&(s=t,t=e,e=this),e._click===void 0?this:(e._click.off("click",t,s),this)},enableClick(e,t){return e&&typeof e!="object"&&(t=e,e=this),e._click===void 0?this:(e._click.setEnable(t),this)},disableClick(e){return e&&typeof e!="object"&&(e=this),e._click===void 0?this:(e._click.setEnable(!1),this)}},pl=Phaser.Utils.Objects.GetValue;class qg extends ge{constructor(t,s){super(t,s),this._enable=void 0;var l=pl(s,"inputConfig",void 0);l&&t.setInteractive(l),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setEnable(pl(t,"enable",!0)),this.setMode(pl(t,"mode",1)),this.setClickInterval(pl(t,"clickInterval",100)),this}boot(){var t=this.parent.scene;t.input.on("pointerdown",this.onPress,this),t.input.on("pointerup",this.onRelease,this)}shutdown(t){if(!this.isShutdown){var s=this.parent.scene;s.input.off("pointerdown",this.onPress,this),s.input.off("pointerup",this.onRelease,this),super.shutdown(t)}}get enable(){return this._enable}set enable(t){if(this._enable!==t){this._enable=t;var s=t?"enable":"disable";this.emit(s,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=Pb[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}isPointerInside(t){var s=this.parent,l=s.input?yg:xd;return l(s,t)}onPress(t){if(this.mode===0){if(!this.parent.willRender(t.camera))return;this.isPointerInside(t)||this.click(t.downTime,t)}}onRelease(t){if(this.mode===1){if(!this.parent.willRender(t.camera))return;this.isPointerInside(t)||this.click(t.upTime,t)}}click(t,s){if(!this.enable)return this;if(t===void 0)return this.emit("clickoutside",this,this.parent,s),this;var l=this.lastClickTime;return l!==void 0&&t-l<=this.clickInterval?this:(this.lastClickTime=t,this.emit("clickoutside",this,this.parent,s),this)}}const Pb={press:0,pointerdown:0,release:1,pointerup:1},Mb={onClickOutside(e,t,s,l){return e?(typeof e=="function"&&(l=s,s=t,t=e,e=this),e._clickOutside===void 0&&(e._clickOutside=new qg(e,l)),e._clickOutside.on("clickoutside",t,s),this):this},offClickOutside(e,t,s){return typeof e=="function"&&(s=t,t=e,e=this),e._clickOutside===void 0?this:(e._clickOutside.off("clickoutside",t,s),this)},enableClickOutside(e,t){return e&&typeof e!="object"&&(t=e,e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(t),this)},disableClickOutside(e){return e&&typeof e!="object"&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(!1),this)}};class wb extends ks{constructor(){super({eventEmitter:!1}),this.goto("IDLE")}setCooldownTime(t){return this.cooldownTime=t,this.cooldownMode=t!==void 0,this}request(){return this.runMethod("request")}update_IDLE(){this.compensationTime=0}request_IDLE(){return this.next(),!0}next_IDLE(){if(this.cooldownMode)return"COOLDOWN"}enter_COOLDOWN(){this.remainderTime=this.cooldownTime+this.compensationTime}update_COOLDOWN(t,s){this.remainderTime-=s,this.remainderTime<0&&(this.compensationTime=this.cooldownTime>s?-this.remainderTime:0,this.goto("IDLE"))}request_COOLDOWN(){return!1}}const tc=Phaser.Utils.Objects.GetValue;class Da extends ge{constructor(t,s){super(t,s),this._enable=void 0,this.cooldown=new wb,this.parent.setInteractive(tc(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.prevIsInTouch=!1,this.isInTouching=!1,this.setEnable(tc(t,"enable",!0)),this.setCooldown(tc(t,"cooldown",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPointIn,this),t.on("pointerover",this.onPointIn,this),t.on("pointerup",this.onPointOut,this),t.on("pointerout",this.onPointOut,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||(this.prevIsInTouch=!1,this.isInTouching=!1,this.pointer=void 0),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get cooldownTime(){return this.cooldown.cooldownTime}set cooldownTime(t){this.cooldown.setCooldownTime(t)}setCooldown(t){return this.cooldownTime=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointIn(t,s,l){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.isInTouching=!0)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0,this.isInTouching=!1)}preupdate(t,s){this.cooldown.update(t,s),!this.prevIsInTouch&&this.isInTouching&&this.emit("touchstart",this,this.parent),this.isInTouching&&this.cooldown.request()&&this.emit("intouch",this,this.parent,this.pointer),this.prevIsInTouch&&!this.isInTouching&&this.emit("touchend",this,this.parent),this.prevIsInTouch=this.isInTouching}}const Rb={isPointerInBounds(e){return e===void 0?e=this:typeof e=="string"&&(e=this.getElement(e)),e?xd(e):!1},onTouching(e,t,s,l){return e?(typeof e=="function"&&(l=s,s=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new Da(e,l)),e._inTouching.on("intouch",t,s),this):this},offTouching(e,t,s){return typeof e=="function"&&(s=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("intouch",t,s),this)},onTouchingEnd(e,t,s,l){return e?(typeof e=="function"&&(l=s,s=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new Da(e,l)),e._inTouching.on("touchend",t,s),this):this},offTouchingEnd(e,t,s){return typeof e=="function"&&(s=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("touchend",t,s),this)},enableTouching(e,t){return e&&typeof e!="object"&&(t=e,e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(t),this)},disableTouching(e){return e&&typeof e!="object"&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(!1),this)}};var x2=function(e,t,s){for(var l,C=0,S=e.length;C<S;C++)if(l=e[C],!!tp(l,t,s))return l.pointToChild(t,s);return null},cs=function(e,t,s,l,C,S,r){var T;C===void 0?T=l:T=x2(s,l,C),T&&e.emit(t,T,S,r)};const Ob=Phaser.Utils.Objects.GetValue;var Ab=function(e){var t=Ob(e,"down",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerdown",Lb,this))},Lb=function(e,t,s,l){var C=this._childrenInteractive;cs(C.eventEmitter,`${C.eventNamePrefix}down`,C.targetSizers,e.worldX,e.worldY,e,l)};const Fb=Phaser.Utils.Objects.GetValue;var Db=function(e){var t=Fb(e,"up",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerup",Ib,this))},Ib=function(e,t,s,l){var C=this._childrenInteractive;cs(C.eventEmitter,`${C.eventNamePrefix}up`,C.targetSizers,e.worldX,e.worldY,e,l)};const Bb=Phaser.Utils.Objects.GetValue;var bb=function(e){var t=Bb(e,"over",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointermove",Fy,this).on("pointerover",Fy,this).on("pointerout",Gb,this))},Fy=function(e,t,s,l){var C=this._childrenInteractive,S=x2(C.targetSizers,e.worldX,e.worldY),r=C.lastOverChild;S&&r&&S===r||(C.lastOverChild=S,cs(C.eventEmitter,`${C.eventNamePrefix}out`,C.targetSizers,r,void 0,e,l),cs(C.eventEmitter,`${C.eventNamePrefix}over`,C.targetSizers,S,void 0,e,l))},Gb=function(e,t){var s=this._childrenInteractive,l=s.lastOverChild;s.lastOverChild=null,cs(s.eventEmitter,`${s.eventNamePrefix}out`,s.targetSizers,l,void 0,e,t)};const Nb=Phaser.Utils.Objects.GetValue;var zb=function(e){var t=Nb(e,"click",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("threshold")||(t.threshold=10);var s=this._childrenInteractive;this._click=new Rn(this,t),this._click.on("click",function(l,C,S,r){cs(s.eventEmitter,`${s.eventNamePrefix}click`,s.targetSizers,S.worldX,S.worldY,S,r)},this)}};const ec=Phaser.Utils.Objects.GetValue;class yd extends ad{constructor(t,s){var l=ph(t);l===t&&(t=void 0),super(l,s),this.gameObject=t,t&&t.setInteractive(ec(s,"inputConfig",void 0)),this._enable=void 0,this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setEnable(ec(t,"enable",!0)),this.setDetectBounds(),this.gameObject===void 0?this.setDetectBounds(ec(t,"bounds",void 0)):this.setDetectBounds(),this.tracerState=ic,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(t){this.scene&&(this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setDetectBounds(t){return this.bounds=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t,s){if(this.enable&&this.pointer===void 0){var l=this.bounds?this.bounds.contains(t.x,t.y):!0;l&&this.pointer!==t&&(this.pointer=t,this.lastPointer=t,this.movedState=!1,this.tracerState=Dy,this.gameObject===void 0&&(this.isTouchingAnyObject=s.length>0),this.onDragStart())}}onPointerUp(t){if(this.enable){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;s&&this.pointer===t&&(this.pointer=void 0,this.movedState=!1,this.tracerState=ic,this.onDragEnd())}}onPointerMove(t){if(this.enable&&t.isDown){var s=this.bounds?this.bounds.contains(t.x,t.y):!0,l=this.pointer===t;!l&&s||(l&&!s?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===Dy&&this.onDragEnd(),this.pointer=void 0,this.tracerState=ic,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,s){}postUpdate(t,s){}startTicking(){super.startTicking(),this.scene.sys.events.on("preupdate",this.preUpdate,this),this.scene.sys.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.sys.events.off("preupdate",this.preUpdate,this),this.scene.sys.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=kb,this}}const ic=0,Dy=1,kb="IDLE",Yn=Phaser.Utils.Objects.GetValue,Vb=Phaser.Math.Distance.Between;class Cd extends yd{constructor(t,s){super(t,s);var l=this,C={states:{IDLE:{enter:function(){l.stop(),l.tapsCount=0,l.x=0,l.y=0,l.worldX=0,l.worldY=0},exit:function(){var S=l.lastPointer;l.x=S.x,l.y=S.y,l.worldX=S.worldX,l.worldY=S.worldY}},BEGIN:{enter:function(){l.start(),l.tapsCount=0,l.emit("tappingstart",l,l.gameObject,l.lastPointer)}},RECOGNIZED:{enter:function(){l.start(),l.emit("tap",l,l.gameObject,l.lastPointer),l.emit(`${l.tapsCount}tap`,l,l.gameObject,l.lastPointer)}}},init:function(){this.state=Wn},eventEmitter:!1};this.setRecongizedStateObject(new ks(C))}resetFromJSON(t){super.resetFromJSON(t),this.setHoldTime(Yn(t,"time",250)),this.setTapInterval(Yn(t,"tapInterval",200)),this.setDragThreshold(Yn(t,"threshold",9)),this.setTapOffset(Yn(t,"tapOffset",10));var s=Yn(t,"taps",void 0);return s!==void 0?this.setTaps(s):(this.setMaxTaps(Yn(t,"maxTaps",void 0)),this.setMinTaps(Yn(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case Wn:this.state=Ur;break;case Ur:var t=this.lastPointer,s=Vb(t.upX,t.upY,t.x,t.y);s>this.tapOffset&&(this.state=Xr,this.state=Ur);break;case Xr:this.state=Ur;break}}onDragEnd(){this.state===Ur&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),this.maxTaps!==void 0&&this.tapsCount===this.maxTaps&&(this.state=Xr))}onDrag(){this.state!==Wn&&this.pointer.getDistance()>this.dragThreshold&&(this.state=Wn)}preUpdate(t,s){if(!(!this.isRunning||!this.enable)&&this.state===Ur){var l=this.lastPointer;if(l.isDown){var C=t-l.downTime;C>this.holdTime&&(this.state=Wn)}else{var S=t-l.upTime;S>this.tapInterval&&(this.minTaps===void 0||this.tapsCount>=this.minTaps?this.state=Xr:this.state=Wn)}}}postUpdate(t,s){!this.isRunning||!this.enable||this.state===Xr&&(this.state=Wn)}get isTapped(){return this.state===Xr}setHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,s){return s===void 0&&(s=t),this.setMinTaps(t).setMaxTaps(s),this}}const Wn="IDLE",Ur="BEGIN",Xr="RECOGNIZED",Iy=Phaser.Utils.Objects.GetValue;class Td extends yd{constructor(t,s){super(t,s);var l=this,C={states:{IDLE:{enter:function(){l.x=0,l.y=0,l.worldX=0,l.worldY=0},exit:function(){var S=l.lastPointer;l.x=S.x,l.y=S.y,l.worldX=S.worldX,l.worldY=S.worldY}},BEGIN:{enter:function(){l.start()},exit:function(){l.stop()}},RECOGNIZED:{enter:function(){l.emit("pressstart",l,l.gameObject,l.lastPointer)},exit:function(){l.emit("pressend",l,l.gameObject,l.lastPointer)}}},init:function(){this.state=gl},eventEmitter:!1};this.setRecongizedStateObject(new ks(C))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Iy(t,"threshold",9)),this.setHoldTime(Iy(t,"time",251)),this}onDragStart(){this.state=By,this.holdTime===0&&(this.state=sc)}onDragEnd(){this.state=gl}onDrag(){this.state!==gl&&this.pointer.getDistance()>this.dragThreshold&&(this.state=gl)}preUpdate(t,s){if(!(!this.isRunning||!this.enable)&&this.state===By){var l=t-this.pointer.downTime;l>=this.holdTime&&(this.state=sc)}}get isPressed(){return this.state===sc}setHoldTime(t){return this.holdTime=t,this}setDragThreshold(t){return this.dragThreshold=t,this}}const gl="IDLE",By="BEGIN",sc="RECOGNIZED",Ub=Phaser.Utils.Objects.GetValue;class y2 extends yd{constructor(t,s){super(t,s);var l=this,C={states:{IDLE:{},BEGIN:{enter:function(){var S=l.pointer;l.startX=S.x,l.startY=S.y,l.startWorldX=S.worldX,l.startWorldY=S.worldY}},RECOGNIZED:{enter:function(){l.emit("panstart",l,l.gameObject,l.lastPointer)},exit:function(){var S=l.lastPointer;l.endX=S.x,l.endY=S.y,l.endWorldX=S.worldX,l.endWorldY=S.worldY,l.emit("panend",l,l.gameObject,l.lastPointer)}}},init:function(){this.state=by},eventEmitter:!1};this.setRecongizedStateObject(new ks(C))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Ub(t,"threshold",10)),this}onDragStart(){this.state=Gy,this.dragThreshold===0&&(this.state=ml)}onDragEnd(){this.state=by}onDrag(){switch(this.state){case Gy:this.pointer.getDistance()>=this.dragThreshold&&(this.state=ml);break;case ml:var t=this.pointer.position,s=this.pointer.prevPosition;this.dx=t.x-s.x,this.dy=t.y-s.y;var l=this.pointer;this.x=l.x,this.y=l.y,this.worldX=l.worldX,this.worldY=l.worldY,this.emit("pan",this,this.gameObject,this.lastPointer);break}}get isPanned(){return this.state===ml}setDragThreshold(t){return this.dragThreshold=t,this}}const by="IDLE",Gy="BEGIN",ml="RECOGNIZED",Xb=Phaser.Math.Distance.Between,Yb=Phaser.Math.Angle.Between,Wb={getDt:function(){var e=Sg(this.scene);return e},getVelocity:function(){var e=this.pointer.position,t=this.pointer.prevPosition,s=Xb(t.x,t.y,e.x,e.y),l=s/(this.getDt()*.001);return l},getVelocityX:function(){var e=this.pointer.position,t=this.pointer.prevPosition,s=Math.abs(e.x-t.x),l=s/(this.getDt()*.001);return l},getVelocityY:function(){var e=this.pointer.position,t=this.pointer.prevPosition,s=Math.abs(e.y-t.y),l=s/(this.getDt()*.001);return l},getVelocityAngle:function(){var e=this.pointer.position,t=this.pointer.prevPosition,s=Yb(t.x,t.y,e.x,e.y);return s}},Hb={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var $b=function(e,t,s){switch(s===void 0?s={}:s===!0&&(s=Kb),s.left=!1,s.right=!1,s.up=!1,s.down=!1,e=(e+360)%360,t){case 0:e<180?s.down=!0:s.up=!0;break;case 1:e>90&&e<=270?s.left=!0:s.right=!0;break;case 2:e>45&&e<=135?s.down=!0:e>135&&e<=225?s.left=!0:e>225&&e<=315?s.up=!0:s.right=!0;break;case 3:e>22.5&&e<=67.5?(s.down=!0,s.right=!0):e>67.5&&e<=112.5?s.down=!0:e>112.5&&e<=157.5?(s.down=!0,s.left=!0):e>157.5&&e<=202.5?s.left=!0:e>202.5&&e<=247.5?(s.left=!0,s.up=!0):e>247.5&&e<=292.5?s.up=!0:(e>292.5&&e<=337.5&&(s.up=!0),s.right=!0);break}return s},Kb={};const nc=Phaser.Utils.Objects.GetValue,jb=Phaser.Math.RadToDeg;class Mh extends yd{constructor(t,s){super(t,s);var l=this,C={states:{IDLE:{enter:function(){l.x=0,l.y=0,l.worldX=0,l.worldY=0},exit:function(){var S=l.lastPointer;l.x=S.x,l.y=S.y,l.worldX=S.worldX,l.worldY=S.worldY}},BEGIN:{enter:function(){l.validDrag=!1}},RECOGNIZED:{enter:function(){l.start(),l.updateDirectionStates(),l.emit("swipe",l,l.gameObject,l.lastPointer)},exit:function(){l.stop(),l.clearDirectionStates()}}},init:function(){this.state=rc},eventEmitter:!1};this.setRecongizedStateObject(new ks(C)),this.clearDirectionStates()}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(nc(t,"threshold",10)),this.setVelocityThreshold(nc(t,"velocityThreshold",1e3)),this.setDirectionMode(nc(t,"dir","8dir")),this}onDragStart(){this.state=Ny}onDragEnd(){this.state=rc}onDrag(){this.state===Ny&&(this.validDrag||(this.validDrag=this.dragThreshold===0||this.pointer.getDistance()>=this.dragThreshold),this.validDrag&&this.dragVelocity>this.velocityThreshold&&(this.state=ac))}postUpdate(t,s){!this.isRunning||!this.enable||this.state===ac&&(this.state=rc)}get isSwiped(){return this.state===ac}get dragVelocity(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity();break}return t}setDragThreshold(t){return this.dragThreshold=t,this}setVelocityThreshold(t){return this.velocityThreshold=t,this}setDirectionMode(t){return typeof t=="string"&&(t=Hb[t]),this.dirMode=t,this}updateDirectionStates(){var t=jb(this.getVelocityAngle());return $b(t,this.dirMode,this),this}clearDirectionStates(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}}Object.assign(Mh.prototype,Wb);const rc="IDLE",Ny="BEGIN",ac="RECOGNIZED",oc=Phaser.Utils.Objects.GetValue,Zb=Phaser.Utils.Array.SpliceOne,Jb=Phaser.Math.Distance.Between,Qb=Phaser.Math.Angle.Between;class _g{constructor(t,s){var l=t.input.manager.pointersTotal-1;l<2&&t.input.addPointer(2-l),this.scene=t,this.setEventEmitter(oc(s,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setEnable(oc(t,"enable",!0)),this.bounds=oc(t,"bounds",void 0),this.tracerState=xl,this.pointers.length=0,As(this.movedState),this}boot(){this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(){this.scene&&(this.destroyEventEmitter(),this.pointers.length=0,As(this.movedState),this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.scene=void 0)}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t){if(this.enable&&this.pointers.length!==2){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;if(s){var l=this.pointers.indexOf(t);if(l===-1)switch(this.movedState[t.id]=!1,this.pointers.push(t),this.tracerState){case xl:this.tracerState=co,this.onDrag1Start();break;case co:this.tracerState=Qi,this.onDrag2Start();break}}}}onPointerUp(t){if(this.enable){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;if(s){var l=this.pointers.indexOf(t);if(l!==-1)switch(delete this.movedState[t.id],Zb(this.pointers,l),this.tracerState){case co:this.tracerState=xl,this.onDrag1End();break;case Qi:this.tracerState=co,this.onDrag2End(),this.onDrag1Start();break}}}}onPointerMove(t){if(this.enable&&t.isDown){var s=this.bounds?this.bounds.contains(t.x,t.y):!0,l=this.pointers.indexOf(t)!==-1;if(!(!l&&s)){if(l&&!s)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case co:this.onDrag1();break;case Qi:this.onDrag2();break}}}}dragCancel(){return this.tracerState===Qi&&this.onDrag2End(),this.pointers.length=0,As(this.movedState),this.tracerState=xl,this}onDrag1Start(){this.emit("drag1start",this)}onDrag1End(){this.emit("drag1end",this)}onDrag1(){this.emit("drag1",this)}onDrag2Start(){this.emit("drag2start",this)}onDrag2End(){this.emit("drag2end",this)}onDrag2(){this.emit("drag2",this)}get distanceBetween(){if(this.tracerState!==Qi)return 0;var t=this.pointers[0],s=this.pointers[1];return Jb(t.x,t.y,s.x,s.y)}get angleBetween(){if(this.tracerState!==Qi)return 0;var t=this.pointers[0],s=this.pointers[1];return Qb(t.x,t.y,s.x,s.y)}get drag1Vector(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var s=t.position,l=t.prevPosition;fo.x=s.x-l.x,fo.y=s.y-l.y}else fo.x=0,fo.y=0;return fo}get centerX(){if(this.tracerState!==Qi)return 0;var t=this.pointers[0].position,s=this.pointers[1].position;return(t.x+s.x)/2}get centerY(){if(this.tracerState!==Qi)return 0;var t=this.pointers[0].position,s=this.pointers[1].position;return(t.y+s.y)/2}get prevCenterX(){if(this.tracerState!==Qi)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,s=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+s.x)/2}get prevCenterY(){if(this.tracerState!==Qi)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,s=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+s.y)/2}get movementCenterX(){return this.centerX-this.prevCenterX}get movementCenterY(){return this.centerY-this.prevCenterY}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=qb,this}}Object.assign(_g.prototype,Na);var fo={};const xl=0,co=1,Qi=2,qb="IDLE",_b=Phaser.Utils.Objects.GetValue;class C2 extends _g{constructor(t,s){super(t,s);var l=this,C={states:{IDLE:{enter:function(){l.prevDistance=void 0,l.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){l.emit("pinchstart",l)},exit:function(){l.emit("pinchend",l)}}},init:function(){this.state=zy},eventEmitter:!1};this.setRecongizedStateObject(new ks(C))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(_b(t,"threshold",0)),this}onDrag2Start(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=ky,this.dragThreshold===0&&(this.state=yl)}onDrag2End(){this.state=zy}onDrag2(){switch(this.state){case ky:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=yl}break;case yl:var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t;break}}get isPinched(){return this.state===yl}setDragThreshold(t){return this.dragThreshold=t,this}}const zy="IDLE",ky="BEGIN",yl="RECOGNIZED",t8=Phaser.Math.RotateAround;var Vy=function(e,t,s,l){return t8(e,t,s,l),e.rotation+=l,e},e8=function(e,t,s,l){return l===void 0?l={}:l===!0&&(l=i8),s.getWorldPoint(e,t,l),l},i8={},s8=function(e,t){if(!this.isRotation)return this;t===void 0&&(t=this.pointers[0].camera);var s=this.movementCenterX,l=this.movementCenterY,C=e8(this.centerX,this.centerY,t,!0),S=C.x,r=C.y,T=this.rotation;if(Array.isArray(e))for(var i=e,d=0,x=i.length;d<x;d++)e=i[d],e.x+=s,e.y+=l,Vy(e,S,r,T);else e.x+=s,e.y+=l,Vy(e,S,r,T);return this};const n8=Phaser.Utils.Objects.GetValue,hc=Phaser.Math.Angle.WrapDegrees,Uy=Phaser.Math.Angle.ShortestBetween,lc=Phaser.Math.RadToDeg,r8=Phaser.Math.DegToRad;class t0 extends _g{constructor(t,s){super(t,s);var l=this,C={states:{IDLE:{enter:function(){l.prevAngle=void 0,l.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){l.emit("rotatestart",l)},exit:function(){l.emit("rotateend",l)}}},init:function(){this.state=Xy},eventEmitter:!1};this.setRecongizedStateObject(new ks(C))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(n8(t,"threshold",0)),this}onDrag2Start(){this.prevAngle=hc(lc(this.angleBetween)),this.state=Yy,this.dragThreshold===0&&(this.state=Cl)}onDrag2End(){this.state=Xy}onDrag2(){switch(this.state){case Yy:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=hc(lc(this.angleBetween));this.angle=Uy(this.prevAngle,t),this.prevAngle=t,this.state=Cl}break;case Cl:var t=hc(lc(this.angleBetween));this.angle=Uy(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this);break}}get isRotated(){return this.state===Cl}get rotation(){return r8(this.angle)}setDragThreshold(t){return this.dragThreshold=t,this}}var a8={spinObject:s8};Object.assign(t0.prototype,a8);const Xy="IDLE",Yy="BEGIN",Cl="RECOGNIZED",o8=Phaser.Utils.Objects.GetValue;var h8=function(e){var t=o8(e,"tap",void 0);if(t!==!1){t===!0&&(t=void 0);var s=this._childrenInteractive;this._tap=new Cd(this,t),this._tap.on("tap",function(l,C,S){cs(s.eventEmitter,`${s.eventNamePrefix}${l.tapsCount}tap`,s.targetSizers,l.worldX,l.worldY,S)},this)}};const l8=Phaser.Utils.Objects.GetValue;var u8=function(e){var t=l8(e,"press",void 0);if(t!==!1){t===!0&&(t=void 0);var s=this._childrenInteractive;this._press=new Td(this,t),this._press.on("pressstart",function(l,C,S){cs(s.eventEmitter,`${s.eventNamePrefix}pressstart`,s.targetSizers,l.worldX,l.worldY,S)},this).on("pressend",function(l,C,S){cs(s.eventEmitter,`${s.eventNamePrefix}pressend`,s.targetSizers,l.worldX,l.worldY,S)},this)}};const d8=Phaser.Utils.Objects.GetValue;var f8=function(e){var t=d8(e,"swipe",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("dir")||(t.dir="4dir");var s=this._childrenInteractive;this._swipe=new Mh(this,t),this._swipe.on("swipe",function(l,C,S){var r=l.left?"left":l.right?"right":l.up?"up":"down";cs(s.eventEmitter,`${s.eventNamePrefix}swipe${r}`,s.targetSizers,l.worldX,l.worldY,S)},this)}};const uc=Phaser.Utils.Objects.GetValue;var e0=function(e,t){return e.setInteractive(),e._childrenInteractive={targetSizers:uc(t,"targets",[e]),eventEmitter:uc(t,"eventEmitter",e),eventNamePrefix:uc(t,"inputEventPrefix","child.")},Ab.call(e,t),Db.call(e,t),bb.call(e,t),zb.call(e,t),h8.call(e,t),u8.call(e,t),f8.call(e,t),e},c8=function(e){return e0(this,e),this},v8=function(){for(var e=this.getAllChildren([this]),t=0,s=e.length;t<s;t++){var l=e[t];l.emit.apply(l,arguments)}return this},T2={getSizerConfig:WI,getChildPrevState:HI,pushIntoBounds:$I,drawBounds:nB,resolveWidth:Ug,resolveChildrenWidth:mB,resolveHeight:Xg,postResolveSize:xB,getChildWidth:yB,getChildHeight:CB,getExpandedChildWidth:TB,getExpandedChildHeight:SB,getChildrenWidth:EB,getChildrenHeight:PB,addChildrenMap:yy,addElement:yy,removeChildrenMap:cB,getElement:vB,getAllChildrenSizers:MB,getChildrenSizers:wB,preLayout:Sh,layout:OB,runLayout:AB,layoutChildren:LB,runWidthWrap:l2,layoutBackgrounds:Sb,postLayout:FB,setAnchor:DB,isInTouching:pb,pointToChild:xb,setDraggable:Eb,setChildrenInteractive:c8,broadcastEvent:v8};Object.assign(T2,gB,oB,fB,Th,Hg,VB,YB,ZB,qB,m2,Mb,Rb,_B,Qg,RB);const Yr=Phaser.Utils.Objects.GetValue;class Sr extends di{constructor(t,s,l,C,S,r){super(t,s,l,1,1),this.isRexSizer=!0,this.setMinSize(C,S),this.setName(Yr(r,"name","")),this.rexSizer={},this.space={},this.backgroundChildren=void 0,this.sizerChildren=void 0,this.childrenMap={},this.layoutedChildren=void 0;var T=Yr(r,"anchor",void 0);T&&this.setAnchor(T),this.setInnerPadding(Yr(r,"space",0));var i=Yr(r,"draggable",!1);i&&this.setDraggable(i),this.setSizerEventsEnable(Yr(r,"sizerEvents",!1)),this.setDirty(!0),Yr(r,"enableLayer",!1)&&this.enableLayer()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var s=this.getAllChildrenSizers([this]),l=0,C=s.length;l<C;l++)s[l].sizerEventsEnable=!1;super.destroy(t),As(this.backgroundChildren),As(this.sizerChildren),this.childrenMap=void 0,this.space=void 0,this.rexSizer=void 0,this.layoutedChildren=void 0}}setMinSize(t,s){return this.setMinWidth(t).setMinHeight(s),this}setMinWidth(t){return t==null&&(t=0),this.minWidth=t,this}setMinHeight(t){return t==null&&(t=0),this.minHeight=t,this}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSizerEventsEnable(t){return t===void 0&&(t=!0),this.sizerEventsEnable=t,this}get ignoreLayout(){return this.rexSizer.hidden||!this.dirty}get childrenWidth(){return this._childrenWidth===void 0&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return this._childrenHeight===void 0&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-Bt(this)*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.left+Bt(this)}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return this.left+Bt(this)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-Ot(this)*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.top+Ot(this)}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return this.top+Ot(this)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}get innerLeft(){return this.left+this.space.left}get innerRight(){return this.right-this.space.right}get innerTop(){return this.top+this.space.top}get innerBottom(){return this.bottom-this.space.bottom}get innerWidth(){return this.width-this.space.left-this.space.right}get innerHeight(){return this.height-this.space.top-this.space.bottom}get minInnerWidth(){var t=this.minWidth-this.space.left-this.space.right;return Math.max(t,0)}get minInnerHeight(){var t=this.minHeight-this.space.top-this.space.bottom;return Math.max(t,0)}}Object.assign(Sr.prototype,T2);var p8=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,s,l,C;for(var S in t)s=t[S],l=s.rexSizer.padding,C=this.getChildWidth(s)+l.left+l.right,e=Math.max(C,e);return e+this.space.left+this.space.right},g8=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,s,l,C;for(var S in t)s=t[S],C=s.isRexSizer?Math.max(s.minHeight,s.childrenHeight):s.minHeight!==void 0?s.minHeight:Ot(s),l=s.rexSizer.padding,C+=l.top+l.bottom,e=Math.max(C,e);return e+this.space.top+this.space.bottom},m8=function(e,t){t===void 0&&(t=this.width);var s,l=e.rexSizer;if(l.expandWidth){var C=t-this.space.left-this.space.right,S=l.padding;s=C-S.left-S.right}return s},x8=function(e,t){t===void 0&&(t=this.height);var s,l=e.rexSizer;if(l.expandHeight){var C=t-this.space.top-this.space.bottom,S=l.padding;s=C-S.top-S.bottom}return s},y8=function(e){e===void 0&&(e=[]);var t=this.sizerChildren,s;for(var l in t)s=t[l],s.isRexSizer&&e.push(s);return e},i0=function(e,t){e.width<e.childrenWidth&&console.warn(`Layout width error: Parent=${t.constructor.name}, Child=${e.constructor.name}`),e.height<e.childrenHeight&&console.warn(`Layout height error: Parent=${t.constructor.name}, Child=${e.constructor.name}`)},C8=function(){var e,t,s,l=this.innerLeft,C=this.innerTop,S=this.innerWidth,r=this.innerHeight,T,i,d,x,f,u,o=this.sizerChildren;for(var n in o)e=o[n],!e.rexSizer.hidden&&(t=e.rexSizer,s=t.padding,Eh.call(this,e),e.isRexSizer?(e.runLayout(this,this.getExpandedChildWidth(e),this.getExpandedChildHeight(e)),i0(e,this)):(f=void 0,u=void 0,t.expandWidth&&(f=S-s.left-s.right),t.expandHeight&&(u=r-s.top-s.bottom),$i(e,f,u)),T=l+s.left,d=S-s.left-s.right,i=C+s.top,x=r-s.top-s.bottom,Ph.call(this,e,T,i,d,x,t.align,t.alignOffsetX,t.alignOffsetY))};const Wy=Phaser.Utils.Objects.IsPlainObject,qi=Phaser.Utils.Objects.GetValue,Hy=Phaser.Display.Align.CENTER,T8=Phaser.Utils.String.UUID;var S8=function(e,t,s,l,C,S,r,T,i){if(yh.call(this,e),Wy(t)){var x=t;t=qi(x,"key",void 0),s=qi(x,"align",Hy),T=qi(x,"offsetX",0),i=qi(x,"offsetY",0),l=qi(x,"padding",0),C=qi(x,"expand",!0),e.isRexSizer||(S=qi(x,"minWidth",e._minWidth),r=qi(x,"minHeight",e._minHeighted))}var d=t!==void 0;d||(t=T8()),typeof s=="string"&&(s=xi[s]),s===void 0&&(s=Hy),T===void 0&&(T=0),i===void 0&&(i=0),l===void 0&&(l=0),C===void 0&&(C=!0),e.isRexSizer||(S===void 0&&(S=e._minWidth),r===void 0&&(r=e._minHeight));var x=this.getSizerConfig(e);return x.align=s,x.alignOffsetX=T,x.alignOffsetY=i,x.padding=Va(l),Wy(C)?(x.expandWidth=qi(C,"width",!1),x.expandHeight=qi(C,"height",!1)):(x.expandWidth=C,x.expandHeight=C),e.isRexSizer||(x.expandWidth&&(e.minWidth=S===void 0?Bt(e):S),x.expandHeight&&(e.minHeight=r===void 0?Ot(e):r)),this.sizerChildren.hasOwnProperty(t)&&this.sizerChildren[t].destroy(),this.sizerChildren[t]=e,d&&this.addChildrenMap(t,e),this};const E8={add:S8},P8=di.prototype.clear;var Sd=function(e){this.backgroundChildren&&(this.backgroundChildren.length=0);var t=!e&&this.sizerEventsEnable,s;if(t&&(s=this.getChildren([])),P8.call(this,e),t)for(var l,C=0,S=s.length;C<S;C++)l=s[C],l.emit("sizer.remove",l,this),this.emit("remove",l,this);return this};const M8={remove(e,t){var s;if(typeof e=="string"){if(s=e,e=this.sizerChildren[s],!e)return this}else{if(this.getParentSizer(e)!==this)return this;s=this.childToKey(e)}return s&&(delete this.sizerChildren[s],this.childrenMap.hasOwnProperty(s)&&delete this.childrenMap[s]),Ch.call(this,e,t),this},removeAll(e){for(var t in this.sizerChildren)this.remove(t,e);return this},clear(e){for(var t in this.sizerChildren)delete this.sizerChildren[t],this.childrenMap.hasOwnProperty(t)&&delete this.childrenMap[t];return Sd.call(this,e),this}};var S2={getChildrenWidth:p8,getChildrenHeight:g8,getExpandedChildWidth:m8,getExpandedChildHeight:x8,getChildrenSizers:y8,layoutChildren:C8};Object.assign(S2,E8,M8);var Ed=function(e,t){if(Array.isArray(e))return e.indexOf(t);for(var s in e)if(e[s]===t)return s;return null};const $y=Phaser.Utils.Objects.IsPlainObject,Wr=Phaser.Utils.Objects.GetValue;class Oi extends Sr{constructor(t,s,l,C,S,r){$y(s)?(r=s,s=Wr(r,"x",0),l=Wr(r,"y",0),C=Wr(r,"width",void 0),S=Wr(r,"height",void 0)):$y(C)&&(r=C,C=Wr(r,"width",void 0),S=Wr(r,"height",void 0)),super(t,s,l,C,S,r),this.type="rexOverlapSizer",this.sizerChildren={},this.addChildrenMap("items",this.sizerChildren)}childToKey(t){if(typeof t=="string"){var s=t;if(this.sizerChildren.hasOwnPropery(s))return s}else return Ed(this.sizerChildren,t);return null}}Object.assign(Oi.prototype,S2);var w8=Phaser.Math.Distance.Between,Bu=function(e,t,s){var l=e.width/2;return w8(l,l,t,s)<=l};const R8=Phaser.Math.Angle.Between,O8=Phaser.Math.Angle.Normalize;var Ky=function(e,t,s){if(this.enable&&e.isDown){var l=this.sizerChildren.knob;if(Bu(l,t,s)){var C=l.width/2,S=l.startAngle,r=R8(C,C,t,s),T=l.anticlockwise?S-r:r-S,i=O8(T)/(2*Math.PI);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-i)<.1?this.value=i:this.easeValueTo(i)}}},A8=function(){var e=this.sizerChildren.knob;e.on("pointerdown",Ky,this).on("pointermove",Ky,this).setInteractive()};const jy=Phaser.Math.Angle.Between,L8=Phaser.Math.Angle.Wrap;var F8=function(e,t,s){if(!(!this.enable||this.panPointer)){var l=this.sizerChildren.knob;Bu(l,t,s)&&E2.call(this,e)}},D8=function(e,t,s){if(this.enable&&e.isDown){var l=this.sizerChildren.knob;switch(this.panState){case s0:Bu(l,t,s)&&E2.call(this,e);break;case M2:Bu(l,t,s)?B8.call(this):P2.call(this);break}}},I8=function(e,t,s){!this.enable||this.panPointer!==e||P2.call(this)},E2=function(e){this.panPointer=e,this.panState=M2},P2=function(){this.panPointer=void 0,this.panState=s0},B8=function(){var e=this.panPointer.prevPosition,t=this.panPointer.position,s=this.sizerChildren.knob,l=jy(s.x,s.y,e.x,e.y),C=jy(s.x,s.y,t.x,t.y),S=s.anticlockwise?l-C:C-l,r=L8(S)/(Math.PI*2);this.stopEaseValue(),this.value+=r};const s0=0,M2=1;var b8=function(){var e=this.sizerChildren.knob;e.on("pointerdown",F8,this).on("pointermove",D8,this).on("pointerup",I8,this).setInteractive(),this.panPointer=void 0,this.panState=s0},G8=function(e,t){return this.textFormatCallback=e,this.textFormatCallbackScope=t,this},w2=function(e){e===void 0&&(e=this.value);var t;return this.textFormatCallbackScope?t=this.textFormatCallback(e):t=this.textFormatCallback.call(this.textFormatCallbackScope,e),t},N8=function(e){var t=this.sizerChildren.text;return t&&this.textFormatCallback&&(t.setText(w2.call(this,e)),t.layout&&t.layout()),this};const z8={setTextFormatCallback:G8,getFormatText:w2,updateText:N8},Di=Phaser.Utils.Objects.GetValue,k8=Phaser.Math.Snap.To;class n0 extends Tr(Oi){constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexKnob",this.bootProgressBase(s);var l=Di(s,"background",void 0),C=Di(s,"text",void 0);l&&this.addBackground(l),C&&(s.textColor=void 0,s.textStrokeColor=void 0,this.setTextFormatCallback(Di(s,"textFormatCallback",void 0),Di(s,"textFormatCallbackScope",void 0)));var S=new dd(t,s);S.setDepth(Di(s,"knobDepth",0)),S._value=-1,t.add.existing(S),this.add(S,"knob"),C&&(this.add(C,"text","center",0,!1),t.children.moveBelow(S,C)),this.addChildrenMap("background",l),this.addChildrenMap("knob",S),this.addChildrenMap("text",C),this.setEnable(Di(s,"enable",void 0)),this.setGap(Di(s,"gap",void 0)),this.setValue(Di(s,"value",0),Di(s,"min",void 0),Di(s,"max",void 0));var r=Di(s,"input",0);switch(typeof r=="string"&&(r=V8[r]),r){case 0:b8.call(this);break;case 1:A8.call(this);break}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t){return this.gap=t,this}get value(){return this.sizerChildren.knob.value}set value(t){this.gap!==void 0&&(t=k8(t,this.gap));var s=this.value;this.sizerChildren.knob.value=t;var l=this.value;s!==l&&(this.updateText(),this.eventEmitter.emit("valuechange",l,s,this.eventEmitter))}}const V8={pan:0,drag:0,click:1,none:-1};Object.assign(n0.prototype,z8);st.register("knob",function(e){var t=new n0(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Knob",n0);const U8={arc:ud,circle:Qv,curve:V4,ellipse:U4,line:X4,lines:Ca,rectangle:l9,roundRectangle:Fu,triangle:d9},Zy=Phaser.Utils.Objects.GetValue,X8=Phaser.Utils.Objects.IsPlainObject,Y8=function(){for(var e=this.getShapes(),t=0,s=e.length;t<s;t++)e[t].lineStyle().fillStyle()},W8={createShape(e,t){var s=U8[e],l=new s;return t&&l.setName(t),l},buildShapes(e){var t=Zy(e,"create",void 0);if(X8(t)){var s=t;for(var l in s){var C=s[l];switch(typeof C){case"number":for(var S=0;S<C;S++)this.addShape(this.createShape(l));break;case"string":this.addShape(this.createShape(l,C));break;default:for(var r=C,S=0,T=r.length;S<T;S++)this.addShape(this.createShape(l,r[S]));break}}}else if(Array.isArray(t))for(var s=t,S=0,T=s.length;S<T;S++){var i=s[S];this.addShape(this.createShape(i.type,i.name))}else typeof t=="function"&&t.call(this);this.setUpdateShapesCallback(Zy(e,"update"))},setUpdateShapesCallback(e){return e===void 0&&(e=Y8),this.dirty=this.dirty||this.updateCallback!==e,this.updateCallback=e,this},updateShapes(){this.updateCallback.call(this)}},Jy=Phaser.GameObjects.Components.TransformMatrix,H8=Phaser.Math.TransformXY;var $8=function(e,t,s,l,C){l===void 0&&(l=e.scene.cameras.main),C===void 0?C={}:C===!0&&(C=K8);var S=l.scrollX,r=l.scrollY,T=t+S*e.scrollFactorX-S,i=s+r*e.scrollFactorY-r;return e.parentContainer?(Tl===void 0&&(Tl=new Jy,Qy=new Jy),e.getWorldTransformMatrix(Tl,Qy),Tl.applyInverse(T,i,C)):H8(T,i,e.x,e.y,e.rotation,e.scaleX,e.scaleY,C),C.x+=e.displayOriginX,C.y+=e.displayOriginY,C},Tl,Qy,K8={};const vo=Phaser.Utils.Objects.GetValue,j8=Phaser.Utils.Objects.IsPlainObject;class Pd extends yr{constructor(t,s,l,C,S,r){j8(s)&&(r=s,s=vo(r,"x",0),l=vo(r,"y",0),C=vo(r,"width",2),S=vo(r,"height",2)),super(t,s,l,C,S),this.type=vo(r,"type","rexCustomShapes"),this.buildShapes(r)}get centerX(){return this.width/2}get centerY(){return this.height/2}worldToLocalXY(t,s,l,C){return typeof l=="boolean"&&(C=l,l=void 0),$8(this,t,s,l,C)}}Object.assign(Pd.prototype,W8);st.register("customShapes",function(e,t,s,l,C){var S=new Pd(this.scene,e,t,s,l,C);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.CustomShapes",Pd);const po=Phaser.Utils.Objects.GetValue,Z8=Phaser.Utils.Objects.IsPlainObject;class An extends Tr(Pd){constructor(t,s,l,C,S,r){Z8(s)&&(r=s,s=po(r,"x",0),l=po(r,"y",0),C=po(r,"width",2),S=po(r,"height",2)),r===void 0&&(r={}),r.type||(r.type="rexCustomProgress"),super(t,s,l,C,S,r),this.bootProgressBase(r),this.setValue(po(r,"value",0))}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}}st.register("customProgress",function(e,t,s,l,C){var S=new An(this.scene,e,t,s,l,C);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.CustomProgress",An);const J8={setTransitionStartCallback(e,t){return this.onStartCallback=e,this.onStartCallbackScope=t,this},setTransitionProgressCallback(e,t){return this.onProgressCallback=e,this.onProgressCallbackScope=t,this},setTransitionCompleteCallback(e,t){return this.onCompleteCallback=e,this.onCompleteCallbackScope=t,this}},qy=Phaser.Utils.Objects.IsPlainObject,dc=Phaser.Utils.Objects.GetValue,Q8=Phaser.Utils.Array.GetRandom;var q8={out:0,in:1},_i=function(e,t,...s){for(var l=0,C=s.length;l<C;l++){var S=s[l];if(S&&S.hasOwnProperty(e))return S[e]}return t};const _8={setTransitionDirection(e){return typeof e=="string"&&(e=q8[e]),this.dir=e,this},setDuration(e){return this.duration=e,this},setEaseFunction(e){return this.easeFunction=e,this},setNextTexture(e,t){return this.nextImage.setTexture(e,t),this},transit(e,t,s){if(this.isRunning&&(this.ignoreCompleteEvent=!0,this.stop(),this.ignoreCompleteEvent=!1),s!==void 0&&(e={key:e,frame:t,mode:s}),this.currentTransitionMode=void 0,qy(e)){var l=e;e=dc(l,"key",void 0),t=dc(l,"frame",void 0),s=dc(l,"mode"),Array.isArray(s)&&(s=Q8(s));var C;this.transitionModes&&this.transitionModes.hasOwnProperty(s)&&(C=this.transitionModes[s],this.currentTransitionMode=s),this.setDuration(_i("duration",this.duration,l,C)).setEaseFunction(_i("ease",this.easeFunction,l,C)).setTransitionDirection(_i("dir",this.dir,l,C));var S=_i("mask",void 0,l,C);S&&this.setMaskGameObject(S),this.setMaskEnable(S===!0);var r=_i("onStart",void 0,l,C),T=_i("onProgress",void 0,l,C),i=_i("onComplete",void 0,l,C);(r!==void 0||T!==void 0||i!==void 0)&&this.setTransitionStartCallback(r,_i("onStartScope",void 0,l,C)).setTransitionProgressCallback(T,_i("onProgressScope",void 0,l,C)).setTransitionCompleteCallback(i,_i("onCompleteScope",void 0,l,C))}return this.setNextTexture(e,t),this.start(),this},addTransitionMode(e,t){return this.transitionModes===void 0&&(this.transitionModes={}),qy(e)&&(t=e,e=t.name,delete t.name),this.transitionModes[e]=t,this},start(){return this.easeValueTask===void 0&&(this.easeValueTask=new Cr(this,{eventEmitter:null})),this.easeValueTask.restart({key:"t",from:0,to:1,duration:this.duration,ease:this.easeFunction}),this},pause(){return this.easeValueTask&&this.easeValueTask.pause(),this},resume(){return this.easeValueTask&&this.easeValueTask.resume(),this},stop(){return this.easeValueTask&&this.easeValueTask.stop(),this.setT(1),this}};var _y=function(e,t,s,l,C){switch(this.clear().fillStyle(16777215),this.shape){case 1:var S=Math.min(e,t)/2;this.fillCircle(-e*(l-.5),-t*(C-.5),S+s);break;default:this.fillRect(-(e*l)-s,-(t*C)-s,e+2*s,t+2*s);break}};const t7=Phaser.GameObjects.Graphics;class ep extends t7{constructor(t,s,l){s===void 0&&(s=0),typeof s=="string"&&(s=e7[s]),l===void 0&&(l=0),super(t.scene),this.parent=t,this.shape=s,this.padding=l,this.setPosition().resize().setVisible(!1)}destroy(){return this.parent=void 0,super.destroy(),this}setPosition(t,s){var l=this.parent;return t===void 0&&(t=l.x),s===void 0&&(s=l.y),super.setPosition(t,s),this}resize(t,s,l){var C=this.parent;return t===void 0&&(t=C.width),s===void 0&&(s=C.height),l===void 0&&(l=this.padding),this.width===t&&this.height===s&&this.paddingSave===l?this:(this.width=t,this.height=s,this.originX=C.originX,this.originY=C.originY,this.paddingSave=l,_y.call(this,t,s,l,C.originX,C.originY),this)}setOrigin(t,s){s===void 0&&(s=t);var l=this.parent;return t===void 0&&(t=l.originX),s===void 0&&(s=l.originY),this.originX===t&&this.originY===s?this:(this.originX=t,this.originY=s,_y.call(this,this.width,this.height,this.paddingSave,t,s),this)}}const e7={rectangle:0,circle:1},i7={setMaskGameObject(e){if(!e)return this.removeMaskGameObject(),this;if(this.maskGameObject){if(e===!0&&this.maskGameObject instanceof ep)return this;if(this.maskGameObject===e)return this;this.removeMaskGameObject()}return e===!0&&(e=new ep(this)),this.maskGameObject=e,this.maskGameObject.resize(this.width,this.height).setOrigin(this.originX,this.originY).setPosition(0,0).setScale(1).setVisible(!1),this.addLocal(this.maskGameObject),this.childrenMask=this.maskGameObject.createGeometryMask(),this},removeMaskGameObject(e){return e===void 0&&(e=!0),this.backImage.clearMask(),this.frontImage.clearMask(),this.childrenMask=void 0,this.remove(this.maskGameObject,e),this.maskGameObject=void 0,this},setImageMaskEnable(e,t,s){return t===void 0&&(t=!0),s===void 0&&(s=!1),t?(this.childrenMask||this.setMaskGameObject(!0),e.setMask(this.childrenMask),s&&this.childrenMask.setInvertAlpha()):e.clearMask(),this},setCurrentImageMaskEnable(e,t){return this.setImageMaskEnable(this.currentImage,e,t),this},setNextImageMaskEnable(e,t){return this.setImageMaskEnable(this.nextImage,e,t),this},setCellImagesMaskEnable(e,t){for(var s=this.getCellImages(),l=0,C=s.length;l<C;l++)this.setImageMaskEnable(s[l],e,t);return this},setMaskEnable(e,t){return this.setImageMaskEnable(this.backImage,e,t),this.setImageMaskEnable(this.frontImage,e,t),this.setCellImagesMaskEnable(e,t),this}};var s7=function(e,t){t===void 0&&(t=",");var s;return e==="__BASE"?s=function(l,C){return`${l}${t}${C}`}:s=function(l,C){return`${e}_${l}${t}${C}`},s},n7=function(e,t,s,l,C,S){s==null&&(s="__BASE"),S||(S=s7(s,S));for(var r=e.sys.textures.get(t),T=typeof s=="object"?s:r.get(s),i=T.width,d=T.height,x,f,u,o=i/l,n=d/C,h=0,p=0,a=0;a<C;a++){h=0;for(var c=0;c<l;c++)u=S(c,a),x=h+T.cutX,f=p+T.cutY,r.add(u,0,x,f,o,n),h+=o;p+=n}return{getFrameNameCallback:S,cellWidth:o,cellHeight:n,columns:l,rows:C}};const ms=Phaser.Utils.Objects.GetValue,r7=Phaser.GameObjects.Image,a7=Phaser.Utils.Objects.IsPlainObject,o7=Phaser.Math.RotateAround;var h7=function(e,t,s,l){a7(t)&&(l=t,t=ms(l,"columns",1),s=ms(l,"rows",1));var C=ms(l,"onCreateImage");if(!C){var S=ms(l,"ImageClass",r7);C=function(B,b,k){return new S(B,0,0,b,k)}}for(var r=ms(l,"originX",.5),T=ms(l,"originY",.5),i=ms(l,"add",!0),d=ms(l,"align",i),x=ms(l,"objectPool",void 0),f=e.scene,u=e.texture,o=e.frame,n=n7(f,u,o,t,s),h=n.getFrameNameCallback,p=e.scaleX,a=e.scaleY,c=e.rotation,v=e.getTopLeft(),g=v.x,m=v.y,y=[],P=n.cellWidth*p,M=n.cellHeight*a,E=0;E<s;E++)for(var w=0;w<t;w++){var R,O=h(w,E);x&&x.length>0?R=x.pop().setTexture(u,O):R=C(f,u,O),i&&f.add.existing(R);var A=g+P*w,F=m+M*E,L=A+r*P,I=F+T*M;d&&(R.setOrigin(r,T).setPosition(L,I).setScale(p,a).setRotation(c),o7(R,g,m,c)),y.push(R)}return y};const l7={gridCutImage(e,t,s,l){l===void 0&&(l={}),l.objectPool=this.imagesPool;for(var C=h7(e,t,s,l),S,r=0,T=C.length;r<T;r++)S=C[r],S.setVisible(!0),this.add(S);return this.cellImages=C,this.setChildLocalVisible(e,!1),C},gridCutCurrentImage(e,t,s){return this.gridCutImage(this.currentImage,e,t,s)},gridCutNextImage(e,t,s){return this.gridCutImage(this.nextImage,e,t,s)},getCellImages(){return this.cellImages},freeCellImages(){if(this.cellImages.length===0)return this;for(var e=this.cellImages[0].texture,t=this.cellImages,s,l,C=0,S=t.length;C<S;C++)s=t[C],this.setChildLocalAlpha(s,1).setChildLocalScale(s,1).setChildLocalVisible(s,!1),s.clearMask(),l=s.frame.name,s.setTexture(),e.remove(l);return this.imagesPool.push(...t),t.length=0,this}},R2={setFlipX(e){return this.flipX=e,this},setFlipY(e){return this.flipY=e,this},toggleFlipX(){return this.flipX=!this.flipX,this},toggleFlipY(){return this.flipY=!this.flipY,this},setFlip(e,t){return this.flipX=e,this.flipY=t,this},resetFlip(){return this.flipX=!1,this.flipY=!1,this}};var O2={};Object.assign(O2,J8,_8,i7,l7,R2);var u7=function(e,t,s,l){},d7=function(e,t,s,l){e.setChildLocalAlpha(t,1-l).setChildLocalAlpha(s,l)},f7=function(e,t,s,l){e.setChildLocalAlpha(t,1)};const t1=Phaser.Utils.Objects.IsPlainObject,fe=Phaser.Utils.Objects.GetValue,c7=Phaser.Math.Clamp;class Md extends di{constructor(t,s,l,C,S,r){t1(s)?(r=s,s=fe(r,"x",0),l=fe(r,"y",0),C=fe(r,"key",void 0),S=fe(r,"frame",void 0)):t1(S)&&(r=S,S=void 0);var T=fe(r,"back",void 0),i=fe(r,"front",void 0);T||(T=t.add.image(s,l,C,S)),i||(i=t.add.image(s,l,C,S));var d=fe(r,"width",i.width),x=fe(r,"height",i.height);super(t,s,l,d,x),this.type="rexTransitionImage",T.setVisible(!1),this.addMultiple([T,i]),this.backImage=T,this.frontImage=i,this.maskGameObject=void 0,this.cellImages=[],this.imagesPool=[],this.transitionModes=void 0,this.currentTransitionMode=void 0;var f=fe(r,"onStart",void 0),u=fe(r,"onProgress",void 0),o=fe(r,"onComplete",void 0),n=fe(r,"dir",0);f===void 0&&u===void 0&&o===void 0&&(f=u7,u=d7,o=f7,n=0),this.setTransitionStartCallback(f,fe(r,"onStartScope",void 0)).setTransitionProgressCallback(u,fe(r,"onProgressScope",void 0)).setTransitionCompleteCallback(o,fe(r,"onCompleteScope",void 0)).setTransitionDirection(n).setDuration(fe(r,"duration",1e3)).setEaseFunction(fe(r,"ease","Linear"));var h=fe(r,"mask",void 0);h&&this.setMaskGameObject(h),this.setMaskEnable(!1),this.ignoreCompleteEvent=!1}destroy(t){!this.scene||this.ignoreDestroy||(this.childrenMask&&(this.childrenMask.destroy(),this.childrenMask=void 0),this.backImage=void 0,this.frontImage=void 0,this.maskGameObject=void 0,this.cellImages.length=0,this.imagesPool.length=0,this.transitionModes=void 0,super.destroy(t),this.onStartCallback=void 0,this.onStartCallbackScope=void 0,this.onProgressCallback=void 0,this.onProgressCallbackScope=void 0,this.onCompleteCallback=void 0,this.onCompleteCallbackScope=void 0,this.easeValueTask=void 0)}get currentImage(){return this.dir===0?this.frontImage:this.backImage}get nextImage(){return this.dir===0?this.backImage:this.frontImage}get texture(){return this.nextImage.texture}get frame(){return this.nextImage.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.backImage.setFlipX(t),this.frontImage.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.backImage.setFlipY(t),this.frontImage.setFlipY(t))}get t(){return this._t}set t(t){if(t=c7(t,0,1),this._t!==t){this._t=t;var s=this.currentImage,l=this.nextImage;if(t===0&&(this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!0),fc(this.onStartCallback,this.onStartCallbackScope,this,s,l,t)),fc(this.onProgressCallback,this.onProgressCallbackScope,this,s,l,t),t===1){fc(this.onCompleteCallback,this.onCompleteCallbackScope,this,s,l,t);var C=l.texture.key,S=l.frame.name;this.frontImage.setTexture(C,S),this.backImage.setTexture(C,S),this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!1).setMaskEnable(!1).freeCellImages()}t===1&&!this.ignoreCompleteEvent&&this.emit("complete")}}setT(t){return this.t=t,this}get isRunning(){return this.easeValueTask?this.easeValueTask.isRunning:!1}setOrigin(t,s){return super.setOrigin(t,s),this.backImage.setOrigin(t,s),this.frontImage.setOrigin(t,s),this.maskGameObject&&this.maskGameObject.setOrigin(t,s),this}setTexture(t,s){return this.frontImage.setTexture(t,s),this.backImage.setTexture(t,s).setVisible(!1),this}}var fc=function(e,t,s,l,C,S){e&&(t?e.call(t,s,l,C,S):e(s,l,C,S))};Object.assign(Md.prototype,O2);st.register("transitionImage",function(e,t,s,l,C){var S=new Md(this.scene,e,t,s,l,C);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.TransitionImage",Md);const v7="slideLeft",p7="slideRight",g7="slideUp",m7="slideDown",x7="slideAwayLeft",y7="slideAwayRight",C7="slideAwayUp",T7="slideAwayDown",S7="pushLeft",E7="pushRight",P7="pushUp",M7="pushDown",w7="zoomOut",R7="zoomIn",O7="zoomInOut",A7="fade",L7="crossFade",F7="wipeLeft",D7="wipeRight",I7="wipeUp",B7="wipeDown",b7="irisOut",G7="irisIn",N7="pieOut",z7="pieIn",k7="blinds",V7="squares",U7="curtain",X7="pixellate";var Y7=function(e){e.addTransitionMode(y7,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,l,C){},onProgress:function(t,s,l,C){var S=s.width*C;t.setChildLocalPosition(s,S,0)},onComplete:function(t,s,l,C){t.setChildLocalPosition(s,0,0)}}).addTransitionMode(x7,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,l,C){},onProgress:function(t,s,l,C){var S=s.width*-C;t.setChildLocalPosition(s,S,0)},onComplete:function(t,s,l,C){t.setChildLocalPosition(s,0,0)}}).addTransitionMode(T7,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,l,C){},onProgress:function(t,s,l,C){var S=s.height*C;t.setChildLocalPosition(s,0,S)},onComplete:function(t,s,l,C){t.setChildLocalPosition(s,0,0)}}).addTransitionMode(C7,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,l,C){},onProgress:function(t,s,l,C){var S=s.height*-C;t.setChildLocalPosition(s,0,S)},onComplete:function(t,s,l,C){t.setChildLocalPosition(s,0,0)}})},W7=function(e){e.addTransitionMode(p7,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,s,l,C){},onProgress:function(t,s,l,C){var S=l.width*(C-1);t.setChildLocalPosition(l,S,0)},onComplete:function(t,s,l,C){t.setChildLocalPosition(l,0,0)}}).addTransitionMode(v7,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,s,l,C){},onProgress:function(t,s,l,C){var S=l.width*(1-C);t.setChildLocalPosition(l,S,0)},onComplete:function(t,s,l,C){t.setChildLocalPosition(l,0,0)}}).addTransitionMode(m7,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,s,l,C){},onProgress:function(t,s,l,C){var S=l.height*(C-1);t.setChildLocalPosition(l,0,S)},onComplete:function(t,s,l,C){t.setChildLocalPosition(l,0,0)}}).addTransitionMode(g7,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,s,l,C){},onProgress:function(t,s,l,C){var S=l.height*(1-C);t.setChildLocalPosition(l,0,S)},onComplete:function(t,s,l,C){t.setChildLocalPosition(l,0,0)}})},H7=function(e){e.addTransitionMode(E7,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,l,C){},onProgress:function(t,s,l,C){var S=s.width*C;t.setChildLocalPosition(s,S,0);var S=l.width*(C-1);t.setChildLocalPosition(l,S,0)},onComplete:function(t,s,l,C){t.setChildLocalPosition(s,0,0),t.setChildLocalPosition(l,0,0)}}).addTransitionMode(S7,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,l,C){},onProgress:function(t,s,l,C){var S=s.width*-C;t.setChildLocalPosition(s,S,0);var S=l.width*(1-C);t.setChildLocalPosition(l,S,0)},onComplete:function(t,s,l,C){t.setChildLocalPosition(s,0,0),t.setChildLocalPosition(l,0,0)}}).addTransitionMode(M7,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,l,C){},onProgress:function(t,s,l,C){var S=s.height*C;t.setChildLocalPosition(s,0,S);var S=l.height*(C-1);t.setChildLocalPosition(l,0,S)},onComplete:function(t,s,l,C){t.setChildLocalPosition(s,0,0),t.setChildLocalPosition(l,0,0)}}).addTransitionMode(P7,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,l,C){},onProgress:function(t,s,l,C){var S=s.height*-C;t.setChildLocalPosition(s,0,S);var S=l.height*(1-C);t.setChildLocalPosition(l,0,S)},onComplete:function(t,s,l,C){t.setChildLocalPosition(s,0,0),t.setChildLocalPosition(l,0,0)}})},$7=function(e){e.addTransitionMode(w7,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,l,C){},onProgress:function(t,s,l,C){var S=1-C;t.setChildScale(s,S,S)},onComplete:function(t,s,l,C){t.setChildScale(s,1,1)}}).addTransitionMode(R7,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,s,l,C){},onProgress:function(t,s,l,C){var S=C;t.setChildScale(l,S,S)},onComplete:function(t,s,l,C){t.setChildScale(l,1,1)}}).addTransitionMode(O7,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,l,C){t.setChildVisible(l,!1)},onProgress:function(t,s,l,C){var S;C<.5?(S=1-C*2,t.setChildScale(s,S,S)):(s.visible&&t.setChildVisible(s,!1),l.visible||t.setChildVisible(l,!0),S=(C-.5)*2,t.setChildScale(l,S,S))},onComplete:function(t,s,l,C){t.setChildScale(s,1,1),t.setChildVisible(s,!0),t.setChildScale(l,1,1),t.setChildVisible(l,!0)}})},K7=function(e){e.addTransitionMode(A7,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,s,l,C){},onProgress:function(t,s,l,C){var S;C<.5?(l.visible&&t.setChildVisible(l,!1),C=cr(C),S=Math.floor(255*(1-C)),s.tint=(S<<16)+(S<<8)+S):(s.visible&&t.setChildVisible(s,!1),l.visible||t.setChildVisible(l,!0),C=cr(C),S=Math.floor(255*(1-C)),l.tint=(S<<16)+(S<<8)+S)},onComplete:function(t,s,l,C){s.tint=16777215,t.setChildVisible(s,!0),l.tint=16777215}}).addTransitionMode(L7,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,s,l,C){},onProgress:function(t,s,l,C){t.setChildLocalAlpha(s,1-C),t.setChildLocalAlpha(l,C)},onComplete:function(t,s,l,C){t.setChildLocalAlpha(s,1)}})},j7=function(e){var t=new An(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){var s=this.getShape("rect").fillStyle(16777215),l=1-this.value;switch(this.wipeMode){case"right":s.setSize(this.width*l,this.height).setTopLeftPosition(this.width-s.width,0);break;case"left":s.setSize(this.width*l,this.height).setTopLeftPosition(0,0);break;case"down":s.setSize(this.width,this.height*l).setTopLeftPosition(0,this.height-s.height);break;case"up":s.setSize(this.width,this.height*l).setTopLeftPosition(0,0);break}}});return t},Z7=function(e){var t=j7(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(D7,{ease:"Linear",dir:"out",mask:t,onStart:function(s,l,C,S){s.setCurrentImageMaskEnable(!0),s.maskGameObject.wipeMode="right"},onProgress:function(s,l,C,S){s.maskGameObject.setValue(S)},onComplete:function(s,l,C,S){s.removeMaskGameObject(!1)}}).addTransitionMode(F7,{ease:"Linear",dir:"out",mask:t,onStart:function(s,l,C,S){s.setCurrentImageMaskEnable(!0),s.maskGameObject.wipeMode="left"},onProgress:function(s,l,C,S){s.maskGameObject.setValue(S)},onComplete:function(s,l,C,S){s.removeMaskGameObject(!1)}}).addTransitionMode(B7,{ease:"Linear",dir:"out",mask:t,onStart:function(s,l,C,S){s.setCurrentImageMaskEnable(!0),s.maskGameObject.wipeMode="down"},onProgress:function(s,l,C,S){s.maskGameObject.setValue(S)},onComplete:function(s,l,C,S){s.removeMaskGameObject(!1)}}).addTransitionMode(I7,{ease:"Linear",dir:"out",mask:t,onStart:function(s,l,C,S){s.setCurrentImageMaskEnable(!0),s.maskGameObject.wipeMode="up"},onProgress:function(s,l,C,S){s.maskGameObject.setValue(S)},onComplete:function(s,l,C,S){s.removeMaskGameObject(!1)}})},J7=function(e){var t=new An(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){this.getShape("rect").fillStyle(16777215).setSize(this.width*this.value,this.height*this.value).setCenterPosition(this.centerX,this.centerY)}});return t},Q7=function(e){var t=J7(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(b7,{ease:"Linear",dir:"out",mask:t,onStart:function(s,l,C,S){s.setCurrentImageMaskEnable(!0,!0)},onProgress:function(s,l,C,S){s.maskGameObject.setValue(S)},onComplete:function(s,l,C,S){s.removeMaskGameObject(!1)}}).addTransitionMode(G7,{ease:"Linear",dir:"out",mask:t,onStart:function(s,l,C,S){s.setCurrentImageMaskEnable(!0)},onProgress:function(s,l,C,S){s.maskGameObject.setValue(1-S)},onComplete:function(s,l,C,S){s.removeMaskGameObject(!1)}})},q7=function(e){var t=new An(e,{type:"Graphics",create:[{name:"pie",type:"arc"}],update:function(){var s=Math.max(this.width,this.height)*2,l=90*this.value;this.getShape("pie").fillStyle(16777215).setCenterPosition(this.centerX,0).setRadius(s).setAngle(90-l,90+l).setPie()}});return t},_7=function(e){var t=q7(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(N7,{ease:"Linear",dir:"out",mask:t,onStart:function(s,l,C,S){s.setCurrentImageMaskEnable(!0,!0)},onProgress:function(s,l,C,S){s.maskGameObject.setValue(S)},onComplete:function(s,l,C,S){s.removeMaskGameObject(!1)}}).addTransitionMode(z7,{ease:"Linear",dir:"out",mask:t,onStart:function(s,l,C,S){s.setCurrentImageMaskEnable(!0)},onProgress:function(s,l,C,S){s.maskGameObject.setValue(1-S)},onComplete:function(s,l,C,S){s.removeMaskGameObject(!1)}})},tG=function(e,t){var s=new An(e,{type:"Graphics",create:{rectangle:t},update:function(){for(var l=this.getShapes(),C=this.width/t,S=0;S<t;S++)l[S].fillStyle(16777215).setSize(C*this.value,this.height).setTopLeftPosition(C*S,0)}});return s},eG=function(e){var t=tG(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(k7,{ease:"Linear",dir:"out",mask:t,onStart:function(s,l,C,S){s.setCurrentImageMaskEnable(!0,!0)},onProgress:function(s,l,C,S){s.maskGameObject.setValue(S)},onComplete:function(s,l,C,S){s.removeMaskGameObject(!1)}})},iG=function(e,t,s){var l=new An(e,{type:"Graphics",create:{rectangle:t*s},update:function(){for(var C=this.getShapes(),S=this.width/t,r=this.height/s,T=0;T<s;T++)for(var i=0;i<t;i++)C[i*s+T].fillStyle(16777215).setSize(S*this.value,r*this.value).setCenterPosition(S*(i+.5),r*(T+.5))}});return l},sG=function(e){var t=iG(e.scene,Math.ceil(e.width/40),Math.ceil(e.height/40));e.once("destroy",function(){t.destroy()}).addTransitionMode(V7,{ease:"Linear",dir:"out",mask:t,onStart:function(s,l,C,S){s.setCurrentImageMaskEnable(!0,!0)},onProgress:function(s,l,C,S){s.maskGameObject.setValue(S)},onComplete:function(s,l,C,S){s.removeMaskGameObject(!1)}})},nG=function(e,t){var s=new An(e,{type:"Graphics",create:{lines:t},update:function(){for(var l=this.getShapes(),C=this.width/t,S=C/2,r=0;r<t;r++){var T=C*r,i=this.height*this.value,d=T+S;l[r].fillStyle(16777215).start(T,0).horizontalLineTo(i).arc(d,i,S,180,0,!0).horizontalLineTo(-i).lineTo(T,0).close()}}});return s},rG=function(e){var t=nG(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(U7,{ease:"Linear",dir:"out",mask:t,onStart:function(s,l,C,S){s.setCurrentImageMaskEnable(!0,!0),s.setNextImageMaskEnable(!0,!0)},onProgress:function(s,l,C,S){S<.5?(C.visible&&s.setChildVisible(C,!1),S=cr(S),s.maskGameObject.setValue(S)):(l.visible&&s.setChildVisible(l,!1),C.visible||s.setChildVisible(C,!0),S=cr(S),s.maskGameObject.setValue(S))},onComplete:function(s,l,C,S){s.removeMaskGameObject(!1),s.setChildVisible(l,!0)}})},aG=function(e){e.addTransitionMode(X7,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,s,l,C){s.effect=s.preFX.addPixelate(0),l.effect=l.preFX.addPixelate(0)},onProgress:function(t,s,l,C){if(C<.5){C=cr(C);var S=Math.min(s.width,s.height)/5;s.effect.amount=Math.ceil(S*C)}else{s.visible&&t.setChildVisible(s,!1),C=cr(C);var S=Math.min(l.width,l.height)/5;l.effect.amount=Math.ceil(S*C)}},onComplete:function(t,s,l,C){s.preFX.remove(s.effect),delete s.effect,t.setChildVisible(s,!0),l.preFX.remove(l.effect),delete l.effect}})};const e1=[Y7,W7,H7,$7,K7,Q7,_7,Z7,eG,sG,rG,aG];class A2 extends Md{constructor(t,s,l,C,S,r){super(t,s,l,C,S,r);for(var T=0,i=e1.length;T<i;T++)e1[T](this)}}st.register("transitionImagePack",function(e,t,s,l,C){var S=new A2(this.scene,e,t,s,l,C);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.TransitionImagePack",A2);var oG=function(e,t,s){if(s===void 0?s={}:s===!0&&(s=hG),e.width<=t.width&&e.height<=t.height)return s.width=e.width,s.height=e.height,s;var l=e.width/e.height;s.width=Math.min(e.width,t.width),s.height=Math.min(e.height,t.height);var C=s.width/s.height;return C<l?s.height=s.width/l:C>l&&(s.width=s.height*l),s},hG={};const i1=Phaser.Utils.Objects.IsPlainObject,Hn=Phaser.Utils.Objects.GetValue;class r0 extends di{constructor(t,s,l,C,S,r){i1(s)?(r=s,s=Hn(r,"x",0),l=Hn(r,"y",0),C=Hn(r,"key",void 0),S=Hn(r,"frame",void 0)):i1(S)&&(r=S,S=void 0);var T=Hn(r,"image");T?T.setPosition(s,l).setOrigin(.5):(T=t.add.image(s,l,C,S),C===void 0&&T.setVisible(!1)),super(t,s,l,1,1),this.type="rexImageBox",this.add(T),this.image=T;var i=Hn(r,"width",T.width),d=Hn(r,"height",T.height);this.resize(i,d)}get texture(){return this.image.texture}get frame(){return this.image.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.image.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.image.setFlipY(t))}scaleImage(){var t=this.image,s=oG(t,{width:this.width,height:this.height},!0);return t.setDisplaySize(s.width,s.height),this.resetChildScaleState(t),this}resize(t,s){return super.resize(t,s),this.scaleImage(),this}setTexture(t,s){var l=this.image;return l.setTexture(t,s),t!==null?(this.setChildVisible(l,!0),this.scaleImage()):this.setChildVisible(l,!1),this}}Object.assign(r0.prototype,R2);st.register("imageBox",function(e,t,s,l,C){var S=new r0(this.scene,e,t,s,l,C);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.ImageBox",r0);st.register("fullWindowRectangle",function(e,t){var s=new jg(this.scene,e,t);return this.scene.add.existing(s),s});it(window,"RexPlugins.UI.FullWindowRectangle",jg);st.register("cover",function(e){var t=new Zg(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Cover",Zg);var a0=function(e,t){if(this.scene.sys.scale.autoRound&&(e=Math.floor(e),t=Math.floor(t)),this.width===e&&this.height===t)return this;var s=this.node.style;return s.width=`${e}px`,s.height=`${t}px`,this.updateSize(),this};const s1={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"]},n1={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],outline:["outline","none"],direction:["direction",void 0]},lG={input:"textchange",click:"click",dblclick:"dblclick",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",keydown:"keydown",keyup:"keyup",keypress:"keypress",compositionstart:"compositionStart",compositionend:"compositionEnd",compositionupdate:"compositionUpdate",focus:"focus",blur:"blur",select:"select"},r1=Phaser.Utils.Objects.GetValue;var L2=function(e,t,s,l){var C=r1(l,"preventDefault",!1),S=r1(l,"preTest");for(let r in s)t.addEventListener(r,function(T){(!S||S(e,r))&&e.emit(s[r],e,T),C&&T.preventDefault()})};const uG=Phaser.GameObjects.DOMElement,a1=Phaser.Utils.Objects.IsPlainObject,xs=Phaser.Utils.Objects.GetValue;class wd extends uG{constructor(t,s,l,C,S,r){a1(s)?(r=s,s=xs(r,"x",0),l=xs(r,"y",0),C=xs(r,"width",0),S=xs(r,"height",0)):a1(C)&&(r=C,C=xs(r,"width",0),S=xs(r,"height",0)),r===void 0&&(r={});var T,i=xs(r,"type","text");i==="textarea"?(T=document.createElement("textarea"),T.style.resize="none"):(T=document.createElement("input"),T.type=i),Lu(s1,r,T);var d=xs(r,"style",void 0);d=Lu(n1,r,d);var x=T.style;for(var f in r)f in s1||f in n1||f in x&&(d[f]=r[f]);d["box-sizing"]="border-box",super(t,s,l,T,d),this.type="rexInputText",this.resize(C,S),L2(this,T,lG),XE(T),xs(r,"selectAll",!1)&&this.selectAll(),this._isFocused=!1,this.on("focus",function(){this._isFocused=!0},this).on("blur",function(){this._isFocused=!1},this)}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}get maxLength(){return this.node.maxLength}set maxLength(t){this.node.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.node.minLength}set minLength(t){this.node.minLength=t}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}selectText(t,s){return t===void 0?this.node.select():this.node.setSelectionRange(t,s),this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node.selectionStart}get selectionEnd(){return this.node.selectionEnd}get selectedText(){var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node.selectionStart}set cursorPosition(t){this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){return this.node.style.color}set fontColor(t){this.node.style.color=t}setFontColor(t){return this.fontColor=t,this}setStyle(t,s){return this.node.style[t]=s,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return t===void 0&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}get isFocused(){return this._isFocused}}var dG={resize:a0};Object.assign(wd.prototype,dG);st.register("inputText",function(e){var t=new wd(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.InputText",wd);const o1=Phaser.Utils.Objects.GetValue;var fG=function(e){var t=document.createElement("input");t.type="file";var s=o1(e,"accept",""),l=o1(e,"multiple",!1);return t.setAttribute("accept",s),l?t.setAttribute("multiple",""):t.removeAttribute("multiple"),t},F2=function(e,t){return e===void 0&&(e=0),new Promise(function(s,l){setTimeout(function(){s(t)},e)})},D2=function({game:e,fileInput:t,closeDelay:s}){return hd(Oa(e).events,"focus").then(function(){return F2(s)}).then(function(){var l={files:t.files};return Promise.resolve(l)})};const cG=Phaser.Utils.Objects.GetValue;var vG=function(e,t){var s=cG(t,"closeDelay",200),l=fG(t);return l.click(),D2({game:e,fileInput:l,closeDelay:s}).then(function(C){return l.remove(),Promise.resolve(C)})},I2=function(e){return this.setOrigin(e.originX,e.originY),this.setPosition(e.x,e.y),this.resize(e.displayWidth,e.displayHeight),this},pG=function(e,t,s){if(s===void 0)switch(t){case"image":case"svg":s="textures";break;case"animation":s="json";break;case"tilemapTiledJSON":case"tilemapCSV":s="tilemap";break;case"glsl":s="shader";break;default:s=t;break}e=Oa(e);var l;return s==="textures"?l=e.textures:l=e.cache[s],l},B2=function(e,t,s,l,C,S){if(!(C===null||C===!1))if(Cn(C))C();else{var r=pG(e,s,C);r.exists(l)&&r.remove(l)}var T=e.load;if(S&&T.once(`filecomplete-${s}-${l}`,function(d,x,f){S(f)}),Cn(t))t();else{var i=window.URL.createObjectURL(t);T[s](l,i)}T.start()},gG=function(e,t,s,l,C){var S=this.scene;return B2(S,e,t,s,l,C),this},mG=function(e,t,s,l){var C=this.scene;return new Promise(function(S,r){var T=function(i){S(i)};B2(C,e,t,s,l,T)})};const b2={loadFile:gG,loadFilePromise:mG},xG=Phaser.GameObjects.DOMElement,h1=Phaser.Utils.Objects.IsPlainObject,ts=Phaser.Utils.Objects.GetValue;class Rd extends xG{constructor(t,s,l,C,S,r){h1(s)?(r=s,s=ts(r,"x",0),l=ts(r,"y",0),C=ts(r,"width",0),S=ts(r,"height",0)):h1(C)&&(r=C,C=ts(r,"width",0),S=ts(r,"height",0));var T=document.createElement("input");T.type="file";var i=T.style;i.display="none";var d=document.createElement("label");d.appendChild(T);var x=ts(r,"style",void 0);super(t,s,l,d,x),this.type="rexFileChooser",this.resetFromJSON(r),this.resize(C,S);var f=this;T.onchange=function(){f.emit("change",f)},this.setCloseDelay(ts(r,"closeDelay",200)),T.onclick=function(){D2({game:t,fileInput:T,closeDelay:f.closeDelay}).then(function(){f.emit("select",f)})}}resetFromJSON(t){return this.setAccept(ts(t,"accept","")),this.setMultiple(ts(t,"multiple",!1)),this}setAccept(t){return t===void 0&&(t=""),this.fileInput.setAttribute("accept",t),this}setMultiple(t){return t===void 0&&(t=!0),t?this.fileInput.setAttribute("multiple",""):this.fileInput.removeAttribute("multiple"),this}setCloseDelay(t){return t===void 0&&(t=200),this.closeDelay=t,this}get fileInput(){return this.node.children[0]}open(){return this.fileInput.click(),this}get files(){return this.fileInput.files}}var yG={resize:a0,syncTo:I2};Object.assign(Rd.prototype,yG,b2);st.register("fileChooser",function(e){var t=new Rd(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.FileChooser",Rd);const CG={setDropEnable(e){return e===void 0&&(e=!0),this.dropEnable=e,this},toggleDropEnable(){return this.dropEnable=!this.dropEnable,this}},TG={addFilter(e,t){return this.filters||(this.filters={}),this.filters[e]=t,this},addFilters(e){this.filters||(this.filters={});for(var t in e)this.filters[t]=e[t];return this}};var G2={resize:a0,syncTo:I2};Object.assign(G2,CG,TG,b2);const SG={dragenter:"dragenter",dragleave:"dragleave",dragover:"dragover",drop:"drop"},EG=Phaser.GameObjects.DOMElement,l1=Phaser.Utils.Objects.IsPlainObject,ys=Phaser.Utils.Objects.GetValue;class o0 extends EG{constructor(t,s,l,C,S,r){l1(s)?(r=s,s=ys(r,"x",0),l=ys(r,"y",0),C=ys(r,"width",0),S=ys(r,"height",0)):l1(C)&&(r=C,C=ys(r,"width",0),S=ys(r,"height",0)),r===void 0&&(r={});var T=document.createElement("div"),i=ys(r,"style",void 0);super(t,s,l,T,i),this.type="rexFileDropZone",this.resize(C,S),this._files=[],this.setDropEnable(ys(r,"dropEnable",!0));var d=ys(r,"filters");d&&this.addFilters(d),L2(this,T,SG,{preventDefault:!0,preTest(x){return x.dropEnable}}),this.on("drop",function(x,f){this._files=f.dataTransfer.files;var u=this._files;if(u&&this.filters)for(var o in this.filters){for(var n=this.filters[o],h=[],p=0,a=u.length;p<a;p++){var c=u[p];n(c,u)&&h.push(c)}h.length>0&&this.emit(`drop.${o}`,h)}},this)}get files(){return this._files}}Object.assign(o0.prototype,G2);st.register("fileDropZone",function(e){var t=new o0(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.FileDropZone",o0);var PG=function(e){if(!window.Chart){var t=`Can not find chartjs! Load chartjs in preload stage.
scene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');`;return console.error(t),this}return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,MG(this,e)),this},MG=function(e,t){t===void 0&&(t={}),t.options===void 0&&(t.options={});var s=t.options;s.responsive=!1,s.maintainAspectRatio=!1,s.hasOwnProperty("devicePixelRatio")||(s.devicePixelRatio=1);var l=!1;s.animation===void 0?s.animation={}:s.animation===!1&&(l=!0,s.animation={});var C=s.animation;l&&(C.duration=0);var S=C.onProgress;C.onProgress=function(T){S&&S(T),e.needRedraw()};var r=C.onComplete;return C.onComplete=function(T){r&&r(T),e.needRedraw()},t},wG=function(e){if(this.chart!==void 0)if(typeof e=="string"){for(var t=this.chart.data.datasets,s,l=0,C=t.length;l<C;l++)if(s=t[l],s.label===e)return s}else return this.chart.data.datasets[e]},RG=function(e,t){var s=this.getChartDataset(e);if(s!==void 0){if(typeof t=="string"){var l=this.chart.data.labels;if(t=l.indexOf(t),t===-1)return}return s.data[t]}},OG=function(e,t,s){if(this.chart===void 0)return this;var l=this.getChartDataset(e);if(typeof t=="string"){var C=this.chart.data.labels;if(t=C.indexOf(t),t===-1)return this}return l.data[t]=s,this},AG=function(){return this.chart===void 0?this:(this.chart.update(),this)};let h0=class extends ka{constructor(t,s,l,C,S,r){super(t,s,l,C,S),this.type="rexChart",this.chart=void 0,r!==void 0&&this.setChart(r)}destroy(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(t))}resize(t,s){if(t===this.width&&s===this.height)return this;if(super.resize(t,s),this.chart){var l=this.chart;l.height=this.canvas.height,l.width=this.canvas.width,l.aspectRatio=l.height?l.width/l.height:null,l.update()}return this}};var LG={setChart:PG,getChartDataset:wG,getChartData:RG,setChartData:OG,updateChart:AG};Object.assign(h0.prototype,LG);st.register("chart",function(e,t,s,l,C){var S=new h0(this.scene,e,t,s,l,C);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.Chart",h0);st.register("container",function(e,t,s,l,C){var S=new di(this.scene,e,t,s,l,C);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.Container",di);var FG=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,s=this.sizerChildren,l,C,S;if(this.orientation===0)for(var r=this.space.item,T=!0,i=0,d=s.length;i<d;i++)l=s[i],!l.rexSizer.hidden&&(l.rexSizer.proportion===0||e?S=this.getChildWidth(l):S=0,C=l.rexSizer.padding,S+=C.left+C.right,T?T=!1:S+=r,t+=S);else for(var i=0,d=s.length;i<d;i++)l=s[i],l.hasOwnProperty("rexSizer")&&(l.rexSizer.hidden||(C=l.rexSizer.padding,S=this.getChildWidth(l)+C.left+C.right,t=Math.max(S,t)));return t+this.space.left+this.space.right},DG=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,s=this.sizerChildren,l,C,S;if(this.orientation===0)for(var r=0,T=s.length;r<T;r++)l=s[r],!l.rexSizer.hidden&&(C=l.rexSizer.padding,S=this.getChildHeight(l)+C.top+C.bottom,t=Math.max(S,t));else for(var i=this.space.item,d=!0,r=0,T=s.length;r<T;r++)l=s[r],l.hasOwnProperty("rexSizer")&&(l.rexSizer.hidden||(l.rexSizer.proportion===0||e?S=this.getChildHeight(l):S=0,C=l.rexSizer.padding,S+=C.top+C.bottom,d?d=!1:S+=i,t+=S));return t+this.space.top+this.space.bottom},IG=function(e,t){t===void 0&&(t=this.width);var s,l=e.rexSizer,C=l.padding;if(this.orientation===0)l.proportion>0&&this.proportionLength>0&&(s=l.proportion*this.proportionLength);else if(l.expand){var S=t-this.space.left-this.space.right;s=S-C.left-C.right}return s},BG=function(e,t){t===void 0&&(t=this.height);var s,l=e.rexSizer,C=l.padding;if(this.orientation===0){if(l.expand){var S=t-this.space.top-this.space.bottom;s=S-C.top-C.bottom}}else l.proportion>0&&this.proportionLength>0&&(s=l.proportion*this.proportionLength);return s},bG=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,s,l=0,C=t.length;l<C;l++)s=t[l],s.isRexSizer&&e.push(s);return e},GG=function(){this.hasRatioFitChild=!1;for(var e=this.sizerChildren,t=0,s=e.length;t<s;t++){var l=e[t];l.rexSizer.hidden||l.rexSizer.fitRatio&&($i(l,1,1),this.hasRatioFitChild=!0)}return this._childrenProportion=void 0,this.proportionLength=void 0,Sh.call(this),this},NG=function(e,t){if(this.hasRatioFitChild){var s;this.orientation===0?s=t-this.getInnerPadding("top")-this.getInnerPadding("bottom"):e-this.getInnerPadding("left")-this.getInnerPadding("right");for(var l=this.sizerChildren,C,S,r=0,T=l.length;r<T;r++){var i=l[r];if(!i.rexSizer.hidden){var d=i.rexSizer.fitRatio;d&&(this.orientation===0?(S=s-this.getChildOuterPadding(i,"top")-this.getChildOuterPadding(i,"bottom"),C=S*d):(C=s-this.getChildOuterPadding(i,"top")-this.getChildOuterPadding(i,"bottom"),S=C/d),$i(i,C,S),i.isRexSizer&&i.setMinSize(C,S))}}this.proportionLength=void 0,this._childrenWidth=void 0,this.resolveWidth(e,!0)}};const zG=Phaser.Math.Wrap;var kG=function(){for(var e=this.sizerChildren,t,s,l,C=this.innerLeft,S=this.innerTop,r=this.innerWidth,T=this.innerHeight,i=C,d=S,x,f,u,o,n,h,p,a=this.startChildIndex,c=0,v=e.length;c<v;c++)a===0?p=c:p=zG(c+a,0,v),this.rtl&&(p=v-p-1),t=e[p],!t.rexSizer.hidden&&(s=t.rexSizer,l=s.padding,Eh.call(this,t),t.isRexSpace?(n=0,h=0):(n=this.getExpandedChildWidth(t),h=this.getExpandedChildHeight(t)),t.isRexSizer?(t.runLayout(this,n,h),i0(t,this)):$i(t,n,h),n===void 0&&(n=Bt(t)),h===void 0&&(h=Ot(t)),this.orientation===0?(x=i+l.left,s.proportion===0||this.proportionLength===0?u=n:u=s.proportion*this.proportionLength,f=d+l.top,o=T-l.top-l.bottom):(x=i+l.left,u=r-l.left-l.right,f=d+l.top,s.proportion===0||this.proportionLength===0?o=h:o=s.proportion*this.proportionLength),Ph.call(this,t,x,f,u,o,s.align),this.orientation===0?i+=u+l.left+l.right+this.space.item:d+=o+l.top+l.bottom+this.space.item)},VG=function(t){var t=Ug.call(this,t);if(this.proportionLength===void 0&&this.orientation===0){var s=t-this.childrenWidth;s>0?(s=t-this.getChildrenWidth(!1),this.proportionLength=s/this.childrenProportion):this.proportionLength=0}return t},UG=function(t){var t=Xg.call(this,t);if(this.proportionLength===void 0&&this.orientation===1){var s=t-this.childrenHeight;s>0?(s=t-this.getChildrenHeight(!1),this.proportionLength=s/this.childrenProportion):this.proportionLength=0}return t};const XG=Phaser.GameObjects.Zone;class l0 extends XG{constructor(t){super(t,0,0,1,1),this.isRexSpace=!0}}var YG=function(e,t){var s=this.sizerChildren;if(s.length===0)return-1;for(var l=-1,C=1/0,S=0,r=s.length;S<r;S++){var T=s[S],i;this.orientation===0?i=Math.abs(T.left-e):i=Math.abs(T.top-t),C>i&&(C=i,l=S)}var T=s[s.length-1],i;return this.orientation===0?i=Math.abs(T.right-e):i=Math.abs(T.bottom-t),C>i&&(C=i,l=S+1),l};const N2=Phaser.Utils.Objects.IsPlainObject,Cs=Phaser.Utils.Objects.GetValue,u1=Phaser.Display.Align.CENTER,WG={min:0,full:-1};var cc=function(e,t,s,l,C,S,r,T,i,d){yh.call(this,e);var x=e.isRexSpace,f=typeof t;if(t===null)return this;if(f!=="number"){if(f==="string")t=WG[t];else if(N2(t)){var u=t;t=Cs(u,"proportion",void 0),s=Cs(u,"align",u1),l=Cs(u,"padding",0),C=Cs(u,"expand",!1),S=Cs(u,"key",void 0),r=Cs(u,"index",void 0),e.isRexSizer||(T=Cs(u,"minWidth",void 0),i=Cs(u,"minHeight",void 0)),d=Cs(u,"fitRatio",0)}}typeof s=="string"&&(s=xi[s]),t===void 0&&(t=x?1:0),s===void 0&&(s=u1),l===void 0&&(l=0),C===void 0&&(C=!1),T===void 0&&(x?T=0:e.isRexSizer||(T=e._minWidth)),i===void 0&&(x?i=0:e.isRexSizer||(i=e._minHeight)),d===void 0&&(d=0);var u=this.getSizerConfig(e);return u.proportion=t,u.align=s,u.padding=Va(l),u.expand=C,u.fitRatio=t===0?d:0,r===void 0||r>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(r,0,e),e.isRexSizer||(t>0&&(this.orientation===0?e.minWidth=T===void 0?Bt(e):T:e.minHeight=i===void 0?Ot(e):i),C&&(this.orientation===0?e.minHeight=i:e.minWidth=T)),S!==void 0&&this.addChildrenMap(S,e),this};const HG={add:cc,addSpace(e){return this.insertSpace(void 0,e),this},insertSpace(e,t){return t===void 0&&(t=1),cc.call(this,new l0(this.scene),{proportion:t,minWidth:0,minHeight:0,index:e}),this},insert(e,t,s,l,C,S,r,T){return N2(s)&&(s.index=e),cc.call(this,t,s,l,C,S,r,e,T),this},insertAtPosition(e,t,s,l,C,S,r,T,i){var d=YG.call(this,e,t);return d===-1&&(d=void 0),this.insert(d,s,l,C,S,r,T,i),this}},$G=Phaser.Utils.Array.Remove,KG={remove(e,t){return this.getParentSizer(e)!==this?this:($G(this.sizerChildren,e),Ch.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,Sd.call(this,e),this}},jG={getChildAlign(e){return this.getSizerConfig(e).align},setChildAlign(e,t){return typeof t=="string"&&(t=xi[t]),this.getSizerConfig(e).align=t,this}},ZG={getChildProportion(e){return this.getSizerConfig(e).proportion},setChildProportion(e,t){return this.getSizerConfig(e).proportion=t,this}},JG={getChildExpand(e){return this.getSizerConfig(e).expand},setChildExpand(e,t){return this.getSizerConfig(e).expand=t,this}};var z2={getChildrenWidth:FG,getChildrenHeight:DG,getExpandedChildWidth:IG,getExpandedChildHeight:BG,getChildrenSizers:bG,preLayout:GG,postResolveSize:NG,layoutChildren:kG,resolveWidth:VG,resolveHeight:UG};Object.assign(z2,HG,KG,jG,ZG,JG);var QG=function(){for(var e=0,t=this.sizerChildren,s,l,C=0,S=t.length;C<S;C++)s=t[C],!s.rexSizer.hidden&&(l=s.rexSizer.proportion,l>0&&(e+=l));return e},qG={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},Od=function(e){return typeof e=="string"&&(e=qG[e]),e};const vc=Phaser.Utils.Objects.IsPlainObject,vi=Phaser.Utils.Objects.GetValue;class Rt extends Sr{constructor(t,s,l,C,S,r,T){vc(s)?(T=s,s=vi(T,"x",0),l=vi(T,"y",0),C=vi(T,"width",void 0),S=vi(T,"height",void 0),r=vi(T,"orientation",0)):vc(C)?(T=C,C=vi(T,"width",void 0),S=vi(T,"height",void 0),r=vi(T,"orientation",0)):vc(r)&&(T=r,r=vi(T,"orientation",0)),r===void 0&&(r=0),super(t,s,l,C,S,T),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(r),this.setItemSpacing(vi(T,"space.item",0)),this.setStartChildIndex(vi(T,"startChildIndex",0)),this.setRTL(vi(T,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Od(t),this}setItemSpacing(t){return this.space.item=t,this}setStartChildIndex(t){return this.startChildIndex=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get childrenProportion(){return this._childrenProportion===void 0&&(this._childrenProportion=QG.call(this)),this._childrenProportion}}Object.assign(Rt.prototype,z2);st.register("sizer",function(e,t,s,l,C,S){var r=new Rt(this.scene,e,t,s,l,C,S);return this.scene.add.existing(r),r});it(window,"RexPlugins.UI.Sizer",Rt);var k2=function(){return Array.prototype.reduce.call(arguments,_G,0)},_G=function(e,t){return e+t},tN=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);for(var t=0,s,l=this.sizerChildren,C,S,r,T,i=0;i<this.columnCount;i++){if(T=this.columnProportions[i],s=0,T===0||e){for(var d=0;d<this.rowCount;d++)C=l[d*this.columnCount+i],C&&(C.rexSizer.hidden||(S=C.rexSizer.padding,r=this.getChildWidth(C)+S.left+S.right,s=Math.max(s,r)));t+=s}this.columnWidth[i]=s}var x=this.space,f=Math.max(x.indentLeftOdd,x.indentLeftEven);return t+k2(x.left,f,...x.column,x.right)},eN=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);for(var t=0,s,l=this.sizerChildren,C,S,r,T,i=0;i<this.rowCount;i++){if(T=this.rowProportions[i],s=0,T===0||e){for(var d=0;d<this.columnCount;d++)C=l[i*this.columnCount+d],C&&(C.rexSizer.hidden||(r=C.isRexSizer?Math.max(C.minHeight,C.childrenHeight):C.hasOwnProperty("minHeight")?C.minHeight:Ot(C),S=C.rexSizer.padding,r+=S.top+S.bottom,s=Math.max(s,r)));t+=s}this.rowHeight[i]=s}var x=this.space,f=Math.max(x.indentTopOdd,x.indentTopEven);return t+k2(x.top,f,...x.row,x.bottom)},iN=function(e,t){var s,l=e.rexSizer;if(l.expand){var C=l.padding;s=t-C.left-C.right}return s},sN=function(e,t){var s,l=e.rexSizer;if(l.expand){var C=l.padding;s=t-C.top-C.bottom}return s},nN=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,s,l=0,C=t.length;l<C;l++)s=t[l],s&&s.isRexSizer&&e.push(s);return e},rN=function(){return this._totalColumnProportions=void 0,this._totalRowProportions=void 0,this.proportionWidthLength=void 0,this.proportionHeightLength=void 0,Sh.call(this),this},aN=function(){for(var e,t,s,l=this.innerLeft,C=this.innerTop,S,r=C,T,i,d,x,f,u,o=this.space.column,n=this.space.row,h=this.space.indentLeftOdd,p=this.space.indentLeftEven,a=this.space.indentTopOdd,c=this.space.indentTopEven,v,g,m,y,P=0;P<this.rowCount;P++){g=this.getRowHeight(P),m=P%2?p:h,S=l+m;for(var M=0;M<this.columnCount;M++){if(v=this.getColumnWidth(M),e=this.getChildAt(M,P),!e||e.rexSizer.hidden){S+=v+o[M];continue}Eh.call(this,e),f=this.getExpandedChildWidth(e,v),u=this.getExpandedChildHeight(e,g),e.isRexSizer?(e.runLayout(this,f,u),i0(e,this)):$i(e,f,u),t=e.rexSizer,s=t.padding,T=S+s.left,d=v-s.left-s.right,y=M%2?c:a,i=r+y+s.top,x=g-s.top-s.bottom,Ph.call(this,e,T,i,d,x,t.align),S+=v+o[M]}r+=g+n[P]}},oN=function(t){var t=Ug.call(this,t);if(this.proportionWidthLength===void 0){var s=this.totalColumnProportions;if(s>0){var l=t-this.getChildrenWidth(!1);l>=0&&(this.proportionWidthLength=l/s)}else this.proportionWidthLength=0}return t},hN=function(t){var t=Xg.call(this,t);if(this.proportionHeightLength===void 0){var s=this.totalRowProportions;if(s>0){var l=t-this.getChildrenHeight(!1);l>=0&&(this.proportionHeightLength=l/s)}else this.proportionHeightLength=0}return t},lN=function(e){var t,s,l;for(var C in this.sizerChildren)t=this.sizerChildren[C],t&&t.isRexSizer&&!t.ignoreLayout&&(l=this.getColumnWidth(parseInt(C)%this.columnCount),s=this.getExpandedChildWidth(t,l),s=t.resolveWidth(s),t.resolveChildrenWidth(s))},uN=function(e){var t,s,l;for(var C in this.sizerChildren)t=this.sizerChildren[C],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(l=this.getColumnWidth(parseInt(C)%this.columnCount),s=this.getExpandedChildWidth(t,l),t.isRexSizer&&(s=t.resolveWidth(s)),t.runWidthWrap(s));return this};const dN=Phaser.Utils.Objects.IsPlainObject,Hr=Phaser.Utils.Objects.GetValue,d1=Phaser.Display.Align.CENTER;var f1=function(e,t,s,l,C){if(typeof e=="number"||typeof t=="number")if(e===void 0){for(var S,r=0;r<l;r++)if(S=t*l+r,!s[S])return S}else if(t===void 0){for(var S,r=0;r<C;r++)if(S=r*l+e,!s[S])return S}else{var S=t*l+e;if(!s[S])return S}else if(t===!0){for(var S,r=0;r<l;r++)for(var T=0;T<C;T++)if(S=T*l+r,!s[S])return S}else for(var r=0,i=s.length;r<i;r++)if(!s[r])return r;return null},fN=function(e,t,s,l,C,S,r){if(yh.call(this,e),dN(t)){var i=t;t=Hr(i,"column",void 0),s=Hr(i,"row",void 0),l=Hr(i,"align",d1),C=Hr(i,"padding",0),S=Hr(i,"expand",!1),r=Hr(i,"key",void 0)}var T=f1(t,s,this.sizerChildren,this.columnCount,this.rowCount);if(T===null){if(typeof t=="number"&&typeof s=="number")return this;s===!0||typeof s=="number"?this.addEmptyColumn():this.addEmptyRow(),T=f1(t,s,this.sizerChildren,this.columnCount,this.rowCount)}typeof l=="string"&&(l=xi[l]),l===void 0&&(l=d1),C===void 0&&(C=0),S===void 0&&(S=!0);var i=this.getSizerConfig(e);return i.align=l,i.padding=Va(C),i.expand=S,this.sizerChildren[T]=e,r!==void 0&&this.addChildrenMap(r,e),this};const cN={add:fN};var qr=function(e,t,s,l){s===void 0&&(s=0),l===void 0&&(l=e.length-1);for(var C=s;C<=l;C++)e[C]=t;return e};const vN={remove(e,t){if(this.getParentSizer(e)!==this)return this;var s=this.sizerChildren.indexOf(e);return s!==-1&&(this.sizerChildren[s]=null),Ch.call(this,e,t),this},removeAt(e,t,s){var l=this.getChildAt(e,t);return l&&this.remove(l,s),this},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--){var s=this.sizerChildren[t];s&&this.remove(s,e)}return this},clear(e){return qr(this.sizerChildren,null),Sd.call(this,e),this}},c1=Phaser.Utils.Objects.GetValue;var pN=function(e,t,s,l,C){if(s===void 0&&(s=0),l===void 0&&(l=0),this.columnCount=e,this.rowCount=t,this.gridCount=e*t,this.sizerChildren===void 0?this.sizerChildren=[]:this.removeAll(),this.sizerChildren.length=e*t,qr(this.sizerChildren,null),this.columnProportions=[],this.columnProportions.length=e,typeof s=="number")qr(this.columnProportions,s);else for(var S=0;S<e;S++)this.columnProportions[S]=s[S]||0;if(this.rowProportions=[],this.rowProportions.length=t,typeof l=="number")qr(this.rowProportions,l);else for(var S=0;S<t;S++)this.rowProportions[S]=l[S]||0;this.columnWidth=[],this.columnWidth.length=e,this.rowHeight=[],this.rowHeight.length=t,this.space.column=[],this.space.column.length=e-1;var r=c1(C,"column",0);if(typeof r=="number")qr(this.space.column,r);else for(var S=0,T=this.space.column.length;S<T;S++)this.space.column[S]=r[S]||0;this.space.row=[],this.space.row.length=t-1;var i=c1(C,"row",0);if(typeof i=="number")qr(this.space.row,i);else for(var S=0,T=this.space.row.length;S<T;S++)this.space.row[S]=i[S]||0;return this},V2=function(e,t,s){t===void 0&&(t=this.rowProportions[0]||0),s===void 0&&(s=this.space.row[0]||0),this.rowCount+=1,this.gridCount+=this.columnCount;for(var l=[e*this.columnCount,0],C=0;C<this.columnCount;C++)l.push(null);return this.sizerChildren.splice.apply(this.sizerChildren,l),this.rowProportions.push(t),this.rowHeight.length+=1,this.space.row.splice(e,0,s),this},gN=function(e,t){return V2.call(this,this.rowCount,e,t),this},U2=function(e,t,s){t===void 0&&(t=this.columnProportions[0]||0),s===void 0&&(s=this.space.column[0]||0),this.columnCount+=1,this.gridCount+=this.rowCount;for(var l=this.rowCount-1;l>=0;l--){var C=l*this.columnCount+e;this.sizerChildren.splice(C,0,null)}return this.columnProportions.push(t),this.columnWidth.length+=1,this.space.column.splice(e,0,s),this},mN=function(e,t){return U2.call(this,this.columnCount,e,t),this},X2={getChildrenWidth:tN,getChildrenHeight:eN,getExpandedChildWidth:iN,getExpandedChildHeight:sN,getChildrenSizers:nN,preLayout:rN,layoutChildren:aN,resolveWidth:oN,resolveHeight:hN,resolveChildrenWidth:lN,runWidthWrap:uN,resetGrid:pN,inseryEmptyRow:V2,addEmptyRow:gN,insertEmptyColumn:U2,addEmptyColumn:mN};Object.assign(X2,cN,vN);var xN=function(){for(var e=0,t,s=0;s<this.columnCount;s++)t=this.columnProportions[s],t>0&&(e+=t);return e},yN=function(){for(var e=0,t,s=0;s<this.rowCount;s++)t=this.rowProportions[s],t>0&&(e+=t);return e};const Sl=Phaser.Utils.Objects.IsPlainObject,Gt=Phaser.Utils.Objects.GetValue;class Ln extends Sr{constructor(t,s,l,C,S,r,T,i,d,x){Sl(s)?(x=s,s=Gt(x,"x",0),l=Gt(x,"y",0),C=Gt(x,"width",void 0),S=Gt(x,"height",void 0),r=Gt(x,"column",x.col||0),T=Gt(x,"row",0),i=Gt(x,"columnProportions",0),d=Gt(x,"rowProportions",0)):Sl(C)?(x=C,C=Gt(x,"width",void 0),S=Gt(x,"height",void 0),r=Gt(x,"column",x.col||0),T=Gt(x,"row",0),i=Gt(x,"columnProportions",0),d=Gt(x,"rowProportions",0)):Sl(r)?(x=r,r=Gt(x,"column",x.col||0),T=Gt(x,"row",0),i=Gt(x,"columnProportions",0),d=Gt(x,"rowProportions",0)):Sl(i)&&(x=i,i=Gt(x,"columnProportions",0),d=Gt(x,"rowProportions",0)),super(t,s,l,C,S,x),this.type="rexGridSizer",this.resetGrid(r,T,i,d,Gt(x,"space",void 0)),this.setIndentLeft(Gt(x,"space.indentLeftOdd",0),Gt(x,"space.indentLeftEven",0)),this.setIndentTop(Gt(x,"space.indentTopOdd",0),Gt(x,"space.indentTopEven",0)),this.addChildrenMap("items",this.sizerChildren);var f=Gt(x,"createCellContainerCallback");if(f)for(var l=0,u=this.rowCount;l<u;l++)for(var s=0,o=this.columnCount;s<o;s++){var n={column:s,row:l},h=f(t,s,l,n);h&&this.add(h,n)}}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.columnProportions=void 0,this.rowProportions=void 0,this.columnWidth=void 0,this.rowHeight=void 0)}setIndentLeft(t,s){return this.space.indentLeftOdd=t,this.space.indentLeftEven=s,this}setIndentTop(t,s){return this.space.indentTopOdd=t,this.space.indentTopEven=s,this}setColumnProportion(t,s){return t>=this.columnProportions.length?this:(this.columnProportions[t]=s,this)}setRowProportion(t,s){return t>=this.rowProportions.length?this:(this.rowProportions[t]=s,this)}get totalColumnProportions(){return this._totalColumnProportions===void 0&&(this._totalColumnProportions=xN.call(this)),this._totalColumnProportions}get totalRowProportions(){return this._totalRowProportions===void 0&&(this._totalRowProportions=yN.call(this)),this._totalRowProportions}getChildAt(t,s){return this.sizerChildren[s*this.columnCount+t]}childToGridIndex(t,s){if(!t)return null;var l=this.sizerChildren.indexOf(t);return l===-1?null:(s===void 0&&(s={}),s.x=l%this.columnCount,s.y=Math.floor(l/this.columnCount),s)}getColumnWidth(t){var s=this.columnProportions[t],l=s===0?this.columnWidth[t]:s*this.proportionWidthLength;return l}getRowHeight(t){var s=this.rowProportions[t],l=s===0?this.rowHeight[t]:s*this.proportionHeightLength;return l}}Object.assign(Ln.prototype,X2);st.register("gridSizer",function(e,t,s,l,C,S,r,T,i){var d=new Ln(this.scene,e,t,s,l,C,S,r,T,i);return this.scene.add.existing(d),d});it(window,"RexPlugins.UI.GridSizer",Ln);var CN=function(){return this.rexSizer.hidden?0:this.maxChildWidth+this.space.left+this.space.right},TN=function(){return this.rexSizer.hidden?0:this.widthWrapResult.height+this.space.top+this.space.bottom},SN=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,s,l=0,C=t.length;l<C;l++)s=t[l],s!==`
`&&s.isRexSizer&&e.push(s);return e},EN=function(){return this._maxChildWidth=void 0,this._maxChildHeight=void 0,Sh.call(this),this},PN=function(){for(var e=this.innerWidth,t=this.justifyPercentage,s=this.space.item,l=this.space.line,C=this.space.indentLeftOdd,S=this.space.indentLeftEven,r=this.space.indentTopOdd,T=this.space.indentTopEven,i,d,x,f=0,u,o,n=this.innerLeft,h=this.innerTop,p,a,c,v,g=this.widthWrapResult.lines,m,y,P,M,E=h,w=0,R=g.length;w<R;w++){switch(m=g[w],y=m.children,this.rtl&&y.reverse(),u=w%2?S:C,M=n+u,P=e-m.width,this.align){case 0:break;case 1:M+=P;break;case 2:M+=P/2;break;case 3:f=pc(e,P,t,y.length);break;case 4:f=pc(e,P,t,y.length),f===0&&(M+=P);break;case 5:f=pc(e,P,t,y.length),f===0&&(M+=P/2);break}for(var O=!0,A=0,F=y.length;A<F;A++)i=y[A],!i.rexSizer.hidden&&(d=i.rexSizer,x=d.padding,Eh.call(this,i),p=M+x.left,O?O=!1:p+=s,o=A%2?T:r,a=E+o+x.top,c=Bt(i),v=Ot(i),M=p+c+x.right+f,Ph.call(this,i,p,a,c,v,d.align));E+=m.height+l}},pc=function(e,t,s,l){return t/e<=s?t/(l-1):0},MN=function(e,t){t===void 0?t={lines:[],width:0,height:0}:(t.lines.length=0,t.width=0,t.height=0);for(var s=this.sizerChildren,l=this.space.item,C=this.space.line,S=this.space.indentLeftOdd,r=this.space.indentLeftEven,T=this.space.indentTopOdd,i=this.space.indentTopEven,d,x,f,u=0,o,n=t.lines,h=void 0,p,a=0,c=s.length;a<c;a++){if(d=s[a],d===`
`)d=void 0,x=0,p=!0;else{if(d.rexSizer.hidden)continue;d.isRexSizer&&d.layout(),x=wN(d),p=u<x||h===void 0}if(p){h&&(h.width=e-(u+l),t.width=Math.max(t.width,h.width),t.height+=h.height+C),h={children:[],height:0},n.push(h);var o=n.length%2?S:r;u=e-o}u-=x+l,d&&(h.children.push(d),f=RN(d),h.height=Math.max(h.height,f))}return h&&(h.width=e-(u+l),t.width=Math.max(t.width,h.width),t.height+=h.height),t.height+=Math.max(T,i),t},wN=function(e){var t=e.rexSizer.padding;return Bt(e)+t.left+t.right},RN=function(e){var t=e.rexSizer.padding;return Ot(e)+t.top+t.bottom},ON=function(e){var t=e-this.space.left-this.space.right;this.widthWrapResult=MN.call(this,t,this.widthWrapResult),l2.call(this,e)};const v1=Phaser.Math.Distance.Between;var AN=function(e,t){var s=this.sizerChildren;if(s.length===0)return-1;for(var l=-1,C=1/0,S=0,r=s.length;S<r;S++){var T=s[S];if(!(Math.abs(T.centerY-t)>T.height/2)){var d=v1(T.left,T.centerY,e,t);C>d&&(C=d,l=S);var i=s[S+1];if(!(i&&i.y===T.y)){var d=v1(T.right,T.centerY,e,t);C>d&&(C=d,l=S+1)}}}return l};const LN=Phaser.Utils.Objects.IsPlainObject,gc=Phaser.Utils.Objects.GetValue,FN=Phaser.Display.Align.CENTER;var mc=function(e,t,s,l){if(e===`
`)return this.addNewLine(),this;if(yh.call(this,e),LN(t)){var C=t;t=gc(C,"padding",0),s=gc(C,"key",void 0),l=gc(C,"index",void 0)}t===void 0&&(t=0);var C=this.getSizerConfig(e);return C.align=FN,C.padding=Va(t),l===void 0||l>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(l,0,e),s!==void 0&&this.addChildrenMap(s,e),this};const DN={add(e,t,s){if(Hi(e))for(var l=e,C=0,S=l.length;C<S;C++)mc.call(this,l[C],t);else mc.call(this,e,t,s);return this},addNewLine(){return this.sizerChildren.push(`
`),this},insert(e,t,s,l){return mc.call(this,t,s,l,e),this},insertAtPosition(e,t,s,l,C){var S=AN.call(this,e,t);return S===-1&&(S=void 0),this.insert(S,s,l,C),this}},IN=Phaser.Utils.Array.Remove,BN={remove(e,t){return this.getParentSizer(e)!==this?this:(IN(this.sizerChildren,e),Ch.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,Sd.call(this,e),this}};var Y2={getChildrenWidth:CN,getChildrenHeight:TN,getChildrenSizers:SN,preLayout:EN,layoutChildren:PN,runWidthWrap:ON};Object.assign(Y2,DN,BN);var bN=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,s,l,C=0,S=e.length;C<S;C++)s=e[C],s!==`
`&&(l=this.getChildWidth(s),t=Math.max(l,t));return t},GN=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,s,l,C=0,S=e.length;C<S;C++)s=e[C],s!==`
`&&(l=s.isRexSizer?Math.max(s.minHeight,s.childrenHeight):s.hasOwnProperty("minHeight")?s.minHeight:Ot(s),t=Math.max(l,t));return t};const p1=Phaser.Utils.Objects.IsPlainObject,Oe=Phaser.Utils.Objects.GetValue;class Er extends Sr{constructor(t,s,l,C,S,r){p1(s)?(r=s,s=Oe(r,"x",0),l=Oe(r,"y",0),C=Oe(r,"width",void 0),S=Oe(r,"height",void 0)):p1(C)&&(r=C,C=Oe(r,"width",void 0),S=Oe(r,"height",void 0)),super(t,s,l,C,S,r),this.type="rexFixWidthSizer",this.sizerChildren=[],this.setOrientation(Oe(r,"orientation",0)),this.setItemSpacing(Oe(r,"space.item",0)),this.setLineSpacing(Oe(r,"space.line",0)),this.setIntentLeft(Oe(r,"space.indentLeftOdd",0),Oe(r,"space.indentLeftEven",0)),this.setIntentTop(Oe(r,"space.indentTopOdd",0),Oe(r,"space.indentTopEven",0)),this.setAlign(Oe(r,"align",0)),this.setJustifyPercentage(Oe(r,"justifyPercentage",.25)),this.setRTL(Oe(r,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=Od(t),this}setItemSpacing(t){return this.space.item=t,this}setLineSpacing(t){return this.space.line=t,this}setIntentLeft(t,s){return this.space.indentLeftOdd=t,this.space.indentLeftEven=s,this}setIntentTop(t,s){return this.space.indentTopOdd=t,this.space.indentTopEven=s,this}setAlign(t){return typeof t=="string"&&(t=NN[t]),this.align=t,this}setJustifyPercentage(t){return this.justifyPercentage=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get maxChildWidth(){return this._maxChildWidth===void 0&&(this._maxChildWidth=bN.call(this)),this._maxChildWidth}get maxChildHeight(){return this._maxChildHeight===void 0&&(this._maxChildHeight=GN.call(this)),this._maxChildHeight}}const NN={left:0,top:0,right:1,bottom:1,center:2,justify:3,"justify-left":3,"justify-top":3,"justify-right":4,"justify-bottom":4,"justify-center":5};Object.assign(Er.prototype,Y2);st.register("fixWidthSizer",function(e,t,s,l,C){var S=new Er(this.scene,e,t,s,l,C);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.FixWidthSizer",Er);st.register("overlapSizer",function(e,t,s,l,C){var S=new Oi(this.scene,e,t,s,l,C);return this.scene.add.existing(S),S});it(window,"RexPlugins.UI.OverlapSizer",Oi);st.register("space",function(){var e=new l0(this.scene);return e});it(window,"RexPlugins.UI.Space",l0);var El=function(e,t,s){if(e){var l=t==null,C=s==null;return l&&C||(l||(e.displayWidth=t),C||(e.displayHeight=s),l&&(e.scaleX=e.scaleY),C&&(e.scaleY=e.scaleX)),e}},zN=function(e){e===void 0?e={}:typeof e=="string"&&(e={text:e});var t=e.text||"";this.setText(t);var s=this.childrenMap.icon;if(s){e.icon?this.show(s):this.hide(s);var l=e.iconSize;l&&(this.setChildDisplaySize(s,l,l),this.iconWidth!==void 0&&this.setIconSize(l)),this.setIconTexture(e.icon,e.iconFrame)}var C=this.childrenMap.action;if(C){e.action?this.show(C):this.hide(C);var S=e.actionSize;S&&(this.setChildDisplaySize(C,S,S),this.actionWidth!==void 0&&this.setActionSize(S)),this.setActionTexture(e.action,e.actionFrame)}return this},kN={appendText:iE,resetDisplayContent:zN};class u0 extends Rt{get text(){var t=this.childrenMap.text;return t?t.text:""}set text(t){var s=this.childrenMap.text;s&&s.setText(t)}setText(t){return this.text=t,this}setIconTexture(t,s){var l=this.childrenMap.icon;return l?(l.setTexture(t,s),this.iconWidth!==void 0&&(El(l,this.iconWidth,this.iconHeight),this.resetChildScaleState(l)),this):this}setTexture(t,s){return this.setIconTexture(t,s),this}setIconSize(t,s){return s===void 0&&(s=t),this.iconWidth=t,this.iconHeight=s,this}get texture(){var t=this.childrenMap.icon;if(t)return t.texture}get frame(){var t=this.childrenMap.icon;if(t)return t.frame}setActionTexture(t,s){var l=this.childrenMap.action;return l===void 0?this:(l.setTexture(t,s),this.actionWidth!==void 0&&(El(l,this.actionWidth,this.actionHeight),this.resetChildScaleState(l)),this)}get actionTexture(){var t=this.childrenMap.action;if(t)return t.texture}get actionFrame(){var t=this.childrenMap.action;if(t)return t.frame}setActionSize(t,s){return s===void 0&&(s=t),this.actionWidth=t,this.actionHeight=s,this}preLayout(){var t=this.childrenMap.icon;t&&this.iconWidth!==void 0&&El(t,this.iconWidth,this.iconHeight);var s=this.childrenMap.action;s&&this.actionWidth!==void 0&&El(s,this.actionWidth,this.actionHeight),super.preLayout()}runLayout(t,s,l){if(this.ignoreLayout)return this;super.runLayout(t,s,l);var C=this.childrenMap.iconMask;C&&(C.setPosition(),this.resetChildPositionState(C));var S=this.childrenMap.actionMask;return S&&(S.setPosition(),this.resetChildPositionState(S)),this}resize(t,s){super.resize(t,s);var l=this.childrenMap.iconMask;l&&l.resize();var C=this.childrenMap.actionMask;return C&&C.resize(),this}}Object.assign(u0.prototype,kN);var Ki=function(e,t,s,l){var C=new ep(t,s,l);if(e&&!e.isRexSizer){var S=C.createGeometryMask();e.setMask(S),this.once("destroy",function(){e.setMask(),S.destroy()})}return this.pin(C),C};const Ft=Phaser.Utils.Objects.GetValue;class Pr extends u0{constructor(t,s){super(t,s),this.type="rexLabel";var l=Ft(s,"background",void 0),C=Ft(s,"icon",void 0),S=Ft(s,"iconMask",void 0),r=Ft(s,"text",void 0),T=Ft(s,"action",void 0),i=Ft(s,"actionMask",void 0),d=Ft(s,"align",void 0);if(l&&this.addBackground(l),(d==="right"||d==="bottom"||d==="center")&&this.addSpace(),C){var x;this.orientation===0?(r||T)&&(x={right:Ft(s,"space.icon",0),top:Ft(s,"space.iconTop",0),bottom:Ft(s,"space.iconBottom",0)}):(r||T)&&(x={bottom:Ft(s,"space.icon",0),left:Ft(s,"space.iconLeft",0),right:Ft(s,"space.iconRight",0)});var f=Ft(s,"squareFitIcon",!1)?1:0;if(this.add(C,{proportion:0,padding:x,fitRatio:f}),S&&(S=Ki.call(this,C,C,1)),!f){var u=Ft(s,"iconSize",void 0);this.setIconSize(Ft(s,"iconWidth",u),Ft(s,"iconHeight",u))}}if(r){var o=Ft(s,"space.text",0),n=Ft(s,"expandTextWidth",!1),h=Ft(s,"expandTextHeight",!1),p,x,a;this.orientation===0?(p=n?1:0,T&&(x={right:o}),a=h):(p=h?1:0,T&&(x={bottom:o}),a=n),this.add(r,{proportion:p,expand:a,padding:x})}if(T){var x;this.orientation===0?x={top:Ft(s,"space.actionTop",0),bottom:Ft(s,"space.actionBottom",0)}:x={left:Ft(s,"space.actionLeft",0),right:Ft(s,"space.actionRight",0)};var f=Ft(s,"squareFitAction",!1)?1:0;if(this.add(T,{proportion:0,padding:x,fitRatio:f}),i&&(i=Ki.call(this,T,T,1)),!f){var c=Ft(s,"actionSize");this.setActionSize(Ft(s,"actionWidth",c),Ft(s,"actionHeight",c))}}d==="center"&&this.addSpace(),this.addChildrenMap("background",l),this.addChildrenMap("icon",C),this.addChildrenMap("iconMask",S),this.addChildrenMap("text",r),this.addChildrenMap("action",T),this.addChildrenMap("actionMask",i)}}st.register("label",function(e){var t=new Pr(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Label",Pr);const VN=Phaser.GameObjects.Image,g1=Phaser.GameObjects.NineSlice;var Ci=function(e,t){var s;t&&(t.hasOwnProperty("type")?s=t.type:t.hasOwnProperty("leftWidth")?s="nineSlice":t.hasOwnProperty("key")&&(s="image"));var l;switch(s){case"image":l=new VN(e,0,0,t.key,t.frame);break;case"nineSlice":g1&&!t.hasOwnProperty("stretchMode")?l=new g1(e,0,0,t.key,t.frame,0,0,t.leftWidth,t.rightWidth,t.topHeight,t.bottomHeight):l=new _u(e,t);break;default:l=new id(e,t);break}return e.add.existing(l),l};const $r=Phaser.Utils.Objects.GetValue,UN=Phaser.GameObjects.Text,XN=Phaser.GameObjects.BitmapText;var W2=function(e,t){var s=$r(t,"$type");s===void 0&&$r(t,"key")&&(s="bitmaptext");var l;switch(s){case"bitmaptext":var C=$r(t,"key"),S=$r(t,"size");S===void 0&&(S=$r(t,"fontSize")),l=new XN(e,0,0,C,"",S);var r=$r(t,"color");r!==void 0&&l.setTint(r);break;case"text":l=new UN(e,0,0,"",t);break;default:l=new lg(e,0,0,"",t);break}return e.add.existing(l),l};const YN=Phaser.GameObjects.BitmapText;var H2=function(e){return e instanceof YN};const WN=Phaser.GameObjects.Text;var d0=function(e){return e instanceof WN},HN=function(e){var t=function(s){var l=e.padding,C=s-l.left-l.right,S=e.style;return d0(e)?(S.wordWrapWidth=C,S.maxLines=0):(S.wrapMode===0&&(S.wrapMode=1),S.wrapWidth=C,S.maxLines=0),S.fixedWidth=s,S.fixedHeight=0,e.updateText(),e.minHeight=e.height,e};return t},$N=function(e){var t=function(s){return e.setFixedSize(s,0).runWordWrap(),e.minHeight=e.height,e};return t},KN=function(e){var t=function(s){return e.setMaxWidth(s),e.minHeight=e.height,e};return t},jN=function(e){return e instanceof Ga},$2=function(e,t){return t===void 0&&(t=0),e._minWidth=t,e.runWidthWrap=jN(e)?$N(e):H2(e)?KN(e):HN(e),e};const ZN=Phaser.GameObjects.Image;var m1=function(e,t){var s=new ZN(e,0,0,"");return e.add.existing(s),s};const go=Phaser.Utils.Objects.GetValue;var f0=function(e,t,s){t=t?wi(t):{};var l=go(s,"background",Ci),C=go(s,"text",W2),S=go(s,"icon",m1),r=go(s,"action",m1);if(l?t.background=l(e,t.background):delete t.background,C){var T=go(t,"wrapText",!1);T&&(T===!0&&(T="word"),it(t,"text.wrap.mode",T),t.expandTextWidth=!0),t.text=C(e,t.text),T&&(t.text=$2(t.text))}else delete t.text;return S&&t.icon!==null?t.icon=S(e,t.icon):delete t.icon,r&&t.action!==null?t.action=r(e,t.action):delete t.action,t};class c0 extends Pr{constructor(t,s,l){s=f0(t,s,l),super(t,s),this.type="rexSimpleLabel"}setActiveState(t){var s=this.childrenMap.background;return s&&s.setActiveState&&s.setActiveState(t),this}setHoverState(t){var s=this.childrenMap.background;return s&&s.setHoverState&&s.setHoverState(t),this}setDisableState(t){var s=this.childrenMap.background;return s&&s.setDisableState&&s.setDisableState(t),this}}st.register("simpleLabel",function(e,t){var s=new c0(this.scene,e,t);return this.scene.add.existing(s),s});it(window,"RexPlugins.UI.SimpleLabel",c0);const Ct=Phaser.Utils.Objects.GetValue;var JN=function(e){var t=this.scene,s=Ct(e,"orientation",0);this.setOrientation(s);var l=Ct(e,"icon",void 0),C=Ct(e,"iconMask",void 0),S=Ct(e,"innerBackground",void 0),r=Ct(e,"title",void 0),T=Ct(e,"separator",void 0),i=Ct(e,"text",void 0),d=Ct(e,"action",void 0),x=Ct(e,"actionMask",void 0);if(l){var p;this.orientation===0?p={right:Ct(e,"space.icon",0),top:Ct(e,"space.iconTop",0),bottom:Ct(e,"space.iconBottom",0)}:p={bottom:Ct(e,"space.icon",0),left:Ct(e,"space.iconLeft",0),right:Ct(e,"space.iconRight",0)};var f=Ct(e,"squareFitIcon",!1)?1:0;if(this.add(l,{proportion:0,padding:p,fitRatio:f}),C&&(C=Ki.call(this,l,l,1)),!f){var u=Ct(e,"iconSize",void 0);this.setIconSize(Ct(e,"iconWidth",u),Ct(e,"iconHeight",u))}}var o=new Rt(t,{orientation:1});S&&o.addBackground(S);var n=Ct(e,"space.separator",0);if(r){var h=Ct(e,"align.title","left"),p={bottom:!T&&i?n:0,left:Ct(e,"space.titleLeft",0),right:Ct(e,"space.titleRight",0)};o.add(r,{proportion:0,align:h,padding:p})}if(T){var p={top:r?n:0,bottom:i?n:0,left:Ct(e,"space.separatorLeft",0),right:Ct(e,"space.separatorRight",0)};o.add(T,{expand:!0,padding:p})}if(i){var h=Ct(e,"align.text","left"),p={left:Ct(e,"space.textLeft",0),right:Ct(e,"space.textRight",0)};o.add(i,{proportion:0,align:h,padding:p})}var p=void 0;if(d&&(p={right:Ct(e,"space.text",0)}),this.add(o,{proportion:1,padding:p}),d){var p;this.orientation===0?p={top:Ct(e,"space.actionTop",0),bottom:Ct(e,"space.actionBottom",0)}:p={left:Ct(e,"space.actionLeft",0),right:Ct(e,"space.actionRight",0)};var f=Ct(e,"squareFitAction",!1)?1:0;if(this.add(d,{proportion:0,padding:p,fitRatio:f}),x&&(x=Ki.call(this,d,d,1)),!f){var a=Ct(e,"actionSize");this.setActionSize(Ct(e,"actionWidth",a),Ct(e,"actionHeight",a))}}this.addChildrenMap("icon",l),this.addChildrenMap("iconMask",C),this.addChildrenMap("innerSizer",o),this.addChildrenMap("innerBackground",S),this.addChildrenMap("title",r),this.addChildrenMap("separator",T),this.addChildrenMap("text",i),this.addChildrenMap("action",d),this.addChildrenMap("actionMask",x)};const pt=Phaser.Utils.Objects.GetValue;var QN=function(e){this.setOrientation(1),this.setRTL(!1);var t=this.scene,s=pt(e,"title",void 0),l=pt(e,"separator",void 0),C=pt(e,"innerBackground",void 0),S=pt(e,"icon",void 0),r=pt(e,"iconMask",void 0),T=pt(e,"text",void 0),i=pt(e,"action",void 0),d=pt(e,"actionMask",void 0);if(s){var x=pt(e,"align.title","left"),f={bottom:pt(e,"space.title",0),left:pt(e,"space.titleLeft",0),right:pt(e,"space.titleRight",0)};this.add(s,{proportion:0,align:x,padding:f})}if(l){var u=pt(e,"space.separator",0),f={top:s?u:0,bottom:T?u:0,left:pt(e,"space.separatorLeft",0),right:pt(e,"space.separatorRight",0)};this.add(l,{proportion:0,expand:!0,padding:f})}var o=pt(e,"orientation",0),n=new Rt(t,{orientation:o,rtl:pt(e,"rtl",!1),space:{left:pt(e,"space.innerLeft",0),right:pt(e,"space.innerRight",0),top:pt(e,"space.innerTop",0),bottom:pt(e,"space.innerBottom",0)}});if(C&&n.addBackground(C),this.add(n,{proportion:1,expand:!0}),S){var f=void 0;n.orientation===0?f={right:pt(e,"space.icon",0),top:pt(e,"space.iconTop",0),bottom:pt(e,"space.iconBottom",0)}:f={bottom:pt(e,"space.icon",0),left:pt(e,"space.iconLeft",0),right:pt(e,"space.iconRight",0)};var h=pt(e,"squareFitIcon",!1)?1:0;if(n.add(S,{proportion:0,padding:f,fitRatio:h}),r&&(r=Ki.call(this,S,S,1)),!h){var p=pt(e,"iconSize",void 0);this.setIconSize(pt(e,"iconWidth",p),pt(e,"iconHeight",p))}}if(T){var x=pt(e,"align.text","left"),a=pt(e,"space.text",0),c=pt(e,"expandTextWidth",!1),v=pt(e,"expandTextHeight",!1),g,f,m;n.orientation===0?(g=c?1:0,i&&(f={right:a}),m=v):(g=v?1:0,i&&(f={bottom:a}),m=c),n.add(T,{proportion:g,expand:m,align:x,padding:f})}if(i){var f;n.orientation===0?f={top:pt(e,"space.actionTop",0),bottom:pt(e,"space.actionBottom",0)}:f={left:pt(e,"space.actionLeft",0),right:pt(e,"space.actionRight",0)};var h=pt(e,"squareFitAction",!1)?1:0;if(n.add(i,{proportion:0,padding:f,fitRatio:h}),d&&(d=Ki.call(this,i,i,1)),!h){var y=pt(e,"actionSize");this.setActionSize(pt(e,"actionWidth",y),pt(e,"actionHeight",y))}}this.addChildrenMap("title",s),this.addChildrenMap("separator",l),this.addChildrenMap("innerSizer",n),this.addChildrenMap("innerBackground",C),this.addChildrenMap("icon",S),this.addChildrenMap("iconMask",r),this.addChildrenMap("text",T),this.addChildrenMap("action",i),this.addChildrenMap("actionMask",d)};const x1=Phaser.Utils.Objects.GetValue,y1=[JN,QN];class v0 extends u0{constructor(t,s){super(t,s),this.type="rexTitleLabel";var l=x1(s,"background",void 0);l&&this.addBackground(l);var C=x1(s,"layoutMode",0),S=y1[C]||y1[0];S.call(this,s),this.addChildrenMap("background",s.background)}get title(){var t=this.childrenMap.title;return t?t.title:""}set title(t){var s=this.childrenMap.title;s&&s.setText(t)}setTitle(t){return this.title=t,this}resetDisplayContent(t){t===void 0?t={}:typeof t=="string"&&(t={text:t}),super.resetDisplayContent(t);var s=this.childrenMap.title;return s&&(t.title===void 0||(t.title?(this.show(s),this.setTitle(t.title)):this.hide(s))),this}}st.register("titleLabel",function(e){var t=new v0(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.TitleLabel",v0);const Dt=Phaser.Utils.Objects.GetValue,qN=Phaser.Utils.Objects.IsPlainObject;var _N=function(e,t){var s=Dt(t,"background",void 0),l=Dt(t,"icon",void 0),C=Dt(t,"iconMask",void 0),S=Dt(t,"nameText",void 0),r=Dt(t,"valueText",void 0),T=Dt(t,"bar",void 0),i=Dt(t,"action",void 0),d=Dt(t,"actionMask",void 0);qN(T)&&(T=new Rg(e,T),e.add.existing(T),S&&e.children.moveBelow(T,S),r&&e.children.moveBelow(T,r));var x=S||r||T;if(s&&this.addBackground(s),l){var f=void 0;this.orientation===0?(x||i)&&(f={right:Dt(t,"space.icon",0),top:Dt(t,"space.iconTop",0),bottom:Dt(t,"space.iconBottom",0)}):(x||i)&&(f={bottom:Dt(t,"space.icon",0),left:Dt(t,"space.iconLeft",0),right:Dt(t,"space.iconRight",0)}),this.add(l,{proportion:0,padding:f}),C&&(C=Ki.call(this,l,l,1))}if(x){var u=new Rt(e,{orientation:1}),o;if(S||r){if(o=new Rt(e,{orientation:0}),S){S.text===""&&S.setText(" "),S.setOrigin(0,S.originY);var f={left:Dt(t,"space.name",0)};o.add(S,{padding:f})}if(r){r.text===""&&r.setText(" "),r.setOrigin(1,r.originY),o.addSpace();var f={right:Dt(t,"space.value",0)};o.add(r,{padding:f}),this.setValueTextFormatCallback(Dt(t,"valueTextFormatCallback",tz),Dt(t,"valueTextFormatCallbackScope",void 0))}u.add(o,{expand:!0})}if(T){var f={top:o?Dt(t,"space.bar",0):0,bottom:Dt(t,"space.barBottom",0),left:Dt(t,"space.barLeft",0),right:Dt(t,"space.barRight",0)};u.add(T,{expand:!0,padding:f})}var f=void 0;i&&(f={right:Dt(t,"space.text",0)});var n=Dt(t,"align.text","bottom");this.add(u,{proportion:1,align:n,padding:f})}if(i){var f;this.orientation===0?f={top:Dt(t,"space.actionTop",0),bottom:Dt(t,"space.actionBottom",0)}:f={left:Dt(t,"space.actionLeft",0),right:Dt(t,"space.actionRight",0)},this.add(i,{proportion:0,padding:f}),d&&(d=Ki.call(this,i,i,1))}this.addChildrenMap("background",s),this.addChildrenMap("icon",l),this.addChildrenMap("iconMask",C),this.addChildrenMap("name",S),this.addChildrenMap("value",r),this.addChildrenMap("bar",T),this.addChildrenMap("action",i),this.addChildrenMap("actionMask",d)},tz=function(e,t,s){return e.toString()};const ez=Phaser.Math.Clamp,iz={setValueTextFormatCallback(e,t){return this.valueTextFormatCallback=e,this.valueTextFormatCallbackScope=t,this},getFormatValueText(e,t,s){e===void 0&&(e=this.value),t===void 0&&(t=this.minValue),s===void 0&&(s=this.maxValue);var l;return this.valueTextFormatCallbackScope?l=this.valueTextFormatCallback(e,t,s):l=this.valueTextFormatCallback.call(this.valueTextFormatCallbackScope,e,t,s),l},updateValueText(e,t,s){var l=this.childrenMap.value;return l&&this.valueTextFormatCallback&&(l.setText(this.getFormatValueText(e,t,s)),l.layout&&l.layout()),this},setValue(e,t,s){return e=ez(e,t,s),this.value=e,this.minValue=t,this.maxValue=s,this.updateValueText(e,t,s),this.setBarValue(e,t,s),this}};class p0 extends Rt{constructor(t,s){super(t,s),this.type="rexNameValueLabel",_N.call(this,t,s)}get nameText(){var t=this.childrenMap.name;return t===void 0?"":t.text}set nameText(t){var s=this.childrenMap.name;s!==void 0&&s.setText(t)}setNameText(t){return this.nameText=t,this}get valueText(){var t=this.childrenMap.value;return t===void 0?"":t.text}set valueText(t){var s=this.childrenMap.value;s!==void 0&&s.setText(t)}setValueText(t){return this.valueText=t,this}get barValue(){var t=this.childrenMap.bar;if(t!==void 0)return t.value}set barValue(t){var s=this.childrenMap.bar;s!==void 0&&s.setValue(t)}setBarValue(t,s,l){var C=this.childrenMap.bar;return C===void 0?this:(C.setValue(t,s,l),this)}easeBarValueTo(t,s,l){var C=this.childrenMap.bar;return C===void 0?this:(C.easeValueTo(t,s,l),this)}setTexture(t,s){var l=this.childrenMap.icon;if(l!==void 0)return l.setTexture(t,s),this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}runLayout(t,s,l){if(this.ignoreLayout)return this;super.runLayout(t,s,l);var C=this.childrenMap.iconMask;C&&(C.setPosition(),this.resetChildPositionState(C));var S=this.childrenMap.actionMask;return S&&(S.setPosition(),this.resetChildPositionState(S)),this}resize(t,s){super.resize(t,s);var l=this.childrenMap.iconMask;l&&l.resize();var C=this.childrenMap.actionMask;return C&&C.resize(),this}}Object.assign(p0.prototype,iz);st.register("nameValueLabel",function(e){var t=new p0(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.NameValueLabel",p0);const Pl=Rt.prototype.add,C1=Rt.prototype.addSpace;var xc=function(e){var t=!e.isRexSpace,s=!t||this.buttonsExpand?1:0;if(this.sizerChildren.length===0)if(t){var l=!this.buttonsExpand&&(this.buttonsAlign==="right"||this.buttonsAlign==="center"||this.buttonsAlign==="bottom");l&&C1.call(this),Pl.call(this,e,{proportion:s,expand:!0});var C=!this.buttonsExpand&&this.buttonsAlign==="center";C&&C1.call(this),this.hasTailSpace=C}else Pl.call(this,e,{proportion:s,expand:!0}),this.hasTailSpace=!1;else if(this.hasTailSpace){var S=this.sizerChildren.length-1;Pl.call(this,e,{index:S,proportion:s,expand:!0})}else Pl.call(this,e,{proportion:s,expand:!0});return t&&this.buttonGroup.add(e),this};const sz={addButton(e){if(Hi(e))for(var t=e,s=0,l=t.length;s<l;s++)xc.call(this,t[s]);else xc.call(this,e);return this},addButtons(e){for(var t=0,s=e.length;t<s;t++)xc.call(this,e[t]);return this}},nz=Rt.prototype.remove,rz=Rt.prototype.clear;var yc=function(e,t){return this.getParentSizer(e)!==this?this:(this.buttonGroup.remove(e),nz.call(this,e,t),this)};const az={remove(e,t){if(Hi(e))for(var s=e,l=0,C=s.length;l<C;l++)yc.call(this,s[l],t);else yc.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,rz.call(this,e),this},removeButton(s,t){var s=this.getButton(s);return s?(this.remove(s,t),this):this},clearButtons(e){for(var t=this.buttonGroup.buttons,s=t.length-1;s>=0;s--)yc.call(this,t[s],e);return this}};var oz=function(e,t,s){if(e){var l=this.setValueCallback,C=this.setValueCallbackScope;l&&(C?l.call(C,e,t,s):l(e,t,s)),this.fireEvent("button.statechange",e,t,s)}},hz=function(e){var t=this;e._selected=void 0,Object.defineProperty(e,"selected",{get:function(){return e._selected},set:function(s){if(e._selected!==s){var l=e._selected;e._selected=s,oz.call(t,e,s,l)}},enumerable:!0,configurable:!0}),e.selected=!1};const lz={add(e){return this.buttons.push(e),e._click||(e._click=new Rn(e,this.clickConfig),e._click.on("click",function(t,s,l,C){this.fireEvent("button.click",s,l,C)},this).on("enable",function(t,s){this.fireEvent("button.enable",s)},this).on("disable",function(t,s){this.fireEvent("button.disable",s)},this),e.on("pointerover",function(t,s,l,C){this.fireEvent("button.over",e,t,C)},this).on("pointerout",function(t,s){this.fireEvent("button.out",e,t,s)},this)),this.buttonsType&&(e.name===void 0&&console.error(`${this.parent.constructor.name}: Option button miss value`),hz.call(this,e)),this},addMultiple(e){for(var t=0,s=e.length;t<s;t++)this.add(e[t]);return this}},uz=Phaser.Utils.Array.Remove,dz={remove(e){return this.buttonsType&&delete e.selected,uz(this.buttons,e),this},clear(){if(this.buttonsType)for(var e=this.buttons,t=0,s=e.length;t<s;t++)delete e[t].selected;return this.buttons.length=0,this}};var fz=function(e,t,...s){var l;if(typeof t=="number"){if(l=t,t=this.buttons[l],!t)return}else if(l=this.buttons.indexOf(t),l===-1)return;this.eventEmitter!==this.parent&&this.parent.emit(e,t,l,...s),this.groupName!==void 0?this.eventEmitter.emit(e,t,this.groupName,l,...s):this.eventEmitter.emit(e,t,l,...s)};const mo=Phaser.Utils.Objects.GetValue,cz={setButtonsType(e){e===void 0&&(e={});var t=mo(e,"buttonsType",e.type);if(this.buttonsType=t,!this.buttonsType)return this;var s,l;switch(s=mo(e,"setValueCallback",void 0),l=mo(e,"setValueCallbackScope",void 0),s===void 0&&(s=mo(e,"setButtonStateCallback",void 0),l=mo(e,"setButtonStateCallbackScope",void 0)),this.setValueCallback=s,this.setValueCallbackScope=l,t){case"radio":this.setRadioType();break;case"checkboxes":this.setCheckboxesType();break}return this},setRadioType(){var e=this.parent,t=this.buttons;e._value=void 0;var s=void 0;return Object.defineProperty(e,"value",{get:function(){return e._value},set:function(l){if(e._value!==l){e._value=l;for(var C=0,S=t.length;C<S;C++){var r=t[C];r.rexSizer.hidden||(s===void 0?r.name===l?r.selected=!0:r.selected=!1:s===C?r.selected=!0:r.selected=!1)}}},enumerable:!0,configurable:!0}),e.on("button.click",function(l){s=this.buttons.indexOf(l),e.value=l.name,s=void 0},this),this},setCheckboxesType(){var e=this.parent;return e.on("button.click",function(t){t.selected=!t.selected}),this},clearAllButtonsState(){for(var e=this.buttons,t=0,s=e.length;t<s;t++){var l=e[t];l.selected=!1}return this},getAllButtonsState(){for(var e={},t=this.buttons,s=0,l=t.length;s<l;s++){var C=t[s];C.rexSizer.hidden||(e[C.name]=C.selected)}return e},setSelectedButtonName(e){return this.parent.value=e,this},getSelectedButtonName(){return this.parent.value},setButtonState(e,t){t===void 0&&(t=!0);for(var s=this.buttons,l=0,C=s.length;l<C;l++){var S=s[l];if(!S.rexSizer.hidden&&S.name===e){S.selected=t;break}}return this},getButtonState(e){for(var t=this.buttons,s=0,l=t.length;s<l;s++){var C=t[s];if(!C.rexSizer.hidden&&C.name===e)return C.selected}}};var vz=function(e,t){if(e)if(Hi(e)){for(var s,l=0,C=e.length;l<C;l++)if(s=T1(e[l],t),s)return s}else{var s;for(var S in e)if(s=T1(e[S],t),s)return s}else return null},T1=function(e,t){return e?e.hasOwnProperty("name")?e.name===t?e:null:GetElementByName(e,t):null};const Ad={getButton(e){var t=this.buttons,s,l=typeof e;switch(l){case"number":s=t[e];break;case"string":s=vz(t,e);break;default:s=e,t.indexOf(s)===-1&&(s=void 0);break}return s},setButtonEnable(e,t){var s=this.buttons;if(e===void 0||typeof e=="boolean"){t=e;for(var l=0,C=s.length;l<C;l++)s[l]._click.setEnable(t)}else this.getButton(e)._click.setEnable(t);return this},toggleButtonEnable(e){var t=this.buttons;if(e===void 0||typeof e=="boolean")for(var s=0,l=t.length;s<l;s++)t[s]._click.toggleEnable();else this.getButton(e)._click.toggleEnable();return this},getButtonEnable(e){return e===void 0&&(e=0),this.getButton(e)._click.enable},emitButtonClick(e){var t=this.buttonGroup?this.buttonGroup:this;return t.fireEvent("button.click",e),this},showButton(e){return en(this.getButton(e)),this},hideButton(e){return sn(this.getButton(e)),this},isButtonShown(e){return Kg(this.getButton(e)),this},forEachButtton(e,t){for(var s=this.buttons,l=0,C=s.length;l<C;l++)t?e.call(t,s[l],l,s):e(s[l],l,s);return this}};class Ld{constructor(t){this.parent=t.parent,this.eventEmitter=t.eventEmitter,this.groupName=t.groupName,this.clickConfig=t.clickConfig,this.buttonsType=void 0,this.buttons=[]}destroy(){this.parent=void 0,this.eventEmitter=void 0,this.clickConfig=void 0,this.buttons=void 0}}var pz={fireEvent:fz};Object.assign(Ld.prototype,lz,dz,cz,Ad,pz);const g0={clearAllButtonsState(){return this.buttonGroup.clearAllButtonsState(),this},getAllButtonsState(){return this.buttonGroup.getAllButtonsState()},setSelectedButtonName(e){return this.buttonGroup.setSelectedButtonName(e),this},getSelectedButtonName(){return this.buttonGroup.getSelectedButtonName()},setButtonState(e,t){return this.buttonGroup.setButtonState(e,t),this},getButtonState(e){return this.buttonGroup.getButtonState(e)}},$n=Phaser.Utils.Objects.GetValue;let Te=class extends Rt{constructor(t,s){s===void 0&&(s={});var l=s.space;typeof l=="number"&&(s.space={item:l}),super(t,s),this.type="rexButtons",this.buttonGroup=new Ld({parent:this,eventEmitter:$n(s,"eventEmitter",this),groupName:$n(s,"groupName",void 0),clickConfig:$n(s,"click",void 0)}).setButtonsType(s);var C=$n(s,"background",void 0),S=$n(s,"buttons",void 0);this.buttonsExpand=$n(s,"expand",!1),this.buttonsAlign=$n(s,"align",void 0),C&&this.addBackground(C),S&&this.addButtons(S),this.addChildrenMap("background",C),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}};Object.assign(Te.prototype,sz,az,Ad,g0);st.register("buttons",function(e){var t=new Te(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Buttons",Te);const gz=Ln.prototype.add,mz={addButton(e,t,s){return gz.call(this,e,t,s,void 0,0,this.buttonsExpand),this.buttonGroup.add(e),this},addButtons(e,t){for(var s=0,l=e;s<l;s++)this.addButton(e[s],void 0,t);return this}},xz=Ln.prototype.remove,yz=Ln.prototype.clear;var Cc=function(s,t){var s=this.getButton(s);return s?(this.buttonGroup.remove(s),xz.call(this,s,t),this):this};const Cz={remove(e,t){if(Hi(e))for(var s=e,l=0,C=s.length;l<C;l++)Cc.call(this,s[l],t);else Cc.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,yz.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,s=t.length-1;s>=0;s--)Cc.call(this,t[s],e);return this}},es=Phaser.Utils.Objects.GetValue;class Fd extends Ln{constructor(t,s){s===void 0&&(s={});var l=es(s,"row",0),C=es(s,"column",s.col||0),S=es(s,"createCellContainerCallback"),r=es(s,"buttons",void 0),T=es(s,"expand",!0),i=T?1:0;if(S&&(s.createCellContainerCallback=void 0),r!==void 0){l=Math.max(l,r.length);for(var d=0,x=r.length;d<x;d++)C=Math.max(C,r[d].length)}s.row=l,s.column=C,s.columnProportions=i,s.rowProportions=i,super(t,s),this.type="rexGridButtons",this.buttonGroup=new Ld({parent:this,eventEmitter:es(s,"eventEmitter",this),groupName:es(s,"groupName",void 0),clickConfig:es(s,"click",void 0)}).setButtonsType(s);var f=es(s,"background",void 0);if(this.buttonsExpand=T,es(s,"space",void 0),f&&this.addBackground(f),r)for(var u,o,n=0,h=r.length;n<h;n++){u=r[n];for(var p=0,a=u.length;p<a;p++)o=u[p],o&&this.addButton(o,p,n)}else if(S)for(var c=0;c<l;c++)for(var v=0;v<C;v++){var o=S(t,v,c);o&&this.addButton(o,v,c)}this.addChildrenMap("background",f),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(Fd.prototype,mz,Cz,Ad,g0);st.register("gridButtons",function(e){var t=new Fd(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.GridButtons",Fd);const K2=Er.prototype.add;var Ml=function(e){return K2.call(this,e),this.buttonGroup.add(e),this};const Tz={addButton(e){if(Hi(e))for(var t=e,s=0,l=t.length;s<l;s++)Ml.call(this,t[s]);else Ml.call(this,e);return this},addButtons(e){if(Hi(e[0]))for(var t=e,s,l=0,C=t.length-1;l<=C;l++){s=t[l];for(var S=0,r=s.length;S<r;S++)Ml.call(this,s[S]);l>C&&K2.addNewLine(this)}else for(var S=0,r=e.length;S<r;S++)Ml.call(this,e[S]);return this}},Sz=Er.prototype.remove,Ez=Er.prototype.clear;var Tc=function(s,t){var s=this.getButton(s);return s?(this.buttonGroup.remove(s),Sz.call(this,s,t),this):this};const Pz={remove(e,t){if(Hi(e))for(var s=e,l=0,C=s.length;l<C;l++)Tc.call(this,s[l],t);else Tc.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,Ez.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,s=t.length-1;s>=0;s--)Tc.call(this,t[s],e);return this}},Kr=Phaser.Utils.Objects.GetValue;class vr extends Er{constructor(t,s){s===void 0&&(s={});var l=s.space;typeof l=="number"&&(s.space={item:l,line:l}),super(t,s),this.type="rexFixWidthButtons",this.buttonGroup=new Ld({parent:this,eventEmitter:Kr(s,"eventEmitter",this),groupName:Kr(s,"groupName",void 0),clickConfig:Kr(s,"click",void 0)}).setButtonsType(s);var C=Kr(s,"background",void 0),S=Kr(s,"buttons",void 0);this.buttonsAlign=Kr(s,"align",void 0),C&&this.addBackground(C),S&&this.addButtons(S),this.addChildrenMap("background",C),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(vr.prototype,Tz,Pz,Ad,g0);st.register("fixWidthButtons",function(e){var t=new vr(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.FixWidthButtons",vr);const Mz={setAccept(e){return this.childrenMap.fileChooser.setAccept(e),this},setMultiple(e){return this.childrenMap.fileChooser.setMultiple(e),this},loadFile(e,t,s,l,C){return this.childrenMap.fileChooser.loadFile(e,t,s,l,C),this},loadFilePromise(e,t,s,l){return this.childrenMap.fileChooser.loadFilePromise(e,t,s,l)}},S1=Phaser.Utils.Objects.GetValue;class m0 extends Pr{constructor(t,s){super(t,s),this.type="rexFileSelectorButton";var l=new Rd(t);t.add.existing(l),this.addBackground(l),this.addChildrenMap("fileChooser",l),this.setAccept(S1(s,"accept","")),this.setMultiple(S1(s,"multiple",!1)),l.on("change",function(C){var S=C.files;S.length!==0&&(S=Array.from(S),this.emit("select",S,this))},this)}get files(){return this.childrenMap.fileChooser.files}}Object.assign(m0.prototype,Mz);st.register("fileSelectorButton",function(e){var t=new m0(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.FileSelectorButton",m0);const wz={getChoice(e){var t=this.childrenMap.choicesSizer;if(t)return t.getButton(e)},getAction(e){return this.childrenMap.actionsSizer.getButton(e)},getToolbar(e){return this.childrenMap.toolbarSizer.getButton(e)},getLeftToolbar(e){return this.childrenMap.leftToolbarSizer.getButton(e)},setChoiceEnable(e,t){var s=this.childrenMap.choicesSizer;return s&&s.setButtonEnable(e,t),this},setActionEnable(e,t){return this.childrenMap.actionsSizer.setButtonEnable(e,t),this},setToolbarEnable(e,t){return this.childrenMap.toolbarSizer.setButtonEnable(e,t),this},setLeftToolbarEnable(e,t){return this.childrenMap.leftToolbarSizer.setButtonEnable(e,t),this},toggleChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t&&t.toggleButtonEnable(e),this},toggleActionEnable(e){return this.childrenMap.actionsSizer.toggleButtonEnable(e),this},toggleToolbarEnable(e){return this.childrenMap.toolbarSizer.toggleButtonEnable(e),this},toggleLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.toggleButtonEnable(e),this},getChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t?t.getButtonEnable(e):!1},getActionEnable(e){return this.childrenMap.actionsSizer.getButtonEnable(e)},getToolbarEnable(e){return this.childrenMap.toolbarSizer.getButtonEnable(e)},getLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.getButtonEnable(e)},emitChoiceClick(e){var t=this.childrenMap.choicesSizer;return t&&t.emitButtonClick(e),this},emitActionClick(e){return this.childrenMap.actionsSizer.emitButtonClick(e),this},emitToolbarClick(e){return this.childrenMap.toolbarSizer.emitButtonClick(e),this},emitLeftToolbarClick(e){return this.childrenMap.leftToolbarSizer.emitButtonClick(e),this},showChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.showButton(e),this},showAction(e){return this.childrenMap.actionsSizer.showButton(e),this},showToolbar(e){return this.childrenMap.toolbarSizer.showButton(e),this},showLeftToolbar(e){return this.childrenMap.leftToolbarSizer.showButton(e),this},hideChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.hideButton(e),this},hideAction(e){return this.childrenMap.actionsSizer.hideButton(e),this},hideToolbar(e){return this.childrenMap.toolbarSizer.hideButton(e),this},hideLeftToolbar(e){return this.childrenMap.leftToolbarSizer.hideButton(e),this},addChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.addButton(e),this},addAction(e){return this.childrenMap.actionsSizer.addButton(e),this},addToolbar(e){return this.childrenMap.toolbarSizer.addButton(e),this},addLeftToolbar(e){return this.childrenMap.leftToolbarSizer.addButton(e),this},removeChoice(e,t){var s=this.childrenMap.choicesSizer;return s&&s.removeButton(e,t),this},removeAction(e,t){return this.childrenMap.actionsSizer.removeButton(e,t),this},removeToolbar(e,t){return this.childrenMap.toolbarSizer.removeButton(e,t),this},removeLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.removeButton(e,t),this},clearChoices(e){var t=this.childrenMap.choicesSizer;return t&&t.clearButtons(e),this},clearActions(e){return this.childrenMap.actionsSizer.clearButtons(e),this},clearToolbar(e){return this.childrenMap.toolbarSizer.clearButtons(e),this},clearLeftToolbar(e){return this.childrenMap.leftToolbarSizer.clearButtons(e),this},forEachChoice(e,t){var s=this.childrenMap.choicesSizer;return s&&s.forEachButtton(e,t),this},forEachAction(e,t){return this.childrenMap.actionsSizer.forEachButtton(e,t),this},forEachToolbar(e,t){return this.childrenMap.toolbarSizer.forEachButtton(e,t),this},forEachLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.forEachButtton(e,t),this},setAllButtonsEnable(e){return e===void 0&&(e=!0),this.childrenMap.toolbarSizer&&this.setToolbarEnable(e),this.childrenMap.leftToolbarSizer&&this.setLeftToolbarEnable(e),this.childrenMap.actionsSizer&&this.setActionEnable(e),this.childrenMap.choicesSizer&&this.setChoiceEnable(e),this},getChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e?e.getAllButtonsState():{}},getChoicesButtonState(e){var t=this.childrenMap.choicesSizer;return e===void 0?t?t.getAllButtonsState():{}:t?t.getButtonState(e):!1},setChoicesButtonState(e,t){var s=this.childrenMap.choicesSizer;return s&&s.setButtonState(e,t),this},clearChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e&&e.clearAllButtonsState(),this},getChoicesSelectedButtonName(){var e=this.childrenMap.choicesSizer;return e?e.getSelectedButtonName():""},setChoicesSelectedButtonName(e){var t=this.childrenMap.choicesSizer;return t&&t.setSelectedButtonName(e),this}},Rz={onCreateModalBehavior(e){e.on("button.click",function(t,s,l,C,S){if(s==="actions"){var r={index:l,text:t.text,button:t,dialog:e};switch(e.buttonsType){case"radio":r.value=e.getChoicesSelectedButtonName();break;case"checkboxes":r.value=e.getChoicesButtonStates();break;default:r.value=void 0}e.modalClose(r)}})},modal(e,t){return e&&e.defaultBehavior===!1?this.onCreateModalBehavior=!1:delete this.onCreateModalBehavior,Qg.modal.call(this,e,t),this}};var j2={};Object.assign(j2,wz,Rz);const dt=Phaser.Utils.Objects.GetValue;class Dd extends Rt{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexDialog",this.eventEmitter=dt(s,"eventEmitter",this);var l=dt(s,"background",void 0),C=dt(s,"title",void 0),S=dt(s,"toolbar",void 0),r=dt(s,"toolbarBackground",void 0),T=dt(s,"leftToolbar",void 0),i=dt(s,"leftToolbarBackground",void 0),d=dt(s,"content",void 0),x=dt(s,"description",void 0),f,u=dt(s,"choices",void 0),o=dt(s,"choicesBackground",void 0),n,h=dt(s,"actions",void 0),p=dt(s,"actionsBackground",void 0),a=dt(s,"click",void 0);l&&this.addBackground(l);var c;S&&(c=new Te(t,{groupName:"toolbar",background:r,buttons:S,orientation:0,space:{item:dt(s,"space.toolbarItem",0)},click:a,eventEmitter:this.eventEmitter}));var v;if(T&&(v=new Te(t,{groupName:"leftToolbar",background:i,buttons:T,orientation:0,space:{item:dt(s,"space.leftToolbarItem",0)},click:a,eventEmitter:this.eventEmitter})),C||S||T){var g=!!C&&dt(s,"expand.title",!0),m=dt(s,"align.title","center"),y=C&&!g&&m==="center"||!C&&(S||T),P=!y,M;P?M=new Rt(t,{orientation:0}):M=new Oi(t);var E=P?!0:{height:!0};if(v&&M.add(v,{align:"left",expand:E}),C){P&&!g&&m==="right"&&M.addSpace();var R={left:dt(s,"space.titleLeft",0),right:dt(s,"space.titleRight",0)},O=g?1:0;M.add(C,{align:m,proportion:O,expand:E,padding:R}),P&&!g&&m==="left"&&M.addSpace()}c&&(P&&!C&&M.addSpace(),M.add(c,{align:"right",expand:E}));var w=dt(s,"space.title",0),R;(d||x||u||h)&&(R={bottom:w});var O=dt(s,"proportion.title",0);this.add(M,{padding:R,proportion:O,expand:!0})}if(d){var A=dt(s,"align.content","center"),F=dt(s,"space.content",0),R={left:dt(s,"space.contentLeft",0),right:dt(s,"space.contentRight",0),bottom:x||u||h?F:0},O=dt(s,"proportion.content",0),L=dt(s,"expand.content",!0);this.add(d,{align:A,padding:R,proportion:O,expand:L})}if(x){var A=dt(s,"align.description","center"),I=dt(s,"space.description",0),R={left:dt(s,"space.descriptionLeft",0),right:dt(s,"space.descriptionRight",0),bottom:u||h?I:0},O=dt(s,"proportion.description",0),L=dt(s,"expand.description",!0);this.add(x,{align:A,padding:R,proportion:O,expand:L})}if(u){var B=dt(s,"choicesType","").split("-"),b=xo(B,"wrap")?vr:xo(B,"grid")?Fd:Te,k=xo(B,"radio")?"radio":xo(B,"checkboxes")?"checkboxes":void 0,U={left:dt(s,"space.choicesBackgroundLeft",0),right:dt(s,"space.choicesBackgroundRight",0),top:dt(s,"space.choicesBackgroundTop",0),bottom:dt(s,"space.choicesBackgroundBottom",0)},Y=dt(s,"space.choice",0);b===Te?U.item=Y:b===vr?(U.item=Y,U.line=dt(s,"space.choiceLine",Y)):(U.column=dt(s,"space.choiceColumn",Y),U.row=dt(s,"space.choiceRow",Y));var H={width:dt(s,"choicesWidth",void 0),height:dt(s,"choicesHeight",void 0),groupName:"choices",buttonsType:k,background:o,buttons:u,space:U,click:a,eventEmitter:this.eventEmitter,setValueCallback:dt(s,"choicesSetValueCallback",void 0),setValueCallbackScope:dt(s,"choicesSetValueCallbackScope",void 0)};b===Te&&(H.orientation=xo(B,"x")?0:1),f=new b(t,H);var z=dt(s,"space.choices",0),R={left:dt(s,"space.choicesLeft",0),right:dt(s,"space.choicesRight",0),bottom:h?z:0},A=dt(s,"align.choices","center"),O=dt(s,"proportion.choices",0),L=dt(s,"expand.choices",!0);this.add(f,{align:A,padding:R,proportion:O,expand:L}),this.buttonsType=k}if(h){n=new Te(t,{groupName:"actions",background:p,buttons:h,orientation:0,space:{item:dt(s,"space.action",0)},expand:dt(s,"expand.actions",!1),align:dt(s,"align.actions","center"),click:a,eventEmitter:this.eventEmitter});var R={left:dt(s,"space.actionsLeft",0),right:dt(s,"space.actionsRight",0)},O=dt(s,"proportion.action",0);this.add(n,{align:"center",padding:R,proportion:O,expand:!0})}yo(this,"click"),yo(this,"over"),yo(this,"out"),yo(this,"enable"),yo(this,"disable"),this.addChildrenMap("background",l),this.addChildrenMap("title",C),this.addChildrenMap("toolbar",S),this.addChildrenMap("leftToolbar",T),this.addChildrenMap("content",d),this.addChildrenMap("description",x),this.addChildrenMap("choices",f?f.buttons:void 0),this.addChildrenMap("actions",n?n.buttons:void 0),this.addChildrenMap("choicesSizer",f),this.addChildrenMap("actionsSizer",n),this.addChildrenMap("toolbarSizer",c),this.addChildrenMap("leftToolbarSizer",v)}}var xo=function(e,t){return e.indexOf(t)!==-1},E1={actions:"action",choices:"choice",toolbar:"toolbar",leftToolbar:"leftToolbar"},yo=function(e,t){e.on(`button.${t}`,function(s,l,C,S,r){E1.hasOwnProperty(l)&&e.emit(`${E1[l]}.${t}`,s,C,S,r)})};Object.assign(Dd.prototype,j2);st.register("dialog",function(e){var t=new Dd(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Dialog",Dd);var Ti=function(e,t,s){var l=new c0(e,t,s);return e.add.existing(l),l},Oz=function(e){return e===void 0&&(e={}),Az.call(this,e),Lz.call(this,e),Fz.call(this,e),Dz.call(this,e),this},Az=function(e){var t=this.childrenMap.title;t.resetDisplayContent(e.title)},Lz=function(e){var t=this.childrenMap.content;if(t.resetDisplayContent)t.resetDisplayContent(e.content);else{var s=e.content||"";t.setText(s)}},Fz=function(e){var t=this.childrenMap.actions;if(t){var s=e.buttons;if(s){for(var S=this.scene,r=this.defaultActionConfig,T=this.defaultActionButtonCreator,i=0,d=s.length;i<d;i++){var x=s[i],f=t[i];f||(f=Ti(S,r,T),this.addAction(f)),f.show().resetDisplayContent(x)}this.buttonMode=s.length;for(var i=s.length,d=t.length;i<d;i++)t[i].hide()}else{var l=t[0];l&&l.resetDisplayContent(e.buttonA);var C=t[1];C&&C.resetDisplayContent(e.buttonB)}}},Dz=function(e){var t=this.childrenMap.choices;if(t){var s=e.choices;s||(s=[]);for(var l=this.scene,C=this.defaultChoiceConfig,S=this.defaultActionButtonCreator,r=0,T=s.length;r<T;r++){var i=s[r];typeof i=="string"&&(i={text:i});var d=t[r];d||(d=Ti(l,C,S),this.addChoice(d)),d.show().resetDisplayContent(i);var x;i.hasOwnProperty("value")?x=i.value:x=i.text,d.setName(x)}for(var r=s.length,T=t.length;r<T;r++)t[r].hide()}},Iz=function(e,t){Cn(e)&&(t=e,e=void 0),e===void 0&&(e={});var s=this.buttonMode===0;return e.hasOwnProperty("anyTouchClose")||(e.anyTouchClose=s),e.hasOwnProperty("manualClose")||(e.manualClose=!s),Qg.modal.call(this,e,t),this},Bz={resetDisplayContent:Oz,modal:Iz},bz=function(e){e.setHoverState&&e.setHoverState(!0)},Gz=function(e){e.setHoverState&&e.setHoverState(!1)},Nz=function(e,t,s,l){e.setActiveState&&e.setActiveState(l)},zz=function(e){e.setDisableState&&e.setDisableState(!1)},kz=function(e){e.setDisableState&&e.setDisableState(!0)},Vz=function(){this.on("button.over",bz).on("button.out",Gz).on("button.enable",zz).on("button.disable",kz).on("button.statechange",Nz)};const Z2={v:0,vertical:0,y:0,h:1,horizontal:1,x:1},Uz=Phaser.Utils.Objects.GetValue;var Id=function(e,t){var s=Uz(e,"scrollMode",0);return typeof s=="string"&&(s=Z2[s]),s};const P1=Phaser.Math.Percent;var J2=function(e,t,s){var l;return e.y===t.y?l=P1(s.x,e.x,t.x):e.x===t.x&&(l=P1(s.y,e.y,t.y)),l},Xz=function(e,t,s){if(this.enable){Sc.x=t,Sc.y=s;var l,C;this.reverseAxis?(l=this.getEndPoint(),C=this.getStartPoint()):(l=this.getStartPoint(),C=this.getEndPoint()),this.value=J2(l,C,Sc)}},Sc={},M1=function(e,t,s){if(this.enable&&e.isDown){Ec.x=e.worldX,Ec.y=e.worldY;var l,C;this.reverseAxis?(l=this.getEndPoint(),C=this.getStartPoint()):(l=this.getStartPoint(),C=this.getEndPoint());var S=J2(l,C,Ec);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-S)<.1?this.value=S:this.easeValueTo(S)}},Ec={},Q2=function(e,t){t===void 0&&(t=Yz);var s=this.childrenMap.thumb,l=s.x,C=s.y;return xh(s,this.innerLeft,this.innerTop,this.innerWidth,this.innerHeight,e),t.x=s.x,t.y=s.y,s.x=l,s.y=C,t},Yz={};const Wz=Phaser.Display.Align.LEFT_CENTER,Hz=Phaser.Display.Align.TOP_CENTER;var $z=function(e){if(e===void 0&&(e=Kz),this.childrenMap.thumb){var t=this.orientation===0?Wz:Hz;Q2.call(this,t,e)}else this.orientation===0?(e.x=this.innerLeft+1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerTop+1);return e},Kz={};const jz=Phaser.Display.Align.RIGHT_CENTER,Zz=Phaser.Display.Align.BOTTOM_CENTER;var Jz=function(e){if(e===void 0&&(e=Qz),this.childrenMap.thumb){var t=this.orientation===0?jz:Zz;Q2.call(this,t,e)}else this.orientation===0?(e.x=this.innerRight-1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerBottom-1);return e},Qz={};const w1=Phaser.Math.Linear;var qz=function(e,t,s,l){return l===void 0&&(l=_z),l.x=w1(t.x,s.x,e),l.y=w1(t.y,s.y,e),l},_z={},tk=function(e){var t=this.childrenMap.thumb;if(t===void 0)return this;e===void 0&&(e=this.value);var s,l;return this.reverseAxis?(s=this.getEndPoint(),l=this.getStartPoint()):(s=this.getStartPoint(),l=this.getEndPoint()),qz(e,s,l,t),this.resetChildPositionState(t),this};const ek=Phaser.Display.Align.LEFT_CENTER,ik=Phaser.Display.Align.TOP_CENTER,sk=Phaser.Display.Align.RIGHT_CENTER,nk=Phaser.Display.Align.BOTTOM_CENTER;var rk=function(e){var t=this.childrenMap.indicator;if(t===void 0)return this;e===void 0&&(e=this.value);var s=this.reverseAxis,l,C,S=this.childrenMap.thumb;if(S)if(this.orientation===0){var r=Bt(S);if(s){var T=S.x-r*S.originX;l=this.right-T}else{var T=S.x-r*S.originX,i=T+r;l=i-this.left}}else{var d=Ot(S);if(s){var x=S.y-d*S.originY;C=this.bottom-x}else{var x=S.y-d*S.originY,f=x+d;C=f-this.top}}else this.orientation===0?l=this.width*e:C=this.height*e;$i(t,l,C);var u;s?u=this.orientation===0?sk:nk:u=this.orientation===0?ek:ik,h2(t,this,u),this.resetChildPositionState(t)};const Ii=Phaser.Utils.Objects.GetValue,wl=Phaser.Utils.Objects.IsPlainObject,ak=Phaser.Math.Clamp,ok=Phaser.Math.Snap.To;let Ua=class extends Tr(Rt){constructor(t,s){super(t,s),this.type="rexSlider",this.bootProgressBase(s),this.reverseAxis=Ii(s,"reverseAxis",!1);var l=Ii(s,"background",void 0),C=Ii(s,"track",void 0),S=Ii(s,"indicator",void 0),r=Ii(s,"thumb",void 0);l&&(wl(l)&&(l=Ci(t,l)),this.addBackground(l)),C&&(wl(C)&&(C=Ci(t,C)),this.add(C,{proportion:1,expand:!0,minWidth:this.orientation===0?0:void 0,minHeight:this.orientation===1?0:void 0})),S&&(wl(S)&&(S=Ci(t,S)),this.pin(S)),r&&(wl(r)&&(r=Ci(t,r)),this.pin(r));var T=Ii(s,"input",0);switch(typeof T=="string"&&(T=hk[T]),T){case 0:r&&(r.setInteractive(),this.scene.input.setDraggable(r),r.on("drag",Xz,this).on("dragstart",function(i){this.eventEmitter.emit("inputstart",i)},this).on("dragend",function(i){this.eventEmitter.emit("inputend",i)},this));break;case 1:this.on("pointerdown",M1,this).on("pointermove",M1,this).on("pointerdown",function(i){this.eventEmitter.emit("inputstart",i)},this).on("pointerup",function(i){this.eventEmitter.emit("inputend",i)},this).on("pointerover",function(i){i.isDown&&this.eventEmitter.emit("inputstart",i)},this).on("pointerout",function(i){i.isDown&&this.eventEmitter.emit("inputend",i)},this).setInteractive();break}this.addChildrenMap("background",l),this.addChildrenMap("track",C),this.addChildrenMap("indicator",S),this.addChildrenMap("thumb",r),this.setEnable(Ii(s,"enable",void 0)),this.setGap(Ii(s,"gap",void 0)),this.setValue(Ii(s,"value",0),Ii(s,"min",void 0),Ii(s,"max",void 0))}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t,s,l){return t&&s!==void 0&&(t=t/(l-s)),this.gap=t,this}get value(){return this._value}set value(t){this.gap!==void 0&&(t=ok(t,this.gap));var s=this._value;this._value=ak(t,0,1),s!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,s,this.eventEmitter))}runLayout(t,s,l){return this.ignoreLayout?this:(super.runLayout(t,s,l),this.updateThumb(),this.updateIndicator(),this)}};const hk={pan:0,drag:0,click:1,none:-1};var lk={getStartPoint:$z,getEndPoint:Jz,updateThumb:tk,updateIndicator:rk};Object.assign(Ua.prototype,lk);const Ye=Phaser.Utils.Objects.GetValue;class x0 extends Rt{constructor(t,s){super(t,s),this.type="rexScrollBar";var l=Ye(s,"background",void 0),C=Ye(s,"buttons",void 0),S=Ye(C,"top",Ye(C,"left",void 0)),r=Ye(C,"bottom",Ye(C,"right",void 0)),T,i=Ye(s,"slider",void 0);if(l&&this.addBackground(l),S){this.add(S);var d=new Da(S);d.on("intouch",function(){if(this.enable){var p=T.reverseAxis?this.scrollStep:-this.scrollStep;this.value+=p}},this)}if(i){i.orientation=this.orientation,i.eventEmitter=this,i.value=null;var x;if(this.orientation===0){var f=Ye(i,"width",void 0);x=f===void 0?1:0}else{var u=Ye(i,"height",void 0);x=u===void 0?1:0}T=new Ua(t,i),t.add.existing(T),this.add(T,{proportion:x})}if(r){this.add(r);var d=new Da(r);d.on("intouch",function(){if(this.enable){var a=T.reverseAxis?-this.scrollStep:this.scrollStep;this.value+=a}},this)}var o=[S,r];this.addChildrenMap("background",l),this.addChildrenMap("slider",T),this.addChildrenMap("buttons",o);var n=Ye(s,"valuechangeCallback",null);if(n!==null){var h=Ye(s,"valuechangeCallbackScope",void 0);this.on("valuechange",n,h)}this.setEnable(Ye(s,"enable",void 0)),this.setValue(Ye(s,"value",0)),this.setScrollStep(Ye(C,"step",.01))}setScrollStep(t){return this.scrollStep=t,this}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,s,l){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,s,l),this}addValue(t,s,l){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,s,l),this}getValue(t,s){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,s):0}easeValueTo(t,s,l){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,s,l),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}}class uk extends x0{constructor(t,s){s===void 0&&(s={});var l=fr(s);s={slider:l},s.orientation=l.orientation,delete l.orientation,s.background=l.background,delete l.background,s.buttons=l.buttons,delete l.buttons,super(t,s);var C=this.childrenMap.slider;this.addChildrenMap("track",C.childrenMap.track),this.addChildrenMap("indicator",C.childrenMap.indicator),this.addChildrenMap("thumb",C.childrenMap.thumb)}}class dk extends ks{constructor(t,s){super(s),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,s=this.parent,l=s.dragState;return l.isDown&&(t=s.dragThreshold===0?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,s){this.next()}next_DRAGBEGIN(){var t,s=this.parent,l=s.dragState;return l.isDown?t=l.pointer.getDistance()>=s.dragThreshold?"DRAG":"DRAGBEGIN":t="IDLE",t}update_DRAGBEGIN(t,s){this.next()}next_DRAG(){var t,s=this.parent,l=s.dragState;return l.isUp&&(s.outOfBounds?t="BACK":s.slidingEnable?t="SLIDE":t="IDLE"),t}update_DRAG(t,s){var l=this.parent,C=l.dragState;C.justMoved&&l.dragging(),this.next()}enter_DRAG(){this.parent.onDragStart()}exit_DRAG(){this.parent.onDragEnd()}next_SLIDE(){var t,s=this.parent,l=s.dragState;return l.isDown?t="DRAG":s.isSliding||(t="IDLE"),t}enter_SLIDE(){this.parent.onSliding()}exit_SLIDE(){this.parent.stop()}update_SLIDE(t,s){this.parent.sliding(t,s),this.next()}next_BACK(){var t,s=this.parent,l=s.dragState;return l.isDown?t="DRAG":s.isPullBack||(t="IDLE"),t}enter_BACK(){this.parent.onPullBack()}exit_BACK(){this.parent.stop()}update_BACK(t,s){this.parent.pullBack(t,s),this.next()}}const Rl=Phaser.Utils.Objects.GetValue,fk=Phaser.Math.Distance.Between;class ck extends ge{constructor(t,s){super(t,s),this._enable=void 0,t.setInteractive(Rl(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(Rl(t,"enable",!0)),this.holdThreshold=Rl(t,"holdThreshold",50),this.pointerOutReleaseEnable=Rl(t,"pointerOutRelease",!0),this}boot(){this.parent.on("pointerdown",this.onPointIn,this),this.parent.on("pointerup",this.onPointOut,this),this.pointerOutReleaseEnable&&this.parent.on("pointerout",this.onPointOut,this),this.parent.on("pointermove",this.onPointerMove,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setPointerOutReleaseEnable(t){return t===void 0&&(t=!0),this.pointerOutReleaseEnable=t,this}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){var t=Sg(this.scene);return t}get speed(){if(this.x===this.preX&&this.y===this.preY)return 0;var t=fk(this.preX,this.preY,this.x,this.y),s=t/(this.dt*.001);return s}get speedX(){return this.dx/(this.dt*.001)}get speedY(){return this.dy/(this.dt*.001)}onPointIn(t,s,l){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.localX=s,this.localY=l)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0)}onPointerMove(t,s,l){!this.enable||!t.isDown||this.pointer!==t||(this.localX=s,this.localY=l)}preupdate(t,s){if(this.enable){var l=this.pointer;this.justMoved=!1,l&&!this.isInTouched?(this.x=l.worldX,this.y=l.worldY,this.preX=l.worldX,this.preY=l.worldY,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",l,this.localX,this.localY)):l&&this.isInTouched?this.x===l.x&&this.y===l.y?this.holdStartTime===void 0?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=l.worldX,this.y=l.worldY,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",l,this.localX,this.localY)):!l&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",l))}}}const Pc=Phaser.Utils.Objects.GetValue;class vk{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(Pc(t,"value",0)),this.setSpeed(Pc(t,"speed",0)),this.setAcceleration(Pc(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return this.acceleration!==0&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}}class pk{constructor(){this.value,this.dir,this.movement=new vk}init(t,s,l,C,S){return this.value=t,this.end=S,S!==void 0?this.dir=t<S:this.dir=s,this.movement.setSpeed(l).setAcceleration(-C),this}stop(){this.movement.reset()}update(t){var s=this.movement.getDeltaValue(t);return this.dir||(s=-s),this.end===void 0?this.value+=s:s===0?this.value=this.end:(this.value+=s,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}}const _t=Phaser.Utils.Objects.GetValue,gk=Phaser.Math.Clamp;class mk extends ge{constructor(t,s){super(t,s);var l=_t(s,"enable",!0);this._state=new dk(this,{enable:l,eventEmitter:!1});var C={inputConfig:_t(s,"inputConfig",void 0),enable:l,pointerOutRelease:_t(s,"pointerOutRelease",!0),eventEmitter:!1};this.dragState=new ck(t,C),this._enable=void 0,this._value=void 0,this._slowDown=new pk;var S=_t(s,"valuechangeCallback",null);if(S!==null){var r=_t(s,"valuechangeCallbackScope",void 0);this.on("valuechange",S,r)}if(S=_t(s,"overmaxCallback",null),S!==null){var r=_t(s,"overmaxCallbackScope",void 0);this.on("overmax",S,r)}if(S=_t(s,"overminCallback",null),S!==null){var r=_t(s,"overminCallbackScope",void 0);this.on("overmin",S,r)}this.resetFromJSON(s),this.boot()}resetFromJSON(t){this.setOrientationMode(_t(t,"orientation",0)),this.setDragThreshold(_t(t,"threshold",10)),this.setSlidingDeceleration(_t(t,"slidingDeceleration",5e3)),this.setBackDeceleration(_t(t,"backDeceleration",2e3));var s=_t(t,"dragRate",1);s=s*(_t(t,"dragReverse",!1)?-1:1),this.setDragRate(s);var l=_t(t,"bounds",void 0);return l?this.setBounds(l):this.setBounds(_t(t,"max",0),_t(t,"min",0)),this.setValue(_t(t,"value",this.maxValue||0)),this.setEnable(_t(t,"enable",!0)),this}boot(){this.scene.sys.events.on("preupdate",this._state.update,this._state)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this._state.update,this._state),this._state.destroy(t),this.dragState.destroy(t),this._state=void 0,this.dragState=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setOrientationMode(t){return typeof t=="string"&&(t=xk[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setDragRate(t){return this.dragRate=t,this}setBounds(t,s){if(Array.isArray(t)){var l=t;t=l[0],s=l[1]}return t<s?(this.minValue=t,this.maxValue=s):(this.minValue=s,this.maxValue=t),this}get value(){return this._value}set value(t){if(t!==this._value){var s=this._value,l=this.overMax(t),C=this.overMin(t);l&&this.emit("overmax",t,s),C&&this.emit("overmin",t,s),this.backEnable||(l&&(t=this.maxValue),C&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,s)}}setValue(t,s){return s===void 0&&(s=!1),s&&(t=gk(t,this.minValue,this.maxValue)),this.value=t,this}addValue(t,s){return this.setValue(this.value+t,s),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return this.maxValue!=null&&t>this.maxValue}overMin(t){return this.minValue!=null&&t<this.minValue}get backEnable(){return typeof this.backDeceleration=="number"}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return typeof this.slidingDeceleration=="number"}get isSliding(){return this._slowDown.isMoving}get dragDelta(){var t;return this.orientationMode===0?t=this.dragState.dy:this.orientationMode===1?t=this.dragState.dx:t=0,t*=this.dragRate,t}get dragSpeed(){var t;return this.orientationMode===0?t=this.dragState.speedY:this.orientationMode===1?t=this.dragState.speedX:t=0,t*=this.dragRate,t}onDragStart(){this.emit("dragstart")}onDragEnd(){this.emit("dragend")}dragging(){this.value+=this.dragDelta}onSliding(){var t=this.value,s=this.dragSpeed;if(s===0){this._slowDown.stop(),this._state.next();return}var l=this.slidingDeceleration;this._slowDown.init(t,s>0,Math.abs(s),l)}sliding(t,s){s*=.001;var l=this._slowDown.update(s).value;this.overMax(l)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(l)?(this.value=this.minValue,this._slowDown.stop()):this.value=l}onPullBack(){var t=this.value,s=this.outOfMinBound?this.minValue:this.maxValue,l=Math.abs(s-t),C=this.backDeceleration,S=Math.sqrt(2*C*l);this._slowDown.init(t,void 0,S,C,s)}pullBack(t,s){s*=.001,this.value=this._slowDown.update(s).value,this._slowDown.isMoving||this._state.next()}stop(){this._slowDown.stop()}}const xk={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},Ol=Phaser.Utils.Objects.GetValue;class yk extends ge{constructor(t,s){if(super(t,s),this.parent!==this.scene?this.focusMode=Ol(s,"focus",!1):this.focusMode=!1,this.setSpeed(Ol(s,"speed",.1)),this.setEnable(Ol(s,"enable",!0)),!this.focusMode)this.scene.input.on("wheel",this.onSceneScroll,this);else{var t=this.parent;t.setInteractive(Ol(s,"inputConfig",void 0)).on("wheel",function(C,S,r,T,i){this.enable&&this.scroll(r)},this)}}destroy(){this.focusMode||this.scene.input.off("wheel",this.onSceneScroll,this)}onSceneScroll(t,s,l,C,S,r){this.enable&&this.scroll(C)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setSpeed(t){return this.speed=t,this}scroll(t){t*=this.speed,this.emit("scroll",t,this.parent,this)}}const te=Phaser.Utils.Objects.GetValue;var Ck=function(e,t){var s=e.scene,l=Id(t),C=new Rt(s,{orientation:l}),S=te(t,"child.gameObject",void 0),r=0,T=te(t,"slider",void 0),i,d=0,x=te(T,"position",0);typeof x=="string"&&(x=Tk[x]);var f=x===0,u=te(t,"scroller",!0),o,n=te(t,"mouseWheelScroller",!1),h;if(S){var p=te(t,"space.child",0);if(e.childMargin={},typeof p!="number"){var a=p;l===0?(r={left:te(a,"left",0),right:te(a,"right",0)},e.childMargin.top=te(a,"top",0),e.childMargin.bottom=te(a,"bottom",0)):(r={top:te(a,"top",0),bottom:te(a,"bottom",0)},e.childMargin.top=te(a,"left",0),e.childMargin.bottom=te(a,"right",0))}else T&&(l===0?r=f?{right:p}:{left:p}:r=f?{bottom:p}:{top:p}),e.childMargin.top=0,e.childMargin.bottom=0;T?(T===!0&&(T={}),T.orientation=C.orientation===0?1:0,i=new uk(s,T),d=te(t,"space.slider",0),e.hideUnscrollableSlider=te(T,"hideUnscrollableSlider",!1),e.adaptThumbSizeMode=te(T,"adaptThumbSize",!1),e.minThumbSize=te(T,"minThumbSize",void 0)):(e.adaptThumbSizeMode=!1,e.minThumbSize=void 0),u&&(u===!0&&(u={}),u.orientation=l,o=new mk(S,u)),n&&(h=new yk(S,n)),i&&!f&&C.add(i,{proportion:0,align:"center",padding:d,expand:!0});var c=te(t,"child.proportion",1),v=te(t,"child.expand",!0);C.add(S,{proportion:c,align:"center",padding:r,expand:v}),i&&f&&C.add(i,{proportion:0,align:"center",padding:d,expand:!0})}return i&&i.on("valuechange",function(g){e.t=g,e.emit("scroll",e)}),o&&o.on("valuechange",function(g){e.childOY=g,e.emit("scroll",e)}),h&&h.on("scroll",function(g){e.addChildOY(-g,!0)}),e.addChildrenMap("child",S),e.addChildrenMap("slider",i),e.addChildrenMap("scroller",o),e.addChildrenMap("mouseWheelScroller",h),C},Tk={right:0,left:1,bottom:0,top:1},Sk=function(){var e=this.topChildOY,t=this.bottomChildOY,s=this.childrenMap.scroller,l=this.childrenMap.slider;return s&&s.setBounds(t,e),l&&l.setEnable(t!==e),this.updateController(),l&&(this.hideUnscrollableSlider&&this.setChildVisible(l,this.isOverflow),this.adaptThumbSizeMode&&Ek.call(this)),this},Ek=function(){var e=Math.min(this.childVisibleHeight/this.childHeight,1),t=this.childrenMap.slider,s=t.childrenMap.track,l=t.childrenMap.thumb,C=this.minThumbSize;if(this.scrollMode===0){var S=s.displayHeight*e;C!==void 0&&S<C&&(S=C),$i(l,void 0,S)}else{var r=s.displayWidth*e;C!==void 0&&r<C&&(r=C),$i(l,r,void 0)}Pk.call(this)},Pk=function(){var e=this.childrenMap.slider,t=e.minWidth,s=e.minHeight;e.minWidth=e.width,e.minHeight=e.height,e.layout(),e.minWidth=t,e.minHeight=s},Mk=function(){var e=this.childrenMap.scroller,t=this.childrenMap.slider;e&&e.setValue(this.childOY),t&&t.setValue(this.t)};const is=Phaser.Utils.Objects.GetValue,R1=Phaser.Math.Clamp;class Bd extends Rt{constructor(t,s){s===void 0&&(s={});var l=Id(s);s.orientation=l===0?1:0,super(t,s),this.type=is(s,"type","rexScrollable");var C=is(s,"background",void 0),S=Ck(this,s),r=is(s,"header",void 0),T=is(s,"footer",void 0);if(C&&this.addBackground(C),r){var i=is(s,"align.header","center"),d=is(s,"space.header",0),x;l===0?x={bottom:d}:x={right:d};var f=is(s,"expand.header",!0);this.add(r,{proportion:0,align:i,padding:x,expand:f})}if(S&&this.add(S,{proportion:1,align:"center",padding:0,expand:!0}),T){var i=is(s,"align.footer","center"),u=is(s,"space.footer",0),x;l===0?x={top:u}:x={left:u};var f=is(s,"expand.footer",!0);this.add(T,{proportion:0,align:i,padding:x,expand:f})}this.addChildrenMap("background",C),this.addChildrenMap("header",r),this.addChildrenMap("footer",T),this.runLayoutFlag=!1}runLayout(t,s,l){return this.ignoreLayout?this:(super.runLayout(t,s,l),this.resizeController(),this.runLayoutFlag||(this.runLayoutFlag=!0,this.setT(0)),this)}set t(t){var s=this.childMargin;if(s.top!==0||s.bottom!==0){var l=this.childrenMap.child,C=l.topChildOY-l.bottomChildOY,S=C+s.top+s.bottom,r=S*t-s.top;t=r/C}this.childrenMap.child.t=t,this.updateController()}get t(){var t=this.childrenMap.child.t,s=this.childMargin;if(s.top!==0||s.bottom!==0){var l=this.childrenMap.child,C=l.topChildOY-l.bottomChildOY,S=C+s.top+s.bottom,r=C*t+s.top;t=r/S}return t}set childOY(t){this.childrenMap.child.childOY=t,this.updateController()}get childOY(){return this.childrenMap.child.childOY}get topChildOY(){return this.childrenMap.child.topChildOY+this.childMargin.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childMargin.bottom}get childVisibleHeight(){return this.childrenMap.child.childVisibleHeight}get childHeight(){return this.childrenMap.child.childHeight}get isOverflow(){var t=this.childrenMap.child;return t.topChildOY!==t.bottomChildOY}get scrollMode(){return this.orientation===0?1:0}setChildOY(t,s){return s===void 0&&(s=!1),s&&(t=R1(t,this.bottomChildOY,this.topChildOY)),this.childOY=t,this}addChildOY(t,s){return this.setChildOY(this.childOY+t,s),this}setT(t,s){return s===void 0&&(s=!1),s&&(t=R1(t,0,1)),this.t=t,this}addT(t,s){return this.setT(this.t+t,s),this}scrollToTop(){return this.t=0,this}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}get sliderEnable(){var t=this.childrenMap.slider;return t?t.enable:!1}set sliderEnable(t){var s=this.childrenMap.slider;s&&s.setEnable(t)}setSliderEnable(t){return t===void 0&&(t=!0),this.sliderEnable=t,this}get scrollerEnable(){var t=this.childrenMap.scroller;return t?t.enable:!1}set scrollerEnable(t){var s=this.childrenMap.scroller;s&&s.setEnable(t)}setScrollerEnable(t){return t===void 0&&(t=!0),this.scrollerEnable=t,this}get mouseWheelScrollerEnable(){var t=this.childrenMap.mouseWheelScroller;return t?t.enable:!1}set mouseWheelScrollerEnable(t){var s=this.childrenMap.mouseWheelScrollerEnable;s&&s.setEnable(t)}setMouseWheelScrollerEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerEnable=t,this}setDropZoneEnable(t){t===void 0&&(t=!0);var s=this.childrenMap.child;return s.setInteractive(),s.input.dropZone=t,this}}var wk={resizeController:Sk,updateController:Mk};Object.assign(Bd.prototype,wk);const Je=0,ai=1,oi=2;var Xa=function(e){var t;return H2(e)?t=oi:d0(e)?t=Je:t=ai,t},y0=function(e,t,s){var l=Xa(e);switch(l){case Je:s=e.getWrappedText(t);break;case ai:s=e.getPenManager(t,s);break;case oi:e.maxWidth>0?s=e.setText(t).getTextBounds().wrappedText.split(`
`):s=t.split(`
`);break}return s},Rk=function(e){return e!==void 0&&(this.text=e),this.lines=y0(this.textObject,this.text,this.lines),this.linesCount=this.lines.length,this._textHeight=void 0,this._textVisibleHeight=void 0,this.updateTextObject(),this},q2=function(e){return(e-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},_2=function(e){return e*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},Ok=function(e){var t=e+this.visibleLinesCount+1,s;switch(this.textObjectType){case Je:s=this.lines.slice(e,t).join(`
`);break;case ai:var l=this.lines.getLineStartIndex(e),C=this.lines.getLineEndIndex(t-1);s=this.lines.getSliceTagText(l,C,!0);break;case oi:s=this.lines.slice(e,t).join(`
`);break}return s},C0=function(e,t){var s=Xa(e);switch(s){case Je:var S=e.style,l=S.wordWrapWidth,C=S.wordWrapCallback;S.wordWrapWidth=0,S.wordWrapCallback=void 0,e.setText(t),S.wordWrapWidth=l,S.wordWrapCallback=C;break;case ai:var S=e.style,r=S.wrapMode;S.wrapMode=0,e.setText(t),S.wrapMode=r;break;case oi:var T=e._maxWidth;e._maxWidth=0,e.setText(t),e._maxWidth=T;break}},tP=function(){var e=this.textObject.rexSizer;this.textObject.y+=e.offsetY-e.preOffsetY,e.preOffsetY=e.offsetY,this.resetChildPositionState(this.textObject),this.textCropEnable&&Ak.call(this)},Ak=function(){if(this.textObject.setCrop){var e=this.textObject.rexSizer.offsetY,t,s;e<=0?(t=-e,s=this.height):(t=0,s=this.height-e),this.textObject.setCrop(0,t,this.width,s)}},Lk=function(){var e=Math.max(Math.floor(q2.call(this,-this.textOY)),0),t=_2.call(this,e)+this.textOY,s=Ok.call(this,e);return C0(this.textObject,s),this.textObject.rexSizer.offsetY=t,tP.call(this),this},Fk=function(){return this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,Sh.call(this),this},Dk=function(e,t,s){if(s+=this.textLineHeight+this.textLineSpacing,!(this.textObjectWidth===t&&this._textObjectRealHeight===s)){switch(this.textObjectWidth=t,this._textObjectRealHeight=s,this.textObjectType){case Je:case ai:e.setFixedSize(t,s);var l=e.style,C=Math.max(t,0);this.textObjectType===Je?l.wordWrapWidth=C:(l.wrapMode===0&&(l.wrapMode=1),l.wrapWidth=C);break;case oi:e.setMaxWidth(t);break}this.setText()}},Ik=function(){var e,t,s,l=this.left,C=this.top,S,r,T,i;e=this.textObject,e.rexSizer.hidden||(t=e.rexSizer,s=t.padding,S=l+s.left,r=C+s.top,T=this.width-s.left-s.right,i=this.height-s.top-s.bottom,Dk.call(this,e,T,i),xh(e,S,r,T,i,t.align),t.preOffsetY=0,tP.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)))};const Bk={setText:Rk,updateTextObject:Lk,preLayout:Fk,layoutChildren:Ik},O1=Phaser.Utils.Objects.IsPlainObject,ei=Phaser.Utils.Objects.GetValue,bk=Phaser.Display.Align.TOP_LEFT;class eP extends Sr{constructor(t,s,l,C,S,r){O1(s)?(r=s,s=ei(r,"x",0),l=ei(r,"y",0),C=ei(r,"width",void 0),S=ei(r,"height",void 0)):O1(C)&&(r=C,C=ei(r,"width",void 0),S=ei(r,"height",void 0)),super(t,s,l,C,S,r),this.type="rexTextBlock",this.textObject=void 0,this.linesCount=0,this.textMask=void 0,this.textObjectType=void 0,this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,this._textObjectRealHeight=0,this.lines=void 0,this.text=ei(r,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode(ei(r,"clamplTextOY",!0)),this.alwaysScrollable=ei(r,"alwaysScrollable",!1);var T=ei(r,"background",void 0),i=ei(r,"text",void 0);i===void 0&&(i=Gk(t)),this.textCropEnable=ei(r,"textCrop",!!i.setCrop);var d=ei(r,"textMask",!this.textCropEnable);T&&this.addBackground(T),this.add(i),this.sizerChildren=[i];var x=this.getSizerConfig(i);x.align=bk,x.padding=Va(0),x.expand=!0,this.textObject=i,this.textObjectType=Xa(i),x.preOffsetY=0,x.offsetY=0,d&&(this.textMask=Ki.call(this,this.textObject,this)),this.addChildrenMap("background",T),this.addChildrenMap("text",i)}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(this.textObject=void 0,this.textMask=void 0,this.lines){switch(this.textObjectType){case Je:this.lines.length=0;break;case ai:this.lines.destroy();break;case oi:this.lines.length=0;break}this.lines=void 0}super.destroy(t)}}setClampMode(t){return t===void 0&&(t=!0),this.clampTextOY=t,this}get textLineHeight(){if(this._textLineHeight===void 0){var t;switch(this.textObjectType){case Je:case ai:var s=this.textObject.style;t=s.metrics.fontSize+s.strokeThickness;break;case oi:var l=this.textObject.fontSize/this.textObject.fontData.size;t=this.textObject.fontData.lineHeight*l;break}this._textLineHeight=t}return this._textLineHeight}get textLineSpacing(){if(this._textLineSpacing===void 0){var t;switch(this.textObjectType){case Je:case ai:t=this.textObject.lineSpacing;break;case oi:t=0;break}this._textLineSpacing=t}return this._textLineSpacing}get visibleLinesCount(){return this._visibleLinesCount===void 0&&(this._visibleLinesCount=Math.floor(q2.call(this,this._textObjectRealHeight))),this._visibleLinesCount}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return this._textHeight===void 0&&(this._textHeight=_2.call(this,this.linesCount)),this._textHeight}get textObjectHeight(){return this._textObjectRealHeight-(this.textLineHeight+this.textLineSpacing)}get textVisibleHeight(){if(this._textVisibleHeight===void 0){var t=this.textHeight-this.textObjectHeight;!this.alwaysScrollable&&t<0&&(t=0),this._textVisibleHeight=t}return this._textVisibleHeight}textOYExceedTop(t){return t===void 0&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return t===void 0&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var s=this.topTextOY,l=this.bottomTextOY,C=this.textOYExceedTop(t),S=this.textOYExeceedBottom(t);this.clampTextOY&&(this.visibleLinesCount>this.linesCount?t=0:C?t=s:S&&(t=l)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),C&&(this.execeedTopState||this.emit("execeedtop",this,t,s)),this.execeedTopState=C,S&&(this.execeedBottomState||this.emit("execeedbottom",this,t,l)),this.execeedBottomState=S}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return t===0?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}}var Gk=function(e){return e.add.text(0,0,"")};Object.assign(eP.prototype,Bk);var Nk=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textObjectHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.textHeight}})};const zk={setText(e){var t=this.childrenMap.child;return t.setText(e),this.resizeController(),this},appendText(e){return this.setText(this.text+e),this}};Phaser.Math.Clamp;const kk={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},Ts=Phaser.Utils.Objects.GetValue;class wh extends Bd{constructor(t,s){s===void 0&&(s={});var l=Ts(s,"text",void 0),C=Ts(s,"textWidth",void 0),S=Ts(s,"textHeight",void 0),r=Ts(s,"textCrop",!!l.setCrop),T=Ts(s,"textMask",!r),i=Ts(s,"content",""),d=new eP(t,{width:C,height:S,text:l,textMask:T,textCrop:r&&!T,content:i,clamplTextOY:Ts(s,"clamplChildOY",!1),alwaysScrollable:Ts(s,"alwaysScrollable",!1)});t.add.existing(d);var x=C===void 0?1:0,f=S===void 0;Nk(d),s.scrollMode=0,s.type="rexTextArea",s.child={gameObject:d,proportion:x,expand:f};var u=Ts(s,"space",void 0);u&&(u.child=u.text),super(t,s),this.addChildrenMap("text",l)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.textLineHeight+t.textLineSpacing}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){return this.childrenMap.child.linesCount}get contentHeight(){return this.childrenMap.child.textHeight}}Object.assign(wh.prototype,zk,kk);const Al=Phaser.Utils.Objects.GetValue;var Vk=function(e,t,s){t=t?wi(t):{};var l=Al(s,"background",Ci),C=Al(s,"text",W2),S=Al(s,"track",Ci),r=Al(s,"thumb",Ci);l?t.background=l(e,t.background):delete t.background,C?t.text=C(e,t.text):delete t.text;var T=t.slider;T!==!1&&(T===void 0&&(T={}),S?T.track=S(e,T.track):delete T.track,r?T.thumb=r(e,T.thumb):delete T.thumb,t.slider=T);var i=new wh(e,t);return e.add.existing(i),i};const Uk=Phaser.Utils.Objects.GetValue;var Xk=function(e,t,s){var l=Uk(t,"$type");l===void 0&&t&&(t.hasOwnProperty("slider")||t.hasOwnProperty("scroller"))&&(l="textarea");var C;switch(l){case"textarea":C=new Vk(e,t,s);break;default:C=new Ti(e,t,s);break}return e.add.existing(C),C};const Yk=Phaser.Utils.Objects.GetValue;class T0 extends Dd{constructor(t,s,l){s=s?wi(s):{},l===void 0&&(l={});var C=Yk(l,"background",Ci);C?s.background=C(t,s.background):delete s.background,s.title=Ti(t,s.title,l.title),s.content=Xk(t,s.content,l.content),s.content instanceof wh&&hs(s,"height")&&!hs(s,"proportion.content")&&it(s,"proportion.content",1);var S=s.button,r=s.buttonA||S,T=s.buttonB||S,i=s.buttonMode;i===void 0&&(i=r&&T?2:r?1:0);var d=l.button,x=l.buttonA||d,f=l.buttonB||d;switch(i){case 2:s.actions=[Ti(t,r,x),Ti(t,T,f)];break;case 1:s.actions=[Ti(t,r,x)];break;case 0:break;default:s.actions=[];break}var u=s.choice;u&&(s.choices=[]),super(t,s),this.type="rexConfirmDialog",this.buttonMode=i,this.defaultActionConfig=S,this.defaultActionButtonCreator=d,this.defaultChoiceConfig=u,this.defaultChoiceCreator=l.choice;var o=this.childrenMap.actions;this.addChildrenMap("buttonA",o?o[0]:null),this.addChildrenMap("buttonB",o?o[1]:null),Vz.call(this)}}Object.assign(T0.prototype,Bz);st.register("confirmDialog",function(e,t){var s=new T0(this.scene,e,t);return this.scene.add.existing(s),s});it(window,"RexPlugins.UI.ConfirmDialog",T0);const Ll=Phaser.Utils.Objects.GetValue;var Rh=function(e,t,s){var l=Ll(e,`proportion.${t}`,s.proportion),C=Ll(e,`align.${t}`,"center"),S=Ll(e,`space.${t}`,void 0);if(typeof S=="number"&&s.paddingKey){var r=S;S={},S[s.paddingKey]=r}var T=Ll(e,`expand.${t}`,!0);return{proportion:l,align:C,padding:S,expand:T}},bd=function(e){return Rh(e,"header",{proportion:0,paddingKey:"bottom"})},Gd=function(e){return Rh(e,"leftSide",{proportion:0,paddingKey:"right"})},Nd=function(e){return Rh(e,"content",{proportion:1})},zd=function(e){return Rh(e,"rightSide",{proportion:0,paddingKey:"left"})},kd=function(e){return Rh(e,"footer",{proportion:0,paddingKey:"top"})},Ls=function(e){return{proportion:1,align:"center",padding:0,expand:!0}},Fs=function(e,t){var s=new Rt(e,{orientation:t});return e.add.existing(s),s},Wk=function(e){var t=this.scene,s=e.header;s&&this.add(s,bd(e));var l=Fs(t,0);this.add(l,Ls());var C=e.leftSide;C&&l.add(C,Gd(e));var S=e.content;S&&l.add(S,Nd(e));var r=e.rightSide;r&&l.add(r,zd(e));var T=e.footer;T&&this.add(T,kd(e))},Hk=function(e){var t=this.scene,s=e.header;s&&this.add(s,bd(e));var l=Fs(t,0);this.add(l,Ls());var C=e.leftSide;C&&l.add(C,Gd(e));var S=Fs(t,1);l.add(S,Ls());var r=Fs(t,0);S.add(r,Ls());var T=e.content;T&&r.add(T,Nd(e));var i=e.rightSide;i&&r.add(i,zd(e));var d=e.footer;d&&S.add(d,kd(e))},$k=function(e){var t=this.scene,s=e.header;s&&this.add(s,bd(e));var l=Fs(t,0);this.add(l,Ls());var C=Fs(t,1);l.add(C,Ls());var S=Fs(t,0);C.add(S,Ls());var r=e.leftSide;r&&S.add(r,Gd(e));var T=e.content;T&&S.add(T,Nd(e));var i=e.footer;i&&C.add(i,kd(e));var d=e.rightSide;d&&l.add(d,zd(e))},Kk=function(e){var t=this.scene,s=e.header;s&&this.add(s,bd(e));var l=Fs(t,0);this.add(l,Ls());var C=e.leftSide;C&&l.add(C,Gd(e));var S=Fs(t,1);l.add(S,Ls());var r=e.content;r&&S.add(r,Nd(e));var T=e.footer;T&&S.add(T,kd(e));var i=e.rightSide;i&&l.add(i,zd(e))};const A1=Phaser.Utils.Objects.GetValue,L1=[Wk,Hk,$k,Kk];var jk=function(e){this.clear(!0);var t=A1(e,"background",void 0);t&&this.addBackground(t);var s=A1(e,"layoutMode",0);typeof s=="string"&&(s=Zk[s.toUpperCase()]);var l=L1[s]||L1[0];l.call(this,e),this.addChildrenMap("background",e.background),this.addChildrenMap("header",e.header),this.addChildrenMap("leftSide",e.leftSide),this.addChildrenMap("content",e.content),this.addChildrenMap("rightSide",e.rightSide),this.addChildrenMap("footer",e.footer)};const Zk={FFF:0,LFF:1,FFR:2,LFR:3};class S0 extends Rt{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexHolyGrail",this.build(s)}}var Jk={build:jk};Object.assign(S0.prototype,Jk);st.register("holyGrail",function(e){var t=new S0(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.HolyGrail",S0);const Qk={getButtonsSizer(e){return this.childrenMap[`${e}ButtonsSizer`]},getButton(e,t){var s=this.getButtonsSizer(e);return s?s.getButton(t):void 0},setButtonEnable(e,t,s){return this.getButtonsSizer(e).setButtonEnable(t,s),this},setLeftButtonEnable(e,t){return this.childrenMap.leftButtonsSizer.setButtonEnable(e,t),this},setRightButtonEnable(e,t){return this.childrenMap.rightButtonsSizer.setButtonEnable(e,t),this},setTopButtonEnable(e,t){return this.childrenMap.topButtonsSizer.setButtonEnable(e,t),this},setBottomButtonEnable(e,t){return this.childrenMap.bottomButtonsSizer.setButtonEnable(e,t),this},toggleButtonEnable(e,t){return this.getButtonsSizer(e).toggleButtonEnable(t),this},toggleLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.toggleButtonEnable(e),this},toggleRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.toggleButtonEnable(e),this},toggleTopButtonEnable(e){return this.childrenMap.topButtonsSizer.toggleButtonEnable(e),this},toggleBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.toggleButtonEnable(e),this},getButtonEnable(e,t){return this.getButtonsSizer(e).getButtonEnable(t)},getLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.getButtonEnable(e)},getRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.getButtonEnable(e)},getTopButtonEnable(e){return this.childrenMap.topButtonsSizer.getButtonEnable(e)},getBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.getButtonEnable(e)},emitButtonClick(e,t){var s=this.getButtonsSizer(e);return s?(s.emitButtonClick(t),this):this},emitLeftButtonClick(e){return this.childrenMap.leftButtonsSizer.emitButtonClick(e),this},emitRightButtonClick(e){return this.childrenMap.rightButtonsSizer.emitButtonClick(e),this},emitTopButtonClick(e){return this.childrenMap.topButtonsSizer.emitButtonClick(e),this},emitBottomButtonClick(e){return this.childrenMap.bottomButtonsSizer.emitButtonClick(e),this},getLeftButton(e){return this.childrenMap.leftButtonsSizer.getButton(e)},getRightButton(e){return this.childrenMap.rightButtonsSizer.getButton(e)},getTopButton(e){return this.childrenMap.topButtonsSizer.getButton(e)},getBottomButton(e){return this.childrenMap.bottomButtonsSizer.getButton(e)},showButton(e,t){return en(this.getButton(e,t)),this},showLeftButton(e){return en(this.getLeftButton(e)),this},showRightButton(e){return en(this.getRightButton(e)),this},showTopButton(e){return en(this.getTopButton(e)),this},showBottomButton(e){return en(this.getBottomButton(e)),this},hideButton(e,t){return sn(this.getButton(e,t)),this},hideLeftButton(e){return sn(this.getLeftButton(e)),this},hideRightButton(e){return sn(this.getRightButton(e)),this},hideTopButton(e){return sn(this.getTopButton(e)),this},hideBottomButton(e){return sn(this.getBottomButton(e)),this},addButton(e,t){return this.getButtonsSizer(e).addButton(t),this},addLeftButton(e){return this.addButton("left",e),this},addRightButton(e){return this.addButton("right",e),this},addTopButton(e){return this.addButton("top",e),this},removeButton(e,t,s){return this.getButtonsSizer(e).removeButton(t,s),this},removeLeftButton(e,t){return this.removeButton("left",e,t),this},removeRightButton(e,t){return this.removeButton("right",e,t),this},removeTopButton(e,t){return this.removeButton("top",e,t),this},removeBottomButton(e,t){return this.removeButton("bottom",e,t),this},clearButtons(e,t){return this.getButtonsSizer(e).clearButtons(t),this},clearLeftButtons(e){return this.clearButtons("left",e),this},clearRightButtons(e){return this.clearButtons("right",e),this},clearTopButtons(e){return this.clearButtons("top",e),this},clearBottomButtonss(e){return this.clearButtons("bottom",e),this},forEachButton(e,t,s){return this.getButtonsSizer(e).forEachButtton(t,s),this},forEachLeftButton(e,t){return this.childrenMap.leftButtonsSizer.forEachButtton(e,t),this},forEachRightButton(e,t){return this.childrenMap.rightButtonsSizer.forEachButtton(e,t),this},forEachTopButton(e,t){return this.childrenMap.topButtonsSizer.forEachButtton(e,t),this},forEachBottomButton(e,t){return this.childrenMap.bottomButtonsSizer.forEachButtton(e,t),this}},Ut=Phaser.Utils.Objects.GetValue;class E0 extends Ln{constructor(t,s){s===void 0&&(s={}),s.column=3,s.row=3,super(t,s),this.type="rexTabs",this.eventEmitter=Ut(s,"eventEmitter",this);var l=Ut(s,"background",void 0),C=Ut(s,"panel",void 0),S=Ut(s,"leftButtons",void 0),r=Ut(s,"leftButtonsBackground",void 0),T,i=Ut(s,"rightButtons",void 0),d=Ut(s,"rightButtonsBackground",void 0),x,f=Ut(s,"topButtons",void 0),u=Ut(s,"topButtonsBackground",void 0),o,n=Ut(s,"bottomButtons",void 0),h=Ut(s,"bottomButtonsBackground",void 0),p,a=Ut(s,"click",void 0);if(l&&this.addBackground(l),C&&this.add(C,1,1,"center",0,!0),S){var c=Ut(s,"space.leftButtonsOffset",0),v=Ut(s,"space.leftButton",0);T=new Te(t,{groupName:"left",background:r,buttons:S,orientation:1,space:{item:v},align:Ut(s,"align.leftButtons",void 0),click:a,eventEmitter:this.eventEmitter});var g={top:c};this.add(T,0,1,"top",g,!1)}if(i){var m=Ut(s,"space.rightButtonsOffset",0),y=Ut(s,"space.rightButton",0);x=new Te(t,{groupName:"right",background:d,buttons:i,orientation:1,space:{item:y},align:Ut(s,"align.rightButtons",void 0),click:a,eventEmitter:this.eventEmitter});var g={top:m};this.add(x,2,1,"top",g,!1)}if(f){var P=Ut(s,"space.topButtonsOffset",0),M=Ut(s,"space.topButton",0);o=new Te(t,{groupName:"top",background:u,buttons:f,orientation:0,space:{item:M},align:Ut(s,"align.topButtons",void 0),click:a,eventEmitter:this.eventEmitter});var g={left:P};this.add(o,1,0,"left",g,!1)}if(n){var E=Ut(s,"space.bottomButtonsOffset",0),w=Ut(s,"space.bottomButton",0);p=new Te(t,{groupName:"bottom",background:h,buttons:n,orientation:0,space:{item:w},align:Ut(s,"align.bottomButtons",void 0),click:a,eventEmitter:this.eventEmitter});var g={left:E};this.add(p,1,2,"left",g,!1)}this.addChildrenMap("background",l),this.addChildrenMap("panel",C),this.addChildrenMap("leftButtons",S),this.addChildrenMap("rightButtons",i),this.addChildrenMap("topButtons",f),this.addChildrenMap("bottomButtons",n),this.addChildrenMap("leftButtonsSizer",T),this.addChildrenMap("rightButtonsSizer",x),this.addChildrenMap("topButtonsSizer",o),this.addChildrenMap("bottomButtonsSizer",p)}}Object.assign(E0.prototype,Qk);st.register("tabs",function(e){var t=new E0(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Tabs",E0);st.register("slider",function(e){var t=new Ua(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Slider",Ua);class iP{constructor(t,s){this.container=null,this._deltaHeight=0,this.setParent(t)}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(t){t===void 0&&(t=!1),t||this.destroyContainer(),this.deltaHeight=0,this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return t?(this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this):(this.destroyContainer(),this)}destroyContainer(){return this.container&&(this.container.destroy(),this.container=null),this}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}else return null}setXY(t,s){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,s),this}setCellContainerAlign(t){return typeof t=="string"&&(t=xi[t]),this.cellContainerAlign=t,this}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){t==null&&(t=0);var s=this.parent;this._deltaHeight===0&&t!==0?s.nonZeroDeltaHeightCount++:this._deltaHeight!==0&&t===0&&s.nonZeroDeltaHeightCount--;var l=this._deltaHeight!==t;if(this._deltaHeight=t,l){s.resetTotalRowsHeight();var C=this.scrollMode===0?"cellheightchange":"cellwidthchange";this.parentContainer.emit(C,this,this.container,this.parentContainer)}}get deltaWidth(){return this.deltaHeight}set deltaWidth(t){this.deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}setDeltaWidth(t){return this.deltaHeight=t,this}get height(){return this.scrollMode===0?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){this.scrollMode!==1&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return this.scrollMode===0?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){this.scrollMode!==0&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}}Object.assign(iP.prototype,td);const F1=Phaser.Utils.Objects.GetValue,qk=Phaser.Utils.Array.SpliceOne;class _k{constructor(t,s){this.parent=t,this.cells=[],this.cellPool=new ls,this.resetFromJSON(s)}resetFromJSON(t){t===void 0&&(t={}),this.colCount=void 0,this.nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight();var s=t.cellHeight;s===void 0&&(s=30);var l=t.cellWidth;return l===void 0&&(l=30),this.setDefaultCellHeight(s),this.setDefaultCellWidth(l),this.initCells(F1(t,"cellsCount",0)),this.setColumnCount(F1(t,"columns",1)),this}destroy(t){this.cellPool.destroy(),this.cells=void 0,this.parent=void 0}get defaultCellHeightMode(){return this.nonZeroDeltaHeightCount===0}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var s=this.cells;s.length=t;for(var l=0;l<t;l++)s[l]=null;return this}insertNewCells(t,s){var l=this.cells;if(t===l.length){var C=t+s;l.legth=C;for(var S=t;S<C;S++)l[S]=null}else{var r=[];r.length=s;for(var S=0;S<s;S++)r[S]=null;this.cells.splice(t,0,...r)}return this.resetTotalRowsHeight(),this}removeCells(t,s){for(var l=t+s,C=t;C<l;C++)this.freeCell(C);return l===this.cells.length?this.cells.length=t:(s===1?qk(this.cells,t):this.cells.splice(t,s),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){return this.colCount=t,this.resetTotalRowsHeight(),this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,s){if(s===void 0&&(s=0),t===0)return 0;if(this.defaultCellHeightMode){var T=t/this.defaultCellHeight;switch(s){case 0:T=Math.floor(T);break;case 1:T=Math.ceil(T);break;default:Number.isInteger(T)?T+=1:T=Math.floor(T);break}return T}for(var l=this.rowCount,C=t,S,r,T=0;;)if(r=this.getRowHeight(T),C-=r,S=T>=0&&T<l,C>0&&S)T+=1;else{if(C===0)return s===2&&(T+=1),T;if(s===1){var i=T;T+=1,S=T>=0&&T<l,S||(T=i)}return T}}widthToColIndex(t,s){if(t===0)return 0;var l=t/this.defaultCellWidth;return s?l=Math.ceil(l):l=Math.floor(l),l}colRowToCellIndex(t,s){return t>=this.colCount?null:s*this.colCount+t}rowIndexToHeight(t,s){if(this.defaultCellHeightMode)return(s-t+1)*this.defaultCellHeight;for(var l,C=0,S=t;S<=s;S++)l=this.getRowHeight(S),C+=l;return C}colIndexToWidth(t,s){return(s-t+1)*this.defaultCellWidth}getRowHeight(t){var s=this.colCount;if(s<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var l=0,C,S=0;S<s;S++)C=this.getCellHeight(this.colRowToCellIndex(S,t)),l<C&&(l=C);return l}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var s;if(this.defaultCellHeightMode)s=this.defaultCellHeight;else{var l=this.getCell(t,!1),C=l?l.deltaHeight:0;s=this.defaultCellHeight+C}return s}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return this._totalRowsHeight===null&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,s){if(!this.isValidCellIdx(t))return null;if(s===void 0&&(s=!0),this.cells[t]===null&&s){var l=this.newCell(t);this.cells[t]=l}return this.cells[t]}newCell(t){var s=this.cellPool.pop();return s===null?s=new iP(this):s.setParent(this),s.index=t,s}buildCellIndex(t){t===void 0&&(t=0);for(var s=this.cells,l,C=t,S=s.length;C<S;C++)l=s[C],l&&(l.index=C);return this}getParentContainer(){return this.parent}freeCell(t){return typeof t=="number"&&(t=this.cells[t]),t?(t.destroy(),this.cellPool.push(t),this):this}}var tV=function(e){var t=this.table,s=this.topTableOY,l=this.bottomTableOY,C=e>this.topTableOY,S=e<this.bottomTableOY;if(this.clampTableOXY){var r=t.rowCount,T=t.heightToRowIndex(this.instHeight,1);r<T?e=0:C?e=s:S&&(e=l)}return this._tableOY!==e&&(this._tableOY=e),C&&(this.execeedTopState||this.emit("execeedtop",this,e,s)),this.execeedTopState=C,S&&(this.execeedBottomState||this.emit("execeedbottom",this,e,l)),this.execeedBottomState=S,this},eV=function(e){var t=this.table,s=this.leftTableOX,l=this.rightTableOX,C=e>this.leftTableOX,S=e<this.rightTableOX;if(this.clampTableOXY){var r=t.colCount,T=t.widthToColIndex(this.instWidth,!0);r<T?e=0:C?e=s:S&&(e=l)}return this._tableOX!==e&&(this._tableOX=e),C&&(this.execeedLeftState||this.emit("execeedleft",this,e,s)),this.execeedLeftState=C,S&&(this.execeedRightState||this.emit("execeedright",this,e,l)),this.execeedRightState=S,this},P0=function(e){return e.hasOwnProperty("geometryMask")?e.geometryMask:e.bitmapMask};const iV=Phaser.Geom.Intersects.RectangleToRectangle,sV=Phaser.Geom.Rectangle.Overlaps;var nV=function(e,t,s){if(t){s===void 0&&(s=e.getAllChildren());for(var l=e.getBounds(),C=P0(t),S,r,T,i=0,d=s.length;i<d;i++)if(S=s[i],!S.hasOwnProperty("isRexContainerLite")&&S!==C&&rV(S))if(S.getBounds)switch(r=S.getBounds(r),T=aV(l,r),T){case 4:oV(e,S);break;case 0:iV(l,r)||sV(l,r)?Mc(e,S,t):hV(e,S);break;default:Mc(e,S,t);break}else Mc(e,S,t)}},rV=function(e){if(!e.displayList)return!1;for(;;){var t=e.rexContainer;if(t)if(t.visible){var s=t.parent;if(s){e=s;continue}else return!0}else return!1;else return e.visible}},aV=function(e,t){var s=0,l=t.top,C=t.bottom,S=t.left,r=t.right;return s+=e.contains(S,l)?1:0,s+=e.contains(S,C)?1:0,s+=e.contains(r,l)?1:0,s+=e.contains(r,C)?1:0,s},oV=function(e,t,s){e.setChildMaskVisible(t,!0),t.clearMask&&t.clearMask()},Mc=function(e,t,s){e.setChildMaskVisible(t,!0),t.setMask&&t.setMask(s)},hV=function(e,t,s){e.setChildMaskVisible(t,!1),t.clearMask&&t.clearMask()};const wc=Phaser.Utils.Objects.GetValue,lV={update:0,everyTick:1},sP={setupChildrenMask(e){return e===!1?this:(this.setMaskUpdateMode(wc(e,"updateMode",0)),this.enableChildrenMask(wc(e,"padding",0)),this.setMaskLayer(wc(e,"layer",void 0)),this.startMaskUpdate(),this)},destroyChildrenMask(){return this.childrenMask?(this.stopMaskUpdate(),this.childrenMask.destroy(),this.childrenMask=void 0,this):this},setMaskUpdateMode(e){return typeof e=="string"&&(e=lV[e]),this.maskUpdateMode=e,this},startMaskUpdate(){this.scene.game.events.on("poststep",this.maskChildren,this)},stopMaskUpdate(){this.scene.game.events.off("poststep",this.maskChildren,this)},enableChildrenMask(e){var t=Ki.call(this,null,this,0,e);return this.childrenMask=t.createGeometryMask(),this},setMaskChildrenFlag(e){return e===void 0&&(e=!0),this.maskChildrenFlag=e,this},setMaskLayer(e){return this.maskLayer=e,this},maskChildren(){return!this.childrenMask||!this.maskChildrenFlag||this.alpha===0||!this.visible?this:(this.privateRenderLayer?this.privateRenderLayer.setMask(this.childrenMask):this.maskLayer?(this.addToLayer(this.maskLayer),this.maskLayer.setMask(this.childrenMask)):nV(this,this.childrenMask),this.maskUpdateMode===0&&(this.maskChildrenFlag=!1),this)},layoutChildrenMask(){if(!this.childrenMask)return this;var e=P0(this.childrenMask);return e.setPosition().resize(),this.resetChildPositionState(e),this}};var uV=function(){if(this.cellsCount!==0){var e=this.table;this.startRowIndex=Math.max(e.heightToRowIndex(-this.tableOY,2),0);for(var t=this.startRowIndex,s=Math.max(e.widthToColIndex(-this.tableOX),0),l=s,C=e.colRowToCellIndex(l,t),S=this.bottomBound,r=this.rightBound,T=e.cellsCount-1,i=e.colCount-1,d=this.getCellTLX(l),x=d,f=this.getCellTLY(t);f<S&&C<=T;){if(this.table.isValidCellIdx(C)){var u=e.getCell(C,!0);this.visibleCells.set(u),this.preVisibleCells.contains(u)||this.showCell(u);var o,n;if(this.scrollMode===0?(o=x,n=f):(o=f,n=x),u.cellContainerAlign==null)u.setXY(o,n);else{var h=u.getContainer();xh(h,o,n,u.width,u.height,u.cellContainerAlign),u.setXY(h.x,h.y)}}x<r&&l<i?(x+=e.getColWidth(l),l+=1):(x=d,f+=e.getRowHeight(t),l=s,t+=1),C=e.colRowToCellIndex(l,t)}}},nP=function(e){var t=null,s=e.getContainer();if(s?(t=s,e.popContainer()):this.cellContainersPool&&(t=this.cellContainersPool.getFirstDead(),t!==null&&t.setActive(!0).setVisible(!0)),this.emit("cellvisible",e,t,this),this.cellContainersPool){var s=e.getContainer();s?t===null?this.cellContainersPool.add(s):t!==s&&(this.cellContainersPool.add(s),this.cellContainersPool.killAndHide(t)):t!==null&&this.cellContainersPool.killAndHide(t)}},dV=function(e){var t=this.scrollMode===0?this.topLeftX:this.topLeftY,s=this.tableOX+this.table.colIndexToWidth(0,e-1)+t;return s},fV=function(e){var t=this.scrollMode===0?this.topLeftY:this.topLeftX,s=this.tableOY+this.table.rowIndexToHeight(0,e-1)+t;return s},cV=function(){var e=this.preVisibleCells,t=this.visibleCells;e.iterate(function(s){t.contains(s)||this.hideCell(s)},this)},rP=function(e){if(this.emit("cellinvisible",e),this.cellContainersPool){var t=e.popContainer();t&&this.cellContainersPool.killAndHide(t)}e.destroyContainer()},vV=function(e){return e===void 0&&(e=!1),e&&(D1.call(this),this.hideCells()),D1.call(this),this.showCells(),this.hideCells(),this.setMaskChildrenFlag(),this},D1=function(){var e=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=e,this.visibleCells.clear()},pV=function(e){var t=this.table.getCell(e,!1);return t&&this.visibleCells.contains(t)},aP=function(e,t){t-=this.y+this.topLeftY,e-=this.x+this.topLeftX;var s=this.tableOY-(this.scrollMode===0?t:e),l=this.tableOX-(this.scrollMode===0?e:t),C=this.table,S=C.heightToRowIndex(-s,0),r=C.widthToColIndex(-l),T=C.colRowToCellIndex(r,S);return T===null||!this.isCellVisible(T)?null:T},gV=function(e,t){var s=aP.call(this,e,t);if(s!==null)return this.getCellContainer(s)},mV=function(e,t){return this.visibleCells.each(e,t),this},xV=function(e,t){return this.visibleCells.iterate(e,t),this},yV=function(e,t){return this.table.cells.slice().forEach(e,t),this},CV=function(e,t){return this.table.cells.forEach(e,t),this},TV=function(e){var t=this.cellsCount;return t===e?this:(t>e?this.removeCells(e,t-e):this.insertNewCells(t,e-t),this)};const SV=Phaser.Math.Clamp;var EV=function(e,t){return typeof e=="object"&&(e=e.index),t===void 0&&(t=1),t<=0?this:(e=SV(e,0,this.cellsCount),this.table.insertNewCells(e,t),this)},PV=function(e,t){if(typeof e=="object"&&(e=e.index),t===void 0&&(t=1),e<0&&(t+=e,e=0),t<=0)return this;if(e>this.cellsCount)return this;for(var s,l=e,C=e+t;l<C;l++)s=this.getCell(l,!1),s&&(this.visibleCells.contains(s)&&(rP.call(this,s),this.visibleCells.delete(s)),this.preVisibleCells.delete(s));return this.table.removeCells(e,t),this},MV=function(e){return this.table.colCount===e?this:(this.table.setColumnCount(e),this)},wV=function(e,t){return this.setCellsCount(e*t),this.table.setColumnCount(e),this},RV=function(e){var t=this.table.getCell(e,!1);return!t||!t.container?this:(nP.call(this,t),this)},oP={setTableOY:tV,setTableOX:eV,showCells:uV,showCell:nP,getCellTLX:dV,getCellTLY:fV,hideCells:cV,hideCell:rP,updateTable:vV,isCellVisible:pV,pointToCellIndex:aP,pointToCellContainer:gV,eachVisibleCell:mV,iterateVisibleCell:xV,eachCell:yV,iterateCell:CV,setCellsCount:TV,insertNewCells:EV,removeCells:PV,setColumnCount:MV,setGridSize:wV,updateVisibleCell:RV};Object.assign(oP,sP);const OV=Phaser.GameObjects.Group,I1=Phaser.Structs.Set,ss=Phaser.Utils.Objects.GetValue;let hP=class extends di{constructor(t,s,l,C,S,r){r===void 0&&(r={}),super(t,s,l,C,S),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new I1,this.preVisibleCells=new I1,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var T=ss(r,"reuseCellContainer",!1);T&&(this.cellContainersPool=new OV(t));var i=ss(r,"cellVisibleCallback",null);if(i!==null){var d=ss(r,"cellVisibleCallbackScope",void 0);this.on("cellvisible",i,d)}if(i=ss(r,"cellInvisibleCallback",null),i!==null){var d=ss(r,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",i,d)}ss(r,"enableLayer",!1)&&this.enableLayer(),this.setupChildrenMask(ss(r,"mask",void 0)),this.setScrollMode(ss(r,"scrollMode",0)),this.setClampMode(ss(r,"clamplTableOXY",!0));var x,f,u,o=this.scrollMode===0;if(o?(x=r.cellWidth,f=r.cellHeight,u=r.columns):(x=r.cellHeight,f=r.cellWidth,u=ss(r,"rows",r.columns)),u||(u=1),this.expandCellSize=x===void 0,this.expandCellSize){var C=o?this.width:this.height;x=C/u}r.cellWidth=x,r.cellHeight=f,r.columns=u,this.table=new _k(this,r),this.updateTable()}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=AV[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampTableOXY=t,this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){this.setTableOY(t).updateTable()}set tableOX(t){this.setTableOX(t).updateTable()}setTableOXY(t,s){return this.setTableOY(s).setTableOX(t),this}addTableOY(t){return this.setTableOY(this.tableOY+t),this}addTableOX(t){return this.setTableOX(this.tableOX+t),this}addTableOXY(t,s){return this.addTableOY(s).addTableOX(t),this}setTableOYByPercentage(t){return this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){var t=this.tableVisibleHeight;return t===0?0:this.tableOY/-t}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}scrollToRow(t){this.scrollToBottom();var s=this.table.rowIndexToHeight(0,t-1);return this.setTableOY(-s).updateTable(),this}scrollToNextRow(t){return t===void 0&&(t=1),this.scrollToRow(this.startRowIndex+t),this}getCell(t){return this.table.getCell(t,!0)}getCellContainer(t){var s=this.table.getCell(t,!1),l;return s&&(l=s.getContainer()),l}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,s){var l;return typeof t=="number"?l=this.table.getCell(t,!0):l=t,l.height=s,this}setCellWidth(t,s){var l;return typeof t=="number"?l=this.table.getCell(t,!0):l=t,l.width=s,this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}get tableVisibleHeight(){var t=this.tableHeight-this.instHeight;return t<0&&(t=0),t}get tableVisibleWidth(){var t,s=this.tableWidth,l=this.instWidth;return s>l?t=s-l:t=0,t}get bottomLeftY(){return-(this.displayHeight*this.originY)+this.displayHeight}get topRightX(){return-(this.displayWidth*this.originX)+this.displayWidth}get topLeftX(){return-(this.displayWidth*this.originX)}get topLeftY(){return-(this.displayHeight*this.originY)}get bottomBound(){return this.scrollMode===0?this.bottomLeftY:this.topRightX}get rightBound(){return this.scrollMode===0?this.topRightX:this.bottomLeftY}resize(t,s){return this.width===t&&this.height===s?this:(super.resize(t,s),this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount),this.updateTable(!0),this.layoutChildrenMask(),this.maskChildren(),this)}};Object.assign(hP.prototype,oP);const AV={v:0,vertical:0,h:1,horizontal:1};var LV=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.tableOY},set:function(t){e.tableOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTableOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTableOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.instHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.tableHeight}})},FV=function(e){e.on("cellvisible",function(t,r,l){var C=this.createCellContainerCallback,S=this.createCellContainerCallbackScope;t.item=this.items[t.index],t.items=this.items;var r;S?r=C.call(S,t,r,l):r=C(t,r,l),r&&(t.cellContainerAlign==null&&r.setOrigin&&r.setOrigin(0),r.isRexSizer&&r.layout()),t.item=void 0,t.items=void 0,t.setContainer(r)},this)},vs=function(e,t,s,l,C,S,r){var T;if(C===void 0?T=l:T=s.pointToCellIndex(l,C),T!=null){var i=s.getCellContainer(T);i&&e.emit(t,i,T,S,r)}},DV=function(e,t){e.on("pointerdown",function(s,l,C,S){vs(this.eventEmitter,"cell.down",e,s.worldX,s.worldY,s,S)},this).on("pointerup",function(s,l,C,S){vs(this.eventEmitter,"cell.up",e,s.worldX,s.worldY,s,S)},this)},IV=function(e,t){e.on("pointermove",B1,this).on("pointerover",B1,this).on("pointerout",BV,this)},B1=function(e,t,s,l){var C=this.childrenMap.child,S=C.pointToCellIndex(e.worldX,e.worldY);if(S!==C.input.lastOverCellIndex){var r=C.input.lastOverCellIndex;C.input.lastOverCellIndex=S,vs(this.eventEmitter,"cell.out",C,r,void 0,e,l),vs(this.eventEmitter,"cell.over",C,S,void 0,e,l)}},BV=function(e,t){var s=this.childrenMap.child,l=s.input.lastOverCellIndex;s.input.lastOverCellIndex=void 0,vs(this.eventEmitter,"cell.out",s,l,void 0,e,t)};const bV=Phaser.Utils.Objects.GetValue;var GV=function(e,t){var s=bV(t,"click",void 0);s!==!1&&(s===void 0&&(s={}),s.threshold=10,e._click=new Rn(e,s),e._click.on("click",function(l,C,S,r){vs(this.eventEmitter,"cell.click",C,S.worldX,S.worldY,S,r)},this))};const NV=Phaser.Utils.Objects.GetValue;var zV=function(e,t){var s=NV(t,"tap",void 0);s!==!1&&(e._tap=new Cd(e,s),e._tap.on("tap",function(l,C,S){var r=`cell.${l.tapsCount}tap`;vs(this.eventEmitter,r,l.gameObject,l.worldX,l.worldY,S)},this))};const kV=Phaser.Utils.Objects.GetValue;var VV=function(e,t){var s=kV(t,"press",void 0);s!==!1&&(e._press=new Td(e,s),e._press.on("pressstart",function(l,C,S){vs(this.eventEmitter,"cell.pressstart",e,l.worldX,l.worldY,S)},this).on("pressend",function(l,C,S){vs(this.eventEmitter,"cell.pressend",e,l.worldX,l.worldY,S)},this))};const UV=Phaser.Utils.Objects.GetValue;var XV=function(e,t){var s=UV(t,"swipe",void 0);s!==!1&&(s===void 0&&(s={}),s.dir="4dir",e._swipe=new Mh(e,s),e._swipe.on("swipe",function(l,C,S){var r=l.left?"left":l.right?"right":l.up?"up":"down";vs(this.eventEmitter,`cell.swipe${r}`,e,l.worldX,l.worldY,S)},this))},YV=function(e,t){e.setInteractive(),DV.call(this,e,t),IV.call(this,e,t),GV.call(this,e,t),zV.call(this,e,t),VV.call(this,e,t),XV.call(this,e,t)},WV=function(e){e===void 0?this.items=[]:this.items=e;var t=this.childrenMap.child;return t.setCellsCount(this.items.length),t.updateTable(!0),this.resizeController(),this};const HV={scrollToRow(e){var t=this.childrenMap.child;return t.scrollToRow(e),this},scrollToNextRow(e){var t=this.childrenMap.child;return t.scrollToNextRow(e),this}},ns=Phaser.Utils.Objects.GetValue;class M0 extends Bd{constructor(t,s){s===void 0&&(s={});var l=Id(s),C=ns(s,"table",void 0);C===void 0&&(C={}),C.scrollMode=l,C.clamplTableOXY=ns(s,"clamplChildOY",!1);var S=ns(C,"width",void 0),r=ns(C,"height",void 0),T=new hP(t,0,0,S,r,C);t.add.existing(T);var i,d;l===0?(i=S===void 0?1:0,d=r===void 0):(i=r===void 0?1:0,d=S===void 0),LV(T),T._minWidth=S===void 0?0:void 0,T._minHeight=r===void 0?0:void 0,s.type="rexGridTable",s.child={gameObject:T,proportion:i,expand:d};var x=ns(s,"space",void 0);x&&(x.child=x.table),super(t,s),this.addChildrenMap("table",T),this.addChildrenMap("tableLayer",T.maskLayer),this.eventEmitter=ns(s,"eventEmitter",this);var f=ns(s,"createCellContainerCallback",Fe),u=ns(s,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(f,u),FV.call(this,T),this.resizeControllerFlag=!1;var o=l===0?"cellheightchange":"cellwidthchange";T.on(o,function(){this.resizeControllerFlag=!0},this),ns(C,"interactive",!0)&&YV.call(this,T,C),this.setItems(ns(s,"items",[])),t.game.events.on("poststep",this.onPostStep,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.game.events.off("poststep",this.onPostStep,this),super.destroy(t))}setCreateCellContainerCallback(t,s){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=s,this}refresh(){return this.setItems(this.items),this}getCell(t){var s=this.childrenMap.child;return s.getCell(t)}getCellContainer(t){var s=this.childrenMap.child;return s.getCellContainer(t)}updateVisibleCell(t){var s=this.childrenMap.child;return s.updateVisibleCell(t)}onPostStep(){this.resizeControllerFlag&&(this.resizeController(),this.resizeControllerFlag=!1)}get startRowIndex(){var t=this.childrenMap.child;return t.startRowIndex}}var $V={setItems:WV};Object.assign(M0.prototype,HV,$V);st.register("gridTable",function(e){var t=new M0(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.GridTable",M0);var w0=function(e,t){return e.sameOrientation?e.orientation=t.orientation:e.orientation=t.orientation===0?1:0,e},KV=function(e,t){e.popUp(w0(e.root.easeIn,e))},jV=function(e,t){e.scaleDown(w0(e.root.easeOut,e))};const ZV={setTransitInCallback(e){return e===void 0&&(e=KV),this.transitInCallback=e,this},setTransitOutCallback(e){return e===void 0&&(e=jV),this.transitOutCallback=e,this}};var JV=function(e,t,s,l,C){var S=ph(e),r=S.time.delayedCall(t,function(){S.sys.events.once("postupdate",function(){s.call(l,C)})});return r};const QV={delayCall(e,t,s){return this.timer=JV(this,e,t,s),this},removeDelayCall(){return this.timer&&(this.timer.remove(!1),this.timer=void 0),this}};var qV=function(e,t){var l=this.childrenMap.subMenu;if(l&&l.parentButton===e)return this;this.collapseSubMenu();var s;this.root.toggleOrientation?s=this.orientation===0?1:0:s=this.orientation;var l=new this.constructor(this.scene,{items:t,orientation:s,space:this.space,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:e});return this.pin(l),this.childrenMap.subMenu=l,this.root.emit("expand",l,e,this),this},_V=function(){var e=this.root;e.emit("collapse",this,this.parentButton,e);var t=e.easeOut.duration;return e.transitOutCallback(this,t),this.collapseSubMenu(),this.delayCall(t,this.destroy,this),this},tU=function(){var e=this.childrenMap.subMenu;return e===void 0?this:(this.childrenMap.subMenu=void 0,this.remove(e),e.collapse(),this)},lP={expandSubMenu:qV,collapse:_V,collapseSubMenu:tU};Object.assign(lP,ZV,QV);var eU=function(e,t,s,l){var C;return s&&(t.scene=e,l?C=s.call(l,t):C=s(t),t.scene=void 0),C},iU=function(e,t,s,l){var C,S=[],r;if(t&&s)for(var T=0,i=t.length;T<i;T++)C=t[T],C.scene=e,l?r=s.call(l,C,T,t):r=s(C,T,t),C.scene=void 0,S.push(r);return S},sU=function(e){e.on(e.root.expandEventName,function(t,s){if(!this._isPassedEvent){var l=this.root.childrenKey,C=this.items[s][l];C&&this.expandSubMenu(t,C)}},e).on("button.click",function(t,s,l,C){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,s,l,C),this.root._isPassedEvent=!1)},e).on("button.over",function(t,s,l,C){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,s,l,C),this.root._isPassedEvent=!1)},e).on("button.out",function(t,s,l,C){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,s,l,C),this.root._isPassedEvent=!1)},e)},b1=function(e,t){return typeof t=="number"&&(t={duration:t}),t.hasOwnProperty("orientation")&&t.orientation!==void 0?t.sameOrientation=Od(t.orientation)===e.orientation:t.sameOrientation=!0,t.destroy=!1,t},nU=function(){var e=this.root,t=e.easeIn.duration;e.transitInCallback(this,t),this!==this.root&&this.delayCall(t,function(){this.root.emit("popup.complete",this)},this)};const Be=Phaser.Utils.Objects.GetValue;let R0=class extends Te{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("orientation")||(s.orientation=1);var l=s._rootMenu,C=s._parentMenu,S=s._parentButton,r=Be(s,"popup",!0),T=Be(s,"items",void 0),i=Be(s,"createBackgroundCallback",void 0),d=Be(s,"createBackgroundCallbackScope",void 0);s.background=eU(t,T,i,d);var x=Be(s,"createButtonCallback",void 0),f=Be(s,"createButtonCallbackScope",void 0);if(s.buttons=iU(t,T,x,f),super(t,s),this.type="rexMenu",this.items=T,this.root=l===void 0?this:l,this.isRoot=this.root===this,this.parentMenu=C,this.parentButton=S,this.timer=void 0,this.isRoot){this.isPopUpMode=r;var u=s.bounds;u===void 0&&(u=za(t)),this.bounds=u,this.subMenuSide=[this.y<u.centerY?sp:iu,this.x<u.centerX?ip:eu];var o=Be(s,"subMenuSide",void 0);o!==void 0&&(typeof o=="string"&&(o=rU[o]),this.subMenuSide[this.orientation]=o),this.toggleOrientation=Be(s,"toggleOrientation",!1),this.expandEventName=Be(s,"expandEvent","button.click"),this.easeIn=b1(this,Be(s,"easeIn",0)),this.easeOut=b1(this,Be(s,"easeOut",0)),this.setTransitInCallback(Be(s,"transitIn")),this.setTransitOutCallback(Be(s,"transitOut")),this.createBackgroundCallback=i,this.createBackgroundCallbackScope=d,this.createButtonCallback=x,this.createButtonCallbackScope=f,this.childrenKey=Be(s,"childrenKey","children"),this._isPassedEvent=!1,this.pointerDownOutsideCollapsing=Be(s,"pointerDownOutsideCollapsing",!0),this.pointerDownOutsideCollapsing&&t.input.on("pointerdown",this.onPointerDownOutside,this)}var n=0,h=0;if(!this.root.easeIn.sameOrientation){var p=w0(this.root.easeIn,this).orientation,a=C?C.orientation:this.orientation,o=this.root.subMenuSide[a];p===0&&o===eu&&(n=1),p===1&&o===iu&&(h=1)}if(r&&this.setOrigin(n,h).layout(),!this.isRoot){this.setScale(this.root.scaleX,this.root.scaleY);var o=this.root.subMenuSide[C.orientation];switch(o){case eu:this.alignTop(S.top).alignRight(S.left);break;case ip:this.alignTop(S.top).alignLeft(S.right);break;case iu:this.alignLeft(S.left).alignBottom(S.top);break;case sp:this.alignLeft(S.left).alignTop(S.bottom);break}}sU(this),r&&(this.pushIntoBounds(this.root.bounds),nU.call(this))}destroy(t){!this.scene||this.ignoreDestroy||(this.isRoot&&this.pointerDownOutsideCollapsing&&this.scene.input.off("pointerdown",this.onPointerDownOutside,this),super.destroy(t),this.removeDelayCall())}isInTouching(t){return super.isInTouching(t)?!0:this.childrenMap.subMenu?this.childrenMap.subMenu.isInTouching(t):!1}onPointerDownOutside(t){this.isInTouching(t)||(this.isPopUpMode?this.collapse():this.collapseSubMenu())}};const eu=2,ip=0,iu=3,sp=1,rU={up:iu,down:sp,left:eu,right:ip};Object.assign(R0.prototype,lP);st.register("menu",function(e){var t=new R0(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Menu",R0);var aU={setWrapEnable(e){return e===void 0&&(e=!0),this.listWrapEnable=e,this},setCreateButtonCallback(e){return this.listCreateButtonCallback=e,this},setCreateListBackgroundCallback(e){return this.listCreateBackgroundCallback=e,this},setButtonClickCallback(e){return this.listOnButtonClick=e,this},setButtonOverCallback(e){return this.listOnButtonOver=e,this},setButtonOutCallback(e){return this.listOnButtonOut=e,this},setListExpandDirection(e){return typeof e=="string"&&(e=oU[e]),this.listExpandDirection=e,this},setListEaseInDuration(e){return e===void 0&&(e=0),this.listEaseInDuration=e,this},setListEaseOutDuration(e){return e===void 0&&(e=0),this.listEaseOutDuration=e,this},setListTransitInCallback(e){return this.listTransitInCallback=e,this},settListTransitOutCallback(e){return this.listTransitOutCallback=e,this},setListBounds(e){return this.listBounds=e,this},setListWidth(e){return this.listWidth=e,this},setListHeight(e){return this.listHeight=e,this},setListSize(e,t){return this.setListWidth(e).setListHeight(t),this},setListAlignmentMode(e){return this.listAlignMode=e,this},setListAlignmentSide(e){return e===void 0&&(e=""),this.listAlignSide=e,this},setListSpace(e){return e===void 0&&(e={}),this.listSpace=e,this},setListDraggable(e){return e===void 0&&(e=!0),this.listDraggable=e,this}};const oU={down:0,up:1};var hU=function(){var e=this.scene,t,s=this.listCreateBackgroundCallback;s&&(t=s.call(this,e),e.add.existing(t));var l=[],C=this.listCreateButtonCallback;if(C)for(var S=this.options,r=0,T=S.length;r<T;r++){var i=C.call(this,e,S[r],r,S);e.add.existing(i),l.push(i)}var d=this.listWidth;d===void 0&&(this.listAlignMode==="text"?d=this.getElement("text").width:d=this.width);var x=this.listHeight,f;return this.listWrapEnable?f=new vr(e,{width:d,height:x,background:t,buttons:l,space:this.listSpace,draggable:this.listDraggable}):f=new Te(e,{width:d,height:x,orientation:"y",background:t,buttons:l,space:this.listSpace,draggable:this.listDraggable}),e.add.existing(f),f},lU=function(e,t,s,l,C){l===void 0&&(l="Linear");var S={};switch(S.mode=0,s){case 0:case"x":S.end={x:0};break;case 1:case"y":S.end={y:0};break;default:S.end=0;break}return S.duration=t,S.ease=l,C===void 0?C=new rh(e,S):C.resetFromJSON(S),C.restart(),C},uU=function(e,t,s,l,C){return hs(e,t)?It(e,t):s&&hs(e,s)?It(e,s):l&&hs(e,l)?It(e,l):C};const jr=Phaser.Utils.Objects.GetValue;var dU=function(e,t){var s=jr(t,"expandDirection",void 0);typeof s=="string"&&(s=fU[s]);var l=uU(t,"alignTarget","alignTargetX"),C=jr(t,"alignTargetY",l),S=jr(t,"alignOffsetX",0),r=jr(t,"alignOffsetY",0),T=jr(t,"alignSide",""),i=T.includes("right"),d=jr(t,"bounds"),x=s===0,f=s===1,u=!x&&!f,o=i?1:0,n=x||u?0:1;e.setOrigin(o,n);var h,p;i?h=l.getTopRight().x:h=l.getTopLeft().x,p=C.getBottomLeft().y,e.setPosition(h+S,p+r);var a=d;a||(a=za(e.scene)),u&&e.getBottomLeft().y>a.bottom&&(p=C.getTopLeft().y,e.setOrigin(0,1).setPosition(h+S,p+r))};const fU={down:0,up:1},G1=Phaser.Utils.Objects.GetValue;class uP extends gd{constructor(t,s){s===void 0&&(s={}),s.transitIn==null&&(s.transitIn=function(S,r){Wg(S,r,"y","Cubic")}),s.transitOut==null&&(s.transitOut=function(S,r){lU(S,r,"y","Linear")}),s.manualClose=!0,s.clickOutsideClose=!0,s.destroy=!0,super(t,s),dU(t,s),t.isRexSizer&&t.layout();var l=G1(s,"touchOutsideClose",!1),C=G1(s,"anyTouchClose",!1);C&&(l=!1),C?this.once("open",this.anyTouchClose,this):l&&this.once("open",this.touchOutsideClose,this),this.requestOpen()}shutdown(t){this.isShutdown||(this.scene.input.off("pointerup",this.touchCloseCallback,this),super.shutdown(t))}touchOutsideClose(){return this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&ah(this.parent,t.worldX,t.worldY)||this.requestClose()}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}var cU=function(){if(this.listPanel)return this;var e=hU.call(this);e.on("button.over",function(l,C,S,r){this.listOnButtonOver&&this.listOnButtonOver.call(this,l,C,S,r),this.emit("button.over",this,e,l,C,S,r)},this).on("button.out",function(l,C,S,r){this.listOnButtonOut&&this.listOnButtonOut.call(this,l,C,S,r),this.emit("button.out",this,e,l,C,S,r)},this);var t;!this.listAlignMode||this.listAlignMode==="label"?t=this:t=this.getElement(this.listAlignMode);var s=new uP(e,{duration:{in:this.listEaseInDuration,out:this.listEaseOutDuration},transitIn:this.listTransitInCallback,transitOut:this.listTransitOutCallback,expandDirection:this.listExpandDirection,alignTargetX:t,alignTargetY:this,alignSide:this.listAlignSide,bounds:this.listBounds,anyTouchClose:!0}).on("open",function(){e.on("button.click",function(l,C,S,r){this.listOnButtonClick&&this.listOnButtonClick.call(this,l,C,S,r),this.emit("button.click",this,e,l,C,S,r)},this),this.emit("list.open",this,e)},this).on("close",function(){this.listPanel=void 0,this.dropDownBehavior=void 0},this);return this.listPanel=e,this.dropDownBehavior=s,this.pin(e),this},vU=function(){return this.dropDownBehavior?(this.dropDownBehavior.requestClose(),this):this},pU=function(){return this.listPanel?this.closeListPanel():this.openListPanel(),this},dP={openListPanel:cU,closeListPanel:vU,toggleListPanel:pU};Object.assign(dP,aU);const Yt=Phaser.Utils.Objects.GetValue;class Oh extends Pr{constructor(t,s){super(t,s),this.type="rexDropDownList",this.timer=void 0,this.setOptions(Yt(s,"options"));var l=Yt(s,"list");this.setWrapEnable(Yt(l,"wrap",!1)),this.setCreateButtonCallback(Yt(l,"createButtonCallback")),this.setCreateListBackgroundCallback(Yt(l,"createBackgroundCallback")),this.setButtonClickCallback(Yt(l,"onButtonClick")),this.setButtonOverCallback(Yt(l,"onButtonOver")),this.setButtonOutCallback(Yt(l,"onButtonOut")),this.setListExpandDirection(Yt(l,"expandDirection")),this.setListEaseInDuration(Yt(l,"easeIn",500)),this.setListEaseOutDuration(Yt(l,"easeOut",100)),this.setListTransitInCallback(Yt(l,"transitIn")),this.settListTransitOutCallback(Yt(l,"transitOut")),this.setListSize(Yt(l,"width"),Yt(l,"height")),this.setListAlignmentMode(Yt(l,"alignParent","text")),this.setListAlignmentSide(Yt(l,"alignSide","")),this.setListBounds(Yt(l,"bounds")),this.setListSpace(Yt(l,"space")),this.setListDraggable(Yt(l,"draggable",!1)),this.setValueChangeCallback(Yt(s,"setValueCallback"),Yt(s,"setValueCallbackScope")),this.setValue(Yt(s,"value")),this.onClick(this.toggleListPanel,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.listPanel&&(this.listPanel.destroy(t),this.listPanel=void 0),super.destroy(t))}setOptions(t){return t===void 0&&(t=[]),this.options=t,this}setValueChangeCallback(t,s){return this.valueChangeCallback=t,this.valueChangeCallbackScope=s,this}setValue(t){return this.value=t,this}get value(){return this._value}set value(t){if(this._value!==t){var s=this._value;this._value=t;var l=this.valueChangeCallback,C=this.valueChangeCallbackScope;l&&(C?l.call(C,this,t,s):l(this,t,s)),this.emit("valuechange",this,t,s)}}emitButtonClick(t){var s=this.options[t];return s?(this.emit("button.click",this,void 0,s,t),this):this}}Object.assign(Oh.prototype,dP);st.register("dropDownList",function(e){var t=new Oh(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.DropDownList",Oh);var fP=function(e,t,s){t=t?wi(t):{},s===void 0&&(s={});var l=t.label||t.button,C=t.button||t.label;delete t.label,delete t.button;var S=s.label||s.button||s,r=s.button||s.label||s,T=f0(e,l,S);return T.list=t.list||{},T.list.createButtonCallback=function(i,d){var x=Ti(i,C,r).resetDisplayContent({text:d.text});return d.hasOwnProperty("value")&&(x.value=d.value),x},T.list.onButtonOver=function(i,d,x,f){i.setHoverState&&i.setHoverState(!0)},T.list.onButtonOut=function(i,d,x,f){i.setHoverState&&i.setHoverState(!1)},T};class cP extends Oh{constructor(t,s,l){s=fP(t,s,l),super(t,s),this.type="rexSimpleDropDownList"}setOptions(t){t===void 0&&(t=[]);for(var s=0,l=t.length;s<l;s++){var C=t[s];typeof C=="string"&&(t[s]={text:C,value:C})}return super.setOptions(t),this}}st.register("simpleDropDownList",function(e,t){var s=new cP(this.scene,e,t);return this.scene.add.existing(s),s});it(window,"RexPlugins.UI.SimpleDropDownList",cP);var gU=function(e){var t=Xa(e),s,l,C;switch(t){case Je:case ai:s=e.height-e.padding.top-e.padding.bottom,l=e.lineSpacing,C=e.style.metrics.fontSize+e.style.strokeThickness;break;case oi:s=e.height,l=0;var S=e.fontSize/e.fontData.size;C=e.fontData.lineHeight*S;break}return(s-l)/(C+l)},mU=function(e,t){e===void 0&&(e=this.startLineIndex),t===void 0&&(t=e+this.pageLinesCount);var s;switch(this.textObjectType){case Je:case oi:s=this.lines.slice(e,t).join(`
`);break;case ai:var l=this.lines.getLineStartIndex(e),C=this.lines.getLineEndIndex(t-1);s=this.lines.getSliceTagText(l,C,!0);break}return s},Rc=function(e){return Array.isArray(e)?e=e.join(`
`):typeof e=="number"&&(e=e.toString()),e};const xU={clearText(){return this.sections.length=0,this.pageStartIndexes.length=0,this.lines.length=0,this},appendPage(s){var t=this.totalLinesCount;this.sections.push(Rc(s));var s=this.sections.join(`
`);this.lines=y0(this.parent,s,this.lines);for(var l=this.totalLinesCount-t,C=Math.ceil(l/this.pageLinesCount),S=0;S<C;S++)this.pageStartIndexes.push(t+S*this.pageLinesCount);return this},setText(e,t){t===void 0&&(t=!0),t&&this.resetPageIdx(),this.clearText();for(var s=Rc(e).split(this.pageBreak),l=0,C=s.length;l<C;l++)this.appendPage(s[l]);return this},appendText(e){var t=this.content+Rc(e);return this.setText(t,!1),this}},yU=Phaser.Math.Clamp,CU={getPage(e){return e===void 0&&(e=this.pageIndex),this.setPageIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getNextPage(){return this.getPage(this.pageIndex+1)},getPreviousPage(){return this.getPage(this.pageIndex-1)},resetPageIdx(){return this.pageIndex=-1,this},setPageIndex(e){return e=yU(e,0,this.pageCount-1),this.pageIndex=e,this.startLineIndex=this.pageStartIndexes[e],this.endLineIndex=this.pageStartIndexes[e+1],this}},TU={showPage(e){return this.displayText(this.getPage(e)),this},showNextPage(){return this.displayText(this.getNextPage()),this},showPreviousPage(){return this.displayText(this.getPreviousPage()),this},show(){return this.displayText(this.getLines()),this},showNextLine(){return this.displayText(this.setStartLineIndex(this.startLineIndex+1).getLines()),this},showPreviousLine(){return this.displayText(this.setStartLineIndex(this.startLineIndex-1).getLines()),this},displayText(e){C0(this.parent,e)}};var vP={getLines:mU};Object.assign(vP,xU,CU,TU);const Co=Phaser.Utils.Objects.GetValue,SU=Phaser.Math.Clamp;class Vd extends ge{constructor(t,s){super(t,{eventEmitter:!1}),this.textObjectType=Xa(this.parent),this.pageStartIndexes=[],this.lines=y0(this.parent,""),this.sections=[],this.resetFromJSON(s)}resetFromJSON(t){return this.setMaxLines(Co(t,"maxLines",void 0)),this.setPageBreak(Co(t,"pageBreak",`\f
`)),this.setText(Co(t,"text","")),this.setStartLineIndex(Co(t,"start",0)),this.setPageIndex(Co(t,"page",-1)),this}toJSON(){return{maxLines:this.maxLines,text:this.content,start:this.startLineIndex,page:this.pageIndex,pageBreak:this.pageBreak}}shutdown(t){if(!this.isShutdown){switch(this.textObjectType){case Je:this.lines.length=0;break;case ai:this.lines.destroy();break;case oi:this.lines.length=0;break}this.pageStartIndexes.length=0,this.sections.length=0,this.lines=void 0,this.pageStartIndexes=void 0,this.sections=void 0,super.shutdown(t)}}setMaxLines(t){return this.maxLines=t,this}setPageBreak(t){return this.pageBreak=t,this}get pageCount(){return this.pageStartIndexes.length}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}get totalLinesCount(){return this.lines?this.lines.length:0}get startLineIndex(){return this._startLineIndex}set startLineIndex(t){t=SU(t,0,this.totalLinesCount-1),this._startLineIndex=t}setStartLineIndex(t){return this.startLineIndex=t,this}get pageLinesCount(){if(this.maxLines!==void 0)return this.maxLines;var t;switch(this.textObjectType){case Je:case ai:var s=this.parent.style.maxLines;s>0?t=s:t=Math.floor(gU(this.parent));break;case oi:t=this.totalLinesCount;break}return t}get content(){return this.sections.join(this.pageBreak)}}Object.assign(Vd.prototype,vP);var EU=function(e,t){var s=Xa(e);switch(s){case Je:e.style.syncFont(e.canvas,e.context),t=e.runWordWrap(t);break;case ai:t=e.getText(t,void 0,void 0,!0);break;case oi:t=e.setText(t).getTextBounds().wrappedText;break}return t};const Zr=Phaser.Utils.Objects.GetFastValue,Oc=Phaser.Utils.Objects.GetValue;class O0 extends ge{constructor(t,s){super(t,s),this.timer=null,this.resetFromJSON(s)}resetFromJSON(t){this.setTextWrapEnable(Oc(t,"wrap",!1)),this.setTypeMode(Oc(t,"typeMode",0)),this.setTypingSpeed(Oc(t,"speed",333)),this.setTextCallback=Zr(t,"setTextCallback",null),this.setTextCallbackScope=Zr(t,"setTextCallbackScope",null),this.setTypingContent(Zr(t,"text","")),this.typingIdx=Zr(t,"typingIdx",0),this.insertIdx=Zr(t,"insertIdx",null);var s=Zr(t,"elapsed",null);return s!==null&&this.start(void 0,void 0,this.typingIdx,s),this}shutdown(t){this.isShutdown||(this.freeTimer(),super.shutdown(t))}setTypeMode(t){return typeof t=="string"&&(t=PU[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}setTypingSpeed(t){return this.speed=t,this}setTextWrapEnable(t){return t===void 0&&(t=!0),this.textWrapEnable=t,this}set text(t){var s=N1(t);this.textWrapEnable&&(s=EU(this.parent,s)),this._text=s}get text(){return this._text}get isTyping(){return this.getTimer()!==null}get isLastChar(){return this.typingIdx===this.textLen}start(t,s,l,C){return t!==void 0&&this.setTypingContent(t),s!==void 0&&(this.speed=s),l===void 0&&(l=0),this.typingIdx=l+1,this.speed===0?this.stop(!0):(this.setText(""),this.startTimer(C)),this}appendText(t){var s=this.text.concat(N1(t));return this.isTyping?this.setTypingContent(s):this.start(s,void 0,this.textLen),this}stop(t){var s=this.getTimer();return s&&this.freeTimer(),t&&(this.typingIdx=this.textLen,this.setText(this.text),this.emit("type"),this.emit("complete",this,this.parent)),this}pause(){var t=this.getTimer();return t&&(t.paused=!0),this}resume(){var t=this.getTimer();return t&&(t.paused=!1),this}setTypingContent(t){return this.text=t,this.textLen=this.getTextLength(this.text),this}onTyping(){var t=this.getTypingString(this.text,this.typingIdx,this.textLen,this.typeMode);this.setText(t),this.emit("type"),this.isLastChar?(this.freeTimer(),this.emit("complete",this,this.parent)):(this.timer.delay=this.speed,this.typingIdx++)}getTypingString(t,s,l,C){var S;if(C===0){var r=0,T=s;this.insertIdx=T,S=this.getSubString(t,r,T)}else if(C===1){var T=l,r=T-s;this.insertIdx=0,S=this.getSubString(t,r,T)}else if(C===2){var i=l/2,r=Math.floor(i-s/2),T=r+s;this.insertIdx=s%2?s:0,S=this.getSubString(t,r,T)}else if(C===3){var d=Math.floor(s/2),x;if(d>0){var T=l,r=T-d;x=this.getSubString(t,r,T)}else x="";var f=s-d,u;if(f>0){var r=0,T=r+f;this.insertIdx=T,u=this.getSubString(t,r,T)}else u="",this.insertIdx=0;S=u+x}return S}startTimer(t){this.timer&&this.freeTimer();var s;return t===void 0?s=0:(this.speed,s=t),this.timer=this.scene.time.addEvent({delay:1e-4,startAt:s,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(this.setTextCallbackScope?t=this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIdx):t=this.setTextCallback(t,this.isLastChar,this.insertIdx)),this.textWrapEnable?C0(this.parent,t):this.parent.setText(t)}getTextLength(t){var s=this.parent,l;return s.getPlainText?l=s.getPlainText(t).length:l=t.length,l}getSubString(t,s,l){var C=this.parent,S;return C.getSubString?S=C.getSubString(t,s,l):S=t.slice(s,l),S}}var N1=function(e){return Array.isArray(e)?e=e.join(`
`):typeof e=="number"&&(e=e.toString()),e};const PU={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3},z1=Phaser.Utils.Objects.GetValue;var MU=function(e,t){t===void 0&&(t="rexTextBox");class s extends e{constructor(C,S){super(C,S),this.type=t;var r=this.childrenMap.text;this.page=new Vd(r,z1(S,"page",void 0)),this.typing=new O0(r,z1(S,"typing",S.type)),this.typing.on("complete",this.onPageEnd,this).on("type",this.onType,this),this.textWidth=r.width,this.textHeight=r.height}start(C,S){return this.page.setText(C),S!==void 0&&this.setTypingSpeed(S),this.emit("start"),this.typeNextPage(),this}typeNextPage(){if(this.isLastPage)this.emit("complete");else{var C=this.page.getNextPage();this.typing.start(C)}return this}pause(){return this.typing.pause(),this}resume(){return this.typing.resume(),this}stop(C){return this.typing.stop(C),this}setTypeSpeed(C){return this.typing.setTypingSpeed(C),this}setTypingSpeed(C){return this.typing.setTypingSpeed(C),this}get isTyping(){return this.typing.isTyping}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}onType(){var C=this.childrenMap.text;(this.textWidth!==C.width||this.textHeight!==C.height)&&(this.textWidth=C.width,this.textHeight=C.height,this.getTopmostSizer().layout()),this.emit("type")}onPageEnd(){this.emit("pageend"),this.isLastPage&&this.emit("complete")}}return s};class pP extends MU(v0){constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("layoutMode")||(s.layoutMode=1),super(t,s)}}st.register("textBox",function(e){var t=new pP(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.TextBox",pP);const ii=Phaser.Utils.Objects.GetValue;class gP extends Rt{constructor(t,s){super(t,s),this.type="rexNumberBar";var l=ii(s,"background",void 0),C=ii(s,"icon",void 0),S=ii(s,"iconMask",void 0),r=ii(s,"slider",void 0),T=ii(s,"text",void 0),i=ii(s,"space.icon",0),d=ii(s,"space.slider",0);if(l&&this.addBackground(l),C){var x;this.orientation===0?(r||T)&&(x={right:i}):(r||T)&&(x={bottom:i}),this.add(C,{proportion:0,align:"center",padding:x}),S&&(S=Ki.call(this,C,C,1))}var f;if(r){r.orientation=this.orientation,r.eventEmitter=this,r.value=null,r.hasOwnProperty("input")||(r.input=-1),f=new Ua(t,r),t.add.existing(f);var x;this.orientation===0?T&&(x={right:d}):T&&(x={bottom:d});var u;if(this.orientation===0){var o=ii(r,"width",void 0);u=o===void 0?1:0}else{var n=ii(r,"height",void 0);u=n===void 0?1:0}this.add(f,{proportion:u,align:"center",padding:x})}T&&this.add(T),this.addChildrenMap("background",l),this.addChildrenMap("icon",C),this.addChildrenMap("iconMask",S),this.addChildrenMap("slider",f),this.addChildrenMap("text",T);var h=ii(s,"valuechangeCallback",null);if(h!==null){var p=ii(s,"valuechangeCallbackScope",void 0);this.on("valuechange",h,p)}this.setEnable(ii(s,"enable",void 0)),this.setValue(ii(s,"value",0))}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,s,l){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,s,l),this}addValue(t,s,l){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,s,l),this}getValue(t,s){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,s):0}easeValueTo(t,s,l){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,s,l),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}get text(){var t=this.childrenMap.text;if(t===void 0)return"";var s;return t.text?s=t.text:s=t.getData("text"),s}set text(t){var s=this.childrenMap.text;s!==void 0&&(s.setText?s.setText(t):s.setData("text",t))}setText(t){return this.text=t,this}}st.register("numberBar",function(e){var t=new gP(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.NumberBar",gP);st.register("scrollBar",function(e){var t=new x0(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ScrollBar",x0);const Ac=Phaser.Utils.Objects.GetValue,k1={leftTop:"left-top",centerTop:"center-top",rightTop:"right-top",leftCenter:"left-center",center:"center",rightCenter:"right-center",leftBottom:"left-bottom",centerBottom:"center-bottom",rightBottom:"right-bottom"};class mP extends Oi{constructor(t,s){super(t,s),this.type="rexBadge";var l=Ac(s,"background",void 0);l&&this.addBackground(l),this.addChildrenMap("background",l);var C=Ac(s,"main",void 0);C&&this.add(C,{key:"main",align:"center",expand:!1}),this.addChildrenMap("main",C);for(var S in k1){var r=Ac(s,S,void 0);r&&(this.add(r,{key:S,align:k1[S],expand:!1}),this.addChildrenMap(S,r))}}}st.register("badgeLabel",function(e){var t=new mP(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.BadgeLabel",mP);const wU=Oi.prototype.add;var V1=function(e,t,s,l,C,S,r,T,i){return e.setVisible(!1),wU.call(this,e,t,s,l,C,S,r,T,i),this};const RU={add:V1,addPage:V1};var OU=function(e){return e===void 0?null:this.sizerChildren.hasOwnProperty(e)?this.sizerChildren[e]:null};const U1=di.prototype.setChildVisible;var AU=function(e,t){this._previousKey=this._currentKey;var s=this.previousPage;s&&(this.swapMode===0?(U1.call(this,s,!1),this.emit("pageinvisible",s,this._previousKey,this)):s.destroy()),e&&!this.sizerChildren.hasOwnProperty(e)&&this.emit("createpage",e,this),this._currentKey=e;var l=this.currentPage;return l&&(U1.call(this,l,!0),this.emit("pagevisible",l,this._currentKey,this),t===void 0&&(t=this.fadeInDuration),t>0&&l.setAlpha(0).fadeIn(t,1)),this},LU=function(e){return this.sizerChildren.hasOwnProperty(e)},xP={getPage:OU,swapPage:AU,hasPage:LU};Object.assign(xP,RU);const X1=Phaser.Utils.Objects.GetValue;class Ud extends Oi{constructor(t,s){super(t,s),this.type="rexPages",this.childrenMap=this.sizerChildren,this._previousKey=void 0,this._currentKey=void 0,this.setSwapMode(X1(s,"swapMode",0)),this.setFadeInDuration(X1(s,"fadeIn",0))}setSwapMode(t){return typeof t=="string"&&(t=FU[t]),this.swapMode=t,this}setFadeInDuration(t){return this.fadeInDuration=t,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return Object.keys(this.sizerChildren)}}Object.assign(Ud.prototype,xP);const FU={invisible:0,destroy:1};st.register("pages",function(e){var t=new Ud(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Pages",Ud);const yP=Phaser.Math.Vector3,DU=Phaser.Math.Matrix4;var Y1=new yP,W1=new yP,H1=new DU,IU=function(e,t,s,l,C,S,r){t===void 0&&(t=0),s===void 0&&(s=0),l===void 0&&(l=0),C===void 0&&(C=0),S===void 0&&(S=0),r===void 0&&(r=0),Y1.set(t,s,l),W1.set(C,S,r),H1.fromRotationXYTranslation(W1,Y1,!0);for(var T=0,i=e.vertices.length;T<i;T++)e.vertices[T].transformMat4(H1)};const BU=Phaser.GameObjects.Mesh,bU=Phaser.Utils.Objects.IsPlainObject,Kn=Phaser.Utils.Objects.GetValue,GU=Phaser.Geom.Mesh.GenerateGridVerts,Lc=Phaser.Math.RadToDeg,su=Phaser.Math.DegToRad,CP=45,NU=1+1/Math.sin(su(CP));let TP=class extends BU{constructor(t,s,l,C,S,r){bU(s)&&(r=s,s=Kn(r,"x",0),l=Kn(r,"y",0),C=Kn(r,"key",null),S=Kn(r,"frame",null)),super(t,s,l,C,S),this.type="rexPerspectiveImage",this.setSizeToFrame(),this.resetPerspective(),this.panZ(NU),this.hideCCW=Kn(r,"hideCCW",!0);var T=Kn(r,"gridWidth",32),i=Kn(r,"gridHeight",T);this.resetVerts(T,i)}get originX(){return .5}get originY(){return .5}resetPerspective(){return this.setPerspective(this.width,this.height,CP),this}resetVerts(t,s){if(t!==void 0&&(this.gridWidth=t),s!==void 0&&(this.gridHeight=s),this.clear(),this.dirtyCache[9]=-1,this.width===0||this.height===0)return this;var l=this.frame.cutWidth,C=this.frame.cutHeight;GU({mesh:this,texture:this.texture.key,frame:this.frame.name,width:l/this.height,height:C/this.height,widthSegments:Math.ceil(l/this.gridWidth),heightSegments:Math.ceil(C/this.gridHeight)});var S=this.transformInfo;return S&&this.transformVerts(S.x,S.y,S.z,S.rotateX,S.rotateY,S.rotateZ),this}syncSize(){return this.setSizeToFrame(),this.resetPerspective(),this.resetVerts(),this}get rotationX(){return this.modelRotation.x}set rotationX(t){this.modelRotation.x=t}get angleX(){return Lc(this.rotationX)}set angleX(t){this.rotationX=su(t)}get rotationY(){return this.modelRotation.y}set rotationY(t){this.modelRotation.y=t}get angleY(){return Lc(this.rotationY)}set angleY(t){this.rotationY=su(t)}get rotationZ(){return this.modelRotation.z}set rotationZ(t){this.modelRotation.z=t}get angleZ(){return Lc(this.rotationZ)}set angleZ(t){this.rotationZ=su(t)}transformVerts(t,s,l,C,S,r){return t===void 0&&(t=0),s===void 0&&(s=0),l===void 0&&(l=0),C===void 0&&(C=0),S===void 0&&(S=0),r===void 0&&(r=0),this.transformInfo||(this.transformInfo={}),this.transformInfo.x=t,this.transformInfo.y=s,this.transformInfo.rotateX=C,this.transformInfo.rotateY=S,this.transformInfo.rotateZ=r,IU(this,t,s,l,C,S,r),this}forceUpdate(){return this.dirtyCache[10]=1,this}get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}};const zU=Phaser.Textures.DynamicTexture;var SP=function(e,t,s){t===void 0&&(t=2),s===void 0&&(s=2);var l=new zU(e.sys.textures,null,t,s);return l};const kU=Phaser.Utils.Objects.IsPlainObject,Fl=Phaser.Utils.Objects.GetValue;class EP extends TP{constructor(t,s,l,C,S,r){kU(s)&&(r=s,s=Fl(r,"x",0),l=Fl(r,"y",0),C=Fl(r,"width",32),S=Fl(r,"height",32));var T=SP(t,C,S);super(t,s,l,T,null,r),this.type="rexPerspectiveRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}snapshot(t,s){return s===void 0&&(s={}),s.gameObjects=t,s.renderTexture=this.rt,Og(s),(this.width!==this.frame.realWidth||this.height!==this.frame.realHeight)&&this.syncSize(),this}}Phaser.Animations.AnimationState;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var Vi=function(e,t,s,l){if(Array.isArray(e))for(var C=!1,S=0,r=e.length;S<r;S++){var T=e[S];if(!(l&&!T)&&(s?C=t.call(s,T,S,e):C=t(T,S,e),C))return}else{var C=!1;for(var i in e){var T=e[i];if(!(l&&!T)&&(s?C=t.call(s,T,i,e):C=t(T,i,e),C))return}}};const Fc=Phaser.Math.RadToDeg,Dc=Phaser.Math.DegToRad;class VU extends di{constructor(t,s,l,C,S,r){super(t,s,l,C,S),this.faces=r,Vi(r,function(T){T.setPosition(s,l),this.add(T)},this,!0)}get rotationX(){return 0}set rotationX(t){}get angleX(){return Fc(this.rotationX)}set angleX(t){this.rotationX=Dc(t)}get rotationY(){return 0}set rotationY(t){}get angleY(){return Fc(this.rotationY)}set angleY(t){this.rotationY=Dc(t)}get rotationZ(){return 0}set rotationZ(t){}get angleZ(){return Fc(this.rotationZ)}set angleZ(t){this.rotationZ=Dc(t)}setDebug(t,s){return Vi(this.faces,function(l){l.setDebug(t,s)},null,!0),this}panX(t){return Vi(this.faces,function(s){s.panX(t)},null,!0),this}panY(t){return Vi(this.faces,function(s){s.panY(t)},null,!0),this}panZ(t){return Vi(this.faces,function(s){s.panZ(t)},null,!0),this}transformVerts(t,s,l,C,S,r){return Vi(this.faces,function(T){T.transformVerts(t,s,l,C,S,r)},null,!0),this}forEachFace(t,s,l){return Vi(this.faces,t,s,l),this}}const UU=Phaser.Utils.Objects.IsPlainObject,XU={key:"__WHITE"},YU={image:TP,rendertexture:EP};var $1=function(e,t){t===void 0&&(t=XU);var s;return UU(t)?(t.hasOwnProperty("type")||(t.hasOwnProperty("key")?t.type="image":t.hasOwnProperty("width")&&(t.type="rendertexture")),s=new YU[t.type](e,t),e.add.existing(s)):s=t,s},WU=function(e,t,s){var l;if(s===void 0){l=[];for(var C,S,r=0,T=t.length;r<T;r++)S=t[r],S?C=$1(e,S):C=null,l.push(C)}else{l={};for(var C,i,r=0,T=s.length;r<T;r++)i=s[r],t.hasOwnProperty(i)?C=$1(e,t[i]):C=null,l[i]=C}return l};const HU=Phaser.Math.DegToRad,K1=HU(180);var $U=function(e,t){var s=t.back;s&&(e.orientation===0?s.transformVerts(0,0,0,0,K1,0):s.transformVerts(0,0,0,K1,0,0))};const Ic=Phaser.Utils.Objects.GetValue,KU=Phaser.Math.Linear;let jU=class extends xr{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setEase(Ic(t,"ease","Cubic")),this.setFrontToBackDirection(Ic(t,"frontToBack",0)),this.setBackToFrontDirection(Ic(t,"backToFront",1)),this}setFrontToBackDirection(t){return typeof t=="string"&&(t=j1[t]),this.endAngleFB=t===0?180:-180,this}setBackToFrontDirection(t){return typeof t=="string"&&(t=j1[t]),this.endAngleBF=t===0?-180:180,this}start(t,s){if(this.timer.isRunning)return this;this.timer.setDelay(this.delay).setDuration(t);var l=s+1,C=this.parent;return C.face===0?(this.startAngle=0,this.endAngle=this.endAngleFB*l):(this.startAngle=this.endAngleBF,this.endAngle=this.startAngle-this.endAngleBF*l),super.start(),this}flip(t,s){return this.isRunning?this:(t===void 0&&(t=this.duration),s===void 0&&(s=0),this.start(t,s),this.emit("start",this.parent,this),this.parent.currentFaceIndex=(this.parent.currentFaceIndex+s+1)%2,this)}flipRight(t,s){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(0):this.setBackToFrontDirection(0),this.flip(t,s),this}flipLeft(t,s){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(1):this.setBackToFrontDirection(1),this.flip(t,s),this}updateGameObject(t,s){var l=this.easeFn(s.t),C=KU(this.startAngle,this.endAngle,l);t.orientation===0?t.angleY=C:t.angleX=C}};const j1={right:0,"left-to-right":0,left:1,"right-to-left":1},ZU=Phaser.Utils.Objects.IsPlainObject,jn=Phaser.Utils.Objects.GetValue,JU=["back","front"];class QU extends VU{constructor(t,s,l,C){ZU(s)&&(C=s,s=jn(C,"x",0),l=jn(C,"y",0));var S=WU(t,C,JU),r=S.back,T=S.front,i=jn(C,"width"),d=jn(C,"height");if(i===void 0||d===void 0){if(i===void 0){var x=T?T.width:0,f=r?r.width:0;i=Math.max(x,f)}if(d===void 0){var u=T?T.height:0,o=r?r.height:0;d=Math.max(u,o)}}super(t,s,l,i,d,S),this.type="rexPerspectiveCard",this.frontFaceRotationX=0,this.frontFaceRotationY=0,this.frontFaceRotationZ=0,Vi(S,function(h,p){this[`${p}Face`]=h},this);var n=jn(C,"flip",void 0);n!==!1&&(this.flip=new jU(this,n)),this.setOrientation(jn(C,"orientation",0)),$U(this,S),this.setFace(jn(C,"face",0))}get rotationX(){return this.frontFaceRotationX}set rotationX(t){this.frontFaceRotationX!==t&&(this.frontFaceRotationX=t,Vi(this.faces,function(s){s.rotationX=t},null,!0))}get rotationY(){return this.frontFaceRotationY}set rotationY(t){this.frontFaceRotationY!==t&&(this.frontFaceRotationY=t,Vi(this.faces,function(s){s.rotationY=t},null,!0))}get rotationZ(){return this.frontFaceRotationZ}set rotationZ(t){this.frontFaceRotationZ!==t&&(this.frontFaceRotationZ=t,Vi(this.faces,function(s){s.rotationZ=t},null,!0))}setOrientation(t){return typeof t=="string"&&(t=qU[t]),this.orientation=t,this}get face(){return this.currentFaceIndex}set face(t){typeof t=="string"&&(t=_U[t]),this.currentFaceIndex=t;var s=t===1,l=s?180:0;this.orientation===0?this.angleY=l:this.angleX=l}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}}const qU={x:0,horizontal:0,h:0,y:1,vertical:1,v:1},_U={front:0,back:1};Phaser.Utils.Objects.GetValue;Phaser.Math.RadToDeg;Phaser.Math.DegToRad;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Angle.ShortestBetween;Phaser.Math.Wrap;Phaser.Math.Linear;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.DegToRad;Phaser.Math.RadToDeg;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Linear;Phaser.Math.Wrap;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.Wrap;const tX=Phaser.Utils.Objects.GetValue;var eX=function(e,t,s){t.visibleSibling=[],t.isRunning=!1,t.useParentBounds=tX(s,"useParentBounds",!1),t.setPosition(e.x,e.y).setVisible(!1),e.pin(t)},PP=function(e,t){if(!e)return!1;for(var s=t.visibleSibling,l=0,C=s.length;l<C;l++)e.setChildVisible(s[l],!0);return s.length=0,e.setChildVisible(t,!1),t.isRunning=!1,!0},iX=function(e,t){if(!e)return!1;PP(e,t);var s=t.useParentBounds;Og({gameObjects:e.getAllVisibleChildren(),renderTexture:t.rt,x:t.x,y:t.y,width:s?e.displayWidth:void 0,height:s?e.displayHeighth:void 0,originX:s?e.originX:void 0,originY:s?e.originY:void 0}),e.setChildVisible(t,!0);for(var l=t.visibleSibling,C=e.children,S=0,r=C.length;S<r;S++){var T=C[S];T.visible&&T!==t&&(e.setChildVisible(T,!1),l.push(T))}return t.isRunning=!0,!0},MP=function(e){return class extends e{constructor(s,l){var C=s.scene;super(C,0,0,1,1,l),C.add.existing(this),eX(s,this,l)}destroy(s){!this.scene||this.ignoreDestroy||(this.exit(),super.destroy(s))}enter(){var s=iX(this.rexContainer.parent,this);return s&&this.syncSize(),this}exit(){return PP(this.rexContainer.parent,this),this}}};class wP extends MP(EP){get perspectiveState(){return this.isRunning}}const sX=Phaser.Utils.Objects.GetValue;var nX=function(e){var t=this.scene;this.setSnapshotPadding(sX(e,"snapshotPadding",0)),e=fr(e),delete e.width,delete e.height,e.front={width:1,height:1},e.back={width:1,height:1};var s=new QU(t,e);t.add.existing(s);var l=s.flip;if(l){var C=this;l.on("start",function(){C.enterPerspectiveMode()}).on("complete",function(){C.exitPerspectiveMode()})}return s};const rX=["front","back"],aX={enterPerspectiveMode(){return this.isInPerspectiveMode?this:(this.setChildVisible(this.perspectiveCard,!0),this.snapshotFace(0),this.snapshotFace(1),this.setChildVisible(this.childrenMap.front,!1),this.setChildVisible(this.childrenMap.back,!1),this.perspectiveCard.setSize(this.width,this.height),this)},exitPerspectiveMode(){if(!this.isInPerspectiveMode)return this;this.setChildVisible(this.perspectiveCard,!1);var e=this.perspectiveCard.face===0;return this.setChildVisible(this.childrenMap.front,e),this.setChildVisible(this.childrenMap.back,!e),this},setSnapshotPadding(e){return this.snapshotPadding=e,this},snapshotFace(e){typeof e=="number"&&(e=rX[e]);var t=this.perspectiveCard.faces[e],s=this.childrenMap[e];t.rt.clear();var l=s.visible;s.visible=!0;var C=s.isRexContainerLite?s.getAllVisibleChildren():s;return t.snapshot(C,{padding:this.snapshotPadding}),s.visible=l,this}},Z1=Phaser.Utils.Objects.GetValue;class A0 extends Oi{constructor(t,s){super(t,s),this.type="rexPerspectiveCard";var l=s.back,C=Z1(s,"expand.back",!0);this.add(l,{key:"back",expand:C});var S=s.front,r=Z1(s,"expand.front",!0);this.add(S,{key:"front",expand:r}),this.perspectiveCard=nX.call(this,s),this.pin(this.perspectiveCard),this.exitPerspectiveMode(!1)}get flip(){return this.perspectiveCard.flip}get face(){return this.perspectiveCard.face}set face(t){if(!(this.flip&&this.flip.isRunning)){this.perspectiveCard.face=t;var s=t===0,l=this.childrenMap.front,C=this.childrenMap.back;this.setChildVisible(l,s),this.setChildVisible(C,!s)}}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}get isInPerspectiveMode(){return this.perspectiveCard.visible}get rotationX(){return this.perspectiveCard.rotationX}set rotationX(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationX=t}get angleX(){return this.perspectiveCard.angleX}set angleX(t){this.enterPerspectiveMode(),this.perspectiveCard.angleX=t}get rotationY(){return this.perspectiveCard.rotationY}set rotationY(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationY=t}get angleY(){return this.perspectiveCard.angleY}set angleY(t){this.enterPerspectiveMode(),this.perspectiveCard.angleY=t}get rotationZ(){return this.perspectiveCard.rotationZ}set rotationZ(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationZ=t}get angleZ(){return this.perspectiveCard.angleZ}set angleZ(t){this.enterPerspectiveMode(),this.perspectiveCard.angleZ=t}panX(t){return this.enterPerspectiveMode(),this.perspectiveCard.panX(t),this}panY(t){return this.enterPerspectiveMode(),this.perspectiveCard.panY(t),this}panZ(t){return this.enterPerspectiveMode(),this.perspectiveCard.panZ(t),this}transformVerts(t,s,l,C,S,r){return this.enterPerspectiveMode(),this.perspectiveCard.transformVerts(t,s,l,C,S,r),this}forEachFace(t,s,l){return this.enterPerspectiveMode(),this.perspectiveCard.forEachFace(t,s,l),this}}Object.assign(A0.prototype,aX);st.register("perspectiveCard",function(e){var t=new A0(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.PerspectiveCard",A0);var oX=function(e){var t=this.getElement("tabs.buttons");if(!(e>=t.length))return t[e].name},hX=function(e){for(var t=this.getElement("tabs.buttons"),s=0,l=t.length;s<l;s++)if(t[s].name===e)return s};const lX=Phaser.Utils.Objects.IsPlainObject,Bc=Phaser.Utils.Objects.GetValue,uX=Phaser.Utils.String.UUID;var dX=function(e,t,s){if(lX(e)){var l=e;e=Bc(l,"key"),t=Bc(l,"tab"),s=Bc(l,"page")}return e||(e=uX()),t.name=e,this.childrenMap.tabs.addButton(t),this.childrenMap.pages.addPage(s,{key:e}),this},fX=function(e,t){var s;if(typeof e=="number"?s=e:s=this.getPageIndex(e),s!=null){var l;t!==void 0&&(l=this.childrenMap.pages.fadeInDuration,this.childrenMap.pages.fadeInDuration=t),this.childrenMap.tabs.emitButtonClick(s),l!==void 0&&(this.childrenMap.pages.fadeInDuration=l)}return this},cX=function(e){return this.swapPage(0,e),this},vX=function(e){var t=this.getElement("tabs.buttons").length-1;return this.swapPage(t,e),this};const pX={swapPage:fX,swapFirstPage:cX,swapLastPage:vX};var gX=function(e,t){typeof e=="number"&&(e=this.getPageKey(e));var s=this.childrenMap.tabs,l=s.getByName(e),C=this.childrenMap.pages,S=C.getElement(e);return!l||!S?this:(C.removeChildrenMap(e),s.removeButton(l,t),C.remove(S,t),this)};const mX={removePage:gX};var xX=function(e){return typeof e=="number"&&(e=this.getPageKey(e)),this.childrenMap.pages.getPage(e)},yX=function(e){var t;return typeof e=="number"?t=e:t=this.getPageIndex(e),this.getElement("tabs.buttons")[t]},RP={getPageKey:oX,getPageIndex:hX,addPage:dX,getPage:xX,getTab:yX};Object.assign(RP,pX,mX);const Zn=Phaser.Utils.Objects.GetValue,Dl=Rt.prototype.add;let Xd=class extends Rt{constructor(t,s){s===void 0&&(s={});var l=Zn(s,"tabPosition","top"),C=l==="left"||l==="right"?"x":"y";s.orientation=C,super(t,s),this.type="rexTabPages";var S=Zn(s,"background",void 0);S&&this.addBackground(S);var r=Zn(s,"pages"),T=new Ud(t,r);t.add.existing(T);var i=C==="y",d=i?Zn(s,"wrapTabs",!1):!1,x=Zn(s,"tabs",void 0);x===void 0&&(x={});var f=d?vr:Te;x.orientation=i?"x":"y",x.buttonsType="radio";var u=new f(t,x);t.add.existing(u);var o=d?!0:Zn(s,"expand.tabs",!1),n=Zn(s,"align.tabs","left");switch(l){case"top":case"left":Dl.call(this,u,{proportion:0,expand:o,align:n}),Dl.call(this,T,{proportion:1,expand:!0});break;case"bottom":case"right":Dl.call(this,T,{proportion:1,expand:!0}),Dl.call(this,u,{proportion:0,expand:o,align:n});break}this.addChildrenMap("background",S),this.addChildrenMap("tabs",u),this.addChildrenMap("pages",T),u.on("button.click",function(h){var p=h.name;T.hasPage(p)&&T.swapPage(p)}),u.on("button.statechange",function(h,p,a,c){var v=a?"tab.focus":"tab.blur";this.emit(v,h,h.name)},this),T.on("pagevisible",function(h,p,a){this.emit("page.focus",h,p)}),T.on("pageinvisible",function(h,p,a){this.emit("page.blur",h,p)})}get currentKey(){return this.getElement("pages").currentKey}set currentKey(t){this.showPage(t)}get keys(){return this.getElement("pages").keys}get currentPage(){return this.getElement("pages").currentPage}get previousPage(){return this.getElement("pages").previousPage}};Object.assign(Xd.prototype,RP);st.register("tabPages",function(e){var t=new Xd(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.TabPages",Xd);class CX extends gd{constructor(t,s){s===void 0&&(s={}),s.destroy=!1,super(t,s)}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}const TX={expand(e){if(this.expanded===!0)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!0;var t=this.childrenMap.title,s=this.childrenMap.child;this.show(s);var l=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();return l.layout(),t.emit("folder.expand",e,this),s.emit("folder.expand",e,this),this.emit("expand.start",this),this.childTransition.once("open",function(){this.emit("expand.complete",this)},this).requestOpen(null,e),this},collapse(e){if(this.expanded===!1)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!1;var t=this.childrenMap.title,s=this.childrenMap.child;return t.emit("folder.collapse",e,this),s.emit("folder.collapse",e,this),this.emit("collapse.start",this),this.childTransition.once("close",function(){this.setChildScale(s,1,1).hide(s);var l=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();l.layout(),this.emit("collapse.complete",this)},this).requestClose(null,e),this},toggle(e){return this.expanded?this.collapse(e):this.expand(e),this}};var SX=function(e,t){Hg.popUp.call(e,t,this.expandDirection)},EX=function(e,t){Hg.scaleDown.call(e,t,this.expandDirection)};const PX={setTransitionDuration(e){return this.transitionDuration=e,this.childTransition.setTransitInTime(e).setTransitOutTime(e),this},setExpandCallback(e){return e===void 0&&(e=SX.bind(this)),this.childTransition.setTransitInCallback(e),this},setCollapseCallback(e){return e===void 0&&(e=EX.bind(this)),this.childTransition.setTransitOutCallback(e),this}},Bi=Phaser.Utils.Objects.GetValue;let Yd=class extends Rt{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("orientation")||(s.orientation=1),super(t,s),this.type="rexFolder",this.expanded=void 0,this.expandDirection=this.orientation===1?"y":"x";var l=s.background,C=s.title,S=s.child;l&&this.addBackground(l);var r=this.orientation===1?"left":"top",f=Bi(s,"align.title",r),u=Bi(s,"expand.title",!0);this.add(C,{proportion:0,align:f,expand:u});var T=Bi(s,"toggleByTarget",void 0),i=Bi(s,"toggleClickConfig");T===void 0&&(T=C),T&&m2.onClick.call(T,function(){this.toggle()},this,i),this.childTransition=new CX(S);var d=Bi(s,"customChildOrigin",!1);if(!d){var x=this.rtl?1:0;S.setOrigin(x)}var f=Bi(s,"align.child","left"),u=Bi(s,"expand.child",!0),o=u?1:0;this.add(S,{proportion:o,align:f,expand:u}),this.addChildrenMap("title",C),this.addChildrenMap("child",S),this.addChildrenMap("background",l);var n=s.transition;this.setTransitionDuration(Bi(n,"duration",200)),this.setExpandCallback(Bi(n,"expandCallback",void 0)),this.setCollapseCallback(Bi(n,"collapseCallback",void 0)),this.reLayoutTarget=Bi(s,"reLayoutTarget",void 0);var h=s.onExpandStart;h&&this.on("expand.start",h);var p=s.onExpandComplete;p&&this.on("expand.complete",p);var a=s.onCollapseStart;a&&this.on("collapse.start",a);var c=s.onCollapseComplete;c&&this.on("collapse.complete",c)}};Object.assign(Yd.prototype,TX,PX);st.register("folder",function(e){var t=new Yd(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Folder",Yd);st.register("textArea",function(e){var t=new wh(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.TextArea",wh);var MX=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,s=t.rexSizer;return s.hidden?e=0:this.scrollMode===0?e=this.getChildWidth(t):e=0,e},wX=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,s=t.rexSizer;return s.hidden||this.scrollMode===0?e=0:e=t.isRexSizer?Math.max(t.minHeight,t.childrenHeight):t.hasOwnProperty("minHeight")?t.minHeight:Ot(t),e},RX=function(e){return e===void 0&&(e=[]),this.child&&this.child.isRexSizer&&e.push(this.child),e},OX=function(){var e=this.left,t=this.top;this.scrollMode===0?t+=this.childOY:e+=this.childOY,this.child.setPosition(e,t),this.resetChildPositionState(this.child),this.setMaskChildrenFlag()},AX=function(){var e=this.child,t,s;e.rexSizer.hidden||(this.scrollMode===0?t=this.width:s=this.height,e.isRexSizer?e.runLayout(this,t,s):$i(e,t,s),this.resetChildPosition(),this.layoutChildrenMask(),this.maskChildren())},OP={getChildrenWidth:MX,getChildrenHeight:wX,getChildrenSizers:RX,resetChildPosition:OX,layoutChildren:AX};Object.assign(OP,sP);const J1=Phaser.Utils.Objects.IsPlainObject,bi=Phaser.Utils.Objects.GetValue,LX=Phaser.Display.Align.TOP_LEFT;class AP extends Sr{constructor(t,s,l,C,S,r){J1(s)?(r=s,s=bi(r,"x",0),l=bi(r,"y",0),C=bi(r,"width",void 0),S=bi(r,"height",void 0)):J1(C)&&(r=C,C=bi(r,"width",void 0),S=bi(r,"height",void 0)),super(t,s,l,C,S,r),this.type="rexScrollableBlock",this.child=void 0,this.childrenMask=void 0,this._childOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setScrollMode(bi(r,"scrollMode",!0)),this.setClampMode(bi(r,"clamplChildOY",!0));var T=bi(r,"child",void 0),i=bi(r,"expand",!0);T.setOrigin&&T.setOrigin(0),this.add(T),this.sizerChildren=[T];var d=this.getSizerConfig(T);d.align=LX,d.expand=i,this.child=T,this.setupChildrenMask(bi(r,"mask",void 0)),this.maskGameObject=P0(this.childrenMask)}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.child=void 0,super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=Z2[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampChildOY=t,this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get childHeight(){return this.scrollMode===0?Ot(this.child):Bt(this.child)}get childWidth(){return this.scrollMode===0?Bt(this.child):Ot(this.child)}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get childVisibleHeight(){return this.instHeight}get visibleHeight(){var t=this.childHeight-this.childVisibleHeight;return t<0&&(t=0),t}childOYExceedTop(t){return t===void 0&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return t===void 0&&(t=this.childOY),t<this.bottomChildOY}get childOY(){return this._childOY}set childOY(t){var s=this.topChildOY,l=this.bottomChildOY,C=this.childOYExceedTop(t),S=this.childOYExeceedBottom(t);this.clampChildOY&&(this.childVisibleHeight>this.childHeight?t=0:C?t=s:S&&(t=l)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),C&&(this.execeedTopState||this.emit("execeedtop",this,t,s)),this.execeedTopState=C,S&&(this.execeedBottomState||this.emit("execeedbottom",this,t,l)),this.execeedBottomState=S}setChildOY(t){return this.childOY=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return t===0?0:this.childOY/-t}setChildOYByPercentage(t){return this.t=t,this}}Object.assign(AP.prototype,OP);var FX=function(e,t){if(!this.hasChild(e))return this;var s;if(this.scrollMode===0)switch(t){case xi.top:case"top":s=this.top-e.getTopLeft().y;break;case xi.bottom:case"bottom":s=this.bottom-e.getBottomLeft().y;break;case xi.center:case"center":s=this.centerY-e.getCenter().y;break;default:var l=this.top-e.getTopLeft().y,C=this.bottom-e.getBottomLeft().y;l<=0&&C>=0?s=0:s=Math.abs(l)<=Math.abs(C)?l:C;break}else switch(t){case xi.left:case"left":s=this.left-e.getTopLeft().x;break;case xi.right:case"right":s=this.right-e.getTopRight().x;break;case xi.center:case"center":s=this.centerX-e.getCenter().x;break;default:var S=this.left-e.getTopLeft().x,r=this.right-e.getTopRight().x;S<=0&&r>=0?s=0:s=Math.abs(S)<=Math.abs(r)?S:r;break}return this.childOY+=s,this};const To=Phaser.Utils.Objects.GetValue;class L0 extends Bd{constructor(t,s){s===void 0&&(s={});var l=Id(s),C=To(s,"panel",void 0);C===void 0&&(C={}),C.scrollMode=l,C.clamplChildOY=To(s,"clamplChildOY",!1);var S=new AP(t,C);t.add.existing(S);var r=To(C,"width",void 0),T=To(C,"height",void 0),i,d;l===0?(i=r===void 0?1:0,d=T===void 0):(i=T===void 0?1:0,d=r===void 0),s.type="rexScrollablePanel",s.child={gameObject:S,proportion:i,expand:d};var x=To(s,"space",void 0);x&&(x.child=x.panel),super(t,s),this.addChildrenMap("panel",S.child),this.addChildrenMap("panelLayer",S.maskLayer),this.addChildrenMap("mask",S.maskGameObject)}setChildrenInteractive(t){return t===void 0&&(t={}),t.hasOwnProperty("eventEmitter")||(t.eventEmitter=this),t.hasOwnProperty("targets")||(t.targets=[this.childrenMap.panel]),e0(this.childrenMap.child,t),this}}var DX={scrollToChild:FX};Object.assign(L0.prototype,DX);st.register("scrollablePanel",function(e){var t=new L0(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ScrollablePanel",L0);const Il={popUp:function(e,t){e.popUp(t)},scaleDown:function(e,t){e.scaleDown(t)},fadeIn:function(e,t){e.fadeIn(t)},fadeOut:function(e,t){e.fadeOut(t)}};var np=function(e,t,s){var l=It(s,"reverse",!1),C;if(Hi(e[0]))if(l)for(var r=e.length,S=r-1;S>=0;S--)C=np(e[S],t,s);else for(var S=0,r=e.length;S<r;S++)C=np(e[S],t,s);else C=IX(e,t,s);return C},IX=function(e,t,s){var l=It(s,"argsConvert",void 0),C=It(s,"argsConvertScope",void 0),S=e[0];if(Ks=Eg(Ks,e,1),l){l===!0&&(l=mg,C=void 0);for(var r=0,T=Ks.length;r<T;r++)C?Ks[r]=l.call(C,Ks[r],e):Ks[r]=l(Ks[r],e)}var i;typeof S=="string"?(i=t[S],i==null&&(i=It(t,S,null))):i=S;var d=i.apply(t,Ks);return d},Ks=[];const Gi=Phaser.Utils.Objects.GetValue;class BX extends ge{constructor(t,s){super(t,s);var l=Gi(s,"clock",void 0);l||(l=new OE(t)),this.clock=l,this.clock.on("update",this.update,this),this.resetFromJSON(s)}resetFromJSON(t){return this.clock.resetFromJSON(Gi(t,"clock",void 0)),this.state=Gi(t,"state",0),this.commands=Gi(t,"commands",[]),this.scope=Gi(t,"scope",void 0),this.setTimeUnit(Gi(t,"timeUnit",0)),this.setDtMode(Gi(t,"dtMode",0)),this.index=Gi(t,"index",0),this.nextTime=Gi(t,"nextTime",0),this}toJSON(){return{clock:this.clock.toJSON(),state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextTime:this.nextTime}}shutdown(t){this.isShutdown||(this.clock.shutdown(t),this.commands=void 0,super.shutdown(t))}load(t,s,l){this.stop();var C=Gi(l,"timeUnit",void 0);C!==void 0&&this.setTimeUnit(C);var S=Gi(l,"dtMode",void 0);return S!==void 0&&this.setDtMode(S),t=t.filter(function(r){var T=r[0];return!isNaN(T)}).map(function(r){var T=r[0];return typeof T=="string"&&(r[0]=parseFloat(r[0])),r}),this.dtMode===0&&t.sort(function(r,T){var i=r[0],d=T[0];return i>d?1:i<d?-1:0}),this.commands=t,this.scope=s,this}start(t){return t===void 0&&(t=0),this.stop(),this.index=0,this.state=1,this.nextTime=this.getNextDt(0),this.clock.start(t),this.update(t),this.emit("start",this.parent,this),this}pause(){return this.clock.pause(),this.emit("pause",this.parent,this),this}resume(){return this.clock.resume(),this.emit("resume",this.parent,this),this}stop(){return this.clock.stop(),this.state=0,this.emit("stop",this.parent,this),this}seek(t){return this.clock.seek(t),this}seekToNext(){return this.seek(this.nextTime),this}get isPlaying(){return this.clock.isRunning}get completed(){return this.state===2}get timeScale(){return this.clock.timeScale}set timeScale(t){this.clock.timeScale=t}setTimeScale(t){return this.timeScale=t,this}get now(){return this.clock.now}update(t){if(this.nextTime>t)return this;for(var s=this.commands.length-1;;){var l=this.commands[this.index],C=l[1];if(Hi(C)||(C=Eg(bX,l,1)),np(C,this.scope),this.emit("runcommand",C,this.scope),this.index===s)return this.complete(),this;if(this.index++,this.nextTime=this.getNextDt(this.nextTime),this.nextTime>t)return this}}complete(){this.clock.stop(),this.state=2,this.emit("complete",this.parent,this)}getNextDt(t){var s=this.commands[this.index][0];return this.timeUnit===1&&(s=s*1e3),this.dtMode===1&&(s+=t),s}setDtMode(t){return typeof t=="string"&&(t=NX[t]),this.dtMode=t,this}setTimeUnit(t){return typeof t=="string"&&(t=GX[t]),this.timeUnit=t,this}}var bX=[];const GX={ms:0,s:1,sec:1},NX={abs:0,absolute:0,inc:1,increment:1},So=Phaser.Utils.Objects.GetValue;class LP extends Pr{constructor(t,s){s===void 0&&(s={text:createDefaultTextObject(t)}),super(t,s),this.type="rexToast",this.setTransitInTime(So(s,"duration.in",200)),this.setDisplayTime(So(s,"duration.hold",1200)),this.setTransitOutTime(So(s,"duration.out",200)),this.setTransitInCallback(So(s,"transitIn",js.popUp)),this.setTransitOutCallback(So(s,"transitOut",js.scaleDown)),this.player=new BX(this,{dtMode:1}),this.messages=[],this.scaleX0=void 0,this.scaleY0=void 0,this.setVisible(!1)}destroy(t){!this.scene||this.ignoreDestroy||(this.player.destroy(),this.player=void 0,this.messages=void 0,super.destroy(t))}setDisplayTime(t){return this.displayTime=t,this}setTransitOutTime(t){return this.transitOutTime=t,this}setTransitInTime(t){return this.transitInTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=js[t]),t){case js.popUp:t=Il.popUp;break;case js.fadeIn:t=Il.fadeIn;break}return t||(t=Fe),this.transitInCallback=t,this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=js[t]),t){case js.scaleDown:t=Il.scaleDown;break;case js.fadeOut:t=Il.fadeOut;break}return t||(t=Fe),this.transitOutCallback=t,this}setScale(t,s){return s===void 0&&(s=t),this.scaleX0=t,this.scaleY0=s,super.setScale(t,s),this}showMessage(t){if(this.scaleX0===void 0&&(this.scaleX0=this.scaleX),this.scaleY0===void 0&&(this.scaleY0=this.scaleY),t===void 0){if(this.messages.length===0)return this;t=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(t),this;this.setScale(this.scaleX0,this.scaleY0).setVisible(!0),typeof t=="string"?this.setText(t):t(this),this.layout();var s=[[0,[this.transitInCallback,this,this.transitInTime]],[this.transitInTime,[Fe]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[Fe]]];return this.player.load(s,this).once("complete",function(){this.showMessage()},this).start(),this}}const js={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};st.register("toast",function(e){var t=new LP(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Toast",LP);var zX=function(e,t){if(t===!1)return null;if(On(t))return t;var s=new Pn(e,t);return e.add.existing(s),s},Ah=function(e,t,s){s===void 0&&(s=!0),s?t=t?wi(t):{}:t||(t={});var l=new Tg(e,t);return e.add.existing(l),l};const Q1=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],kX=[15792383,16444375,65535,8388564,15794175,16119260,16770244,0,16772045,255,9055202,10824234,14596231,6266528,8388352,13789470,16744272,6591981,16775388,14423100,65535,139,35723,12092939,11119017,11119017,25600,12433259,9109643,5597999,16747520,10040012,9109504,15308410,9419919,4734347,3100495,3100495,52945,9699539,16716947,49151,6908265,6908265,2003199,11674146,16775920,2263842,16711935,14474460,16316671,16766720,14329120,8421504,8421504,32768,11403055,15794160,16738740,13458524,4915330,16777200,15787660,15132410,16773365,8190976,16775885,11393254,15761536,14745599,16448210,13882323,13882323,9498256,16758465,16752762,2142890,8900346,7833753,7833753,11584734,16777184,65280,3329330,16445670,16711935,8388608,6737322,205,12211667,9662683,3978097,8087790,64154,4772300,13047173,1644912,16121850,16770273,16770229,16768685,128,16643558,8421376,7048739,16753920,16729344,14315734,15657130,10025880,11529966,14381203,16773077,16767673,13468991,16761035,14524637,11591910,8388736,6697881,16711680,12357519,4286945,9127187,16416882,16032864,3050327,16774638,10506797,12632256,8900331,6970061,7372944,7372944,16775930,65407,4620980,13808780,32896,14204888,16737095,4251856,15631086,16113331,16777215,16119285,16776960,10145074];var rp={},q1;for(var Bl=0,VX=Q1.length;Bl<VX;Bl++)q1=Q1[Bl].toLowerCase(),rp[q1]=kX[Bl];var UX=function(e){return e=e.toLowerCase(),rp.hasOwnProperty(e)?rp[e]:null},XX=function(e){return typeof e!="string"||(e.startsWith("#")?e=parseInt(e.substring(1),16):e.startsWith("0x")?e=parseInt(e.substring(2),16):e=UX(e)),e};const YX=Phaser.Utils.String.Pad;var _1=function(e,t){t===void 0&&(t="0x");var s=e.toString(16).toUpperCase();return s=YX(s,6,0,1),s=t+s,s},WX=function(e,t){e&&(e.setTint?e.setTint(t):e.setFillStyle&&e.setFillStyle(t))};const pi=Phaser.Utils.Objects.GetValue,HX=Phaser.Utils.Objects.IsPlainObject,$X=Phaser.Math.Clamp;let F0=class extends Rt{constructor(t,s){s===void 0&&(s={}),s.orientation=0,super(t,s),this.type="rexColorInputLite";var l=pi(s,"background",void 0),C=pi(s,"swatch"),S;HX(C)&&(S=pi(C,"size"));var r=zX(t,pi(s,"swatch")),T=pi(s,"inputText",!0),i;if(T&&(i=Ah(t,T)),l&&this.addBackground(l),r){S=pi(s,"swatchSize",S);var d;S!==void 0?($i(r,S,S),d=!1):d=pi(s,"squareExpandSwatch",!0);var x=d?1:0;this.add(r,{proportion:0,expand:!1,fitRatio:x})}if(i){var f=pi(T,"width")===void 0?1:0,u=pi(T,"height")===void 0;this.add(i,{proportion:f,expand:u})}this.addChildrenMap("background",l),this.addChildrenMap("swatch",r),this.addChildrenMap("inputText",i),i&&i.on("close",function(){this.setValue(i.value)},this);var o=pi(s,"valuechangeCallback",null);if(o!==null){var n=pi(s,"valuechangeCallbackScope",void 0);this.on("valuechange",o,n)}this.setValue(pi(s,"value",0))}get value(){return this._value}set value(t){if(typeof t=="string"){if(t=XX(t),t==null){var l=this.childrenMap.inputText;l&&l.setText(_1(this._value));return}}else t=$X(Math.floor(t),0,16777215);if(this._value!==t){this._value=t;var s=this.childrenMap.swatch;s&&WX(s,t);var l=this.childrenMap.inputText;l&&l.setText(_1(t)),this.emit("valuechange",this._value)}}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}};var KX={setCreateColorPickerBackgroundCallback(e){return this.colorPickerCreateBackgroundCallback=e,this},setColorPickerHPalettePosition(e){return this.colorPickerHPalettePosition=e,this},setColorPickerExpandDirection(e){return typeof e=="string"&&(e=jX[e]),this.colorPickerExpandDirection=e,this},setColorPickerEaseInDuration(e){return e===void 0&&(e=0),this.colorPickerEaseInDuration=e,this},setColorPickerEaseOutDuration(e){return e===void 0&&(e=0),this.colorPickerEaseOutDuration=e,this},setColorPickerTransitInCallback(e){return this.colorPickerTransitInCallback=e,this},setColorPickerTransitOutCallback(e){return this.colorPickerTransitOutCallback=e,this},setColorPickerBounds(e){return this.colorPickerBounds=e,this},setColorPickerWidth(e){return this.colorPickerWidth=e,this},setColorPickerHeight(e){return this.colorPickerHeight=e,this},setColorPickerSize(e,t){return this.setColorPickerWidth(e).setColorPickerHeight(t),this},setColorPickerSpace(e){return e===void 0&&(e={}),this.colorPickerSpace=e,this},setColorComponentsHeight(e){return this.colorComponentsHeight=e,this},setColorComponentsFormatLabelConfig(e){return this.colorComponentsFormatLabelConfig=e,this},setColorComponentsInputTextConfig(e){return this.colorComponentsInputTextConfig=e,this},setColorComponentsSpace(e){return e===void 0&&(e={}),this.colorComponentsSpace=e,this}};const jX={down:0,up:1},FP=Phaser.Display.Color,bu=Phaser.Math.Percent;var ZX=function(e,t,s){s===void 0&&(s=!1);var l=e.width,C=e.height,S=new FP;if(s)for(var r=0;r<C;r++){var T=bu(r,0,C);S.setFromHSV(T,1,1),t.fillStyle=S.rgba,t.fillRect(0,r,l,1)}else for(var i=0;i<l;i++){var T=bu(i,0,l);S.setFromHSV(T,1,1),t.fillStyle=S.rgba,t.fillRect(i,0,1,C)}},JX=function(e,t,s){for(var l=e.width,C=e.height,S=t.getImageData(0,0,l,C),r=S.data,T=new FP,i=0;i<C;i++)for(var d=0;d<l;d++){var x=bu(d,0,l),f=1-bu(i,0,C);T.setFromHSV(s,x,f);var u=(i*l+d)*4;r[u]=T.red,r[u+1]=T.green,r[u+2]=T.blue,r[u+3]=255}t.putImageData(S,0,0)};const QX=Phaser.Display.Color,tC=Phaser.Math.Percent,qX=Phaser.Display.Color.ColorToRGBA,_X=Phaser.Display.Color.HSVToRGB;class tY extends ka{constructor(t,s,l,C,S,r){s===void 0&&(s=0),l===void 0&&(l=0),C===void 0&&(C=2),S===void 0&&(S=2),super(t,s,l,C,S),this.type="rexColorPicker.HPaletteCanvas",this.colorObject=new QX,this.setOrientation(r),this.setSize(C,S)}setOrientation(t){return this.orientation=Od(t),this}updateTexture(){return ZX(this.canvas,this.context,this.orientation),super.updateTexture(),this}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue=t}getHue(t,s){return t===void 0?this.hue:(this.orientation===0?this.hue=tC(t,0,this.width):this.hue=tC(s,0,this.height),this.hue)}getColor(t,s){if(t===void 0)return this.color;var l=this.getHue(t,s);return this.colorObject.setFromRGB(_X(l,1,1)),this.colorObject.color}setColor(t){return this.color===t?this:this}colorToLocalPosition(t,s){return s===void 0?s={}:s===!0&&(bc===void 0&&(bc={}),s=bc),this.colorObject.setFromRGB(qX(t)),this.orientation===0?(s.x=this.width*this.colorObject.h,s.y=this.height/2):(s.x=this.width/2,s.y=this.height*this.colorObject.h),s}}var bc=void 0,eY=Phaser.Math.RotateAround,DP=function(e,t,s,l){l===void 0?l={}:l===!0&&(Gc===void 0&&(Gc={}),l=Gc),t-=e.width*e.originX,s-=e.height*e.originY;var C={x:t*e.scaleX,y:s*e.scaleY};return eY(C,0,0,-e.rotation),l.x=e.x+t,l.y=e.y+s,l},Gc;class iY extends Oi{constructor(t,s){s===void 0&&(s={}),super(t,s);var l=s.width!=null?1:0,C=new tY(t).setOrientation(l);t.add.existing(C),this.type="rexColorPicker.HPalette",C.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var S=new Pn(t,{strokeColor:16777215,strokeWidth:2});t.add.existing(S),this.add(C,{key:"paletteCanvas",expand:!0}).add(S,{key:"marker",expand:!1})}resize(t,s){if(this.width===t&&this.height===s)return this;super.resize(t,s);var l=Math.min(t,s);return this.childrenMap.marker.setSize(l,l),this}onPaletteCanvasPointerDown(t,s,l,C){if(t.isDown){var S=this.childrenMap.paletteCanvas,r=S.getColor(s,l);this.setMarkerPosition(r),this.emit("input",r)}}get color(){return this.childrenMap.paletteCanvas.color}setColor(t){if(this.color===t)return this;var s=this.childrenMap.paletteCanvas;return s.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var s=this.childrenMap.paletteCanvas,l=this.childrenMap.marker,C=s.colorToLocalPosition(t,!0);return DP(s,C.x,C.y,l),this.resetChildPositionState(l),this}getHue(t,s){var l=this.childrenMap.paletteCanvas;return l.getHue(t,s)}}const sY=Phaser.Display.Color,eC=Phaser.Math.Percent,iC=Phaser.Display.Color.ColorToRGBA,nY=Phaser.Display.Color.HSVToRGB;class rY extends ka{constructor(t,s,l,C,S,r){s===void 0&&(s=0),l===void 0&&(l=0),C===void 0&&(C=2),S===void 0&&(S=2),super(t,s,l,C,S),this.type="rexColorPicker.SVPaletteCanvas",r===void 0&&(r=1),this.colorObject=new sY,this.setHue(r),this.setSize(C,S)}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue!==t&&(this._hue=t,this.colorObject.h=t,this.dirty=!0)}setHue(t){return this.hue=t,this}updateTexture(){return JX(this.canvas,this.context,this.hue),super.updateTexture(),this}getColor(t,s){if(t===void 0)return this.colorObject.color;var l=eC(t,0,this.width),C=1-eC(s,0,this.height);return this.colorObject.setFromRGB(nY(this.hue,l,C)),this.colorObject.color}setColor(t){return this.color===t?this:(this.colorObject.setFromRGB(iC(t)),this.setHue(this.colorObject.h),this)}colorToLocalPosition(t,s){return s===void 0?s={}:s===!0&&(Nc===void 0&&(Nc={}),s=Nc),this.colorObject.setFromRGB(iC(t)),s.x=this.width*this.colorObject.s,s.y=this.height*(1-this.colorObject.v),s}}var Nc=void 0;class aY extends Oi{constructor(t,s){super(t,s);var l=new rY(t);t.add.existing(l),this.type="rexColorPicker.SVPalette",l.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var C=new Pn(t,{radius:5,strokeColor:16777215,strokeWidth:2});t.add.existing(C),this.add(l,{key:"paletteCanvas",expand:!0}).add(C,{key:"marker",expand:!1})}onPaletteCanvasPointerDown(t,s,l,C){if(t.isDown){var S=this.childrenMap.paletteCanvas,r=S.getColor(s,l);this.setMarkerPosition(r),this.emit("input",r)}}get color(){return this.childrenMap.paletteCanvas.color}setHue(t){var s=this.childrenMap.paletteCanvas;return s.setHue(t),this}setColor(t){if(this.color===t)return this;var s=this.childrenMap.paletteCanvas;return s.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var s=this.childrenMap.paletteCanvas,l=this.childrenMap.marker,C=s.colorToLocalPosition(t,!0);return DP(s,C.x,C.y,l),this.resetChildPositionState(l),this}}const Ni=Phaser.Utils.Objects.GetValue;class D0 extends Rt{constructor(t,s){super(t,s),this.type="rexColorPicker",this.freezePalettes=!1;var l=Ni(s,"hPalette.position",0);typeof l=="string"&&(l=oY[l]);var C=l===0||l===2?1:0;this.setOrientation(C);var S=Ni(s,"background",void 0),r,T;if(this.orientation===0){var r=Ni(s,"hPalette.width",void 0);r===void 0&&(r=Ni(s,"hPalette.size",10))}else T=Ni(s,"hPalette.height",void 0),T===void 0&&(T=Ni(s,"hPalette.size",10));var i=new iY(t,{width:r,height:T});t.add.existing(i);var d=Ni(s,"svPalette.width",void 0),x=Ni(s,"svPalette.height",void 0),f=new aY(t,{width:d,height:x});t.add.existing(f),S&&this.addBackground(S);var u={proportion:0,expand:!0},o,n;this.orientation===0?(o=d===void 0?1:0,n=x===void 0):(o=x===void 0?1:0,n=d===void 0);var h={proportion:o,expand:n};l===0||l===3?this.add(f,h).add(i,u):this.add(i,u).add(f,h),i.on("input",function(){f.setHue(i.getHue()),this.setValue(f.color,!0)},this),f.on("input",function(){this.setValue(f.color,!0)},this),this.addChildrenMap("background",S),this.addChildrenMap("hPalette",i),this.addChildrenMap("svPalette",f);var p=Ni(s,"valuechangeCallback",null);if(p!==null){var a=Ni(s,"valuechangeCallbackScope",void 0);this.on("valuechange",p,a)}this.setValue(Ni(s,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){var s=this._value;this._value=t,this.freezePalettes||this.updatePalettes(),this.emit("valuechange",t,s,this)}}setValue(t,s){return this.freezePalettes=!!s,this.value=t,this.freezePalettes=!1,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}updatePalettes(){return this.childrenMap.hPalette.setColor(this.color),this.childrenMap.svPalette.setColor(this.color),this}runLayout(t,s,l){return this.ignoreLayout?this:(super.runLayout(t,s,l),this.childrenMap.hPalette.setMarkerPosition(this.value),this.childrenMap.svPalette.setMarkerPosition(this.value),this)}}var oY={bottom:0,left:1,top:2,right:3};const rs=Phaser.Utils.Objects.GetValue,hY=Phaser.Display.Color,lY=Phaser.Display.Color.ColorToRGBA,uY=Phaser.Display.Color.HSVToRGB,Jn=Phaser.Math.Clamp;class I0 extends Rt{constructor(t,s){s===void 0&&(s={}),s.orientation=0,super(t,s),this.type="rexColorComponents",this.colorObject=new hY;var l=rs(s,"background",void 0),C=rs(s,"formatLabel",void 0);On(C)||(C=Ti(t,C).resetDisplayContent());var S=[];if(s.inputText0&&s.inputText1&&s.inputText2)S.push(s.inputText0),S.push(s.inputText1),S.push(s.inputText2);else for(var r=rs(s,"inputText"),T=0;T<3;T++){var i=Ah(t,r).setMaxLength(3).setNumberInput();S.push(i)}l&&this.addBackground(l);var x=rs(s,"proportion.formatLabel",0),d=!!C.isRexContainerLite,f=rs(s,"expand.formatLabel",d);this.add(C,{proportion:x,expand:f});for(var x=rs(r,"width")===void 0?1:0,f=rs(r,"height")===void 0,T=0,u=S.length;T<u;T++)this.add(S[T],{proportion:x,expand:f});this.addChildrenMap("background",l),this.addChildrenMap("formatLabel",C),this.addChildrenMap("components",S),this.onClick(C,this.toggleColorFormat,this);for(var T=0,u=S.length;T<u;T++)S[T].on("close",function(){this.updateColorObject(),this.setValue(this.colorObject.color)},this);var o=rs(s,"valuechangeCallback",null);if(o!==null){var n=rs(s,"valuechangeCallbackScope",void 0);this.on("valuechange",o,n)}C.setText("RGB"),this.setValue(rs(s,"value",16777215))}get value(){return this._value}set value(t){t=Jn(Math.floor(t),0,16777215),this._value!==t&&(this._value=t,this.colorObject.setFromRGB(lY(t)),this.updateComponents(),this.emit("valuechange",this._value))}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}get colorFormat(){return this.childrenMap.formatLabel.text}set colorFormat(t){this.colorFormat!==t&&(this.childrenMap.formatLabel.setText(t),this.updateComponents())}setColorFormat(t){return this.colorFormat=t,this}toggleColorFormat(){return this.colorFormat=this.colorFormat==="RGB"?"HSV":"RGB",this}updateComponents(){var t=this.childrenMap.components,s,l,C;return this.colorFormat==="RGB"?(s=this.colorObject.red,l=this.colorObject.green,C=this.colorObject.blue):(s=Math.floor(this.colorObject.h*360),l=Math.floor(this.colorObject.s*100),C=Math.floor(this.colorObject.v*100)),t[0].setValue(s),t[1].setValue(l),t[2].setValue(C),this}updateColorObject(){var t=this.childrenMap.components;if(this.colorFormat==="RGB"){var s=Jn(t[0].value,0,255),l=Jn(t[1].value,0,255),C=Jn(t[2].value,0,255);this.colorObject.setTo(s,l,C)}else{var S=Jn(t[0].value,0,359)/360,r=Jn(t[1].value,0,100)/100,T=Jn(t[2].value,0,100)/100;this.colorObject.setFromRGB(uY(S,r,T))}return this}}const zc=Phaser.Utils.Objects.GetValue;class dY extends Rt{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexColorInput.ColorPickerPanel";var l=zc(s,"background",void 0),C=new D0(t,{hPalette:s.hPalette||{},svPalette:s.svPalette||{},space:{item:zc(s,"space.hPalette",8)}});t.add.existing(C);var S;s.colorComponents&&(S=new I0(t,s.colorComponents),t.add.existing(S)),l&&(this.addBackground(l),new md(l,{stopAllLevels:!1})),this.add(C,{proportion:1,expand:!0}),S&&this.add(S,{proportion:0,expand:!0}),this.addChildrenMap("background",l),this.addChildrenMap("colorPicker",C),this.addChildrenMap("colorComponents",S),C.on("valuechange",function(r){this.setValue(r)},this),S&&S.on("valuechange",function(r){this.setValue(r)},this),this.setValue(zc(s,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){this._value=t;var s=this.childrenMap.colorPicker;s.setValue(t);var l=this.childrenMap.colorComponents;l&&l.setValue(t),this.emit("valuechange",t)}}setValue(t){return this.value=t,this}}Phaser.Utils.Objects.GetValue;var fY=function(t){var t=this.scene,s,l=this.colorPickerCreateBackgroundCallback;l&&(s=l.call(this,t),t.add.existing(s));var C=this.colorPickerWidth;C===void 0&&(C=this.width);var S=this.colorPickerHeight;S===void 0&&(S=C);var r;this.colorComponentsHeight>0?r={height:this.colorComponentsHeight,formatLabel:this.colorComponentsFormatLabelConfig,inputText:this.colorComponentsInputTextConfig,space:this.colorComponentsSpace}:r=!1;var T=new dY(t,{width:C,height:S,background:s,space:this.colorPickerSpace,hPalette:{position:this.colorPickerHPalettePosition},colorComponents:r,value:this.value});return t.add.existing(T),T},cY=function(){if(!this.colorPicker){var e=fY.call(this).layout(),t=new uP(e,{duration:{in:this.colorPickerEaseInDuration,out:this.colorPickerEaseOutDuration},transitIn:this.colorPickerTransitInCallback,transitOut:this.colorPickerTransitOutCallback,expandDirection:this.colorPickerExpandDirection,alignTargetX:this,alignTargetY:this,bounds:this.colorPickerBounds,touchOutsideClose:!0}).on("open",function(){e.on("valuechange",function(s){this.setValue(s)},this)},this).on("close",function(){this.colorPicker=void 0,this.dropDownBehavior=void 0},this);return this.colorPicker=e,this.dropDownBehavior=t,this.pin(e),this}},IP={openColorPicker:cY};Object.assign(IP,KX);const ye=Phaser.Utils.Objects.GetValue;let Wd=class extends F0{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexColorInput",s.hasOwnProperty("colorPicker")||(s.colorPicker={background:{color:0}});var l=s.colorPicker,C=l!==!1&&l!==null;if(C){this.setColorPickerSize(ye(l,"width",160),ye(l,"height",170));var S,r=ye(l,"background");r?S=function(o){return Ci(o,r)}:S=ye(l,"createBackgroundCallback"),this.setCreateColorPickerBackgroundCallback(S),this.setColorPickerHPalettePosition(ye(l,"hPalettePosition",0)),this.setColorPickerExpandDirection(ye(l,"expandDirection")),this.setColorPickerEaseInDuration(ye(l,"easeIn",200)),this.setColorPickerEaseOutDuration(ye(l,"easeOut",200)),this.setColorPickerTransitInCallback(ye(l,"transitIn")),this.setColorPickerTransitOutCallback(ye(l,"transitOut")),this.setColorPickerBounds(ye(l,"bounds"));var T=ye(l,"space");T===void 0&&(T={left:10,right:10,top:10,bottom:10,item:8}),this.setColorPickerSpace(T)}var i=s.colorComponents,d=i!==!1&&i!==null;if(C&&d){this.setColorComponentsHeight(ye(i,"height",30)),this.setColorComponentsFormatLabelConfig(ye(i,"formatLabel"));var x=ye(i,"inputText");x||(x=ye(s,"inputText")),this.setColorComponentsInputTextConfig(x);var f=ye(i,"space");f===void 0&&(f={item:8}),this.setColorComponentsSpace(f)}var u=this.childrenMap.swatch;u&&C&&this.onClick(u,this.openColorPicker,this)}};Object.assign(Wd.prototype,IP);st.register("colorInput",function(e){var t=new Wd(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ColorInput",Wd);st.register("colorInputLite",function(e){var t=new F0(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ColorInputBase",F0);st.register("colorPicker",function(e){var t=new D0(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ColorPicker",D0);st.register("colorComponents",function(e){var t=new I0(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.ColorComponents",I0);var vY=function(){return function(e,t,s,l){t!=="panel"&&s.setChildVisible(e,!0)}},pY=function(){return function(e,t,s,l){t!=="panel"&&s.setChildVisible(e,!1)}};const gY={show:vY,hide:pY};var mY=function(e,t){return t===void 0&&(t=1),function(s,l,C,S){l!=="panel"&&C.fadeChild(s,S?0:e,t)}},xY=function(e,t){return t===void 0&&(t=0),function(s,l,C,S){l!=="panel"&&C.fadeChild(s,S?0:e,t)}};const yY={show:mY,hide:xY};var sC=function(e,t){return function(s,l,C,S){l!=="panel"&&C.moveChild(s,S?0:e,t)}};const CY={show:sC,hide:sC};var nC=function(e,t){return function(s,l,C,S){l==="panel"&&C.moveChild(s,S?0:e,t)}};const TY={show:nC,hide:nC},kc={visible:gY,fade:yY,move:CY,"move-panel":TY};var SY=function(e){var t,s;[t,...s]=typeof e=="string"?[e]:e;var l,C;return kc.hasOwnProperty(t)?(l=kc[t].show.apply(null,s),C=kc[t].hide.apply(null,s)):(l=Fe,C=Fe),{show:l,hide:C}};const EY={showChild(e,t){var s=this.sizerChildren[e];return s&&(this.emit("showchild",s,e,this,t),this.resetChildState(s)),this},hideChild(e,t){var s=this.sizerChildren[e];return s&&(this.emit("hidechild",s,e,this,t),this.resetChildState(s)),this},swapChild(e,t){return this.currentChildKey===e||(this.currentChildKey==="panel"||e==="panel"?(this.previousChildKey=this.currentChildKey,this.currentChildKey=e,this.hideChild(this.previousChildKey,t),this.showChild(this.currentChildKey,t)):(this.swapChild("panel",t),this.swapChild(e,t))),this},showPanel(e){return this.swapChild("panel",e),this},showLeftSide(){return this.swapChild("leftSide"),this},showRightSide(){return this.swapChild("rightSide"),this},showTopSide(){return this.swapChild("topSide"),this},showBottomSide(){return this.swapChild("bottomSide"),this},hideLeftSide(){return this.currentChildKey=="leftSide"&&this.showPanel(),this},hideRightSide(){return this.currentChildKey=="rightSide"&&this.showPanel(),this},hideTopSide(){return this.currentChildKey=="topSide"&&this.showPanel(),this},hideBottomSide(){return this.currentChildKey=="bottomSide"&&this.showPanel(),this},toggleLeftSide(){var e=this.currentChildKey!=="panel"?"panel":"leftSide";return this.swapChild(e),this},toggleRightSide(){var e=this.currentChildKey!=="panel"?"panel":"rightSide";return this.swapChild(e),this},toggleTopSide(){var e=this.currentChildKey!=="panel"?"panel":"topSide";return this.swapChild(e),this},toggleBottomSide(){var e=this.currentChildKey!=="panel"?"panel":"bottomSide";return this.swapChild(e),this}},PY=di.prototype.setChildVisible,MY={setChildVisible(e,t){var s;if(typeof e=="string"){var s=e;e=this.sizerChildren[s]}else s=Ed(this.sizerChildren,e);return t===void 0&&(t=this.currentChildKey===s),PY.call(this,e,t),this}},wY={fadeChild(e,t,s){var l;return typeof e=="string"?(l=e,e=this.sizerChildren[l]):l=Ed(this.sizerChildren,e),t===void 0&&(t=500),s===void 0&&(s=this.currentChildKey===l?1:0),e.fadeIn(t,{start:e.alpha,end:s}),this},fadeChildPromise(e,t,s){return typeof e=="string"&&(e=this.sizerChildren[key]),this.fadeChild(e,t,s),e._fade?Se(e._fade):Promise.resolve()}},RY={moveChild(e,t,s,l){var C;typeof e=="string"?(C=e,e=this.sizerChildren[C]):C=Ed(this.sizerChildren,e),t===void 0&&(t=500);var S=this.currentChildKey===C;if(l===void 0)switch(C){case"leftSide":case"rightSide":l=Bt(e);break;case"topSide":case"bottomSide":l=Ot(e);break;default:if(S)switch(this.previousChildKey){case"leftSide":case"rightSide":l=Bt(this.sizerChildren[this.previousChildKey]);break;case"topSide":case"bottomSide":l=Ot(this.sizerChildren[this.previousChildKey]);break;default:l=0;break}else switch(this.currentChildKey){case"leftSide":case"rightSide":l=Bt(this.sizerChildren[this.currentChildKey]);break;case"topSide":case"bottomSide":l=Ot(this.sizerChildren[this.currentChildKey]);break;default:l=0;break}break}var r,T,i,d;if(S)switch(C){case"panel":switch(this.previousChildKey){case"leftSide":r=!0;break;case"rightSide":T=!0;break;case"topSide":i=!0;break;case"bottomSide":d=!0;break}break;case"leftSide":T=!0;break;case"rightSide":r=!0;break;case"topSide":d=!0;break;case"bottomSide":i=!0;break}else switch(C){case"panel":switch(this.currentChildKey){case"leftSide":T=!0;break;case"rightSide":r=!0;break;case"topSide":d=!0;break;case"bottomSide":i=!0;break}break;case"leftSide":r=!0;break;case"rightSide":T=!0;break;case"topSide":i=!0;break;case"bottomSide":d=!0;break}return r?e.moveTo(t,`-=${l}`,void 0,s):T?e.moveTo(t,`+=${l}`,void 0,s):i?e.moveTo(t,void 0,`-=${l}`,s):d?e.moveTo(t,void 0,`+=${l}`,s):e.moveTo(0),this},moveChildPromise(e,t,s,l){return typeof e=="string"&&(e=this.sizerChildren[key]),this.moveChild(e,t,s,l),e._easeMove?Se(e._easeMove):Promise.resolve()}};var BP={};Object.assign(BP,MY,wY,RY);const We=Phaser.Utils.Objects.GetValue;class B0 extends Oi{constructor(t,s){super(t,s),this.type="rexSides",this.childrenMap=this.sizerChildren,this.previousChildKey=void 0,this.currentChildKey=void 0;var l=We(s,"showChildCallback",void 0);if(l)if(Cn(l)){var C=We(s,"showChildCallbackScope",void 0);this.on("showchild",l,C);var S=We(s,"hideChildCallback",void 0),r=We(s,"hideChildCallbackScope",void 0);this.on("hidechild",S,r)}else{var T=SY(l);this.on("showchild",T.show),this.on("hidechild",T.hide)}var i=We(s,"background",void 0),d=We(s,"panel",void 0),x=We(s,"leftSide",void 0),f=We(s,"rightSide",void 0),u=We(s,"topSide",void 0),o=We(s,"bottomSide",void 0);if(i&&this.addBackground(i),d&&this.add(d,"panel","center",0,!0),x){var n=We(s,"expand.left",!0);this.add(x,"leftSide","left-top",0,{height:n})}if(f){var n=We(s,"expand.right",!0);this.add(f,"rightSide","right-top",0,{height:n})}if(u){var n=We(s,"expand.top",!0);this.add(u,"topSide","left-top",0,{width:n})}if(o){var n=We(s,"expand.bottom",!0);this.add(o,"bottomSide","left-bottom",0,{width:n})}}reset(){return this.previousChildKey=void 0,this.currentChildKey="panel",this.showChild("panel",!0),this.hideChild("leftSide",!0),this.hideChild("rightSide",!0),this.hideChild("topSide",!0),this.hideChild("bottomSide",!0),this}}Object.assign(B0.prototype,EY,BP);st.register("sides",function(e){var t=new B0(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Sides",B0);class bP extends Pr{constructor(t,s){s=f0(t,s),super(t,s),this.type="rexTweaker.Title"}setTitle(t){return t=t?wi(t):{},t.hasOwnProperty("text")||(t.hasOwnProperty("title")?t.text=t.title:t.text=""),this.resetDisplayContent(t),this}}class OY extends bP{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexTweaker.FolderTitle";var l=new fd(t,s.expandedIcon);t.add.existing(l),this.addSpace().add(l,{proportion:0,expand:!1,padding:1,fitRatio:1}),this.addChildrenMap("expandedIcon",l)}setExpandedState(t){t===void 0&&(t=!0);var s=t?"down":"right",l=this.childrenMap.expandedIcon;return l.setDirection(s),this}}var GP=function(e,t){var s=new N0(e,t);return e.add.existing(s),s},b0=function(e,t,s){return Ci(e,s)};const AY={setBindingTarget(e){var t=this.childrenMap.child;return t.setBindingTarget(e),this}},LY={getMaxInputRowTitleWidth(){var e=this.childrenMap.child,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.child;return t.setInputRowTitleWidth(e),this}};class NP extends Yd{constructor(t,s){super(t,s),this.type="rexTweaker.Folder"}setTitle(t){var s=this.childrenMap.title;return s.setTitle(t),this}}Object.assign(NP.prototype,AY,LY);const Jr=Phaser.Utils.Objects.GetValue;var FY=function(e,t,s){var l=Jr(s,"title")||{},C=new OY(e,l);e.add.existing(C),C.on("folder.expand",function(){C.setExpandedState(!0)}).on("folder.collapse",function(){C.setExpandedState(!1)});var S={root:Jr(s,"root"),styles:Jr(s,"tweaker"),space:Jr(s,"space")||{}},r=GP(e,S),T=Jr(s,"background"),i=b0(e,t,T),d=new NP(e,{orientation:1,title:C,child:r,background:i,transition:{duration:Jr(s,"transition.duration",200)}});return e.add.existing(d),d};const rC=Phaser.Utils.Objects.GetValue;var DY=function(e){var t=this.scene,s=rC(this.styles,"folder")||{};s.tweaker=this.styles,s.root=this.root;var l=FY(t,e,s);delete s.tweaker,delete s.root,this.add(l,{expand:!0}),l.setTitle(e);var C=rC(e,"expanded",!0);C?l.expand(0):l.collapse(0);var S=l.getElement("child");return e.key&&this.root.addChildrenMap(e.key,S),S};const IY={setBindingTarget(e){for(var t=this.childrenMap.pages.children,s=0,l=t.length;s<l;s++)t[s].setBindingTarget(e);return this}},BY={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.pages.children,s=0,l=t.length;s<l;s++)e=Math.max(e,t[s].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.pages.children,s=0,l=t.length;s<l;s++)t[s].setInputRowTitleWidth(e);return this}};class zP extends Xd{constructor(t,s){super(t,s),this.type="rexTweaker.TabPages"}}Object.assign(zP.prototype,IY,BY);const bl=Phaser.Utils.Objects.GetValue;var bY=function(e,t,s){var l=new zP(e,s);e.add.existing(l);for(var C=bl(s,"tab"),S={root:bl(s,"root"),styles:bl(s,"tweaker")},r=bl(t,"pages")||[],T=0,i=r.length;T<i;T++){var d=r[T];l.addPage({key:d.title,tab:Ti(e,C).setActiveState(!1).resetDisplayContent({text:d.title}),page:GP(e,S)})}return l.on("tab.focus",function(x,f){x.setActiveState(!0)}).on("tab.blur",function(x,f){x.setActiveState(!1)}),l};const aC=Phaser.Utils.Objects.GetValue;var GY=function(e){var t=this.scene,s=aC(this.styles,"tab")||{};s.tweaker=this.styles,s.root=this.root;var l=bY(t,e,s);delete s.tweaker,delete s.root,this.add(l,{expand:!0});for(var C=aC(e,"pages")||[],S=[],r=0,T=0,i=C.length;T<i;T++){var d=l.getPage(T),x=C[T].show;x&&(r=T);var f=C[T].key;f&&this.root.addChildrenMap(f,d),S.push(d)}return l.swapPage(r,0),S};const nu="string",kP="number",VP="range",UP="list",NY="buttons",XP="boolean",zY="toggleSwitch",kY="color";var VY=function(e,t,s){if(s.view)return s.view;if(s.options)return UP;if(!e)return nu;var l=e[t];switch(typeof l){case"number":return UY(s,"min","max")?VP:kP;case"string":return nu;case"boolean":return XP;default:return nu}},UY=function(e,...t){for(var s=0,l=t.length;s<l;s++)if(e[t[s]]===void 0)return!1;return!0};const XY={setupBinding(){var e=this.childrenMap.inputField;return e.on("valuechange",function(t){!this.bindingTarget||!this.autoUpdateEnable||(this.bindingTarget[this.bindTargetKey]=t)},this),this},setAutoUpdateEnable(e){return e===void 0&&(e=!0),this.autoUpdateEnable=e,this},setBindingTarget(e,t){return this.bindingTarget=e,t!==void 0&&this.setBindingTargetKey(t),this.syncTargetValue(),this},setBindingTargetKey(e){return this.bindTargetKey=e,this},syncTargetValue(){if(!this.bindingTarget||!this.bindTargetKey)return this;var e=this.childrenMap.inputField;return e.syncValue(this.bindingTarget[this.bindTargetKey]),this}},YY={startMonitorTarget(){return this.isMonitoring?this:(this.isMonitoring=!0,this.scene.events.on("postupdate",this.onMonitorTarget,this),this)},stopMonitorTarget(){return this.isMonitoring?(this.isMonitoring=!1,this.scene.events.off("postupdate",this.onMonitorTarget,this),this):this},onMonitorTarget(){if(this.bindingTarget){var e=this.bindingTarget[this.bindTargetKey],t=this.childrenMap.inputField;t.value!==e&&t.syncValue(e)}}},WY={getMinTitleWidth(){var e=this.childrenMap.title;if(!e)return 0;var t=e.rexSizer.padding,s=this.getChildWidth(this.childrenMap.title)+t.left+t.right;return s+this.getInnerPadding("left")},setMinTitleWidth(e){var t=this.childrenMap.title;if(!t)return this;var s=t.rexSizer.padding;return e-=s.left+s.right,t.minWidth=e,this}},Vc=Phaser.Utils.Objects.GetValue;class G0 extends Rt{constructor(t,s){super(t,s),this.type="rexTweaker.InputRow",this.bindingTarget=void 0,this.bindTargetKey=void 0,this.autoUpdateEnable=!0;var l=s.inputTitle,C=s.inputField,S=s.background,d=Vc(s,"proportion.title",0),r=Vc(s,"space.title",0),T;this.orientation===0?T={right:r}:T={bottom:r},this.add(l,{proportion:d,expand:!0,padding:T});var i=s.parentOrientation===1?1:0,d=Vc(s,"proportion.inputField",i);this.add(C,{proportion:d,expand:!0}),S&&this.addBackground(S),this.addChildrenMap("title",l),this.addChildrenMap("inputField",C),this.addChildrenMap("background",S),this.setupBinding()}destroy(t){!this.scene||this.ignoreDestroy||(this.stopMonitorTarget(),super.destroy(t))}setTitle(t){var s=this.childrenMap.title;return s.setTitle(t),this}preLayout(){var t=this.childrenMap.title;t&&(t.minWidth=0),super.preLayout()}}Object.assign(G0.prototype,XY,YY,WY);var YP=function(e,t,s){var l=new bP(e,s);return e.add.existing(l),l};class Fn extends Rt{get bindingTarget(){return this.getParentSizer().bindingTarget}get bindingKey(){return this.getParentSizer().bindTargetKey}get value(){return this._value}validate(t){return this.syncValueFlag||!this.validateCallback?!0:this.validateCallback(t,this._value,this.bindingTarget,this.bindingKey)}set value(t){if(this._value!==t){var s=this._value;this._value=t,this.syncValueFlag||this.emit("valuechange",t,s,this.bindingTarget,this.bindingKey)}}getValue(){return this.value}setValue(t){return this.value=t,this}syncValue(t){return this.syncValueFlag=!0,this.value=t,this.syncValueFlag=!1,this}get readOnly(){return this._readOnly}set readOnly(t){this._readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,!0}setTextFormatCallback(t){return this.textFormatCallback=t,this}setValidateCallback(t){return this.validateCallback=t,this}}class HY extends Fn{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.TextInput";var l=s.inputText,C=Ah(t,l);this.add(C,{proportion:1,expand:!0}),this.addChildrenMap("inputText",C),C.on("close",function(){this.setValue(C.value)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var s=this.textFormatCallback?this.textFormatCallback(t):t;this.childrenMap.inputText.setText(s),super.value=t}}setInputTextReadOnly(t){return t===void 0&&(t=!0),this.childrenMap.inputText.setReadOnly(t),this}}var oC=function(e,t,s){var l=new HY(e,s);return e.add.existing(l),l.setInputTextReadOnly(!!t.inputTextReadOnly),l};class $Y extends Fn{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.NumberInput";var l=s.inputNumber||s.inputText,C=Ah(t,l).setNumberInput();this.add(C,{proportion:1,expand:!0}),this.addChildrenMap("inputText",C),C.on("close",function(){this.setValue(C.value)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var s=this.textFormatCallback?this.textFormatCallback(t):t;this.childrenMap.inputText.setText(s),super.value=t}}setInputTextReadOnly(t){return t===void 0&&(t=!0),this.childrenMap.inputText.setReadOnly(t),this}}var KY=function(e,t,s){var l=new $Y(e,s);return e.add.existing(l),l.setInputTextReadOnly(!!t.inputTextReadOnly),l},jY=function(e,t){var s=new Ua(e,t);return e.add.existing(s),s};const Uc=Phaser.Utils.Objects.GetValue,ZY=Phaser.Math.Linear,JY=Phaser.Math.Snap.Floor;class QY extends Fn{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.RangeInput";var l=s.slider,C=this.orientation===0?"track.height":"track.width",S=Uc(l,C),r=jY(t,l),x=s.parentOrientation===1?2:0,f=Uc(s,"proportion.range.slider",x),T=S===void 0;this.add(r,{proportion:f,expand:T});var i=s.inputNumber||s.inputText,d=Ah(t,i).setNumberInput(),x=s.parentOrientation===1?1:0,f=Uc(s,"proportion.range.inputText",x);this.add(d,{proportion:f,expand:!0}),this.addChildrenMap("slider",r),this.addChildrenMap("inputText",d),d.on("close",function(){this.setValue(d.value)},this),r.on("valuechange",function(){var u=ZY(this.minValue,this.maxValue,r.value);this.step&&(u=JY(u,this.step,this.minValue)),this.setValue(u)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var s=this.textFormatCallback?this.textFormatCallback(t):t;this.childrenMap.inputText.setText("").setText(s),this.childrenMap.slider.setValue(t,this.minValue,this.maxValue),super.value=t}}setRange(t,s,l){return this.minValue=t,this.maxValue=s,this.step=l,this.childrenMap.slider.setGap(l,t,s),this}setInputTextReadOnly(t){return t===void 0&&(t=!0),this.childrenMap.inputText.setReadOnly(t),this}}var qY=function(e,t,s){var l=new QY(e,s);return e.add.existing(l),l.setRange(t.min,t.max,t.step),l.setInputTextReadOnly(!!t.inputTextReadOnly),l},_Y=function(e,t){t=fP(e,t);var s=new Oh(e,t);return e.add.existing(s),s},WP=function(e,t){for(var s=0,l=e.length;s<l;s++){var C=e[s];if(C.value===t)return s}},tW=function(e,t){var s=WP(e,t);if(s!=null)return e[s].text};class eW extends Fn{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.ListInput";var l=_Y(t,s.list);this.add(l,{proportion:1,expand:!0}),this.addChildrenMap("list",l),l.on("button.click",function(C,S,r,T,i,d){this.setValue(r.value)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var s=this.childrenMap.list,l=tW(s.options,t);s.resetDisplayContent({text:l}),super.value=t}}setOptions(t){return this.childrenMap.list.setOptions(t),this}}var iW=function(e,t,s){var l=new eW(e,s);return e.add.existing(l),l.setOptions(t.options),l},HP=function(e,t){var s=new Te(e,t);return e.add.existing(s),s},sW=function(e,t){for(var s=0,l=e.length;s<l;s++){var C=e[s];C&&C.setActiveState(s===t)}};const nW=Phaser.Utils.Objects.GetValue;class rW extends Fn{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.ButtonsInput";var l=s.button?wi(s.button):{},C=nW(l,"expand",!0);C&&(l.align="center"),delete l.expand;var S=HP(t,{expand:C});S.buttonConfig=l,this.add(S,{proportion:1,expand:!0}),this.addChildrenMap("list",S),S.on("button.click",function(r,T,i,d){var x=S.options[T];x&&(this._selectedIndex=T,this.setValue(x.value),this._selectedIndex=void 0)},this)}get value(){return this._value}set value(t){if(this._value!==t){this.validate(t)||(t=this._value);var s=this.childrenMap.list,l=this._selectedIndex;l===void 0&&(l=WP(s.options,t)),sW(s.childrenMap.buttons,l),super.value=t}}setOptions(t){var s=this.childrenMap.list;s.options=t;var l=this.scene,C=s.buttonConfig;s.clearButtons(!0);for(var S=0,r=t.length;S<r;S++){var T=t[S],i=Ti(l,C).setActiveState(!1).resetDisplayContent({text:T.text});s.addButton(i)}return this}}var aW=function(e,t,s){var l=new rW(e,s);return e.add.existing(l),l.setOptions(t.options),l},oW=function(e,t){var s=new Pg(e,t);return e.add.existing(s),s};const hW=Phaser.Utils.Objects.GetValue;class lW extends Fn{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.CheckboxInput";var l=s.checkbox,C=oW(t,l),S=hW(l,"size");S!==void 0&&C.setSize(S,S);var r=S!==void 0?0:1;this.add(C,{proportion:0,expand:!1,fitRatio:r}),this.addChildrenMap("checkbox",C),C.on("valuechange",function(T){this.setValue(T)},this)}get value(){return this._value}set value(t){this._value!==t&&(this.validate(t)||(t=this._value),this.childrenMap.checkbox.setValue(t),super.value=t)}}var uW=function(e,t,s){var l=new lW(e,s);return e.add.existing(l),l},dW=function(e,t){var s=new Mg(e,t);return e.add.existing(s),s};const fW=Phaser.Utils.Objects.GetValue;class cW extends Fn{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.ToggleSwitchInput";var l=s.toggleSwitch,C=dW(t,l),S=fW(l,"size");S!==void 0&&C.setSize(S,S);var r=S!==void 0?0:1;this.addSpace().add(C,{proportion:0,expand:!1,fitRatio:r}),this.addChildrenMap("toggleSwitch",C),C.on("valuechange",function(T){this.setValue(T)},this)}get value(){return this._value}set value(t){this._value!==t&&(this.validate(t)||(t=this._value),this.childrenMap.toggleSwitch.setValue(t),super.value=t)}}var vW=function(e,t,s){var l=new cW(e,s);return e.add.existing(l),l},pW=function(e,t,s){s===void 0&&(s=!0),s?t=t?wi(t):{}:t||(t={});var l=new Wd(e,t);return e.add.existing(l),l};class gW extends Fn{constructor(t,s){s===void 0&&(s={}),super(t),this.type="rexTweaker.ColorInput";var l=s.colorInput,C=pW(t,l);this.add(C,{proportion:1,expand:!0}),this.addChildrenMap("colorInput",C),C.on("valuechange",function(S){this.setValue(S)},this)}get value(){return this._value}set value(t){this._value!==t&&(this.validate(t)||(t=this._value),this.childrenMap.colorInput.setValue(t),super.value=t)}}var mW=function(e,t,s){var l=new gW(e,s);return e.add.existing(l),l},xW=function(e,t,s){var l=t.view,C;switch(l){case nu:C=oC;break;case kP:C=KY;break;case VP:C=qY;break;case UP:C=iW;break;case NY:C=aW;break;case XP:C=uW;break;case zY:C=vW;break;case kY:C=mW;break;default:C=Cn(l)?l:oC;break}var S=C(e,t,s,S);return S.setTextFormatCallback(t.format),S};const hC=Phaser.Utils.Objects.GetValue;var yW=function(e,t,s){var l=hC(s,"title")||{},C=YP(e,t,l),S=xW(e,t,s),r=hC(s,"background")||{},T=Ci(e,r),i=new G0(e,{...t,...s,inputTitle:C,inputField:S,background:T});return e.add.existing(i),i.setTitle(t),i};Phaser.Utils.Objects.GetValue;var CW=function(e,t,s){arguments.length===1?(s=e,e=s.bindingTarget,t=s.bindingKey):s===void 0&&(s={}),s.title||(s.title=t),s.view||(s.view=VY(e,t,s));var l=this.styles.inputRow||{};l.parentOrientation=this.styles.orientation;var C=yW(this.scene,s,l),S=C.childrenMap.inputField,r;return this.orientation===1?r=0:(r=this.itemWidth>0?0:1,C.setMinWidth(this.itemWidth)),this.add(C,{proportion:r,expand:!0}),s.onValueChange&&S.on("valuechange",s.onValueChange),s.onValidate&&S.setValidateCallback(s.onValidate),C.setAutoUpdateEnable(s.autoUpdate),C.setBindingTarget(e,t),s.monitor&&C.startMonitorTarget(),s.key&&this.root.addChildrenMap(s.key,C),this},TW=function(e,t){var s=new Pn(e,t);return e.add.existing(s),s};const Xc=Phaser.Utils.Objects.GetValue;var SW=function(e,t,s){for(var l=Xc(s,"title")||{},C=YP(e,t,l),S=t.buttons,r=Xc(s,"button")||{},T=[],i=0,d=S.length;i<d;i++){var x=Ti(e,r);T.push(x);var f=S[i];x.resetDisplayContent({text:f.label}),x.callback=f.callback}var u=HP(e,{buttons:T,expand:T.length===1}),o=Xc(s,"background")||{},n=TW(e,o),h=new G0(e,{...s,inputTitle:C,inputField:u,background:n});return e.add.existing(h),h.setTitle(t),u.on("button.click",function(p){p.callback(h.bindingTarget)}),h};const EW=Phaser.Utils.Objects.GetValue;var lC=function(e){var t=this.scene;e===void 0&&(e={}),e.hasOwnProperty("label")&&(e.buttons=[{label:e.label,callback:e.callback}],delete e.label,delete e.callback);var s=e.bindingTarget;delete e.bindingTarget;var l=EW(this.styles,"inputRow")||{},C=SW(t,e,l);return this.add(C,{expand:!0}),s&&C.setBindingTarget(s),e.key&&this.root.addChildrenMap(e.key,C),this};const PW=Phaser.Utils.Objects.GetValue;var MW=function(e){var t=this.scene,s=PW(this.styles,"separator"),l=b0(t,e,s);return this.add(l,{expand:!0}),this},wW=function(e){for(var t=this.sizerChildren,s=0,l=t.length;s<l;s++){var C=t[s];C.setBindingTarget&&C.setBindingTarget(e)}return this},RW=function(){for(var e=0,t=this.sizerChildren,s=0,l=t.length;s<l;s++){var C=t[s];C.rexSizer.hidden||(C.getMinTitleWidth?e=Math.max(e,C.getMinTitleWidth()):C.getMaxInputRowTitleWidth&&(e=Math.max(e,C.getMaxInputRowTitleWidth())))}return e+this.getInnerPadding("left")},OW=function(e){e-=this.getInnerPadding("left");for(var t=this.sizerChildren,s=0,l=t.length;s<l;s++){var C=t[s];C.rexSizer.hidden||(C.setMinTitleWidth?C.setMinTitleWidth(e):C.setInputRowTitleWidth&&C.setInputRowTitleWidth(e))}return this},AW={addFolder:DY,addTab:GY,addInput:CW,addButton:lC,addButtons:lC,addSeparator:MW,setBindingTarget:wW,getMaxInputRowTitleWidth:RW,setInputRowTitleWidth:OW};const Gl=Phaser.Utils.Objects.GetValue;class N0 extends Rt{constructor(t,s){if(s===void 0&&(s={}),s.orientation===void 0&&(s.orientation=1),super(t,s),this.type="rexTweakerShell",this.root=s.root||this,this.styles=Gl(s,"styles")||{},this.styles.orientation=this.orientation,this.itemWidth=Gl(this.styles,"itemWidth",0),this.root===this&&this.orientation===1){var l=Gl(s,"inputRow.alignTitle");if(l===void 0){var C=Gl(this.styles,"inputRow.proportion.title");l=!C}else l&&it(this.styles,"inputRow.proportion.title",0);this.alignInputRowTitle=l}else this.alignInputRowTitle=!1;var S=b0(t,void 0,s.background);S&&this.addBackground(S)}preLayout(){super.preLayout(),this.alignInputRowTitle&&this.setInputRowTitleWidth(this.getMaxInputRowTitleWidth())}}Object.assign(N0.prototype,AW);class $P extends N0{constructor(t,s){s===void 0&&(s={}),s.styles===void 0&&(s.styles={}),s.background=s.styles.background||{},s.space=s.styles.space||{},super(t,s),this.type="rexTweaker"}}st.register("tweaker",function(e){var t=new $P(this.scene,e);return this.scene.add.existing(t),t});it(window,"RexPlugins.UI.Tweaker",$P);st.register("click",function(e,t){return new Rn(e,t)});it(window,"RexPlugins.UI.Click",Rn);st.register("clickOutside",function(e,t){return new qg(e,t)});it(window,"RexPlugins.UI.ClickOutside",qg);st.register("inTouching",function(e,t){return new Da(e,t)});it(window,"RexPlugins.UI.InTouching",Da);st.register("tap",function(e,t){return On(e)||(t=e,e=this.scene),new Cd(e,t)});it(window,"RexPlugins.UI.Tap",Cd);st.register("press",function(e,t){return On(e)||(t=e,e=this.scene),new Td(e,t)});it(window,"RexPlugins.UI.Press",Td);st.register("swipe",function(e,t){return On(e)||(t=e,e=this.scene),new Mh(e,t)});it(window,"RexPlugins.UI.Swipe",Mh);st.register("pan",function(e,t){return On(e)||(t=e,e=this.scene),new y2(e,t)});it(window,"RexPlugins.UI.Pan",y2);var KP=function(e){for(var t=e.scene.input,s=t.manager,l=s.pointersTotal,C=s.pointers,S,r=0;r<l;r++)if(S=C[r],!(!S.primaryDown||t.getDragState(S)!==0||!yg(e,S)))return t.setDragState(S,1),t._drag[S.id]=[e],t.dragDistanceThreshold===0||t.dragTimeThreshold===0?(t.setDragState(S,3),t.processDragStartList(S)):t.setDragState(S,2),!0;return!1};const Nl=Phaser.Utils.Objects.GetValue,uC=Phaser.Math.Distance.Between,dC=Phaser.Math.RotateAroundDistance;class jP extends ge{constructor(t,s){super(t,{eventEmitter:!1}),this._enable=void 0,t.setInteractive(Nl(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.setEnable(Nl(t,"enable",!0)),this.setAxisMode(Nl(t,"axis",0)),this.setAxisRotation(Nl(t,"rotation",0)),this}toJSON(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}boot(){var t=this.parent;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this)}shutdown(t){this.isShutdown||(this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragend(),this._enable=t,this.scene.input.setDraggable(this.parent,t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setAxisMode(t){return typeof t=="string"&&(t=LW[t]),this.axisMode=t,this}setAxisRotation(t){return this.axisRotation=t,this}drag(){return KP(this.parent),this}dragend(){if(this.isDragging)return this.scene.input.setDragState(this.pointer,5),this}onDragStart(t,s,l){this.isDragging||(this.pointer=t)}onDrag(t,s,l){if(this.pointer===t){var C=this.parent;if(this.axisMode===0)C.x=s,C.y=l;else if(this.axisRotation===0)this.axisMode===1?C.x=s:this.axisMode===2&&(C.y=l);else{var S,r={x:s,y:l};S=uC(r.x,r.y,C.x,C.y),r=dC(r,C.x,C.y,-this.axisRotation,S),this.axisMode===1?r.y=C.y:this.axisMode===2&&(r.x=C.x),S=uC(r.x,r.y,C.x,C.y),r=dC(r,C.x,C.y,this.axisRotation,S),C.x=r.x,C.y=r.y}}}onDragEnd(t,s,l,C){this.pointer===t&&(this.pointer=void 0)}get isDragging(){return this.pointer!==void 0}}const LW={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2};st.register("drag",function(e,t){return new jP(e,t)});it(window,"RexPlugins.UI.Drag",jP);st.register("pinch",function(e){return new C2(this.scene,e)});it(window,"RexPlugins.UI.Pinch",C2);st.register("rotate",function(e){return new t0(this.scene,e)});it(window,"RexPlugins.UI.Rotate",t0);const FW=Phaser.Utils.Objects.IsPlainObject,fC=Phaser.Utils.Objects.GetValue;var cC=function(e,t,s){var l;if(e===void 0)e=s.texture.key,t=s.frame.name;else if(FW(e)){var C=e;e=fC(C,"key",s.texture.key),t=fC(C,"frame",s.frame.name)}else typeof e=="string"||(l=e);return l===void 0&&(l=function(S){S.setTexture(e,t)}),l};const Eo=Phaser.Utils.Objects.GetValue,DW=Phaser.Utils.Objects.GetAdvancedValue,IW=Phaser.Math.Linear;class ZP extends xr{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setDuration(DW(t,"duration",500)),this.setEase(Eo(t,"ease","Sine")),this.setOrientation(Eo(t,"orientation",0)),this.setFrontFace(Eo(t,"front",void 0)),this.setBackFace(Eo(t,"back",void 0)),this.setFace(Eo(t,"face",0)),this}setOrientation(t){return typeof t=="string"&&(t=BW[t]),this.orientation=t,this}get face(){return this._face}set face(t){typeof t=="string"&&(t=bW[t]),this._face=t,t===0&&this.frontFaceCallback?this.frontFaceCallback(this.parent):t===1&&this.backFaceCallback&&this.backFaceCallback(this.parent)}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}setFrontFace(t,s){return this.frontFaceCallback=cC(t,s,this.parent),this}setBackFace(t,s){return this.backFaceCallback=cC(t,s,this.parent),this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.orientation===0?this.scale0=t.scaleX:this.scale0=t.scaleY,this.timer.setDelay(this.delay).setDuration(this.duration/2).setRepeat(1),super.start(),this}flip(t){return this.isRunning?this:(t!==void 0&&this.setDuration(t),this.start(),this)}updateGameObject(t,s){s.justRestart&&this.toggleFace();var l=s.t;s.isOddIteration&&(l=1-l),l=this.easeFn(l);var C=IW(this.scale0,0,l);this.orientation===0?t.scaleX=C:t.scaleY=C}}const BW={x:0,horizontal:0,y:1,vertical:1},bW={front:0,back:1};st.register("flip",function(e,t){return new ZP(e,t)});it(window,"RexPlugins.UI.Flip",ZP);st.register("shake",function(e,t){return new $g(e,t)});it(window,"RexPlugins.UI.Shake",$g);st.register("touchEventStop",function(e,t){return new md(e,t)});it(window,"RexPlugins.UI.TouchEventStop",md);st.register("perspective",function(e,t){return new wP(e,t)});it(window,"RexPlugins.UI.Perspective",wP);const JP=Phaser.Math.RotateAround;var Yc=function(e,t,s){var l=e.width/2,C=e.height/2;return Ae.x=t-l,Ae.y=s-C,JP(Ae,0,0,e.rotation),Ae.x*=e.scaleX,Ae.y*=e.scaleY,Ae.x+=e.x,Ae.y+=e.y,Ae},GW=function(e,t,s){var l=e.width/2,C=e.height/2;return Ae.x=t-e.x,Ae.y=s-e.y,Ae.x/=e.scaleX,Ae.y/=e.scaleY,JP(Ae,0,0,-e.rotation),Ae.x+=l,Ae.y+=C,Ae},Ae={x:0,y:0};class NW{constructor(t,s){this.parent=t,this.vertex=s,this._localX=void 0,this._localY=void 0}destroy(){this.parent=void 0,this.vertex=void 0}updateVertexPosition(t,s){var l=this.parent,C=l.height,S=l.frame.cutWidth/C/2,r=l.frame.cutHeight/C/2,T=t/C-S,i=s/C-r,d=this.vertex;return d.x=T,d.y=-i,l.forceUpdate(),this}get localX(){return this._localX}set localX(t){this.setLocalXY(t,this._localY)}get localY(){return this._localY}set localY(t){this.setLocalXY(this._localX,t)}get localXOrigin(){return this._localXOrigin}get localYOrigin(){return this._localYOrigin}resetLocalXY(t,s){return this._localXOrigin=t,this._localYOrigin=s,this._localX=t,this._localY=s,this}setLocalXY(t,s,l){return this._localX===t&&this._localY===s?this:(this._localX=t,this._localY=s,l||this.updateVertexPosition(t,s),this)}setWorldXY(t,s){if(this._worldX===t&&this._worldY===s)return this;var l=GW(this.parent,t,s);return this.setLocalXY(l.x,l.y),this}setPosition(t,s){return this.setWorldXY(t,s),this}getWorldXY(){return Yc(this.parent,this._localX,this._localY)}get x(){var t=Yc(this.parent,this._localX,this._localY);return t.x}set x(t){this.setWorldXY(t,this.y)}get y(){var t=Yc(this.parent,this._localX,this._localY);return t.y}set y(t){this.setWorldXY(this.x,t)}}const zW=Phaser.Geom.Mesh.Vertex,kW=Phaser.Geom.Mesh.Face;var VW=function(e){for(var t=e.isNinePointMode,s=t?9:4,l=e.vertices,C=e.faces,S=e.controlPoints,r=0;r<s;r++){var T=new zW;l.push(T),S.push(new NW(e,T))}var i;t?i=YW:e.fourPointsModeRTL?i=XW:i=UW;for(var r=0,d=i.length;r<d;r+=3){var x=l[i[r+0]],f=l[i[r+1]],u=l[i[r+2]];C.push(new kW(x,f,u))}t?(e.topLeft=S[0],e.topCenter=S[1],e.topRight=S[2],e.centerLeft=S[3],e.center=S[4],e.centerRight=S[5],e.bottomLeft=S[6],e.bottomCenter=S[7],e.bottomRight=S[8]):(e.topLeft=S[0],e.topRight=S[1],e.bottomLeft=S[2],e.bottomRight=S[3])};const UW=[0,2,3,0,3,1],XW=[1,3,2,1,2,0],YW=[0,3,4,0,4,1,1,4,2,4,5,2,3,6,4,6,7,4,4,7,8,4,8,5];var WW=function(e){var t,s=0,l=e.height,C=0,S=e.width;if(e.isNinePointMode){var r=(C+S)/2,T=(s+l)/2;t=[C,s,r,s,S,s,C,T,r,T,S,T,C,l,r,l,S,l]}else t=[C,s,S,s,C,l,S,l];return t};const HW=Phaser.GameObjects.Mesh,$W=Phaser.Utils.Objects.IsPlainObject,Qr=Phaser.Utils.Objects.GetValue;let KW=class extends HW{constructor(t,s,l,C,S,r){$W(s)&&(r=s,s=Qr(r,"x",0),l=Qr(r,"y",0),C=Qr(r,"key",null),S=Qr(r,"frame",null)),super(t,s,l,C,S),this.type="rexQuadImage",this.isNinePointMode=Qr(r,"ninePointMode",!1),this.fourPointsModeRTL=Qr(r,"rtl",!1),this.controlPoints=[],VW(this),this.hideCCW=!1,this.syncSize()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){super.destroy(t);for(var s=0,l=this.controlPoints.length;s<l;s++)this.controlPoints[s].destroy();this.controlPoints=void 0}}resetVerts(){this.dirtyCache[9]=-1;for(var t=WW(this),s=this.width,l=this.height,C=this.frame.cutWidth/l/2,S=this.frame.cutHeight/l/2,r=this.frame.u0,T=this.frame.u1,i=this.frame.v0,d=this.frame.v1,x=T-r,f=d-i,u=this.controlPoints,o=0,n=t.length;o<n;o+=2){var h=t[o+0],p=t[o+1],a=o/2,c=h/l-C,v=p/l-S,g=r+x*(h/s),m=i+f*(p/l);this.vertices[a].set(c,-v,0).setUVs(g,m),u[a].resetLocalXY(h,p)}return this}syncSize(){return this.setSizeToFrame(),this.setOrtho(this.width/this.height,1),this.resetVerts(),this}forceUpdate(){return this.dirtyCache[10]=1,this}get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}};Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var vC=function(e,t,s){t===void 0&&(t=0),s===void 0&&(s=0);for(var l=e.width,C=e.height,S=l*.5,r=C*.5,T=Math.tan(t)*r,i=Math.tan(s)*S,d=e.controlPoints,x=0,f=d.length;x<f;x++){var u=d[x],o=u.localXOrigin,n=u.localYOrigin;u.localX=o+(n>r?T:-T),u.localY=n+(o>S?i:-i)}};const jW=Phaser.Utils.Objects.IsPlainObject,zl=Phaser.Utils.Objects.GetValue,pC=Phaser.Math.DegToRad,gC=Phaser.Math.RadToDeg;class ZW extends KW{constructor(t,s,l,C,S){if(jW(s)){var r=s;s=zl(r,"x",0),l=zl(r,"y",0),C=zl(r,"key",null),S=zl(r,"frame",null)}super(t,s,l,C,S),this.type="rexSkewmage",this._skewX=0,this._skewY=0}get skewX(){return this._skewX}set skewX(t){this._skewX=t,vC(this,this._skewX,this._skewY)}get skewXDeg(){return gC(this._skewX)}set skewXDeg(t){this.skewX=pC(t)}get skewY(){return this._skewY}set skewY(t){this._skewY=t,vC(this,this._skewX,this._skewY)}get skewYDeg(){return gC(this._skewY)}set skewYDeg(t){this.skewY=pC(t)}setSkewX(t){return this.skewX=t,this}setSkewY(t){return this.skewY=t,this}setSkew(t,s){return s===void 0&&(s=t),this.skewX=t,this.skewY=s,this}setSkewXDeg(t){return this.skewXDeg=t,this}setSkewYDeg(t){return this.skewYDeg=t,this}setSkewDeg(t,s){return s===void 0&&(s=t),this.skewXDeg=t,this.skewYDeg=s,this}}const JW=Phaser.Utils.Objects.IsPlainObject,kl=Phaser.Utils.Objects.GetValue;class QW extends ZW{constructor(t,s,l,C,S){if(JW(s)){var r=s;s=kl(r,"x",0),l=kl(r,"y",0),C=kl(r,"width",32),S=kl(r,"height",32)}var T=SP(t,C,S);super(t,s,l,T,null),this.type="rexSkewRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}}class QP extends MP(QW){get skewState(){return this.isRunning}}st.register("skew",function(e,t){return new QP(e,t)});it(window,"RexPlugins.UI.Skew",QP);st.register("anchor",function(e,t){return new Yg(e,t)});it(window,"RexPlugins.UI.Anchor",Yg);st.register("textTyping",function(e,t){return new O0(e,t)});it(window,"RexPlugins.UI.TextTyping",O0);st.register("textPage",function(e,t){return new Vd(e,t)});it(window,"RexPlugins.UI.TextPage",Vd);var fa=void 0,qW=function(e){e!==fa&&(fa!==void 0&&fa.close(),fa=e)},_W=function(e){e===fa&&(fa=void 0)};const Ss=Phaser.Utils.Objects.GetValue,tH=Phaser.Utils.Objects.Clone;var eH=function(e,t){t===void 0&&(t={}),t=tH(t);var s=e.scene,l=e.style,C=Ss(t,"backgroundColor",l.backgroundColor);C===null&&(C="transparent"),t.text=Ss(t,"text",e.text),t.fontFamily=Ss(t,"fontFamily",l.fontFamily),t.fontSize=Ss(t,"fontSize",l.fontSize),t.color=Ss(t,"color",l.color),t.backgroundColor=C,t.direction=Ss(t,"rtl",l.rtl)?"rtl":"ltr",t.align=Ss(t,"align",iH(l)),t.direction==="rtl"&&d0(e)&&(t.align="right");var S=new wd(s,e.x,e.y,Ss(t,"width",e.width),Ss(t,"height",e.height),t);S.setOrigin(e.originX,e.originY).setScrollFactor(e.scrollFactorX,e.scrollFactorY);var r=e.parentContainer;return r?r.add(S):s.add.existing(S),S},iH=function(e){return e.hasOwnProperty("align")?e.align:e.hasOwnProperty("halign")?e.halign:"left"},sH=function(e,t,s){return e.time.delayedCall(0,t,[],s)};const Vl=Phaser.Utils.Objects.GetValue,nH=Phaser.Utils.Objects.Merge;var rH=function(e,t){e===void 0&&(e={}),e=nH(e,this.openConfig),qW(this),Cn(e)&&(t=e,e=void 0),t===void 0&&(t=Vl(e,"onClose",void 0));var s=Vl(e,"onOpen",void 0),l=Vl(e,"onTextChanged",void 0);return this.inputText=eH(this.parent,e).on("textchange",function(C){var S=C.text;l?l(this.parent,S):this.parent.text=S},this).setFocus(),this.parent.setVisible(!1),this.onClose=t,Vl(e,"enterClose",!0)&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=sH(this.scene,function(){this.scene.input.once("pointerdown",this.close,this),s&&s(this.parent),this.emit("open",this.parent)},this),this},aH=function(){return _W(this),this.parent.setVisible(!0),this.inputText&&(this.inputText.destroy(),this.inputText=void 0),this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent),this.emit("close",this.parent),this},oH={open:rH,close:aH};const hH=Phaser.Utils.Objects.GetValue;class Hd extends ge{constructor(t,s){super(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.setOpenConfig(s);var l=hH(s,"clickEnable",!0);l&&t.on("pointerdown",function(){this.open()},this).setInteractive()}shutdown(t){this.isShutdown||(this.close(),super.shutdown(t))}setOpenConfig(t){return t===void 0&&(t={}),this.openConfig=t,this}get isOpened(){return this.inputText!==void 0}get text(){return this.isOpened?this.inputText.text:this.parent.text}}Object.assign(Hd.prototype,oH);var lH=function(e,t,s){return e._edit||(e._edit=new Hd(e,{clickEnable:!1})),e._edit.open(t,s),e._edit};st.register("textEdit",function(e,t){return new Hd(e,t)});it(window,"RexPlugins.UI.TextEdit",Hd);const Wc=65535;var Gu=function(e,t,s){if(t==null)return e;if(t===0)return Hc(e,0,s),e;var l=e.text.length;if(l===0)return Hc(e,t,s),e;var C=Math.floor(t*1.5/l);s!==void 0&&C>s&&(C=Math.floor(s));for(var S={},r=xC(e,C,t,s,S),T=0;T<=Wc&&r!==0;T++){if(C+=r,C<0){C=0;break}r=xC(e,C,t,s,S)}return T===Wc&&console.warn(`FontSizeFit: Test count exceeds ${Wc}`),e.setFontSize(C),Hc(e,t,s),e},mC=function(e,t,s){return s[t]===void 0&&(e.setFontSize(t),s[t]={width:e.width,height:e.height}),s[t]},xC=function(e,t,s,l,C){var S=mC(e,t,C),r=mC(e,t+1,C),T;if(l!==void 0)if(S.height<=l&&r.height>l)T=0;else{if(S.height>l)return-1;T=Math.floor(l-S.height)}var i;if(S.width<=s&&r.width>s)return 0;if(S.width>s)return-1;var i=Math.floor(s-S.width);return T===void 0?i:Math.min(i,T)},Hc=function(e,t,s){var l=e.style;l&&(l.fixedWidth=t,l.parent.width=t,s!==void 0&&(l.fixedHeight=s,l.parent.height=s),l.update(!1))};const $c=Phaser.Utils.Objects.GetValue;var uH=function(e,t){typeof t=="number"&&(t={minWidth:t});var s=$c(t,"minWidth",0),l=$c(t,"minHeight",0),C=$c(t,"fitHeight",!1);return e._minWidth=s,e._minHeight=l,C?(e.runWidthWrap=function(S){return e.setFixedSize&&e.setFixedSize(0,0),e.setFontSize(1),e},e.resize=function(S,r){return Gu(e,S,r),e}):(e.runWidthWrap=function(S){return e.setFixedSize&&e.setFixedSize(0,0),Gu(e,S,void 0),e},e.resize=function(S,r){return e.width===S&&e.height===r||e.setFixedSize(S,r),e}),e};class qP extends Phaser.Plugins.ScenePlugin{constructor(t,s){super(t,s),this.add=new st(t)}start(){var t=this.scene.events;t.on("destroy",this.destroy,this)}isInTouching(t,s,l,C){return t.visible?xd(t,s,l,C):!1}get viewport(){return za(this.scene,this.scene.cameras.main,!0)}}var dH={getParentSizer:Ri,getTopmostSizer:s2,hide:sn,show:en,isShown:Kg,edit:lH,wrapExpandText:$2,fontSizeExpandText:uH,fontSizeResize:Gu,setFontSizeToFitWidth:Gu,waitEvent:hd,waitComplete:Se,delayPromise:F2,setChildrenInteractive:e0,fadeIn:vd,fadeOutDestroy:pd,easeMoveTo:d2,easeMoveFrom:f2,modal:Jg,modalPromise:vb,modalClose:g2,requestDrag:KP,openFileChooser:vG};Object.assign(qP.prototype,dH);const Qn=(e,t)=>e.rexUI.add.label({width:40,height:40,background:e.rexUI.add.roundRectangle(0,0,0,0,20,6198003),text:e.add.text(0,0,t,{fontSize:"24px"}),name:t,space:{left:10,right:10,top:10,bottom:10}});function fH(e){let t=window.innerWidth/2-270,s=600;const l=e.rexUI.add.dialog({x:t,y:s,width:500,background:e.rexUI.add.roundRectangle(0,0,100,100,20,"gray"),title:Qn(e,"Title").setDraggable(),toolbar:[Qn(e,"X")],leftToolbar:[],content:Qn(e,"Content"),choices:[Qn(e,"Choice1"),Qn(e,"Choice2")],actions:[Qn(e,"Action0"),Qn(e,"Action1")],space:{left:20,right:20,top:-20,bottom:-20,title:25,titleLeft:30,content:25,description:25,descriptionLeft:20,descriptionRight:20,choices:25,toolbarItem:5,choice:15,action:15},expand:{title:!1},align:{title:"center",actions:"right"},click:{mode:"release"}}).setDraggable("background").layout().hide().setDepth(1);return e.print=e.add.text(0,0,"").setDepth(2),l.on("button.over",function(C,S,r,T,i){C.getElement("background").setStrokeStyle(1,16777215)}).on("button.out",function(C,S,r,T,i){C.getElement("background").setStrokeStyle()}),l}const _P=e=>{e.create({key:"lizard-idle",frames:e.generateFrameNames("lizard",{start:0,end:3,prefix:"lizard_m_idle_anim_f",suffix:".png"}),repeat:-1,frameRate:10}),e.create({key:"lizard-run",frames:e.generateFrameNames("lizard",{start:0,end:3,prefix:"lizard_m_run_anim_f",suffix:".png"}),repeat:-1,frameRate:10}),e.create({key:"lizard-hit",frames:e.generateFrameNames("lizard",{start:0,end:0,prefix:"lizard_m_hit_anim_f",suffix:".png"}),repeat:-1,frameRate:10})};class cH extends Jt.Scene{constructor(){super("paused");ct(this,"window");ct(this,"startGame",()=>{this.scene.start("preloader")})}create(){console.log("paused"),this.window=this.add.rectangle(this.cameras.main.x,this.cameras.main.y,500,400,16777215,.9),this.input.on("pointerdown",this.startGame)}}class vH extends Jt.Scene{constructor(){super("Menu");ct(this,"window");ct(this,"text");ct(this,"state","none");ct(this,"resume",()=>{this.scene.resume("Game")});ct(this,"startGame",()=>{this.state="init",this.state==="started"?this.scene.resume("Game"):this.state==="init"&&(console.log("startGame"),this.scene.start("Game"),this.state="started")})}create(){console.log("Menu"),this.window=this.add.rectangle(this.cameras.main.centerX,this.cameras.main.centerY,1e3,500,16777215,.9),this.text=this.add.text(this.window.x,this.window.y,"Start",{color:"black"}),this.input.on("pointerdown",this.startGame)}}class pH{constructor(t=0,s=0,l=0){ct(this,"index");ct(this,"x");ct(this,"y");ct(this,"targetY");ct(this,"speed");this.index=l,this.x=t,this.y=s,this.targetY=s,this.speed=.5}update(t,s){const l=this.targetY-this.y;this.speed+=s*l-this.speed*t,this.y+=this.speed}}class gH{constructor(t,s=0,l=0,C=100,S=100,r=150,{dampening:T=.025,renderDepth:i=1,spread:d=.09,tension:x=.025,texture:f}={}){ct(this,"debug");ct(this,"x");ct(this,"y");ct(this,"w");ct(this,"h");ct(this,"emitter");ct(this,"context");if(typeof f>"u")throw new Error("This version of WaterBody requires explicitly setting a texture");this.debug=!1,this.x=s,this.y=l,this.w=C,this.h=S,this.tension=x,this.dampening=T,this.spread=d,this.depth=Math.min(r,this.h),this.texture=f;const u=[0,this.h-this.depth,this.w,this.h-this.depth],n=new Jt.Geom.Line(...u).getPoints(0,20);this.columns=[...n,{x:this.w,y:u[1]}].map(({x:p,y:a},c)=>new pH(p,a,c));const h=this.columns.reduce((p,{x:a,y:c})=>[...p,a,c],[]);if(this.body=t.add.polygon(s,l,[u[0],this.h,...h,u[2],this.h]).setFillStyle(1334737,0).setDepth(99).setOrigin(0,0),typeof f=="string"){this.background=t.add.tileSprite(this.x,this.y,this.w,this.h,this.texture).setAlpha(.75).setDepth(i).setOrigin(0,0),this.background.mask=new Jt.Display.Masks.GeometryMask(t,this.body),this.sensor=t.matter.add.rectangle(this.x+this.w/2,this.y+this.h-this.depth/2,C,this.depth,{isSensor:!1,isStatic:!0}),this.sensor.label="water",this.debugGraphic=t.add.graphics({fillStyle:{color:16777215}});const p=new Jt.Geom.Polygon(Object.values(this.body.geom.points).map(({x:a,y:c})=>[this.x+a,this.y+c]));this.emitter=t.add.particles(0,0,"droplet",{alpha:1,tint:741525,speed:{min:100,max:500},gravityY:1e3,lifespan:4e3,quantity:0,frequency:1e3,angle:{min:240,max:300},scale:{min:.5,max:.1},deathZone:{type:"onEnter",source:p},deathCallbackScope:this,deathCallback:this.onDropletDeath}),t.sys.events.on("update",this.update,this)}}update(){this.columns.forEach(C=>C.update(this.dampening,this.tension));const t=this.columns.reduce((C,{x:S,y:r})=>[...C,S,r],[]);this.body.geom.setTo([0,this.h,...t,this.w,this.h]),this.body.updateData(),this.debugGraphic.clear(),this.debug&&this.columns.forEach(({x:C,y:S})=>this.debugGraphic.fillRect(this.x+C-1,this.y+S-1,2,2));let s=Array(this.columns.length).fill(0),l=Array(this.columns.length).fill(0);for(let C=0;C<1;C++){for(let S=0;S<this.columns.length-1;S++){if(S>0){const r=this.columns[S],T=this.columns[S-1];s[S]=this.spread*(r.y-T.y),T.speed+=s[S]}if(S<this.columns.length-1){const r=this.columns[S],T=this.columns[S+1];l[S]=this.spread*(r.y-T.y),T.speed+=l[S]}}for(let S=0;S<this.columns.length-1;S++){if(S>0){const r=this.columns[S-1];r.y+=s[S]}if(S<this.columns.length-1){const r=this.columns[S+1];r.y+=l[S]}}}}splash(t,s=1,l=3){let C=this.columns[t];return C.speed=s,this.emitter.explode(l,this.x+C.x,this.y+C.y),this}ripple(t,s){let l=this.columns[t];return l.speed=s,this}setDebug(t){return this.debug=t,this}onDropletDeath({x:t}){const l=this.columns.length-1,C=this.columns.findIndex((T,i)=>this.x+T.x>=t&&i),S=Jt.Math.Clamp(C,0,l),r=.5;this.ripple(S,r)}}class mH extends Phaser.Plugins.BasePlugin{constructor(t){super(t),t.registerGameObject("water",this.createWaterBody)}createWaterBody(t,s,l,C,S,r){return new gH(this.scene,t,s,l,C,S,r)}}const xH=e=>{e.create({key:"bat-move",frames:e.generateFrameNames("bat",{start:1,end:4,prefix:"bat",suffix:".png"}),repeat:-1,frameRate:10})};class yH extends Jt.Physics.Matter.Sprite{constructor(s,l,C,S,r){super(s.matter.world,l,C,S,r,{label:"bat"});ct(this,"direction",3);ct(this,"hp",100);this.setScale(1.5),this.setFixedRotation(),this.setDepth(6),this.setIgnoreGravity(!0),this.scene.add.existing(this),xH(this.scene.anims),this.anims.play("bat-move")}update(s){}}class CH extends Jt.Physics.Matter.Sprite{constructor(s,l,C,S,r){super(s.matter.world,l,C,S,r,{label:"lizard"});ct(this,"direction",3);ct(this,"hp",100);ct(this,"isTouchingGround",!1);this.setScale(3),this.setFixedRotation(),this.setDepth(7),this.scene.add.existing(this),_P(this.scene.anims),this.anims.play("lizard-idle"),this.setOnCollide(T=>{this.isTouchingGround=!0,T.bodyA.label==="lizard"&&T.bodyB.label==="water"?this.setFrictionAir(.25):this.setFrictionAir(0)})}update(s){const{left:l,right:C,up:S,space:r}=s,T=5;l.isDown?(this.setVelocityX(-T),this.flipX=!0,this.anims.play("lizard-run",!0)):C.isDown?(this.setVelocityX(T),this.flipX=!1,this.anims.play("lizard-run",!0)):(this.setVelocityX(0),this.anims.play("lizard-idle",!0)),Jt.Input.Keyboard.JustDown(S)&&this.isTouchingGround&&(this.setVelocityY(-15),this.isTouchingGround=!1)}}const yC=Jt.Math.DegToRad(-180),TH=Jt.Math.DegToRad(180),CC=1e3,TC=100,Ul=64,SC=0;class SH extends Jt.Scene{constructor(){super("Game");ct(this,"hook");ct(this,"lineGroup");ct(this,"bait");ct(this,"cursors");ct(this,"player");ct(this,"platforms");ct(this,"movingPlatform");ct(this,"stars");ct(this,"starsSummary",0);ct(this,"lizard");ct(this,"worm");ct(this,"isTouchingGround",!1);ct(this,"animationNames",[]);ct(this,"level",1);ct(this,"loadNextLevel",!1);ct(this,"showDialog",!1);ct(this,"dialog");ct(this,"fish");ct(this,"dialogLevel",0);ct(this,"emitter",new Jt.Events.EventEmitter);ct(this,"water");ct(this,"stick");ct(this,"music");ct(this,"backgrounds",[]);ct(this,"velocityX",10);ct(this,"collisionCategory1",1);ct(this,"collisionCategory2",2);ct(this,"collisionCategory3",4);ct(this,"collisionCategory4",8);ct(this,"collisionWaterCategory",5)}preload(){this.cursors=this.input.keyboard.createCursorKeys()}create(){var i;this.fish=this.matter.add.image(900,2600,"clown",void 0,{ignoreGravity:!0}),this.fish.visible=!1,this.fish.setScale(.5),this.fish.setDepth(5),this.fish.setCollisionCategory(this.collisionCategory4),this.fish.setCollidesWith(this.collisionCategory2|this.collisionCategory1),this.sound.pauseOnBlur=!1,this.sound.locked&&this.sound.once(Jt.Sound.Events.UNLOCKED,()=>{}),this.game.events.on(Jt.Core.Events.BLUR,()=>{console.log("blur event")}),document.addEventListener("visibilitychange",()=>{console.log("visibilitychange"),document.hidden&&this.handleLoseFocus()}),this.worm=this.matter.add.image(550,1500,"worm",void 0,{label:"worm"}),this.worm.isAlive=!0,this.worm.setDepth(2),this.worm.flipX=!0,this.worm.setScale(.01).setDepth(6),this.tweener={x:yC},_P(this.anims),this.GROUND_COLLISION_GROUP=this.matter.world.nextCategory(),this.lizard=new CH(this,550,2100,"lizard",void 0),console.log(this.lizard),this.lizard.setCollisionCategory(this.collisionCategory1),this.lizard.setCollidesWith(this.collisionCategory1|this.collisionCategory2|this.collisionCategory4),this.lizard.items=[],this.lizard.itemInArm=null,this.bat=new yH(this,660,2500,"bat",void 0),this.rod=[],this.hut=this.matter.add.image(620,2680,"hut",void 0,{label:"hut",isStatic:!0,isSensor:!0}),this.hut.setDepth(4),this.hut.setScale(2),this.hutBody=this.matter.add.rectangle(this.hut.x,this.hut.y+60,this.hut.width*2,this.hut.height,{isStatic:!0}),this.lever=this.matter.add.image(CC-Math.cos(this.tweener.x)*Ul,TC-Math.sin(this.tweener.x)*Ul,null,null,{isSensor:!0,isStatic:!0}).setVisible(!1),this.input.on("pointerup",d=>{}),this.waterBody=this.add.water(this.lizard.x-200,2300,2e3,800,400,{dampening:1e-4,tension:.01,texture:"water"}),this.input.on("pointerdown",d=>{console.log(d)});const s=(i=this.input.keyboard)==null?void 0:i.addKey("E");s==null||s.on("down",d=>{this.rod.at(0).setRotation(20),this.tweens.add({targets:this.rod.at(-2),x:this.lizard.x+30,y:this.lizard.y,ease:"Bounce",duration:2e3,onUpdate:()=>{this.fish.visible=!0,this.fish.copyPosition({x:this.rod.at(-2).x,y:this.rod.at(-2).y+60})},onStart:()=>{this.lizard.setCollidesWith(this.collisionCategory3|this.collisionCategory2|this.collisionCategory1),this.rod.at(-2).setCollisionCategory(this.collisionCategory3),this.rod.at(-2).setCollidesWith(this.collisionCategory1)},onComplete:()=>{this.lizard.setCollidesWith(this.collisionCategory2|this.collisionCategory1),this.fish.visible=!1,this.rod.at(-2).setCollisionCategory(this.collisionCategory3),this.rod.at(-2).setCollidesWith(this.collisionCategory1|this.collisionCategory2)}})});const l=this.input.keyboard.addKey("space");this.createRod(),l.on("down",()=>{this.rod.forEach(d=>{d.visible=!d.visible})}),this.matter.add.mouseSpring(),this.cameras.main.startFollow(this.lizard),this.dialog=fH(this.scene.scene),this.dialog.on("button.click",(d,x,f,u,o)=>{console.log(d.name),d.name==="X"&&(this.dialog.hide(),this.showDialog=!1)},this.scene),this.tweens.add({targets:this.dialog,scaleX:1,scaleY:1,ease:"Bounce",duration:1e3,repeat:0,yoyo:!1}),this.scale,this.level;const C=this.make.tilemap({key:"floorMap"}),S=C.addTilesetImage("floor","tiles-floor");S.setTileSize(32,32);const r=C.createLayer("Tile Layer 2",S),T=C.createLayer("Tile Layer 3",S);r==null||r.setName("ground"),T==null||T.setName("ground"),r.setPipeline("Light2D"),T.setPipeline("Light2D"),this.add.graphics(),r==null||r.setCollisionByProperty({collides:!0}),T==null||T.setCollisionByProperty({collides:!0}),r==null||r.setCollisionCategory(this.collisionCategory2),r==null||r.setCollidesWith(this.collisionCategory1|this.collisionCategory3|this.collisionCategory4),T==null||T.setCollisionCategory(this.collisionCategory2),T==null||T.setCollidesWith(this.collisionCategory1|this.collisionCategory3|this.collisionCategory4),this.matter.world.convertTilemapLayer(r),this.matter.world.convertTilemapLayer(T),this.matter.world.on("collisionend",(d,x,f)=>{d.pairs.some(u=>u.bodyA.label=="water"&&u.bodyB.label=="hook")}),this.matter.world.on("collisionstart",(d,x,f)=>{if(d.pairs.some(u=>u.bodyA.label=="water"&&u.bodyB.label=="hook")){const u=this.waterBody.columns.findIndex((h,p)=>h.x+370>=f.position.x&&p),o=f.speed*3,n=Math.ceil(f.speed)*6;this.waterBody.splash(Jt.Math.Clamp(u,0,this.waterBody.columns.length-1),o,n)}if(d.pairs.some(u=>u.bodyA.label=="lizard"&&u.bodyB.label=="water")){const u=this.waterBody.columns.findIndex((h,p)=>h.x+370>=x.position.x&&p),o=x.speed*3,n=Math.ceil(x.speed)*6;this.lizard.setFrictionAir(.25),this.waterBody.splash(Jt.Math.Clamp(u,0,this.waterBody.columns.length-1),o,n)}}),this.matter.world.on("collisionactive",(d,x,f)=>{d.pairs.some(u=>u.bodyA.label=="lizard"&&u.bodyB.label=="water")&&(console.log("active"),this.lizard.setFrictionAir(.25)),d.pairs.some(u=>u.bodyA.label=="water"&&u.bodyB.label=="hook")&&(this.rod.at(-2).inWater=!0),d.pairs.some(u=>u.bodyA.label=="lizard"&&u.bodyB.label=="hook")&&console.log(" ")}),this.starsText=this.add.text(60,30,`Worms: ${this.starsSummary}`,{fontSize:"24px",fontFamily:"Arial",color:"#ffffff"}).setScrollFactor(0),this.emitter.on("lizard-dead",({x:d,y:x})=>{for(let f=0;f<20;f++)this.stars.create(d,x,"star");this.starsText.setText(`Worms: ${this.starsSummary}`)}),this.lights.enable(),this.lights.setAmbientColor(8421504),this.events.on("resume",()=>{console.log("resume")}),this.cameras.main.setFollowOffset(-30,80)}update(s,l){if(this.starsText.setText(`Worms: ${this.starsSummary}`),this.animationNames.length,this.cursors,this.lizard.update(this.cursors),this.bat.update(s),this.starsSummary>0&&this.worm.isAlive&&(this.worm.visible=!0,this.worm.isAlive=!1,this.worm.setCollidesWith(null)),this.starsSummary>0&&!this.worm.isAlive&&this.worm.visible&&this.worm.copyPosition({x:this.rod.at(-1).x,y:this.rod.at(-1).y}),this.rod.at(-2).inWater){this.rod.at(-2);const C=this.rod.at(-1);Math.floor(Math.random()*200)===5&&this.starsSummary>0&&C.setPosition(C.x+(Math.random()-2.5)*5,C.y+5)}}createRod(){let s=this.lizard;const l=33;for(var C=0;C<l;C++){const i=C===l-1,d=C===l-2,x=this.matter.add.image(this.lizard.x+C*15,this.lizard.y+C*2,i?"hook":"rope",null,{shape:"circle",mass:d?.03:.003,frictionAir:i?.2:.09,label:d?"hook":"chain"}).setScale(i?1.5:.21).setDepth(5);d&&(x.alpha=0,x.setScale(1.1)),d||(x.setCollisionCategory(SC),x.setCollidesWith(SC)),d&&(x.setCollisionCategory(this.collisionCategory3),x.setCollidesWith(this.collisionCategory1|this.collisionCategory2)),this.rod.push(x),C===0?this.matter.add.joint(s,this.rod[C],10,1,{pointA:{x:50,y:0},pointB:{x:0,y:0},stiffness:1}):d?this.matter.add.joint(s,this.rod[C],5,1,{pointA:{x:0,y:0},pointB:{x:-7,y:0},stiffness:1}):i?this.matter.add.joint(s,this.rod[C],5,1,{pointA:{x:0,y:0},pointB:{x:-7,y:-20},stiffness:1}):this.matter.add.joint(s,this.rod[C],8,1,{stiffness:1}),s=this.rod[C]}let S={x:0,y:20},r=this.rod.at(-2).body;const T=this.rod.at(-2);T.setDepth(7),r.position.x+=S.x,r.position.y+=S.y,r.positionPrev.x+=S.x,r.positionPrev.y+=S.y,T.name="hook",T.label="hook",T.inWater=!1}handleLoseFocus(){this.scene.isActive("paused")||(this.scene.pause(),this.scene.run("Menu",{onResume:()=>{this.scene.pause("paused"),this.scene.resume("Game")}}))}flip(s){this.tweens.add({targets:[this.tweener],x:s?TH:yC,duration:200,onUpdateScope:this,onUpdate:()=>{this.lever.setPosition(CC-Math.cos(this.tweener.x)*Ul,TC-Math.sin(this.tweener.x)*Ul)},onComplete:()=>{}})}collectWorm(){this.starsSummary+=1}collectStar(s,l){(l==null?void 0:l.alpha)===1&&(l.disableBody(!0,!1),this.tweens.add({targets:l,x:-5e3,y:-2e3,ease:"Bounce",duration:3e3,repeat:0,yoyo:!1}),setTimeout(()=>{this.starsSummary+=5},500),setTimeout(()=>{l.disableBody(!0,!0),this.scene.remove(l)},2e3))}punchStar(s,l){}punchLizard(s,l){}}const EH={type:Jt.WEBGL,width:window.innerWidth,height:window.innerHeight,scale:{mode:Jt.Scale.FIT,autoCenter:Jt.Scale.CENTER_BOTH},physics:{default:"matter",matter:{gravity:{y:1}}},scene:[IR,vH,cH,SH],plugins:{global:[{key:"WaterBodyPlugin",mapping:"waterplugin",plugin:mH,start:!0}],scene:[{key:"rexUI",plugin:qP,mapping:"rexUI"}]}};new Jt.Game(EH);jc.createRoot(document.getElementById("root")).render(Kc(xM.StrictMode,{children:Kc(FR,{})}));
